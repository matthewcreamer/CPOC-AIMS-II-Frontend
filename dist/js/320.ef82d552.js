"use strict";(self["webpackChunktims_dexon"]=self["webpackChunktims_dexon"]||[]).push([[320],{20320:(t,e,i)=>{i.r(e),i.d(e,{default:()=>B});var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pm-page",class:[1==t.sidebarHiding?"pm-page-none-sidbar":"pm-page"]},[i("toolbar",{staticStyle:{"grid-column":"span 3"},attrs:{pageSubName:this.$store.state.currentPageName,pageSubInnerName:this.$store.state.currentPageInnerName,isBackPath:!0,isBack_specificPath:"/pipeline",isNewBtn:!1,newBtnLabel:"New Line",infoPipeline:t.infoPipeline,isMoreBtn:!0,isSearchBox:!1,isRefresh:!0,isSearchDropdown:!0,options:t.pipelineList},on:{refreshInfo:function(e){return t.refreshPage()},newBtnFn:function(e){return t.TOGGLE_POPUPADD()}}}),i("sidebar",{on:{resizeGridLayout:function(e){return t.RESIZE_GRID_LAYOUT()}}}),i("div",{staticClass:"pm-page-container"},[i("router-view")],1),1==t.isAdd?i("popupAdd",{on:{closePopup:function(e){return t.TOGGLE_POPUPADD()}}}):t._e()],1)},a=[],n=(i(41539),i(39477)),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app-toolbar"}},[i("div",{staticClass:"left-col"},[t.isBack?i("v-ons-toolbar-button",{on:{click:function(e){return t.$router.go(-1)}}},[i("i",{staticClass:"las la-angle-left"}),i("span",[t._v("Back")])]):t._e(),t.isBackPath?i("v-ons-toolbar-button",{on:{click:function(e){return t.GO_BACK_TO()}}},[i("i",{staticClass:"las la-angle-left"}),i("span",[t._v("Back")])]):t._e(),t.infoPipeline?i("span",{staticStyle:{position:"absolute",top:"6px",left:"124px","font-size":"12px",color:"red"}},[t._v("id: "+t._s(t.infoPipeline.id))]):t._e(),i("h1",[t._v(t._s(t.pageName))]),i("h2",[t._v(t._s(t.pageSubName))]),t.pageSubInnerName?i("div",{staticClass:"sub-page-box"},[t._m(0),i("h2",[t._v(t._s(t.pageSubInnerName))])]):t._e(),t.infoPipeline?i("div",{staticClass:"toolbar-info mobile-none"},[i("div",{staticClass:"info-item"},[i("label",{staticClass:"desc"},[t._v("Line No:")]),i("label",{staticClass:"value"},[t._v(t._s(t.infoPipeline.line_no))])]),i("div",{staticClass:"info-item"},[i("label",{staticClass:"desc"},[t._v("Pipe Name:")]),i("label",{staticClass:"value"},[t._v(t._s(t.infoPipeline.line_from))])]),i("div",{staticClass:"info-item"},[i("label",{staticClass:"desc"},[t._v("From:")]),i("label",{staticClass:"value"},[t._v(t._s(t.infoPipeline.line_to))])]),i("div",{staticClass:"info-item"},[i("label",{staticClass:"desc"},[t._v("To :")]),i("label",{staticClass:"value"},[t._v(t._s(t.infoPipeline.id_site))])]),i("div",{staticClass:"info-item"},[i("label",{staticClass:"desc"},[t._v("Site :")]),i("label",{staticClass:"value"},[t._v(t._s(t.infoPipeline.id_site))])]),i("div",{staticClass:"info-item"},[i("label",{staticClass:"desc"},[t._v("In-service Date :")]),i("label",{staticClass:"value"},[t._v(t._s(t.pipline_inservice_date))])])]):t._e()],1),i("div",{staticClass:"right-col"},[1==t.isSearchBoxList?i("div",{staticClass:"search-box"},[i("i",{staticClass:"las la-search search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyword,expression:"searchKeyword"}],attrs:{type:"text",placeholder:"search tag no."},domProps:{value:t.searchKeyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.$emit("isSearch")},input:function(e){e.target.composing||(t.searchKeyword=e.target.value)}}}),""!=t.searchKeyword?i("i",{staticClass:"las la-times clear",on:{click:function(e){return t.CLEAR_SEARCH()}}}):t._e()]):t._e(),1==t.isSearchDropdown?i("div",{staticClass:"search-box",attrs:{id:"v-search"}},[i("i",{staticClass:"las la-search search"}),i("v-select",{staticClass:"custom-select",attrs:{options:t.formattedOptions,placeholder:"search line no."},on:{input:t.onSelectOption},model:{value:t.selectedOption,callback:function(e){t.selectedOption=e},expression:"selectedOption"}}),""!=t.searchKeyword?i("i",{staticClass:"las la-times clear",on:{click:function(e){return t.CLEAR_SEARCH()}}}):t._e()],1):t._e(),1==t.isSearchBox?i("div",{staticClass:"search-box"},[i("i",{staticClass:"las la-search search"}),i("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKeyword,expression:"searchKeyword"}],attrs:{type:"text",placeholder:"search tag no."},domProps:{value:t.searchKeyword},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.GET_SEARCH()},input:function(e){e.target.composing||(t.searchKeyword=e.target.value)}}}),""!=t.searchKeyword?i("i",{staticClass:"las la-times clear",on:{click:function(e){return t.CLEAR_SEARCH()}}}):t._e()]):t._e(),t.isSave?i("v-ons-toolbar-button",{staticClass:"highlight-btn",on:{click:function(e){return t.$emit("isSaveBtn")}}},[i("i",{staticClass:"las la-save"}),i("span",[t._v("Save")])]):t._e(),t.isEdit?i("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("isEditBtn")}}},[i("i",{staticClass:"las la-edit"}),i("span",[t._v("Edit")])]):t._e(),t.isDelete?i("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("isDeleteBtn")}}},[i("i",{staticClass:"las la-trash"}),i("span",[t._v("Delete")])]):t._e(),t.isPrint||t.isDownload?i("div",{staticClass:"btn-group-separater"}):t._e(),t.isRefresh?i("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("refreshInfo")}}},[i("i",{staticClass:"las la-sync"}),i("span",[t._v("Refresh")])]):t._e(),t.isPrint?i("v-ons-toolbar-button",[i("i",{staticClass:"las la-print"}),i("span",[t._v("Print")])]):t._e(),t.isDownload?i("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("isDownloadBtn")}}},[i("i",{staticClass:"las la-download"}),i("span",[t._v("Download")])]):t._e(),t.isNewBtn?i("v-ons-toolbar-button",{on:{click:function(e){return t.$emit("newBtnFn")}}},[i("i",{staticClass:"las la-plus"}),i("span",[t._v(t._s(t.newBtnLabel))])]):t._e(),t.isMoreBtn?i("v-ons-toolbar-button",{staticStyle:{"padding-right":"0px"},on:{click:function(e){return t.SHOW_POPOVER(e,"down",!0)}}},[i("i",{staticClass:"las la-cog"})]):t._e(),i("v-ons-popover",{attrs:{cancelable:"",visible:t.popoverVisible,target:t.popoverTarget,direction:t.popoverDirection,"cover-target":t.coverTarget},on:{"update:visible":function(e){t.popoverVisible=e}}},[i("v-ons-toolbar-button",{staticClass:"popover-button",on:{click:function(e){return t.EDIT_TANK_INFO()}}},[i("span",[t._v("Edit Info")]),i("i",{staticClass:"las la-edit"})]),i("v-ons-toolbar-button",{staticClass:"popover-button",on:{click:function(e){return t.DELETE_TANK_INFO()}}},[i("span",{staticStyle:{color:"red"}},[t._v("Delete Tank Info")]),i("i",{staticClass:"las la-trash",staticStyle:{color:"red"}})])],1)],1),1==t.isAdd?i("popupAdd",{on:{closePopup:function(e){return t.TOGGLE_POPUPADD()}}}):t._e(),1==t.isEditPopup?i("popupEdit",{attrs:{editInfo:t.infoPipeline},on:{closePopup:function(e){return t.TOGGLE_POPUP()}}}):t._e()],1)},r=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"btn-group-separater-client"},[i("i",{staticClass:"las la-angle-right"})])}],l=(i(21249),i(17133)),c=i.n(l),p=i(78193),u=i(71713),d=i(30768),v=i.n(d);const _={name:"app-toolbar",components:{popupEdit:p.Z,popupAdd:u.Z,vSelect:v()},props:{pageName:String,pageSubName:String,pageSubInnerName:String,isBack:Boolean,isBack_specificPath:String,isBackPath:Boolean,isEdit:Boolean,isSave:Boolean,isDelete:Boolean,isPrint:Boolean,isDownload:Boolean,isNewBtn:Boolean,isRefresh:Boolean,isMoreBtn:Boolean,infoPipeline:Object,newBtnLabel:String,isSearchBox:Boolean,isSearchBoxList:Boolean,isSearchDropdown:Boolean,options:Array},data:function(){return{searchKeyword:"",isEditPopup:!1,isAdd:!1,selectedOption:null,popoverVisible:!1,popoverTarget:null,popoverDirection:"up",coverTarget:!1}},methods:{GO_BACK_TO:function(){this.$router.push(this.isBack_specificPath)},CLEAR_SEARCH:function(){this.searchKeyword=""},SHOW_POPOVER:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];this.popoverVisible=!0,this.popoverTarget=t,this.popoverDirection=e,this.coverTarget=i},TOGGLE_POPUP:function(){this.isEditPopup=!this.isEditPopup},TOGGLE_POPUPADD:function(){this.isAdd=!this.isAdd},NEW_FLOWLINE_INFO:function(){this.popoverVisible=!1,this.isAdd=!0},EDIT_TANK_INFO:function(){this.popoverVisible=!1,this.isEditPopup=!0},DELETE_TANK_INFO:function(){var t=this;this.popoverVisible=!1;var e=this.$route.params.id_tag,i=JSON.parse(localStorage.getItem("user"));this.$ons.notification.confirm("Confirm delete?").then((function(s){1==s&&(0,n.Z)({method:"delete",url:"/",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{id_tag:e,updated_by:i.id_user}}).then((function(e){200==e.status&&(t.$ons.notification.alert("Project delete successful"),t.$router.push("/pipeline/"))}))["catch"]((function(e){t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}))}))},onSelectOption:function(t){var e=encodeURI("/flowline/tag/"+t.value+"/info");this.$router.push(e)}},computed:{pipline_inservice_date:function(){return this.infoPipeline.inservice_date?c()(this.infoPipeline.inservice_date).format("LL"):"N/A"},formattedOptions:function(){return this.options.map((function(t){return{label:t.line_no,value:t.id}}))}}},h=_;var f=i(1001),b=(0,f.Z)(h,o,r,!1,null,"1eb7028f",null);const g=b.exports;var m=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"app-sidebar",class:[1==t.sidebarHiding?"app-sidebar-hide":"app-sidebar"]},[i("div",{staticClass:"item-container"},[t._m(0),i("router-link",{attrs:{to:"/pipeline/tag/"+t.id_tag+"/info"}},[i("v-ons-toolbar-button",{staticClass:"item"},[i("img",{attrs:{src:"/img/icon_sidebar/tank/info.png"}}),i("span",[t._v("Information")])])],1),i("router-link",{attrs:{to:"/pipeline/tag/"+t.id_tag+"/insp-record"}},[i("v-ons-toolbar-button",{staticClass:"item"},[i("img",{attrs:{src:"/img/icon_sidebar/tank/inspection-record.png"}}),i("span",[t._v("Inspection Record")])])],1),t._m(1),i("router-link",{attrs:{to:"/pipeline/tag/"+t.id_tag+"/checklist"}},[i("v-ons-toolbar-button",{staticClass:"item"},[i("img",{attrs:{src:"/img/icon_sidebar/tank/checklist.png"}}),i("span",[t._v("Checklist")])])],1),i("router-link",{attrs:{to:"/pipeline/tag/"+t.id_tag+"/visual"}},[i("v-ons-toolbar-button",{staticClass:"item"},[i("img",{attrs:{src:"/img/icon_sidebar/tank/visual.png"}}),i("span",[t._v("Picture Log")])])],1),i("router-link",{staticClass:"popup-button-caller",attrs:{to:"/pipeline/tag/"+t.id_tag+"/ILI",tag:"button",disabled:!0}},[i("v-ons-toolbar-button",{staticClass:"item",on:{click:function(e){return t.SHOW_POPOVER(e,"right",!0,"ILI")}}},[i("img",{attrs:{src:"/img/icon_sidebar/tank/repair.png"}}),i("span",[t._v("ILI")]),i("i",{staticClass:"las la-angle-right right-arrow"})])],1),t._m(2),i("v-ons-popover",{attrs:{cancelable:"",visible:t.popoverVisible.ILI,target:t.popoverTarget,direction:t.popoverDirection,"cover-target":t.coverTarget},on:{"update:visible":function(e){return t.$set(t.popoverVisible,"ILI",e)}}},t._l(t.sidebarSubmenu.ILI,(function(e){return i("v-ons-toolbar-button",{key:e.id,staticClass:"popover-button",on:{click:function(i){return t.GO_TO(e,"ILI")}}},[i("span",[t._v(t._s(e.ILI_code))]),i("i",{staticClass:"las la-angle-right"})])})),1)],1),i("div",{staticClass:"item-container fixed-panel"},[i("v-ons-toolbar-button",{staticClass:"item bottom-btn",on:{click:function(e){return t.SHOW_HIDE_SIDEBAR()}}},[0==t.sidebarHiding?i("i",{staticClass:"las la-caret-square-left"}):t._e(),1==t.sidebarHiding?i("i",{staticClass:"las la-caret-square-right"}):t._e(),i("span",[t._v("Hide Sidebar")])])],1)])},C=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-label"},[i("label",[t._v("Information")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-label"},[i("label",[t._v("Inspection")]),i("hr")])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"section-label"},[i("label",[t._v("Report")]),i("hr")])}];const P={name:"app-sidebar",created:function(){},props:{},data:function(){return{popoverVisible:{ILI:!1},popoverTarget:null,popoverDirection:"right",coverTarget:!1,sidebarSubmenu:{ILI:[{id:1,ILI_code:"Pipe Tally"},{id:2,ILI_code:"List of Anomaly"}]},sidebarHiding:!1}},computed:{},methods:{SHOW_POPOVER:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],s=arguments.length>3?arguments[3]:void 0;this.popoverTarget=t,this.popoverDirection=e,this.coverTarget=i,"ILI"==s&&this.sidebarSubmenu.ILI.length>0&&(this.popoverVisible.ILI=!0)},GO_TO:function(t,e){this.popoverVisible.markup_drawing=!1,this.popoverVisible.ILI=!1,this.popoverVisible.thickness=!1,this.popoverVisible.evaluation=!1,"ILI"==e&&this.$router.push({path:"/pipeline/tag/",replace:!0})},SHOW_HIDE_SIDEBAR:function(){0==this.sidebarHiding?this.sidebarHiding=!0:this.sidebarHiding=!1,this.$emit("resizeGridLayout")}}},I=P;var E=(0,f.Z)(I,m,C,!1,null,"b1678dfe",null);const S=E.exports,k={name:"router-template-detail",components:{toolbar:g,popupAdd:u.Z,sidebar:S},created:function(){this.$store.commit("UPDATE_CURRENT_INAPP",{name:"PipeLine Management",icon:"/img/icon_menu/equipment/pipeline.png"}),this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"PipeLine",subpageInnerName:null}),this.FETCH_INFO(),this.FETCH_LIST()},data:function(){return{infoPipeline:{},pipelineList:[],sidebarHiding:!1,isAdd:!1}},computed:{},watch:{$route:{handler:function(){this.FETCH_INFO()}}},methods:{FETCH_INFO:function(){var t=this;this.isLoading=!0;var e=this.$route.params.id_tag;(0,n.Z)({method:"get",url:"PipelineInfo/"+e,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:null}).then((function(e){200==e.status&&e.data&&(t.infoPipeline=e.data)}))["catch"]((function(t){console.log(t)}))["finally"]((function(){t.isLoading=!1}))},FETCH_LIST:function(){var t=this;this.isLoading=!0,(0,n.Z)({method:"get",url:"FlowlineInfo",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:null}).then((function(e){200==e.status&&e.data&&(t.pipelineList=e.data)}))["catch"]((function(e){console.log(e),t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){t.isLoading=!1}))},RESIZE_GRID_LAYOUT:function(){this.sidebarHiding=!this.sidebarHiding},TOGGLE_POPUPADD:function(){this.isAdd=!this.isAdd},refreshPage:function(){this.$router.go()}}},O=k;var L=(0,f.Z)(O,s,a,!1,null,"9bb09568",null);const B=L.exports}}]);
//# sourceMappingURL=320.ef82d552.js.map