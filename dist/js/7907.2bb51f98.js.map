{"version":3,"file":"js/7907.2bb51f98.js","mappings":"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","sources":["webpack://tims-dexon/./src/views/Applications/Vessel/Pages/MarkedUpDwg/Page.vue?c971","webpack://tims-dexon/src/views/Applications/Vessel/Pages/MarkedUpDwg/Page.vue","webpack://tims-dexon/./src/views/Applications/Vessel/Pages/MarkedUpDwg/Page.vue?744a","webpack://tims-dexon/./src/views/Applications/Vessel/Pages/MarkedUpDwg/Page.vue","webpack://tims-dexon/./node_modules/core-js/modules/es.date.to-json.js","webpack://tims-dexon/./node_modules/core-js/modules/web.url.to-json.js"],"sourcesContent":["var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"page-container\"},[_c('div',{staticClass:\"list-page\",staticStyle:{\"grid-column\":\"span 2\"}},[_c('DxDataGrid',{attrs:{\"id\":\"data-grid-style\",\"key-expr\":\"id\",\"data-source\":_vm.drawingList,\"element-attr\":_vm.dataGridAttributes,\"hover-state-enabled\":true,\"allow-column-reordering\":true,\"show-borders\":true,\"show-row-lines\":true,\"row-alternation-enabled\":false},on:{\"exporting\":_vm.EXPORT_DATA,\"row-inserted\":_vm.CREATE_DWG,\"row-updated\":_vm.UPDATE_DWG,\"row-removed\":_vm.DELETE_DWG,\"editing-start\":function (e){\n        this$1.isEdit = false;\n        this$1.display_img_on_upload = e.data.file_path;\n        this$1.file = [];\n        this$1.dataDwgTemp = e;\n      },\"init-new-row\":function (){\n        this$1.display_img_on_upload = '';\n        this$1.file=[];\n      },\"saved\":_vm.SAVE},scopedSlots:_vm._u([{key:\"dwg-img\",fn:function(ref){\n      var data = ref.data;\nreturn [_c('div',{staticStyle:{\"position\":\"relative\"}},[_c('a',{attrs:{\"href\":_vm.baseURL + data.value,\"download\":\"dwg\",\"target\":\"_blank\"}},[_c('img',{attrs:{\"src\":_vm.baseURL + data.value,\"width\":\"300\",\"height\":\"200\"}}),_c('br')])])]}},{key:\"dwg-img-editor\",fn:function(ref){\n      var data = ref.data;\nreturn [_c('div',[(_vm.display_img_on_upload != '' && _vm.isEdit==false)?_c('img',{attrs:{\"src\":_vm.baseURL + data.value,\"width\":\"300\",\"height\":\"200\"}}):_vm._e(),(_vm.display_img_on_upload != '' && _vm.isEdit==true)?_c('img',{attrs:{\"src\":_vm.display_img_on_upload,\"width\":\"300\",\"height\":\"200\"}}):_vm._e(),(_vm.display_img_on_upload == '')?_c('img',{attrs:{\"src\":\"http://tmt-solution.com/public/image-empty.png\",\"width\":\"300\",\"height\":\"200\"}}):_vm._e(),_c('DxFileUploader',{attrs:{\"select-button-text\":\"Select photo\",\"label-text\":\"\",\"accept\":\"image/*\",\"upload-mode\":\"useForm\"},on:{\"value-changed\":_vm.ON_DWG_CHANGE}})],1)]}}])},[_c('DxEditing',{attrs:{\"allow-updating\":true,\"allow-deleting\":true,\"allow-adding\":true,\"use-icons\":true,\"mode\":\"form\"}},[_c('DxForm',{attrs:{\"label-location\":\"top\"}},[_c('DxItem',{attrs:{\"col-count\":2,\"col-span\":2,\"item-type\":\"group\"}},[_c('DxItem',{attrs:{\"data-field\":\"file_path\",\"col-span\":2}})],1)],1)],1),_c('DxColumn',{attrs:{\"data-field\":\"file_path\",\"caption\":\"Marked-up Drawing\",\"cell-template\":\"dwg-img\",\"edit-cell-template\":\"dwg-img-editor\",\"width\":320}}),_c('DxScrolling',{attrs:{\"mode\":\"standard\"}}),_c('DxSearchPanel',{attrs:{\"visible\":true}}),_c('DxPaging',{attrs:{\"page-size\":10,\"page-index\":0}}),_c('DxPager',{attrs:{\"show-page-size-selector\":true,\"allowed-page-sizes\":[5, 10, 20],\"show-navigation-buttons\":true,\"show-info\":true,\"info-text\":\"Page {0} of {1} ({2} items)\"}}),_c('DxExport',{attrs:{\"enabled\":false}})],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"page-container\">\n    <div class=\"list-page\" style=\"grid-column:span 2\">\n      <DxDataGrid\n        id=\"data-grid-style\"\n        key-expr=\"id\"\n        :data-source=\"drawingList\"\n        :element-attr=\"dataGridAttributes\"\n        :hover-state-enabled=\"true\"\n        :allow-column-reordering=\"true\"\n        :show-borders=\"true\"\n        :show-row-lines=\"true\"\n        :row-alternation-enabled=\"false\"\n        @exporting=\"EXPORT_DATA\"\n        @row-inserted=\"CREATE_DWG\"\n        @row-updated=\"UPDATE_DWG\"\n        @row-removed=\"DELETE_DWG\"\n        @editing-start=\"(e)=>{\n          this.isEdit = false;\n          this.display_img_on_upload = e.data.file_path;\n          this.file = [];\n          this.dataDwgTemp = e;\n        }\"\n        @init-new-row=\"()=>{\n          this.display_img_on_upload = '';\n          this.file=[];\n        }\"\n        @saved=\"SAVE\"\n      >\n        <DxEditing\n          :allow-updating=\"true\"\n          :allow-deleting=\"true\"\n          :allow-adding=\"true\"\n          :use-icons=\"true\"\n          mode=\"form\"\n        >\n          <DxForm label-location=\"top\">\n            <DxItem :col-count=\"2\" :col-span=\"2\" item-type=\"group\">\n              <DxItem data-field=\"file_path\" :col-span=\"2\" />\n            </DxItem>\n          </DxForm>\n        </DxEditing>\n\n        <DxColumn\n          data-field=\"file_path\"\n          caption=\"Marked-up Drawing\"\n          cell-template=\"dwg-img\"\n          edit-cell-template=\"dwg-img-editor\"\n          :width=\"320\"\n        />\n\n        <template #dwg-img=\"{ data }\">\n          <div style=\"position: relative\">\n            <a :href=\"baseURL + data.value\" download=\"dwg\" target=\"_blank\">\n              <img :src=\"baseURL + data.value\" width=\"300\" height=\"200\" />\n              <br />\n            </a>\n          </div>\n        </template>\n\n        <template #dwg-img-editor=\"{ data }\">\n          <div>\n            <img\n              :src=\"baseURL + data.value\"\n              width=\"300\"\n              height=\"200\"\n              v-if=\"display_img_on_upload != '' && isEdit==false\"\n            />\n            <img\n              :src=\"display_img_on_upload\"\n              width=\"300\"\n              height=\"200\"\n              v-if=\"display_img_on_upload != '' && isEdit==true\"\n            />\n            <img\n              src=\"http://tmt-solution.com/public/image-empty.png\"\n              width=\"300\"\n              height=\"200\"\n              v-if=\"display_img_on_upload == ''\"\n            />\n            <DxFileUploader\n              select-button-text=\"Select photo\"\n              label-text\n              accept=\"image/*\"\n              upload-mode=\"useForm\"\n              @value-changed=\"ON_DWG_CHANGE\"\n            />\n          </div>\n        </template>\n\n        <!-- Configuration goes here -->\n        <!-- <DxFilterRow :visible=\"true\" /> -->\n        <DxScrolling mode=\"standard\" />\n        <DxSearchPanel :visible=\"true\" />\n        <DxPaging :page-size=\"10\" :page-index=\"0\" />\n        <DxPager\n          :show-page-size-selector=\"true\"\n          :allowed-page-sizes=\"[5, 10, 20]\"\n          :show-navigation-buttons=\"true\"\n          :show-info=\"true\"\n          info-text=\"Page {0} of {1} ({2} items)\"\n        />\n        <DxExport :enabled=\"false\" />\n      </DxDataGrid>\n    </div>\n  </div>\n</template> \n\n<script>\n//API\nimport axios from \"/axios.js\";\n//import moment from \"moment\";\n\n//Components\nimport \"devextreme/dist/css/dx.light.css\";\n// import innerPageName from \"@/components/app-structures/app-inner-pagename.vue\";\n//import InspectionRecordPanel from \"@/views/Applications/Vessel/Pages/inspection-record-panel.vue\";\n//import SelectInspRecord from \"@/components/select-insp-record.vue\";\n\n//DataGrid\nimport { Workbook } from \"exceljs\";\nimport saveAs from \"file-saver\";\nimport { exportDataGrid } from \"devextreme/excel_exporter\";\nimport {\n  DxDataGrid,\n  DxSearchPanel,\n  DxPaging,\n  DxPager,\n  DxScrolling,\n  DxColumn,\n  DxExport,\n  DxEditing,\n  //DxPopup,\n  DxForm\n} from \"devextreme-vue/data-grid\";\n\n//List\n// import { DxList } from \"devextreme-vue/list\";\n\n//FileUpload\nimport { DxFileUploader } from \"devextreme-vue/file-uploader\";\n//import { DxButton } from 'devextreme-vue/button';\nimport { DxItem } from \"devextreme-vue/form\";\n\nexport default {\n  name: \"ViewProjectList\",\n  components: {\n    //VueTabsChrome,\n    // DxList,\n    DxDataGrid,\n    DxSearchPanel,\n    DxPaging,\n    DxPager,\n    DxScrolling,\n    DxColumn,\n    DxExport,\n    DxEditing,\n    DxFileUploader,\n    DxForm,\n    DxItem\n    //DxPopup,\n    //DxButton,\n    // innerPageName,\n    //SelectInspRecord\n  },\n  created() {\n    this.$store.commit(\"UPDATE_CURRENT_PAGENAME\", {\n      subpageName: \"Marked-Up Drawing\"\n    });\n    this.VIEW_ITEM();\n  },\n  data() {\n    return {\n      drawingList: [],\n      isLoading: false,\n      display_img_on_upload: \"\",\n      file: [],\n      isEdit: false,\n      dataGridAttributes: {\n        class: \"data-grid-style\"\n      },\n      pagePanelHiding: false,\n      dataDwgTemp: \"\",\n      fileNameInputOptions: { placeholder: \"Enter file name ...\" }\n    };\n  },\n  computed: {\n    baseURL() {\n      var mode = this.$store.state.mode;\n      if (mode == \"dev\") return this.$store.state.modeURL.dev;\n      else if (mode == \"prod\") return this.$store.state.modeURL.prod;\n      else return console.log(\"develpment mode set up incorrect.\");\n    }\n  },\n  methods: {\n    EXPORT_DATA(e) {\n      const workbook = new Workbook();\n      const worksheet = workbook.addWorksheet(\"Projects\");\n      exportDataGrid({\n        worksheet: worksheet,\n        component: e.component\n      }).then(function() {\n        workbook.xlsx.writeBuffer().then(function(buffer) {\n          saveAs(\n            new Blob([buffer], { type: \"application/octet-stream\" }),\n            \"Projects.xlsx\"\n          );\n        });\n      });\n      e.cancel = true;\n    },\n    VIEW_ITEM() {\n      this.isLoading = true;\n      this.drawingList = [];\n      axios({\n        method: \"get\",\n        url:\n          \"PressureVesselDrawing/get-pv-by-id-tag/\" + this.$route.params.id_tag,\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"token\"))\n        },\n        data: {}\n      })\n        .then(res => {\n          console.log(\"drawing list:\");\n          console.log(res.data);\n          if (res.status == 200 && res.data) {\n            this.drawingList = res.data;\n          }\n        })\n        .catch(error => {\n          console.log(error);\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    },\n    CREATE_DWG() {\n      var formData = new FormData();\n      const user = JSON.parse(localStorage.getItem(\"user\"));\n      formData.append(\"id_tag\", this.$route.params.id_tag);\n      formData.append(\"file\", this.file);\n      formData.append(\"created_by\", user.id);\n      formData.append(\"updated_by\", user.id);\n      if (this.file.length == 0)\n        return this.$ons.notification.alert(\"Please select file\").then(res => {\n          if (res == 0) {\n            this.VIEW_ITEM();\n          }\n        });\n      axios({\n        method: \"post\",\n        url: \"PressureVesselDrawing\",\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"token\"))\n        },\n        data: formData\n      })\n        .then(res => {\n          if (res.status == 201 && res.data) {\n            this.VIEW_ITEM();\n          }\n        })\n        .catch(error => {\n          console.log(error);\n          this.$ons.notification\n            .alert(error.message, { title: \"Add New Drawing Failed\" })\n            .then(res => {\n              if (res == 0) {\n                this.VIEW_ITEM();\n              }\n            });\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    },\n    UPDATE_DWG(e) {\n      var formData = new FormData();\n      const user = JSON.parse(localStorage.getItem(\"user\"));\n      formData.append(\"id\", e.key);\n      formData.append(\"id_tag\", this.$route.params.id_tag);\n      formData.append(\"file\", this.file) ?? \"\";\n      formData.append(\"file_path\", e.data.file_path);\n      formData.append(\"updated_by\", user.id);\n      axios({\n        method: \"put\",\n        url: \"PressureVesselDrawing/\" + e.key,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"token\"))\n        },\n        data: formData\n      })\n        .then(res => {\n          if (res.status == 204) {\n            this.VIEW_ITEM();\n          }\n        })\n        .catch(error => {\n          console.log(error);\n          this.$ons.notification\n            .alert(error.message, { title: \"Update Drawing Failed\" })\n            .then(res => {\n              if (res == 0) {\n                this.VIEW_ITEM();\n              }\n            });\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    },\n    DELETE_DWG(e) {\n      axios({\n        method: \"delete\",\n        url: \"PressureVesselDrawing/\" + e.key,\n        headers: {\n          Authorization: \"Bearer \" + JSON.parse(localStorage.getItem(\"token\"))\n        },\n        data: {}\n      })\n        .then(res => {\n          if (res.status == 204) {\n            this.VIEW_ITEM();\n          }\n        })\n        .catch(error => {\n          console.log(error);\n          this.$ons.notification\n            .alert(error.message, { title: \"Delete Drawing Failed\" })\n            .then(res => {\n              if (res == 0) {\n                this.VIEW_ITEM();\n              }\n            });\n        })\n        .finally(() => {\n          this.isLoading = false;\n        });\n    },\n    ON_DWG_CHANGE(e) {\n      let reader = new FileReader();\n      reader.readAsDataURL(e.value[0]);\n      reader.onload = () => {\n        this.display_img_on_upload = reader.result;\n      };\n      this.isEdit = true;\n      this.file = e.value[0];\n    },\n\n    SAVE() {\n      // console.log(\"save:\");\n      // console.warn(this.isEdit);\n      if (this.isEdit) {\n        this.UPDATE_DWG(this.dataDwgTemp);\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"@/style/main.scss\";\n\n.page-container {\n  width: 100%;\n  height: 100%;\n  margin: 0 auto;\n  display: grid;\n  grid-template-columns: 201px calc(100% - 201px);\n}\n\n.page-container-hide {\n  grid-template-columns: 41px calc(100% - 41px);\n}\n\n.dx-list-item-content::before {\n  content: none;\n}\n\n#data-grid-style {\n  width: 100%;\n}\n\n.list-page {\n  overflow-y: auto;\n  .list {\n    margin: -20px -20px 20px -20px;\n  }\n}\n</style>","import mod from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js??clonedRuleSet-40[0].rules[0].use[1]!../../../../../../node_modules/@vue/vue-loader-v15/lib/index.js??vue-loader-options!./Page.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Page.vue?vue&type=template&id=6b3853b2&scoped=true&\"\nimport script from \"./Page.vue?vue&type=script&lang=js&\"\nexport * from \"./Page.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Page.vue?vue&type=style&index=0&id=6b3853b2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/@vue/vue-loader-v15/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b3853b2\",\n  null\n  \n)\n\nexport default component.exports","'use strict';\nvar $ = require('../internals/export');\nvar fails = require('../internals/fails');\nvar toObject = require('../internals/to-object');\nvar toPrimitive = require('../internals/to-primitive');\n\nvar FORCED = fails(function () {\n  return new Date(NaN).toJSON() !== null\n    || Date.prototype.toJSON.call({ toISOString: function () { return 1; } }) !== 1;\n});\n\n// `Date.prototype.toJSON` method\n// https://tc39.es/ecma262/#sec-date.prototype.tojson\n$({ target: 'Date', proto: true, forced: FORCED }, {\n  // eslint-disable-next-line no-unused-vars -- required for `.length`\n  toJSON: function toJSON(key) {\n    var O = toObject(this);\n    var pv = toPrimitive(O, 'number');\n    return typeof pv == 'number' && !isFinite(pv) ? null : O.toISOString();\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\n\n// `URL.prototype.toJSON` method\n// https://url.spec.whatwg.org/#dom-url-tojson\n$({ target: 'URL', proto: true, enumerable: true }, {\n  toJSON: function toJSON() {\n    return call(URL.prototype.toString, this);\n  }\n});\n"],"names":["render","this$1","this","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","attrs","drawingList","dataGridAttributes","on","EXPORT_DATA","CREATE_DWG","UPDATE_DWG","DELETE_DWG","e","isEdit","display_img_on_upload","data","file_path","file","dataDwgTemp","SAVE","scopedSlots","_u","key","fn","ref","baseURL","value","_e","ON_DWG_CHANGE","staticRenderFns","name","components","DxDataGrid","DxSearchPanel","DxPaging","DxPager","DxScrolling","DxColumn","DxExport","DxEditing","DxFileUploader","DxForm","DxItem","created","$store","commit","subpageName","VIEW_ITEM","isLoading","class","pagePanelHiding","fileNameInputOptions","placeholder","computed","mode","state","modeURL","dev","methods","exportDataGrid","worksheet","component","then","workbook","xlsx","writeBuffer","saveAs","type","cancel","axios","method","url","headers","Authorization","JSON","parse","localStorage","getItem","console","formData","FormData","append","$route","params","id_tag","user","id","length","alert","error","title","reader","readAsDataURL","onload","$","fails","toObject","toPrimitive","FORCED","Date","NaN","toJSON","prototype","call","toISOString","target","proto","forced","O","pv","isFinite","enumerable","URL","toString"],"sourceRoot":""}