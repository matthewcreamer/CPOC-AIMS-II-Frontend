"use strict";(self["webpackChunktims_dexon"]=self["webpackChunktims_dexon"]||[]).push([[3919],{30594:(e,t,i)=>{i.d(t,{Z:()=>r});var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-content-loading"},[i("div",{staticClass:"box"},[i("hash-loader",{staticClass:"custom-class",attrs:{color:"#1e1450",loading:!0,size:40,sizeUnit:"px"}})],1)])},n=[];const s={name:"AppLoading",props:{text:String,icon:String,color:String}},a=s;var l=i(1001),c=(0,l.Z)(a,o,n,!1,null,"cf1f01c2",null);const r=c.exports},96348:(e,t,i)=>{i.d(t,{Z:()=>r});var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"image-preview-wrapper"},[i("div",{staticClass:"preview-popup"},[i("v-ons-toolbar-button",{staticClass:"btn-close",on:{click:function(t){return e.CLOSE_PREVIEW()}}},[i("i",{staticClass:"las la-times"})]),i("v-ons-toolbar-button",{staticClass:"btn-close download"},[i("a",{attrs:{target:"_blank",href:e.baseURL+e.imageURL,download:""}},[i("i",{staticClass:"las la-download"})])]),i("img",{attrs:{src:e.baseURL+e.imageURL}})],1)])},n=[];i(74916),i(23123);const s={name:"image-preview",props:{imageURL:String},computed:{baseURL:function(){var e=this.$store.state.mode;return"dev"==e?this.$store.state.modeURL.dev:"prod"==e?this.$store.state.modeURL.prod:console.log("develpment mode set up incorrect.")}},methods:{DOWNLOAD_IMG:function(e){var t=document.createElement("a");t.href=e,t.download=e.split("/").pop(),document.body.appendChild(t),t.click(),document.body.removeChild(t)},CLOSE_PREVIEW:function(){this.$emit("close-preview")}}},a=s;var l=i(1001),c=(0,l.Z)(a,o,n,!1,null,"4574c401",null);const r=c.exports},25130:(e,t,i)=>{i.r(t),i.d(t,{default:()=>_});var o=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page-container"},[i("div",{staticClass:"tab-wrapper"},[i("vue-tabs-chrome",{attrs:{tabs:e.tabs},model:{value:e.tabCurrent,callback:function(t){e.tabCurrent=t},expression:"tabCurrent"}})],1),"info"==e.tabCurrent?i("div",{staticClass:"page-section info-tab-display"},[i("div",{staticClass:"report-sheet report-sheet-info",staticStyle:{"grid-row":"span 2"}},[i("div",{staticClass:"report-container"},[i("div",{staticClass:"sheet-body",staticStyle:{"grid-template-columns":"50% 50%"}},[e._m(0),e._l(e.generalInfo,(function(t){return i("div",{key:t.desc,staticClass:"form-item"},[i("div",{staticClass:"form-item-label"},[i("label",[e._v(e._s(t.desc))])]),i("div",{staticClass:"form-item-value"},[i("label",[e._v(e._s(t.value))])])])})),e._m(1)],2)])])]):e._e(),1==e.isLoading?i("contentLoading",{attrs:{text:"Loading, please wait...",color:"#fc9b21"}}):e._e(),e.previewImg?i("previewImage",{attrs:{imageURL:e.previewImg},on:{"close-preview":function(t){return e.PREVIEW_PIC_CLOSE()}}}):e._e()],1)},n=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"section-label",staticStyle:{"grid-column":"span 2"}},[i("label",[e._v("pipeline specification")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"form-item",staticStyle:{"grid-column":"span 2","grid-row":"span 2",height:"49px"}},[i("div",{staticClass:"form-item-label",staticStyle:{height:"36px"}},[i("label",[e._v("-")])]),i("div",{staticClass:"form-item-value",staticStyle:{height:"36px"}},[i("label",[e._v("placeholder")])])])}],s=(i(41539),i(39477)),a=i(17133),l=i.n(a),c=i(25930),r=i.n(c),d=i(30594),p=i(96348);const u={name:"ViewTankInformation",components:{VueTabsChrome:r(),contentLoading:d.Z,previewImage:p.Z},created:function(){this.$store.commit("UPDATE_CURRENT_PAGENAME",{subpageName:"Pipeline Information",subpageInnerName:null}),this.FETCH_INFO()},data:function(){return{infoFlowline:{},file_pic_upload:"",tabCurrent:"info",tabs:[{label:"General Information",key:"info",closable:!1}],previewImg:"",isLoading:!1}},computed:{generalInfo:function(){var e=[{desc:"Piping Code",value:this.infoFlowline.piping_code},{desc:"Pipe Spec",value:this.infoFlowline.pipe_spec},{desc:"PID No.",value:this.infoFlowline.pid_no},{desc:"Service",value:this.infoFlowline.id_service},{desc:"Material",value:this.infoFlowline.id_material},{desc:"NPS",value:this.infoFlowline.nps},{desc:"Stress",value:this.infoFlowline.stress},{desc:"Joint Efficiency",value:this.infoFlowline.E},{desc:"Design Pressure (psi)",value:this.infoFlowline.design_pressure_psi},{desc:"Operating Pressure (psi)",value:this.infoFlowline.operating_pressure_psi},{desc:"Design Temperature (C)",value:this.infoFlowline.design_temp_max_c},{desc:"Operating Temperature (psi)",value:this.infoFlowline.operating_pressure_psi},{desc:"Dead Leg",value:this.infoFlowline.deadleg},{desc:"Insulation Type",value:this.infoFlowline.insulation_type},{desc:"Insulation Size",value:this.infoFlowline.insulation_size},{desc:"CAD",value:this.infoFlowline.CAd},{desc:"LD",value:this.infoFlowline.Ld},{desc:"-",value:this.infoFlowline.last_inspection_date?l()(this.infoFlowline.last_inspection_date).format("LL"):null}];return e},componentInfo:function(){var e=[{desc:"Bottom",value:this.infoFlowline.component_bottom},{desc:"Shell",value:this.infoFlowline.component_shell},{desc:"Manways",value:this.infoFlowline.component_manways},{desc:"Fixed Roof",value:this.infoFlowline.component_fixed_roof},{desc:"Access",value:this.infoFlowline.component_access},{desc:"Drain",value:this.infoFlowline.component_drain},{desc:"Vents",value:this.infoFlowline.component_vents},{desc:"Floating Roof",value:this.infoFlowline.floating_roof},{desc:"Type",value:this.infoFlowline.component_type},{desc:"Material and Style",value:this.infoFlowline.component_material_and_style},{desc:"Primary Seal",value:this.infoFlowline.component_primary_seal},{desc:"Secondary Seal",value:this.infoFlowline.component_secondary_seal},{desc:"Anti Rotation Device",value:this.infoFlowline.component_anti_rotation_device},{desc:"Gauge Pipe",value:this.infoFlowline.component_gauge_pipe}];return e},baseURL:function(){var e=this.$store.state.mode;return"dev"==e?this.$store.state.modeURL.dev:"prod"==e?this.$store.state.modeURL.prod:console.log("develpment mode set up incorrect.")}},watch:{$route:{handler:function(){this.FETCH_INFO()}}},methods:{FETCH_INFO:function(){var e=this;console.log("==> FETCH FLOWLINE INFO: ");var t=this.$route.params.id_tag;(0,s.Z)({method:"get",url:"FlowlineInfo/"+t,headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{}}).then((function(t){200==t.status&&t.data&&(e.infoFlowline=t.data,console.log(e.infoFlowline))}))["catch"]((function(e){console.log(e)}))["finally"]((function(){e.isLoading=!1}))},UPLOAD_PIC:function(e){var t=this;this.isLoading=!0,console.log("==> TANK INFO IMG UPLOAD: START");var i=this.$route.params.id_tag;if(console.log("==> ID TAG (TANK): "+i),this.file_pic_upload=1==e?this.$refs.pic_upload_ov.files[0]:this.$refs.pic_upload_np.files[0],console.log(this.file_pic_upload),console.log("==> TANK INFO IMG UPLOAD: TYPE "+e),this.file_pic_upload&&"image/jpeg"==this.file_pic_upload.type||"image/png"==this.file_pic_upload.type)if(this.file_pic_upload.size<2e7)(0,s.Z)({method:"post",url:"/tank-info/attach-pic",headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{id_tag:i,file:this.file_pic_upload,type:e}}).then((function(e){console.log(e),200==e.status&&(t.FETCH_TANK_INFO(),console.log("==> TANK INFO IMG UPLOAD: DONE"),t.isLoading=!1)}))["catch"]((function(e){t.isLoading=!1,t.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){}));else{this.$ons.notification.alert("File size too large. (20 MB max)");var o=document.getElementById("pic-upload-btn");o.val="",this.isLoading=!1}else{this.$ons.notification.alert("Incorrect filetype. <br/> Only JPEG/PNG file can be uploaded.");var n=document.getElementById("pic-upload-btn");n.val="",this.isLoading=!1}},DELETE_PIC:function(e,t){var i=this;this.$ons.notification.confirm("Confirm delete?").then((function(o){if(1==o){i.isLoading=!0,console.log("==> TANK INFO IMG DELETE: START");var n=i.$route.params.id_tag;console.log("==> ID TAG (TANK): "+n),(0,s.Z)({method:"delete",url:"/tank-info/delete-pic",headers:{Authorization:"Bearer "+JSON.parse(localStorage.getItem("token"))},data:{id_tag:n,file_path:e,type:t}}).then((function(e){console.log(e),200==e.status&&(i.FETCH_TANK_INFO(),console.log("==> TANK INFO IMG DELETE: DONE"),i.isLoading=!1)}))["catch"]((function(e){i.isLoading=!1,i.$ons.notification.alert(e.code+" "+e.response.status+" "+e.message)}))["finally"]((function(){i.FETCH_TANK_INFO()}))}}))},PREVIEW_PIC:function(e){e&&(this.previewImg=e)},PREVIEW_PIC_CLOSE:function(){this.previewImg=""}}},f=u;var m=i(1001),h=(0,m.Z)(f,o,n,!1,null,"6149251c",null);const _=h.exports},34553:(e,t,i)=>{var o=i(82109),n=i(42092).findIndex,s=i(51223),a="findIndex",l=!0;a in[]&&Array(1)[a]((function(){l=!1})),o({target:"Array",proto:!0,forced:l},{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s(a)}}]);
//# sourceMappingURL=3919.ffa61865.js.map