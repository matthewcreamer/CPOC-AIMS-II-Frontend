{"version":3,"file":"js/8626.155a0a7a.js","mappings":"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AS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,aAAc,KACd,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,QAAS,KACT,aAAc,KACd,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,SAAU,KACV,SAAU,KACV,SAAU,KACV,QAAS,KACT,QAAS,KACT,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,aAAc,KACd,SAAU,KACV,QAAS,KACT,QAAS,KACT,QAAS,KACT,aAAc,KACd,QAAS,KACT,aAAc,KACd,aAAc,KACd,cAAe,KACf,SA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","sources":["webpack://tims-dexon/./node_modules/core-js/modules/es.number.max-safe-integer.js","webpack://tims-dexon/./node_modules/core-js/modules/es.string.bold.js","webpack://tims-dexon/./node_modules/core-js/modules/es.string.fixed.js","webpack://tims-dexon/./node_modules/core-js/modules/es.string.italics.js","webpack://tims-dexon/./node_modules/devextreme-vue/data-grid.js","webpack://tims-dexon/./node_modules/devextreme/esm/format_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/localization/language_codes.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.modules.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.core.js","webpack://tims-dexon/./node_modules/devextreme/esm/events/double_click.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_state_mixin.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.columns_view.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/shared/accessibility.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.accessibility.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_headers.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.column_headers.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.columns_controller.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.columns_controller.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.data_source_adapter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.data_source_adapter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.data_controller.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.data_controller.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.sorting_mixin.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.sorting.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.sorting.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.rows.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.rows.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/hierarchical_collection/ui.data_converter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/hierarchical_collection/ui.data_adapter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/hierarchical_collection/ui.hierarchical_collection_widget.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/context_menu/ui.menu_base.edit.strategy.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/context_menu/ui.menu_base.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/context_menu/ui.context_menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/context_menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.context_menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.context_menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.error_handling.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.error_handling.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.grid_view.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grid_view.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/toolbar/ui.toolbar.menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/resizable/utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/popover/popover_position_controller.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/popover/ui.popover.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/popover.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/toolbar/ui.toolbar.utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/drop_down_menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/toolbar/ui.toolbar.drop_down_menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/toolbar.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.header_panel.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.header_panel.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.base.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.state_storing_core.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.state_storing.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.state_storing.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.selection.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.selection.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tree_view/ui.tree_view.base.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tree_view/ui.tree_view.search.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tree_view.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_chooser.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.column_chooser.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.core.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.expanded.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.collapsed.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.grouping.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.master_detail.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.master_detail.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/shared/ui.editor_factory_mixin.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editor_factory.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editor_factory.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/dialog.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_constants.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_row_based.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing_row_based.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_form_based.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing_form_based.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.editing_cell_based.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.editing_cell_based.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.validating.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.validating.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid.core.virtual_data_loader.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_scrolling_core.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_scrolling.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.virtual_scrolling.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/overlay/utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/menu/ui.submenu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/menu/ui.menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/menu.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_row.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_row.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/list/modules/search.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.header_filter_core.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.header_filter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.header_filter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/filter_builder/between.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/filter_builder/ui.filter_operations_dictionary.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/filter_builder/utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_custom_operations.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_sync.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_sync.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/filter_builder/filter_builder.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/filter_builder.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_builder.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_builder.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.filter_panel.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.filter_panel.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.search.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.search.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/component_wrapper/grid_pager.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/utils/type_conversion.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/utils/get_element_width.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/resizable_container.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/common/base_pager_props.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/common/pager_props.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/info.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/common/keyboard_action_context.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/common/light_button.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/common/consts.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/pages/page.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/pages/large.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/editors/number_box.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/utils/calculate_values_fitted_width.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/pages/small.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/pages/page_index_selector.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/editors/drop_down_editors/select_box.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/page_size/small.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/page_size/large.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/page_size/selector.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/content.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/pager.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/pager/pager.j.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/pager.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.pager.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.pager.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.columns_resizing_reordering.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.columns_resizing_reordering.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.keyboard_navigation.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.keyboard_navigation.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/aggregate_calculator.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.summary.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.column_fixing.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.column_fixing.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.adaptivity.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_columns_core.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.adaptivity.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.virtual_columns.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.virtual_columns.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.export_mixin.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/file_saver.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel_format_converter.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.tag_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.cell_alignment_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.color_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.pattern_fill_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.fill_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.font_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.cell_format_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.number_format_helper.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel/excel.file.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/excel_creator.js","webpack://tims-dexon/./node_modules/devextreme/esm/color.js","webpack://tims-dexon/./node_modules/devextreme/esm/core/utils/svg.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/image_creator.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/svg_creator.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter/pdf_creator.js","webpack://tims-dexon/./node_modules/devextreme/esm/exporter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/button_group.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/drop_down_button.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.export.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.focus.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.focus.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/draggable.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/sortable.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.row_dragging.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.row_dragging.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid/ui.data_grid.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/data_grid.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/ui.form.items_runtime_info.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/multi_view/ui.multi_view.animation.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/multi_view.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tabs/item.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tabs/constants.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/get_scroll_left_max.js","webpack://tims-dexon/./node_modules/devextreme/esm/renovation/ui/scroll_view/utils/get_boundary_props.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tabs.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tab_panel/item.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/tab_panel.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/ui.form.item_option_action.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/ui.form.utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/ui.form.item_options_actions.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/responsive_box.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/constants.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/ui.form.layout_manager.utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/components/label.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/components/field_item.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/components/button_item.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/components/empty_item.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/ui.form.layout_manager.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/validation_summary.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/validation_group.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form/ui.form.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/form.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/grid_core/ui.grid_core.utils.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/shared/filtering.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/validation/default_adapter.js","webpack://tims-dexon/./node_modules/devextreme/esm/ui/validator.js"],"sourcesContent":["var $ = require('../internals/export');\n\n// `Number.MAX_SAFE_INTEGER` constant\n// https://tc39.es/ecma262/#sec-number.max_safe_integer\n$({ target: 'Number', stat: true }, {\n  MAX_SAFE_INTEGER: 0x1FFFFFFFFFFFFF\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.bold` method\n// https://tc39.es/ecma262/#sec-string.prototype.bold\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('bold') }, {\n  bold: function bold() {\n    return createHTML(this, 'b', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.fixed` method\n// https://tc39.es/ecma262/#sec-string.prototype.fixed\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('fixed') }, {\n  fixed: function fixed() {\n    return createHTML(this, 'tt', '', '');\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar createHTML = require('../internals/create-html');\nvar forcedStringHTMLMethod = require('../internals/string-html-forced');\n\n// `String.prototype.italics` method\n// https://tc39.es/ecma262/#sec-string.prototype.italics\n$({ target: 'String', proto: true, forced: forcedStringHTMLMethod('italics') }, {\n  italics: function italics() {\n    return createHTML(this, 'i', '', '');\n  }\n});\n","/*!\n * devextreme-vue\n * Version: 21.2.7\n * Build date: Mon Apr 11 2022\n *\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\n *\n * This software may be modified and distributed under the terms\n * of the MIT license. See the LICENSE file in the root of the project for details.\n *\n * https://github.com/DevExpress/devextreme-vue\n */\n\n\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DxLookup = exports.DxLoadPanel = exports.DxLabel = exports.DxKeyboardNavigation = exports.DxItem = exports.DxHide = exports.DxHeaderFilter = exports.DxGroupPanel = exports.DxGroupOperationDescriptions = exports.DxGroupItem = exports.DxGroupingTexts = exports.DxGrouping = exports.DxFrom = exports.DxFormItem = exports.DxFormat = exports.DxForm = exports.DxFilterRow = exports.DxFilterPanelTexts = exports.DxFilterPanel = exports.DxFilterOperationDescriptions = exports.DxFilterBuilderPopup = exports.DxFilterBuilder = exports.DxFieldLookup = exports.DxField = exports.DxExportTexts = exports.DxExport = exports.DxEmailRule = exports.DxEditingTexts = exports.DxEditing = exports.DxDataGridHeaderFilterTexts = exports.DxDataGridHeaderFilter = exports.DxCustomRule = exports.DxCustomOperation = exports.DxCursorOffset = exports.DxCompareRule = exports.DxColumnLookup = exports.DxColumnHeaderFilter = exports.DxColumnFixingTexts = exports.DxColumnFixing = exports.DxColumnChooser = exports.DxColumn = exports.DxCollision = exports.DxColCountByScreen = exports.DxChange = exports.DxButton = exports.DxBoundaryOffset = exports.DxAt = exports.DxAsyncRule = exports.DxAnimation = exports.DxDataGrid = void 0;\nexports.DxValueFormat = exports.DxValidationRule = exports.DxTotalItem = exports.DxToolbarItem = exports.DxToolbar = exports.DxTo = exports.DxTexts = exports.DxSummaryTexts = exports.DxSummary = exports.DxStringLengthRule = exports.DxStateStoring = exports.DxSorting = exports.DxSortByGroupSummaryInfo = exports.DxShow = exports.DxSelection = exports.DxSearchPanel = exports.DxScrolling = exports.DxRowDragging = exports.DxRequiredRule = exports.DxRemoteOperations = exports.DxRangeRule = exports.DxPosition = exports.DxPopup = exports.DxPatternRule = exports.DxPaging = exports.DxPager = exports.DxOperationDescriptions = exports.DxOffset = exports.DxNumericRule = exports.DxMy = exports.DxMasterDetail = void 0;\nvar data_grid_1 = __importDefault(require(\"devextreme/ui/data_grid\"));\nvar index_1 = require(\"./core/index\");\nvar index_2 = require(\"./core/index\");\nvar DxDataGrid = index_1.createComponent({\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        allowColumnReordering: Boolean,\n        allowColumnResizing: Boolean,\n        autoNavigateToFocusedRow: Boolean,\n        cacheEnabled: Boolean,\n        cellHintEnabled: Boolean,\n        columnAutoWidth: Boolean,\n        columnChooser: Object,\n        columnFixing: Object,\n        columnHidingEnabled: Boolean,\n        columnMinWidth: Number,\n        columnResizingMode: String,\n        columns: Array,\n        columnWidth: [Number, String],\n        customizeColumns: Function,\n        customizeExportData: Function,\n        dataRowTemplate: {},\n        dataSource: [Array, Object, String],\n        dateSerializationFormat: String,\n        disabled: Boolean,\n        editing: Object,\n        elementAttr: Object,\n        errorRowEnabled: Boolean,\n        export: Object,\n        filterBuilder: Object,\n        filterBuilderPopup: Object,\n        filterPanel: Object,\n        filterRow: Object,\n        filterSyncEnabled: [Boolean, String],\n        filterValue: [Array, Function, String],\n        focusedColumnIndex: Number,\n        focusedRowEnabled: Boolean,\n        focusedRowIndex: Number,\n        focusedRowKey: {},\n        focusStateEnabled: Boolean,\n        grouping: Object,\n        groupPanel: Object,\n        headerFilter: Object,\n        height: [Function, Number, String],\n        highlightChanges: Boolean,\n        hint: String,\n        hoverStateEnabled: Boolean,\n        keyboardNavigation: Object,\n        keyExpr: [Array, String],\n        loadPanel: Object,\n        masterDetail: Object,\n        noDataText: String,\n        onAdaptiveDetailRowPreparing: Function,\n        onCellClick: Function,\n        onCellDblClick: Function,\n        onCellHoverChanged: Function,\n        onCellPrepared: Function,\n        onContentReady: Function,\n        onContextMenuPreparing: Function,\n        onDataErrorOccurred: Function,\n        onDisposing: Function,\n        onEditCanceled: Function,\n        onEditCanceling: Function,\n        onEditingStart: Function,\n        onEditorPrepared: Function,\n        onEditorPreparing: Function,\n        onExported: Function,\n        onExporting: Function,\n        onFileSaving: Function,\n        onFocusedCellChanged: Function,\n        onFocusedCellChanging: Function,\n        onFocusedRowChanged: Function,\n        onFocusedRowChanging: Function,\n        onInitialized: Function,\n        onInitNewRow: Function,\n        onKeyDown: Function,\n        onOptionChanged: Function,\n        onRowClick: Function,\n        onRowCollapsed: Function,\n        onRowCollapsing: Function,\n        onRowDblClick: Function,\n        onRowExpanded: Function,\n        onRowExpanding: Function,\n        onRowInserted: Function,\n        onRowInserting: Function,\n        onRowPrepared: Function,\n        onRowRemoved: Function,\n        onRowRemoving: Function,\n        onRowUpdated: Function,\n        onRowUpdating: Function,\n        onRowValidating: Function,\n        onSaved: Function,\n        onSaving: Function,\n        onSelectionChanged: Function,\n        onToolbarPreparing: Function,\n        pager: Object,\n        paging: Object,\n        remoteOperations: [Boolean, Object, String],\n        renderAsync: Boolean,\n        repaintChangesOnly: Boolean,\n        rowAlternationEnabled: Boolean,\n        rowDragging: Object,\n        rowTemplate: {},\n        rtlEnabled: Boolean,\n        scrolling: Object,\n        searchPanel: Object,\n        selectedRowKeys: Array,\n        selection: Object,\n        selectionFilter: [Array, Function, String],\n        showBorders: Boolean,\n        showColumnHeaders: Boolean,\n        showColumnLines: Boolean,\n        showRowLines: Boolean,\n        sortByGroupSummaryInfo: Array,\n        sorting: Object,\n        stateStoring: Object,\n        summary: Object,\n        tabIndex: Number,\n        toolbar: Object,\n        twoWayBindingEnabled: Boolean,\n        visible: Boolean,\n        width: [Function, Number, String],\n        wordWrapEnabled: Boolean\n    },\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:allowColumnReordering\": null,\n        \"update:allowColumnResizing\": null,\n        \"update:autoNavigateToFocusedRow\": null,\n        \"update:cacheEnabled\": null,\n        \"update:cellHintEnabled\": null,\n        \"update:columnAutoWidth\": null,\n        \"update:columnChooser\": null,\n        \"update:columnFixing\": null,\n        \"update:columnHidingEnabled\": null,\n        \"update:columnMinWidth\": null,\n        \"update:columnResizingMode\": null,\n        \"update:columns\": null,\n        \"update:columnWidth\": null,\n        \"update:customizeColumns\": null,\n        \"update:customizeExportData\": null,\n        \"update:dataRowTemplate\": null,\n        \"update:dataSource\": null,\n        \"update:dateSerializationFormat\": null,\n        \"update:disabled\": null,\n        \"update:editing\": null,\n        \"update:elementAttr\": null,\n        \"update:errorRowEnabled\": null,\n        \"update:export\": null,\n        \"update:filterBuilder\": null,\n        \"update:filterBuilderPopup\": null,\n        \"update:filterPanel\": null,\n        \"update:filterRow\": null,\n        \"update:filterSyncEnabled\": null,\n        \"update:filterValue\": null,\n        \"update:focusedColumnIndex\": null,\n        \"update:focusedRowEnabled\": null,\n        \"update:focusedRowIndex\": null,\n        \"update:focusedRowKey\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:grouping\": null,\n        \"update:groupPanel\": null,\n        \"update:headerFilter\": null,\n        \"update:height\": null,\n        \"update:highlightChanges\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:keyboardNavigation\": null,\n        \"update:keyExpr\": null,\n        \"update:loadPanel\": null,\n        \"update:masterDetail\": null,\n        \"update:noDataText\": null,\n        \"update:onAdaptiveDetailRowPreparing\": null,\n        \"update:onCellClick\": null,\n        \"update:onCellDblClick\": null,\n        \"update:onCellHoverChanged\": null,\n        \"update:onCellPrepared\": null,\n        \"update:onContentReady\": null,\n        \"update:onContextMenuPreparing\": null,\n        \"update:onDataErrorOccurred\": null,\n        \"update:onDisposing\": null,\n        \"update:onEditCanceled\": null,\n        \"update:onEditCanceling\": null,\n        \"update:onEditingStart\": null,\n        \"update:onEditorPrepared\": null,\n        \"update:onEditorPreparing\": null,\n        \"update:onExported\": null,\n        \"update:onExporting\": null,\n        \"update:onFileSaving\": null,\n        \"update:onFocusedCellChanged\": null,\n        \"update:onFocusedCellChanging\": null,\n        \"update:onFocusedRowChanged\": null,\n        \"update:onFocusedRowChanging\": null,\n        \"update:onInitialized\": null,\n        \"update:onInitNewRow\": null,\n        \"update:onKeyDown\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onRowClick\": null,\n        \"update:onRowCollapsed\": null,\n        \"update:onRowCollapsing\": null,\n        \"update:onRowDblClick\": null,\n        \"update:onRowExpanded\": null,\n        \"update:onRowExpanding\": null,\n        \"update:onRowInserted\": null,\n        \"update:onRowInserting\": null,\n        \"update:onRowPrepared\": null,\n        \"update:onRowRemoved\": null,\n        \"update:onRowRemoving\": null,\n        \"update:onRowUpdated\": null,\n        \"update:onRowUpdating\": null,\n        \"update:onRowValidating\": null,\n        \"update:onSaved\": null,\n        \"update:onSaving\": null,\n        \"update:onSelectionChanged\": null,\n        \"update:onToolbarPreparing\": null,\n        \"update:pager\": null,\n        \"update:paging\": null,\n        \"update:remoteOperations\": null,\n        \"update:renderAsync\": null,\n        \"update:repaintChangesOnly\": null,\n        \"update:rowAlternationEnabled\": null,\n        \"update:rowDragging\": null,\n        \"update:rowTemplate\": null,\n        \"update:rtlEnabled\": null,\n        \"update:scrolling\": null,\n        \"update:searchPanel\": null,\n        \"update:selectedRowKeys\": null,\n        \"update:selection\": null,\n        \"update:selectionFilter\": null,\n        \"update:showBorders\": null,\n        \"update:showColumnHeaders\": null,\n        \"update:showColumnLines\": null,\n        \"update:showRowLines\": null,\n        \"update:sortByGroupSummaryInfo\": null,\n        \"update:sorting\": null,\n        \"update:stateStoring\": null,\n        \"update:summary\": null,\n        \"update:tabIndex\": null,\n        \"update:toolbar\": null,\n        \"update:twoWayBindingEnabled\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n        \"update:wordWrapEnabled\": null,\n    },\n    computed: {\n        instance: function () {\n            return this.$_instance;\n        }\n    },\n    beforeCreate: function () {\n        this.$_WidgetClass = data_grid_1.default;\n        this.$_hasAsyncTemplate = true;\n        this.$_expectedChildren = {\n            column: { isCollectionItem: true, optionName: \"columns\" },\n            columnChooser: { isCollectionItem: false, optionName: \"columnChooser\" },\n            columnFixing: { isCollectionItem: false, optionName: \"columnFixing\" },\n            dataGridHeaderFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n            editing: { isCollectionItem: false, optionName: \"editing\" },\n            export: { isCollectionItem: false, optionName: \"export\" },\n            filterBuilder: { isCollectionItem: false, optionName: \"filterBuilder\" },\n            filterBuilderPopup: { isCollectionItem: false, optionName: \"filterBuilderPopup\" },\n            filterPanel: { isCollectionItem: false, optionName: \"filterPanel\" },\n            filterRow: { isCollectionItem: false, optionName: \"filterRow\" },\n            grouping: { isCollectionItem: false, optionName: \"grouping\" },\n            groupPanel: { isCollectionItem: false, optionName: \"groupPanel\" },\n            headerFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n            keyboardNavigation: { isCollectionItem: false, optionName: \"keyboardNavigation\" },\n            loadPanel: { isCollectionItem: false, optionName: \"loadPanel\" },\n            masterDetail: { isCollectionItem: false, optionName: \"masterDetail\" },\n            pager: { isCollectionItem: false, optionName: \"pager\" },\n            paging: { isCollectionItem: false, optionName: \"paging\" },\n            remoteOperations: { isCollectionItem: false, optionName: \"remoteOperations\" },\n            rowDragging: { isCollectionItem: false, optionName: \"rowDragging\" },\n            scrolling: { isCollectionItem: false, optionName: \"scrolling\" },\n            searchPanel: { isCollectionItem: false, optionName: \"searchPanel\" },\n            selection: { isCollectionItem: false, optionName: \"selection\" },\n            sortByGroupSummaryInfo: { isCollectionItem: true, optionName: \"sortByGroupSummaryInfo\" },\n            sorting: { isCollectionItem: false, optionName: \"sorting\" },\n            stateStoring: { isCollectionItem: false, optionName: \"stateStoring\" },\n            summary: { isCollectionItem: false, optionName: \"summary\" },\n            toolbar: { isCollectionItem: false, optionName: \"toolbar\" }\n        };\n    }\n});\nexports.DxDataGrid = DxDataGrid;\nvar DxAnimation = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:hide\": null,\n        \"update:show\": null,\n    },\n    props: {\n        hide: [Object, Number, String],\n        show: [Object, Number, String]\n    }\n});\nexports.DxAnimation = DxAnimation;\nDxAnimation.$_optionName = \"animation\";\nDxAnimation.$_expectedChildren = {\n    hide: { isCollectionItem: false, optionName: \"hide\" },\n    show: { isCollectionItem: false, optionName: \"show\" }\n};\nvar DxAsyncRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:reevaluate\": null,\n        \"update:type\": null,\n        \"update:validationCallback\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        reevaluate: Boolean,\n        type: String,\n        validationCallback: Function\n    }\n});\nexports.DxAsyncRule = DxAsyncRule;\nDxAsyncRule.$_optionName = \"validationRules\";\nDxAsyncRule.$_isCollectionItem = true;\nDxAsyncRule.$_predefinedProps = {\n    type: \"async\"\n};\nvar DxAt = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: String,\n        y: String\n    }\n});\nexports.DxAt = DxAt;\nDxAt.$_optionName = \"at\";\nvar DxBoundaryOffset = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: Number,\n        y: Number\n    }\n});\nexports.DxBoundaryOffset = DxBoundaryOffset;\nDxBoundaryOffset.$_optionName = \"boundaryOffset\";\nvar DxButton = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:cssClass\": null,\n        \"update:disabled\": null,\n        \"update:hint\": null,\n        \"update:icon\": null,\n        \"update:name\": null,\n        \"update:onClick\": null,\n        \"update:template\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        cssClass: String,\n        disabled: [Boolean, Function],\n        hint: String,\n        icon: String,\n        name: String,\n        onClick: Function,\n        template: {},\n        text: String,\n        visible: [Boolean, Function]\n    }\n});\nexports.DxButton = DxButton;\nDxButton.$_optionName = \"buttons\";\nDxButton.$_isCollectionItem = true;\nvar DxChange = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:data\": null,\n        \"update:insertAfterKey\": null,\n        \"update:insertBeforeKey\": null,\n        \"update:type\": null,\n    },\n    props: {\n        data: {},\n        insertAfterKey: {},\n        insertBeforeKey: {},\n        type: String\n    }\n});\nexports.DxChange = DxChange;\nDxChange.$_optionName = \"changes\";\nDxChange.$_isCollectionItem = true;\nvar DxColCountByScreen = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:lg\": null,\n        \"update:md\": null,\n        \"update:sm\": null,\n        \"update:xs\": null,\n    },\n    props: {\n        lg: Number,\n        md: Number,\n        sm: Number,\n        xs: Number\n    }\n});\nexports.DxColCountByScreen = DxColCountByScreen;\nDxColCountByScreen.$_optionName = \"colCountByScreen\";\nvar DxCollision = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: String,\n        y: String\n    }\n});\nexports.DxCollision = DxCollision;\nDxCollision.$_optionName = \"collision\";\nvar DxColumn = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignment\": null,\n        \"update:allowEditing\": null,\n        \"update:allowExporting\": null,\n        \"update:allowFiltering\": null,\n        \"update:allowFixing\": null,\n        \"update:allowGrouping\": null,\n        \"update:allowHeaderFiltering\": null,\n        \"update:allowHiding\": null,\n        \"update:allowReordering\": null,\n        \"update:allowResizing\": null,\n        \"update:allowSearch\": null,\n        \"update:allowSorting\": null,\n        \"update:autoExpandGroup\": null,\n        \"update:buttons\": null,\n        \"update:calculateCellValue\": null,\n        \"update:calculateDisplayValue\": null,\n        \"update:calculateFilterExpression\": null,\n        \"update:calculateGroupValue\": null,\n        \"update:calculateSortValue\": null,\n        \"update:caption\": null,\n        \"update:cellTemplate\": null,\n        \"update:columns\": null,\n        \"update:cssClass\": null,\n        \"update:customizeText\": null,\n        \"update:dataField\": null,\n        \"update:dataType\": null,\n        \"update:editCellTemplate\": null,\n        \"update:editorOptions\": null,\n        \"update:encodeHtml\": null,\n        \"update:falseText\": null,\n        \"update:filterOperations\": null,\n        \"update:filterType\": null,\n        \"update:filterValue\": null,\n        \"update:filterValues\": null,\n        \"update:fixed\": null,\n        \"update:fixedPosition\": null,\n        \"update:format\": null,\n        \"update:formItem\": null,\n        \"update:groupCellTemplate\": null,\n        \"update:grouped\": null,\n        \"update:groupIndex\": null,\n        \"update:headerCellTemplate\": null,\n        \"update:headerFilter\": null,\n        \"update:hidingPriority\": null,\n        \"update:isBand\": null,\n        \"update:lookup\": null,\n        \"update:minWidth\": null,\n        \"update:name\": null,\n        \"update:ownerBand\": null,\n        \"update:renderAsync\": null,\n        \"update:resized\": null,\n        \"update:selectedFilterOperation\": null,\n        \"update:setCellValue\": null,\n        \"update:showEditorAlways\": null,\n        \"update:showInColumnChooser\": null,\n        \"update:showWhenGrouped\": null,\n        \"update:sortIndex\": null,\n        \"update:sortingMethod\": null,\n        \"update:sortOrder\": null,\n        \"update:trueText\": null,\n        \"update:type\": null,\n        \"update:validationRules\": null,\n        \"update:visible\": null,\n        \"update:visibleIndex\": null,\n        \"update:width\": null,\n    },\n    props: {\n        alignment: String,\n        allowEditing: Boolean,\n        allowExporting: Boolean,\n        allowFiltering: Boolean,\n        allowFixing: Boolean,\n        allowGrouping: Boolean,\n        allowHeaderFiltering: Boolean,\n        allowHiding: Boolean,\n        allowReordering: Boolean,\n        allowResizing: Boolean,\n        allowSearch: Boolean,\n        allowSorting: Boolean,\n        autoExpandGroup: Boolean,\n        buttons: Array,\n        calculateCellValue: Function,\n        calculateDisplayValue: [Function, String],\n        calculateFilterExpression: Function,\n        calculateGroupValue: [Function, String],\n        calculateSortValue: [Function, String],\n        caption: String,\n        cellTemplate: {},\n        columns: Array,\n        cssClass: String,\n        customizeText: Function,\n        dataField: String,\n        dataType: String,\n        editCellTemplate: {},\n        editorOptions: {},\n        encodeHtml: Boolean,\n        falseText: String,\n        filterOperations: Array,\n        filterType: String,\n        filterValue: {},\n        filterValues: Array,\n        fixed: Boolean,\n        fixedPosition: String,\n        format: [Object, Function, String],\n        formItem: Object,\n        groupCellTemplate: {},\n        grouped: Boolean,\n        groupIndex: Number,\n        headerCellTemplate: {},\n        headerFilter: Object,\n        hidingPriority: Number,\n        isBand: Boolean,\n        lookup: Object,\n        minWidth: Number,\n        name: String,\n        ownerBand: Number,\n        renderAsync: Boolean,\n        resized: Function,\n        selectedFilterOperation: String,\n        setCellValue: Function,\n        showEditorAlways: Boolean,\n        showInColumnChooser: Boolean,\n        showWhenGrouped: Boolean,\n        sortIndex: Number,\n        sortingMethod: Function,\n        sortOrder: String,\n        trueText: String,\n        type: String,\n        validationRules: Array,\n        visible: Boolean,\n        visibleIndex: Number,\n        width: [Number, String]\n    }\n});\nexports.DxColumn = DxColumn;\nDxColumn.$_optionName = \"columns\";\nDxColumn.$_isCollectionItem = true;\nDxColumn.$_expectedChildren = {\n    AsyncRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    button: { isCollectionItem: true, optionName: \"buttons\" },\n    columnHeaderFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n    columnLookup: { isCollectionItem: false, optionName: \"lookup\" },\n    CompareRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    CustomRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    EmailRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    format: { isCollectionItem: false, optionName: \"format\" },\n    formItem: { isCollectionItem: false, optionName: \"formItem\" },\n    headerFilter: { isCollectionItem: false, optionName: \"headerFilter\" },\n    lookup: { isCollectionItem: false, optionName: \"lookup\" },\n    NumericRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    PatternRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RangeRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RequiredRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    StringLengthRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    validationRule: { isCollectionItem: true, optionName: \"validationRules\" }\n};\nvar DxColumnChooser = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:emptyPanelText\": null,\n        \"update:enabled\": null,\n        \"update:height\": null,\n        \"update:mode\": null,\n        \"update:searchTimeout\": null,\n        \"update:sortOrder\": null,\n        \"update:title\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        emptyPanelText: String,\n        enabled: Boolean,\n        height: Number,\n        mode: String,\n        searchTimeout: Number,\n        sortOrder: String,\n        title: String,\n        width: Number\n    }\n});\nexports.DxColumnChooser = DxColumnChooser;\nDxColumnChooser.$_optionName = \"columnChooser\";\nvar DxColumnFixing = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:enabled\": null,\n        \"update:texts\": null,\n    },\n    props: {\n        enabled: Boolean,\n        texts: Object\n    }\n});\nexports.DxColumnFixing = DxColumnFixing;\nDxColumnFixing.$_optionName = \"columnFixing\";\nDxColumnFixing.$_expectedChildren = {\n    columnFixingTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxColumnFixingTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:fix\": null,\n        \"update:leftPosition\": null,\n        \"update:rightPosition\": null,\n        \"update:unfix\": null,\n    },\n    props: {\n        fix: String,\n        leftPosition: String,\n        rightPosition: String,\n        unfix: String\n    }\n});\nexports.DxColumnFixingTexts = DxColumnFixingTexts;\nDxColumnFixingTexts.$_optionName = \"texts\";\nvar DxColumnHeaderFilter = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:dataSource\": null,\n        \"update:groupInterval\": null,\n        \"update:height\": null,\n        \"update:searchMode\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        dataSource: [Array, Object, Function],\n        groupInterval: [Number, String],\n        height: Number,\n        searchMode: String,\n        width: Number\n    }\n});\nexports.DxColumnHeaderFilter = DxColumnHeaderFilter;\nDxColumnHeaderFilter.$_optionName = \"headerFilter\";\nvar DxColumnLookup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowClearing\": null,\n        \"update:calculateCellValue\": null,\n        \"update:dataSource\": null,\n        \"update:displayExpr\": null,\n        \"update:valueExpr\": null,\n    },\n    props: {\n        allowClearing: Boolean,\n        calculateCellValue: Function,\n        dataSource: [Array, Object, Function],\n        displayExpr: [Function, String],\n        valueExpr: String\n    }\n});\nexports.DxColumnLookup = DxColumnLookup;\nDxColumnLookup.$_optionName = \"lookup\";\nvar DxCompareRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:comparisonTarget\": null,\n        \"update:comparisonType\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:type\": null,\n    },\n    props: {\n        comparisonTarget: Function,\n        comparisonType: String,\n        ignoreEmptyValue: Boolean,\n        message: String,\n        type: String\n    }\n});\nexports.DxCompareRule = DxCompareRule;\nDxCompareRule.$_optionName = \"validationRules\";\nDxCompareRule.$_isCollectionItem = true;\nDxCompareRule.$_predefinedProps = {\n    type: \"compare\"\n};\nvar DxCursorOffset = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: Number,\n        y: Number\n    }\n});\nexports.DxCursorOffset = DxCursorOffset;\nDxCursorOffset.$_optionName = \"cursorOffset\";\nvar DxCustomOperation = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:calculateFilterExpression\": null,\n        \"update:caption\": null,\n        \"update:customizeText\": null,\n        \"update:dataTypes\": null,\n        \"update:editorTemplate\": null,\n        \"update:hasValue\": null,\n        \"update:icon\": null,\n        \"update:name\": null,\n    },\n    props: {\n        calculateFilterExpression: Function,\n        caption: String,\n        customizeText: Function,\n        dataTypes: Array,\n        editorTemplate: {},\n        hasValue: Boolean,\n        icon: String,\n        name: String\n    }\n});\nexports.DxCustomOperation = DxCustomOperation;\nDxCustomOperation.$_optionName = \"customOperations\";\nDxCustomOperation.$_isCollectionItem = true;\nvar DxCustomRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:reevaluate\": null,\n        \"update:type\": null,\n        \"update:validationCallback\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        reevaluate: Boolean,\n        type: String,\n        validationCallback: Function\n    }\n});\nexports.DxCustomRule = DxCustomRule;\nDxCustomRule.$_optionName = \"validationRules\";\nDxCustomRule.$_isCollectionItem = true;\nDxCustomRule.$_predefinedProps = {\n    type: \"custom\"\n};\nvar DxDataGridHeaderFilter = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:height\": null,\n        \"update:searchTimeout\": null,\n        \"update:texts\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        height: Number,\n        searchTimeout: Number,\n        texts: Object,\n        visible: Boolean,\n        width: Number\n    }\n});\nexports.DxDataGridHeaderFilter = DxDataGridHeaderFilter;\nDxDataGridHeaderFilter.$_optionName = \"headerFilter\";\nDxDataGridHeaderFilter.$_expectedChildren = {\n    dataGridHeaderFilterTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxDataGridHeaderFilterTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:cancel\": null,\n        \"update:emptyValue\": null,\n        \"update:ok\": null,\n    },\n    props: {\n        cancel: String,\n        emptyValue: String,\n        ok: String\n    }\n});\nexports.DxDataGridHeaderFilterTexts = DxDataGridHeaderFilterTexts;\nDxDataGridHeaderFilterTexts.$_optionName = \"texts\";\nvar DxEditing = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowAdding\": null,\n        \"update:allowDeleting\": null,\n        \"update:allowUpdating\": null,\n        \"update:changes\": null,\n        \"update:confirmDelete\": null,\n        \"update:editColumnName\": null,\n        \"update:editRowKey\": null,\n        \"update:form\": null,\n        \"update:mode\": null,\n        \"update:newRowPosition\": null,\n        \"update:popup\": null,\n        \"update:refreshMode\": null,\n        \"update:selectTextOnEditStart\": null,\n        \"update:startEditAction\": null,\n        \"update:texts\": null,\n        \"update:useIcons\": null,\n    },\n    props: {\n        allowAdding: Boolean,\n        allowDeleting: [Boolean, Function],\n        allowUpdating: [Boolean, Function],\n        changes: Array,\n        confirmDelete: Boolean,\n        editColumnName: String,\n        editRowKey: {},\n        form: Object,\n        mode: String,\n        newRowPosition: String,\n        popup: Object,\n        refreshMode: String,\n        selectTextOnEditStart: Boolean,\n        startEditAction: String,\n        texts: {},\n        useIcons: Boolean\n    }\n});\nexports.DxEditing = DxEditing;\nDxEditing.$_optionName = \"editing\";\nDxEditing.$_expectedChildren = {\n    change: { isCollectionItem: true, optionName: \"changes\" },\n    editingTexts: { isCollectionItem: false, optionName: \"texts\" },\n    form: { isCollectionItem: false, optionName: \"form\" },\n    popup: { isCollectionItem: false, optionName: \"popup\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxEditingTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:addRow\": null,\n        \"update:cancelAllChanges\": null,\n        \"update:cancelRowChanges\": null,\n        \"update:confirmDeleteMessage\": null,\n        \"update:confirmDeleteTitle\": null,\n        \"update:deleteRow\": null,\n        \"update:editRow\": null,\n        \"update:saveAllChanges\": null,\n        \"update:saveRowChanges\": null,\n        \"update:undeleteRow\": null,\n        \"update:validationCancelChanges\": null,\n    },\n    props: {\n        addRow: String,\n        cancelAllChanges: String,\n        cancelRowChanges: String,\n        confirmDeleteMessage: String,\n        confirmDeleteTitle: String,\n        deleteRow: String,\n        editRow: String,\n        saveAllChanges: String,\n        saveRowChanges: String,\n        undeleteRow: String,\n        validationCancelChanges: String\n    }\n});\nexports.DxEditingTexts = DxEditingTexts;\nDxEditingTexts.$_optionName = \"texts\";\nvar DxEmailRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        type: String\n    }\n});\nexports.DxEmailRule = DxEmailRule;\nDxEmailRule.$_optionName = \"validationRules\";\nDxEmailRule.$_isCollectionItem = true;\nDxEmailRule.$_predefinedProps = {\n    type: \"email\"\n};\nvar DxExport = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowExportSelectedData\": null,\n        \"update:customizeExcelCell\": null,\n        \"update:enabled\": null,\n        \"update:excelFilterEnabled\": null,\n        \"update:excelWrapTextEnabled\": null,\n        \"update:fileName\": null,\n        \"update:ignoreExcelErrors\": null,\n        \"update:proxyUrl\": null,\n        \"update:texts\": null,\n    },\n    props: {\n        allowExportSelectedData: Boolean,\n        customizeExcelCell: Function,\n        enabled: Boolean,\n        excelFilterEnabled: Boolean,\n        excelWrapTextEnabled: Boolean,\n        fileName: String,\n        ignoreExcelErrors: Boolean,\n        proxyUrl: String,\n        texts: Object\n    }\n});\nexports.DxExport = DxExport;\nDxExport.$_optionName = \"export\";\nDxExport.$_expectedChildren = {\n    exportTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxExportTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:exportAll\": null,\n        \"update:exportSelectedRows\": null,\n        \"update:exportTo\": null,\n    },\n    props: {\n        exportAll: String,\n        exportSelectedRows: String,\n        exportTo: String\n    }\n});\nexports.DxExportTexts = DxExportTexts;\nDxExportTexts.$_optionName = \"texts\";\nvar DxField = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:calculateFilterExpression\": null,\n        \"update:caption\": null,\n        \"update:customizeText\": null,\n        \"update:dataField\": null,\n        \"update:dataType\": null,\n        \"update:defaultFilterOperation\": null,\n        \"update:editorOptions\": null,\n        \"update:editorTemplate\": null,\n        \"update:falseText\": null,\n        \"update:filterOperations\": null,\n        \"update:format\": null,\n        \"update:lookup\": null,\n        \"update:name\": null,\n        \"update:trueText\": null,\n    },\n    props: {\n        calculateFilterExpression: Function,\n        caption: String,\n        customizeText: Function,\n        dataField: String,\n        dataType: String,\n        defaultFilterOperation: String,\n        editorOptions: {},\n        editorTemplate: {},\n        falseText: String,\n        filterOperations: Array,\n        format: [Object, Function, String],\n        lookup: Object,\n        name: String,\n        trueText: String\n    }\n});\nexports.DxField = DxField;\nDxField.$_optionName = \"fields\";\nDxField.$_isCollectionItem = true;\nDxField.$_expectedChildren = {\n    fieldLookup: { isCollectionItem: false, optionName: \"lookup\" },\n    format: { isCollectionItem: false, optionName: \"format\" },\n    lookup: { isCollectionItem: false, optionName: \"lookup\" }\n};\nvar DxFieldLookup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowClearing\": null,\n        \"update:dataSource\": null,\n        \"update:displayExpr\": null,\n        \"update:valueExpr\": null,\n    },\n    props: {\n        allowClearing: Boolean,\n        dataSource: [Array, Object],\n        displayExpr: [Function, String],\n        valueExpr: [Function, String]\n    }\n});\nexports.DxFieldLookup = DxFieldLookup;\nDxFieldLookup.$_optionName = \"lookup\";\nvar DxFilterBuilder = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:allowHierarchicalFields\": null,\n        \"update:bindingOptions\": null,\n        \"update:customOperations\": null,\n        \"update:disabled\": null,\n        \"update:elementAttr\": null,\n        \"update:fields\": null,\n        \"update:filterOperationDescriptions\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:groupOperationDescriptions\": null,\n        \"update:groupOperations\": null,\n        \"update:height\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:maxGroupLevel\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onEditorPrepared\": null,\n        \"update:onEditorPreparing\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onValueChanged\": null,\n        \"update:rtlEnabled\": null,\n        \"update:tabIndex\": null,\n        \"update:value\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        allowHierarchicalFields: Boolean,\n        bindingOptions: Object,\n        customOperations: Array,\n        disabled: Boolean,\n        elementAttr: Object,\n        fields: Array,\n        filterOperationDescriptions: Object,\n        focusStateEnabled: Boolean,\n        groupOperationDescriptions: Object,\n        groupOperations: Array,\n        height: [Function, Number, String],\n        hint: String,\n        hoverStateEnabled: Boolean,\n        maxGroupLevel: Number,\n        onContentReady: Function,\n        onDisposing: Function,\n        onEditorPrepared: Function,\n        onEditorPreparing: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        onValueChanged: Function,\n        rtlEnabled: Boolean,\n        tabIndex: Number,\n        value: [Array, Function, String],\n        visible: Boolean,\n        width: [Function, Number, String]\n    }\n});\nexports.DxFilterBuilder = DxFilterBuilder;\nDxFilterBuilder.$_optionName = \"filterBuilder\";\nDxFilterBuilder.$_expectedChildren = {\n    customOperation: { isCollectionItem: true, optionName: \"customOperations\" },\n    field: { isCollectionItem: true, optionName: \"fields\" },\n    filterOperationDescriptions: { isCollectionItem: false, optionName: \"filterOperationDescriptions\" },\n    groupOperationDescriptions: { isCollectionItem: false, optionName: \"groupOperationDescriptions\" }\n};\nvar DxFilterBuilderPopup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:animation\": null,\n        \"update:bindingOptions\": null,\n        \"update:closeOnOutsideClick\": null,\n        \"update:container\": null,\n        \"update:contentTemplate\": null,\n        \"update:copyRootClassesToWrapper\": null,\n        \"update:deferRendering\": null,\n        \"update:disabled\": null,\n        \"update:dragAndResizeArea\": null,\n        \"update:dragEnabled\": null,\n        \"update:dragOutsideBoundary\": null,\n        \"update:elementAttr\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:fullScreen\": null,\n        \"update:height\": null,\n        \"update:hideOnParentScroll\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:maxHeight\": null,\n        \"update:maxWidth\": null,\n        \"update:minHeight\": null,\n        \"update:minWidth\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onHidden\": null,\n        \"update:onHiding\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onResize\": null,\n        \"update:onResizeEnd\": null,\n        \"update:onResizeStart\": null,\n        \"update:onShowing\": null,\n        \"update:onShown\": null,\n        \"update:onTitleRendered\": null,\n        \"update:position\": null,\n        \"update:resizeEnabled\": null,\n        \"update:restorePosition\": null,\n        \"update:rtlEnabled\": null,\n        \"update:shading\": null,\n        \"update:shadingColor\": null,\n        \"update:showCloseButton\": null,\n        \"update:showTitle\": null,\n        \"update:tabIndex\": null,\n        \"update:title\": null,\n        \"update:titleTemplate\": null,\n        \"update:toolbarItems\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n        \"update:wrapperAttr\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        animation: Object,\n        bindingOptions: Object,\n        closeOnOutsideClick: [Boolean, Function],\n        container: {},\n        contentTemplate: {},\n        copyRootClassesToWrapper: Boolean,\n        deferRendering: Boolean,\n        disabled: Boolean,\n        dragAndResizeArea: {},\n        dragEnabled: Boolean,\n        dragOutsideBoundary: Boolean,\n        elementAttr: {},\n        focusStateEnabled: Boolean,\n        fullScreen: Boolean,\n        height: [Function, Number, String],\n        hideOnParentScroll: Boolean,\n        hint: String,\n        hoverStateEnabled: Boolean,\n        maxHeight: [Function, Number, String],\n        maxWidth: [Function, Number, String],\n        minHeight: [Function, Number, String],\n        minWidth: [Function, Number, String],\n        onContentReady: Function,\n        onDisposing: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onHidden: Function,\n        onHiding: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        onResize: Function,\n        onResizeEnd: Function,\n        onResizeStart: Function,\n        onShowing: Function,\n        onShown: Function,\n        onTitleRendered: Function,\n        position: [Function, Object, String],\n        resizeEnabled: Boolean,\n        restorePosition: Boolean,\n        rtlEnabled: Boolean,\n        shading: Boolean,\n        shadingColor: String,\n        showCloseButton: Boolean,\n        showTitle: Boolean,\n        tabIndex: Number,\n        title: String,\n        titleTemplate: {},\n        toolbarItems: Array,\n        visible: Boolean,\n        width: [Function, Number, String],\n        wrapperAttr: {}\n    }\n});\nexports.DxFilterBuilderPopup = DxFilterBuilderPopup;\nDxFilterBuilderPopup.$_optionName = \"filterBuilderPopup\";\nvar DxFilterOperationDescriptions = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:between\": null,\n        \"update:contains\": null,\n        \"update:endsWith\": null,\n        \"update:equal\": null,\n        \"update:greaterThan\": null,\n        \"update:greaterThanOrEqual\": null,\n        \"update:isBlank\": null,\n        \"update:isNotBlank\": null,\n        \"update:lessThan\": null,\n        \"update:lessThanOrEqual\": null,\n        \"update:notContains\": null,\n        \"update:notEqual\": null,\n        \"update:startsWith\": null,\n    },\n    props: {\n        between: String,\n        contains: String,\n        endsWith: String,\n        equal: String,\n        greaterThan: String,\n        greaterThanOrEqual: String,\n        isBlank: String,\n        isNotBlank: String,\n        lessThan: String,\n        lessThanOrEqual: String,\n        notContains: String,\n        notEqual: String,\n        startsWith: String\n    }\n});\nexports.DxFilterOperationDescriptions = DxFilterOperationDescriptions;\nDxFilterOperationDescriptions.$_optionName = \"filterOperationDescriptions\";\nvar DxFilterPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:customizeText\": null,\n        \"update:filterEnabled\": null,\n        \"update:texts\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        customizeText: Function,\n        filterEnabled: Boolean,\n        texts: Object,\n        visible: Boolean\n    }\n});\nexports.DxFilterPanel = DxFilterPanel;\nDxFilterPanel.$_optionName = \"filterPanel\";\nDxFilterPanel.$_expectedChildren = {\n    filterPanelTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxFilterPanelTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:clearFilter\": null,\n        \"update:createFilter\": null,\n        \"update:filterEnabledHint\": null,\n    },\n    props: {\n        clearFilter: String,\n        createFilter: String,\n        filterEnabledHint: String\n    }\n});\nexports.DxFilterPanelTexts = DxFilterPanelTexts;\nDxFilterPanelTexts.$_optionName = \"texts\";\nvar DxFilterRow = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:applyFilter\": null,\n        \"update:applyFilterText\": null,\n        \"update:betweenEndText\": null,\n        \"update:betweenStartText\": null,\n        \"update:operationDescriptions\": null,\n        \"update:resetOperationText\": null,\n        \"update:showAllText\": null,\n        \"update:showOperationChooser\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        applyFilter: String,\n        applyFilterText: String,\n        betweenEndText: String,\n        betweenStartText: String,\n        operationDescriptions: Object,\n        resetOperationText: String,\n        showAllText: String,\n        showOperationChooser: Boolean,\n        visible: Boolean\n    }\n});\nexports.DxFilterRow = DxFilterRow;\nDxFilterRow.$_optionName = \"filterRow\";\nDxFilterRow.$_expectedChildren = {\n    operationDescriptions: { isCollectionItem: false, optionName: \"operationDescriptions\" }\n};\nvar DxForm = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:alignItemLabels\": null,\n        \"update:alignItemLabelsInAllGroups\": null,\n        \"update:bindingOptions\": null,\n        \"update:colCount\": null,\n        \"update:colCountByScreen\": null,\n        \"update:customizeItem\": null,\n        \"update:disabled\": null,\n        \"update:elementAttr\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:formData\": null,\n        \"update:height\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:items\": null,\n        \"update:labelLocation\": null,\n        \"update:labelMode\": null,\n        \"update:minColWidth\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onEditorEnterKey\": null,\n        \"update:onFieldDataChanged\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:optionalMark\": null,\n        \"update:readOnly\": null,\n        \"update:requiredMark\": null,\n        \"update:requiredMessage\": null,\n        \"update:rtlEnabled\": null,\n        \"update:screenByWidth\": null,\n        \"update:scrollingEnabled\": null,\n        \"update:showColonAfterLabel\": null,\n        \"update:showOptionalMark\": null,\n        \"update:showRequiredMark\": null,\n        \"update:showValidationSummary\": null,\n        \"update:tabIndex\": null,\n        \"update:validationGroup\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        alignItemLabels: Boolean,\n        alignItemLabelsInAllGroups: Boolean,\n        bindingOptions: Object,\n        colCount: [Number, String],\n        colCountByScreen: Object,\n        customizeItem: Function,\n        disabled: Boolean,\n        elementAttr: Object,\n        focusStateEnabled: Boolean,\n        formData: {},\n        height: [Function, Number, String],\n        hint: String,\n        hoverStateEnabled: Boolean,\n        items: Array,\n        labelLocation: String,\n        labelMode: String,\n        minColWidth: Number,\n        onContentReady: Function,\n        onDisposing: Function,\n        onEditorEnterKey: Function,\n        onFieldDataChanged: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        optionalMark: String,\n        readOnly: Boolean,\n        requiredMark: String,\n        requiredMessage: String,\n        rtlEnabled: Boolean,\n        screenByWidth: Function,\n        scrollingEnabled: Boolean,\n        showColonAfterLabel: Boolean,\n        showOptionalMark: Boolean,\n        showRequiredMark: Boolean,\n        showValidationSummary: Boolean,\n        tabIndex: Number,\n        validationGroup: String,\n        visible: Boolean,\n        width: [Function, Number, String]\n    }\n});\nexports.DxForm = DxForm;\nDxForm.$_optionName = \"form\";\nDxForm.$_expectedChildren = {\n    colCountByScreen: { isCollectionItem: false, optionName: \"colCountByScreen\" }\n};\nvar DxFormat = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:currency\": null,\n        \"update:formatter\": null,\n        \"update:parser\": null,\n        \"update:precision\": null,\n        \"update:type\": null,\n    },\n    props: {\n        currency: String,\n        formatter: Function,\n        parser: Function,\n        precision: Number,\n        type: String\n    }\n});\nexports.DxFormat = DxFormat;\nDxFormat.$_optionName = \"format\";\nvar DxFormItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:colSpan\": null,\n        \"update:cssClass\": null,\n        \"update:dataField\": null,\n        \"update:editorOptions\": null,\n        \"update:editorType\": null,\n        \"update:helpText\": null,\n        \"update:isRequired\": null,\n        \"update:itemType\": null,\n        \"update:label\": null,\n        \"update:name\": null,\n        \"update:template\": null,\n        \"update:validationRules\": null,\n        \"update:visible\": null,\n        \"update:visibleIndex\": null,\n    },\n    props: {\n        colSpan: Number,\n        cssClass: String,\n        dataField: String,\n        editorOptions: {},\n        editorType: String,\n        helpText: String,\n        isRequired: Boolean,\n        itemType: String,\n        label: Object,\n        name: String,\n        template: {},\n        validationRules: Array,\n        visible: Boolean,\n        visibleIndex: Number\n    }\n});\nexports.DxFormItem = DxFormItem;\nDxFormItem.$_optionName = \"formItem\";\nDxFormItem.$_expectedChildren = {\n    AsyncRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    CompareRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    CustomRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    EmailRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    label: { isCollectionItem: false, optionName: \"label\" },\n    NumericRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    PatternRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RangeRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    RequiredRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    StringLengthRule: { isCollectionItem: true, optionName: \"validationRules\" },\n    validationRule: { isCollectionItem: true, optionName: \"validationRules\" }\n};\nvar DxFrom = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:left\": null,\n        \"update:opacity\": null,\n        \"update:position\": null,\n        \"update:scale\": null,\n        \"update:top\": null,\n    },\n    props: {\n        left: Number,\n        opacity: Number,\n        position: Object,\n        scale: Number,\n        top: Number\n    }\n});\nexports.DxFrom = DxFrom;\nDxFrom.$_optionName = \"from\";\nDxFrom.$_expectedChildren = {\n    position: { isCollectionItem: false, optionName: \"position\" }\n};\nvar DxGrouping = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowCollapsing\": null,\n        \"update:autoExpandAll\": null,\n        \"update:contextMenuEnabled\": null,\n        \"update:expandMode\": null,\n        \"update:texts\": null,\n    },\n    props: {\n        allowCollapsing: Boolean,\n        autoExpandAll: Boolean,\n        contextMenuEnabled: Boolean,\n        expandMode: String,\n        texts: Object\n    }\n});\nexports.DxGrouping = DxGrouping;\nDxGrouping.$_optionName = \"grouping\";\nDxGrouping.$_expectedChildren = {\n    groupingTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" }\n};\nvar DxGroupingTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:groupByThisColumn\": null,\n        \"update:groupContinuedMessage\": null,\n        \"update:groupContinuesMessage\": null,\n        \"update:ungroup\": null,\n        \"update:ungroupAll\": null,\n    },\n    props: {\n        groupByThisColumn: String,\n        groupContinuedMessage: String,\n        groupContinuesMessage: String,\n        ungroup: String,\n        ungroupAll: String\n    }\n});\nexports.DxGroupingTexts = DxGroupingTexts;\nDxGroupingTexts.$_optionName = \"texts\";\nvar DxGroupItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignByColumn\": null,\n        \"update:column\": null,\n        \"update:customizeText\": null,\n        \"update:displayFormat\": null,\n        \"update:name\": null,\n        \"update:showInColumn\": null,\n        \"update:showInGroupFooter\": null,\n        \"update:skipEmptyValues\": null,\n        \"update:summaryType\": null,\n        \"update:valueFormat\": null,\n    },\n    props: {\n        alignByColumn: Boolean,\n        column: String,\n        customizeText: Function,\n        displayFormat: String,\n        name: String,\n        showInColumn: String,\n        showInGroupFooter: Boolean,\n        skipEmptyValues: Boolean,\n        summaryType: String,\n        valueFormat: [Object, Function, String]\n    }\n});\nexports.DxGroupItem = DxGroupItem;\nDxGroupItem.$_optionName = \"groupItems\";\nDxGroupItem.$_isCollectionItem = true;\nDxGroupItem.$_expectedChildren = {\n    valueFormat: { isCollectionItem: false, optionName: \"valueFormat\" }\n};\nvar DxGroupOperationDescriptions = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:and\": null,\n        \"update:notAnd\": null,\n        \"update:notOr\": null,\n        \"update:or\": null,\n    },\n    props: {\n        and: String,\n        notAnd: String,\n        notOr: String,\n        or: String\n    }\n});\nexports.DxGroupOperationDescriptions = DxGroupOperationDescriptions;\nDxGroupOperationDescriptions.$_optionName = \"groupOperationDescriptions\";\nvar DxGroupPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowColumnDragging\": null,\n        \"update:emptyPanelText\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        allowColumnDragging: Boolean,\n        emptyPanelText: String,\n        visible: [Boolean, String]\n    }\n});\nexports.DxGroupPanel = DxGroupPanel;\nDxGroupPanel.$_optionName = \"groupPanel\";\nvar DxHeaderFilter = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSearch\": null,\n        \"update:dataSource\": null,\n        \"update:groupInterval\": null,\n        \"update:height\": null,\n        \"update:searchMode\": null,\n        \"update:searchTimeout\": null,\n        \"update:texts\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        allowSearch: Boolean,\n        dataSource: [Array, Object, Function],\n        groupInterval: [Number, String],\n        height: Number,\n        searchMode: String,\n        searchTimeout: Number,\n        texts: Object,\n        visible: Boolean,\n        width: Number\n    }\n});\nexports.DxHeaderFilter = DxHeaderFilter;\nDxHeaderFilter.$_optionName = \"headerFilter\";\nvar DxHide = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:complete\": null,\n        \"update:delay\": null,\n        \"update:direction\": null,\n        \"update:duration\": null,\n        \"update:easing\": null,\n        \"update:from\": null,\n        \"update:staggerDelay\": null,\n        \"update:start\": null,\n        \"update:to\": null,\n        \"update:type\": null,\n    },\n    props: {\n        complete: Function,\n        delay: Number,\n        direction: String,\n        duration: Number,\n        easing: String,\n        from: Object,\n        staggerDelay: Number,\n        start: Function,\n        to: Object,\n        type: String\n    }\n});\nexports.DxHide = DxHide;\nDxHide.$_optionName = \"hide\";\nDxHide.$_expectedChildren = {\n    from: { isCollectionItem: false, optionName: \"from\" },\n    to: { isCollectionItem: false, optionName: \"to\" }\n};\nvar DxItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:cssClass\": null,\n        \"update:disabled\": null,\n        \"update:html\": null,\n        \"update:locateInMenu\": null,\n        \"update:location\": null,\n        \"update:menuItemTemplate\": null,\n        \"update:name\": null,\n        \"update:options\": null,\n        \"update:showText\": null,\n        \"update:template\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n        \"update:widget\": null,\n    },\n    props: {\n        cssClass: String,\n        disabled: Boolean,\n        html: String,\n        locateInMenu: String,\n        location: String,\n        menuItemTemplate: {},\n        name: String,\n        options: {},\n        showText: String,\n        template: {},\n        text: String,\n        visible: Boolean,\n        widget: String\n    }\n});\nexports.DxItem = DxItem;\nDxItem.$_optionName = \"items\";\nDxItem.$_isCollectionItem = true;\nvar DxKeyboardNavigation = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:editOnKeyPress\": null,\n        \"update:enabled\": null,\n        \"update:enterKeyAction\": null,\n        \"update:enterKeyDirection\": null,\n    },\n    props: {\n        editOnKeyPress: Boolean,\n        enabled: Boolean,\n        enterKeyAction: String,\n        enterKeyDirection: String\n    }\n});\nexports.DxKeyboardNavigation = DxKeyboardNavigation;\nDxKeyboardNavigation.$_optionName = \"keyboardNavigation\";\nvar DxLabel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignment\": null,\n        \"update:location\": null,\n        \"update:showColon\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        alignment: String,\n        location: String,\n        showColon: Boolean,\n        text: String,\n        visible: Boolean\n    }\n});\nexports.DxLabel = DxLabel;\nDxLabel.$_optionName = \"label\";\nvar DxLoadPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:enabled\": null,\n        \"update:height\": null,\n        \"update:indicatorSrc\": null,\n        \"update:shading\": null,\n        \"update:shadingColor\": null,\n        \"update:showIndicator\": null,\n        \"update:showPane\": null,\n        \"update:text\": null,\n        \"update:width\": null,\n    },\n    props: {\n        enabled: [Boolean, String],\n        height: Number,\n        indicatorSrc: String,\n        shading: Boolean,\n        shadingColor: String,\n        showIndicator: Boolean,\n        showPane: Boolean,\n        text: String,\n        width: Number\n    }\n});\nexports.DxLoadPanel = DxLoadPanel;\nDxLoadPanel.$_optionName = \"loadPanel\";\nvar DxLookup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowClearing\": null,\n        \"update:calculateCellValue\": null,\n        \"update:dataSource\": null,\n        \"update:displayExpr\": null,\n        \"update:valueExpr\": null,\n    },\n    props: {\n        allowClearing: Boolean,\n        calculateCellValue: Function,\n        dataSource: [Array, Object, Function],\n        displayExpr: [Function, String],\n        valueExpr: String\n    }\n});\nexports.DxLookup = DxLookup;\nDxLookup.$_optionName = \"lookup\";\nvar DxMasterDetail = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:autoExpandAll\": null,\n        \"update:enabled\": null,\n        \"update:template\": null,\n    },\n    props: {\n        autoExpandAll: Boolean,\n        enabled: Boolean,\n        template: {}\n    }\n});\nexports.DxMasterDetail = DxMasterDetail;\nDxMasterDetail.$_optionName = \"masterDetail\";\nvar DxMy = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: String,\n        y: String\n    }\n});\nexports.DxMy = DxMy;\nDxMy.$_optionName = \"my\";\nvar DxNumericRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        type: String\n    }\n});\nexports.DxNumericRule = DxNumericRule;\nDxNumericRule.$_optionName = \"validationRules\";\nDxNumericRule.$_isCollectionItem = true;\nDxNumericRule.$_predefinedProps = {\n    type: \"numeric\"\n};\nvar DxOffset = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:x\": null,\n        \"update:y\": null,\n    },\n    props: {\n        x: Number,\n        y: Number\n    }\n});\nexports.DxOffset = DxOffset;\nDxOffset.$_optionName = \"offset\";\nvar DxOperationDescriptions = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:between\": null,\n        \"update:contains\": null,\n        \"update:endsWith\": null,\n        \"update:equal\": null,\n        \"update:greaterThan\": null,\n        \"update:greaterThanOrEqual\": null,\n        \"update:lessThan\": null,\n        \"update:lessThanOrEqual\": null,\n        \"update:notContains\": null,\n        \"update:notEqual\": null,\n        \"update:startsWith\": null,\n    },\n    props: {\n        between: String,\n        contains: String,\n        endsWith: String,\n        equal: String,\n        greaterThan: String,\n        greaterThanOrEqual: String,\n        lessThan: String,\n        lessThanOrEqual: String,\n        notContains: String,\n        notEqual: String,\n        startsWith: String\n    }\n});\nexports.DxOperationDescriptions = DxOperationDescriptions;\nDxOperationDescriptions.$_optionName = \"operationDescriptions\";\nvar DxPager = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowedPageSizes\": null,\n        \"update:displayMode\": null,\n        \"update:infoText\": null,\n        \"update:showInfo\": null,\n        \"update:showNavigationButtons\": null,\n        \"update:showPageSizeSelector\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        allowedPageSizes: [Array, String],\n        displayMode: String,\n        infoText: String,\n        showInfo: Boolean,\n        showNavigationButtons: Boolean,\n        showPageSizeSelector: Boolean,\n        visible: [Boolean, String]\n    }\n});\nexports.DxPager = DxPager;\nDxPager.$_optionName = \"pager\";\nvar DxPaging = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:enabled\": null,\n        \"update:pageIndex\": null,\n        \"update:pageSize\": null,\n    },\n    props: {\n        enabled: Boolean,\n        pageIndex: Number,\n        pageSize: Number\n    }\n});\nexports.DxPaging = DxPaging;\nDxPaging.$_optionName = \"paging\";\nvar DxPatternRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:message\": null,\n        \"update:pattern\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        message: String,\n        pattern: {},\n        type: String\n    }\n});\nexports.DxPatternRule = DxPatternRule;\nDxPatternRule.$_optionName = \"validationRules\";\nDxPatternRule.$_isCollectionItem = true;\nDxPatternRule.$_predefinedProps = {\n    type: \"pattern\"\n};\nvar DxPopup = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:accessKey\": null,\n        \"update:activeStateEnabled\": null,\n        \"update:animation\": null,\n        \"update:bindingOptions\": null,\n        \"update:closeOnOutsideClick\": null,\n        \"update:container\": null,\n        \"update:contentTemplate\": null,\n        \"update:copyRootClassesToWrapper\": null,\n        \"update:deferRendering\": null,\n        \"update:disabled\": null,\n        \"update:dragAndResizeArea\": null,\n        \"update:dragEnabled\": null,\n        \"update:dragOutsideBoundary\": null,\n        \"update:elementAttr\": null,\n        \"update:focusStateEnabled\": null,\n        \"update:fullScreen\": null,\n        \"update:height\": null,\n        \"update:hideOnParentScroll\": null,\n        \"update:hint\": null,\n        \"update:hoverStateEnabled\": null,\n        \"update:maxHeight\": null,\n        \"update:maxWidth\": null,\n        \"update:minHeight\": null,\n        \"update:minWidth\": null,\n        \"update:onContentReady\": null,\n        \"update:onDisposing\": null,\n        \"update:onFocusIn\": null,\n        \"update:onFocusOut\": null,\n        \"update:onHidden\": null,\n        \"update:onHiding\": null,\n        \"update:onInitialized\": null,\n        \"update:onOptionChanged\": null,\n        \"update:onResize\": null,\n        \"update:onResizeEnd\": null,\n        \"update:onResizeStart\": null,\n        \"update:onShowing\": null,\n        \"update:onShown\": null,\n        \"update:onTitleRendered\": null,\n        \"update:position\": null,\n        \"update:resizeEnabled\": null,\n        \"update:restorePosition\": null,\n        \"update:rtlEnabled\": null,\n        \"update:shading\": null,\n        \"update:shadingColor\": null,\n        \"update:showCloseButton\": null,\n        \"update:showTitle\": null,\n        \"update:tabIndex\": null,\n        \"update:title\": null,\n        \"update:titleTemplate\": null,\n        \"update:toolbarItems\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n        \"update:wrapperAttr\": null,\n    },\n    props: {\n        accessKey: String,\n        activeStateEnabled: Boolean,\n        animation: Object,\n        bindingOptions: Object,\n        closeOnOutsideClick: [Boolean, Function],\n        container: {},\n        contentTemplate: {},\n        copyRootClassesToWrapper: Boolean,\n        deferRendering: Boolean,\n        disabled: Boolean,\n        dragAndResizeArea: {},\n        dragEnabled: Boolean,\n        dragOutsideBoundary: Boolean,\n        elementAttr: {},\n        focusStateEnabled: Boolean,\n        fullScreen: Boolean,\n        height: [Function, Number, String],\n        hideOnParentScroll: Boolean,\n        hint: String,\n        hoverStateEnabled: Boolean,\n        maxHeight: [Function, Number, String],\n        maxWidth: [Function, Number, String],\n        minHeight: [Function, Number, String],\n        minWidth: [Function, Number, String],\n        onContentReady: Function,\n        onDisposing: Function,\n        onFocusIn: Function,\n        onFocusOut: Function,\n        onHidden: Function,\n        onHiding: Function,\n        onInitialized: Function,\n        onOptionChanged: Function,\n        onResize: Function,\n        onResizeEnd: Function,\n        onResizeStart: Function,\n        onShowing: Function,\n        onShown: Function,\n        onTitleRendered: Function,\n        position: [Function, Object, String],\n        resizeEnabled: Boolean,\n        restorePosition: Boolean,\n        rtlEnabled: Boolean,\n        shading: Boolean,\n        shadingColor: String,\n        showCloseButton: Boolean,\n        showTitle: Boolean,\n        tabIndex: Number,\n        title: String,\n        titleTemplate: {},\n        toolbarItems: Array,\n        visible: Boolean,\n        width: [Function, Number, String],\n        wrapperAttr: {}\n    }\n});\nexports.DxPopup = DxPopup;\nDxPopup.$_optionName = \"popup\";\nDxPopup.$_expectedChildren = {\n    animation: { isCollectionItem: false, optionName: \"animation\" },\n    position: { isCollectionItem: false, optionName: \"position\" },\n    toolbarItem: { isCollectionItem: true, optionName: \"toolbarItems\" }\n};\nvar DxPosition = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:at\": null,\n        \"update:boundary\": null,\n        \"update:boundaryOffset\": null,\n        \"update:collision\": null,\n        \"update:my\": null,\n        \"update:of\": null,\n        \"update:offset\": null,\n    },\n    props: {\n        at: [Object, String],\n        boundary: {},\n        boundaryOffset: [Object, String],\n        collision: [Object, String],\n        my: [Object, String],\n        of: {},\n        offset: [Object, String]\n    }\n});\nexports.DxPosition = DxPosition;\nDxPosition.$_optionName = \"position\";\nvar DxRangeRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:max\": null,\n        \"update:message\": null,\n        \"update:min\": null,\n        \"update:reevaluate\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        max: {},\n        message: String,\n        min: {},\n        reevaluate: Boolean,\n        type: String\n    }\n});\nexports.DxRangeRule = DxRangeRule;\nDxRangeRule.$_optionName = \"validationRules\";\nDxRangeRule.$_isCollectionItem = true;\nDxRangeRule.$_predefinedProps = {\n    type: \"range\"\n};\nvar DxRemoteOperations = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:filtering\": null,\n        \"update:grouping\": null,\n        \"update:groupPaging\": null,\n        \"update:paging\": null,\n        \"update:sorting\": null,\n        \"update:summary\": null,\n    },\n    props: {\n        filtering: Boolean,\n        grouping: Boolean,\n        groupPaging: Boolean,\n        paging: Boolean,\n        sorting: Boolean,\n        summary: Boolean\n    }\n});\nexports.DxRemoteOperations = DxRemoteOperations;\nDxRemoteOperations.$_optionName = \"remoteOperations\";\nvar DxRequiredRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:message\": null,\n        \"update:trim\": null,\n        \"update:type\": null,\n    },\n    props: {\n        message: String,\n        trim: Boolean,\n        type: String\n    }\n});\nexports.DxRequiredRule = DxRequiredRule;\nDxRequiredRule.$_optionName = \"validationRules\";\nDxRequiredRule.$_isCollectionItem = true;\nDxRequiredRule.$_predefinedProps = {\n    type: \"required\"\n};\nvar DxRowDragging = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowDropInsideItem\": null,\n        \"update:allowReordering\": null,\n        \"update:autoScroll\": null,\n        \"update:boundary\": null,\n        \"update:container\": null,\n        \"update:cursorOffset\": null,\n        \"update:data\": null,\n        \"update:dragDirection\": null,\n        \"update:dragTemplate\": null,\n        \"update:dropFeedbackMode\": null,\n        \"update:filter\": null,\n        \"update:group\": null,\n        \"update:handle\": null,\n        \"update:onAdd\": null,\n        \"update:onDragChange\": null,\n        \"update:onDragEnd\": null,\n        \"update:onDragMove\": null,\n        \"update:onDragStart\": null,\n        \"update:onRemove\": null,\n        \"update:onReorder\": null,\n        \"update:scrollSensitivity\": null,\n        \"update:scrollSpeed\": null,\n        \"update:showDragIcons\": null,\n    },\n    props: {\n        allowDropInsideItem: Boolean,\n        allowReordering: Boolean,\n        autoScroll: Boolean,\n        boundary: {},\n        container: {},\n        cursorOffset: [Object, String],\n        data: {},\n        dragDirection: String,\n        dragTemplate: {},\n        dropFeedbackMode: String,\n        filter: String,\n        group: String,\n        handle: String,\n        onAdd: Function,\n        onDragChange: Function,\n        onDragEnd: Function,\n        onDragMove: Function,\n        onDragStart: Function,\n        onRemove: Function,\n        onReorder: Function,\n        scrollSensitivity: Number,\n        scrollSpeed: Number,\n        showDragIcons: Boolean\n    }\n});\nexports.DxRowDragging = DxRowDragging;\nDxRowDragging.$_optionName = \"rowDragging\";\nDxRowDragging.$_expectedChildren = {\n    cursorOffset: { isCollectionItem: false, optionName: \"cursorOffset\" }\n};\nvar DxScrolling = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:columnRenderingMode\": null,\n        \"update:mode\": null,\n        \"update:preloadEnabled\": null,\n        \"update:renderAsync\": null,\n        \"update:rowRenderingMode\": null,\n        \"update:scrollByContent\": null,\n        \"update:scrollByThumb\": null,\n        \"update:showScrollbar\": null,\n        \"update:useNative\": null,\n    },\n    props: {\n        columnRenderingMode: String,\n        mode: String,\n        preloadEnabled: Boolean,\n        renderAsync: Boolean,\n        rowRenderingMode: String,\n        scrollByContent: Boolean,\n        scrollByThumb: Boolean,\n        showScrollbar: String,\n        useNative: [Boolean, String]\n    }\n});\nexports.DxScrolling = DxScrolling;\nDxScrolling.$_optionName = \"scrolling\";\nvar DxSearchPanel = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:highlightCaseSensitive\": null,\n        \"update:highlightSearchText\": null,\n        \"update:placeholder\": null,\n        \"update:searchVisibleColumnsOnly\": null,\n        \"update:text\": null,\n        \"update:visible\": null,\n        \"update:width\": null,\n    },\n    props: {\n        highlightCaseSensitive: Boolean,\n        highlightSearchText: Boolean,\n        placeholder: String,\n        searchVisibleColumnsOnly: Boolean,\n        text: String,\n        visible: Boolean,\n        width: Number\n    }\n});\nexports.DxSearchPanel = DxSearchPanel;\nDxSearchPanel.$_optionName = \"searchPanel\";\nvar DxSelection = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:allowSelectAll\": null,\n        \"update:deferred\": null,\n        \"update:maxFilterLengthInRequest\": null,\n        \"update:mode\": null,\n        \"update:selectAllMode\": null,\n        \"update:showCheckBoxesMode\": null,\n    },\n    props: {\n        allowSelectAll: Boolean,\n        deferred: Boolean,\n        maxFilterLengthInRequest: Number,\n        mode: String,\n        selectAllMode: String,\n        showCheckBoxesMode: String\n    }\n});\nexports.DxSelection = DxSelection;\nDxSelection.$_optionName = \"selection\";\nvar DxShow = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:complete\": null,\n        \"update:delay\": null,\n        \"update:direction\": null,\n        \"update:duration\": null,\n        \"update:easing\": null,\n        \"update:from\": null,\n        \"update:staggerDelay\": null,\n        \"update:start\": null,\n        \"update:to\": null,\n        \"update:type\": null,\n    },\n    props: {\n        complete: Function,\n        delay: Number,\n        direction: String,\n        duration: Number,\n        easing: String,\n        from: Object,\n        staggerDelay: Number,\n        start: Function,\n        to: Object,\n        type: String\n    }\n});\nexports.DxShow = DxShow;\nDxShow.$_optionName = \"show\";\nvar DxSortByGroupSummaryInfo = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:groupColumn\": null,\n        \"update:sortOrder\": null,\n        \"update:summaryItem\": null,\n    },\n    props: {\n        groupColumn: String,\n        sortOrder: String,\n        summaryItem: [Number, String]\n    }\n});\nexports.DxSortByGroupSummaryInfo = DxSortByGroupSummaryInfo;\nDxSortByGroupSummaryInfo.$_optionName = \"sortByGroupSummaryInfo\";\nDxSortByGroupSummaryInfo.$_isCollectionItem = true;\nvar DxSorting = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ascendingText\": null,\n        \"update:clearText\": null,\n        \"update:descendingText\": null,\n        \"update:mode\": null,\n        \"update:showSortIndexes\": null,\n    },\n    props: {\n        ascendingText: String,\n        clearText: String,\n        descendingText: String,\n        mode: String,\n        showSortIndexes: Boolean\n    }\n});\nexports.DxSorting = DxSorting;\nDxSorting.$_optionName = \"sorting\";\nvar DxStateStoring = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:customLoad\": null,\n        \"update:customSave\": null,\n        \"update:enabled\": null,\n        \"update:savingTimeout\": null,\n        \"update:storageKey\": null,\n        \"update:type\": null,\n    },\n    props: {\n        customLoad: Function,\n        customSave: Function,\n        enabled: Boolean,\n        savingTimeout: Number,\n        storageKey: String,\n        type: String\n    }\n});\nexports.DxStateStoring = DxStateStoring;\nDxStateStoring.$_optionName = \"stateStoring\";\nvar DxStringLengthRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:max\": null,\n        \"update:message\": null,\n        \"update:min\": null,\n        \"update:trim\": null,\n        \"update:type\": null,\n    },\n    props: {\n        ignoreEmptyValue: Boolean,\n        max: Number,\n        message: String,\n        min: Number,\n        trim: Boolean,\n        type: String\n    }\n});\nexports.DxStringLengthRule = DxStringLengthRule;\nDxStringLengthRule.$_optionName = \"validationRules\";\nDxStringLengthRule.$_isCollectionItem = true;\nDxStringLengthRule.$_predefinedProps = {\n    type: \"stringLength\"\n};\nvar DxSummary = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:calculateCustomSummary\": null,\n        \"update:groupItems\": null,\n        \"update:recalculateWhileEditing\": null,\n        \"update:skipEmptyValues\": null,\n        \"update:texts\": null,\n        \"update:totalItems\": null,\n    },\n    props: {\n        calculateCustomSummary: Function,\n        groupItems: Array,\n        recalculateWhileEditing: Boolean,\n        skipEmptyValues: Boolean,\n        texts: Object,\n        totalItems: Array\n    }\n});\nexports.DxSummary = DxSummary;\nDxSummary.$_optionName = \"summary\";\nDxSummary.$_expectedChildren = {\n    groupItem: { isCollectionItem: true, optionName: \"groupItems\" },\n    summaryTexts: { isCollectionItem: false, optionName: \"texts\" },\n    texts: { isCollectionItem: false, optionName: \"texts\" },\n    totalItem: { isCollectionItem: true, optionName: \"totalItems\" }\n};\nvar DxSummaryTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:avg\": null,\n        \"update:avgOtherColumn\": null,\n        \"update:count\": null,\n        \"update:max\": null,\n        \"update:maxOtherColumn\": null,\n        \"update:min\": null,\n        \"update:minOtherColumn\": null,\n        \"update:sum\": null,\n        \"update:sumOtherColumn\": null,\n    },\n    props: {\n        avg: String,\n        avgOtherColumn: String,\n        count: String,\n        max: String,\n        maxOtherColumn: String,\n        min: String,\n        minOtherColumn: String,\n        sum: String,\n        sumOtherColumn: String\n    }\n});\nexports.DxSummaryTexts = DxSummaryTexts;\nDxSummaryTexts.$_optionName = \"texts\";\nvar DxTexts = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:addRow\": null,\n        \"update:avg\": null,\n        \"update:avgOtherColumn\": null,\n        \"update:cancel\": null,\n        \"update:cancelAllChanges\": null,\n        \"update:cancelRowChanges\": null,\n        \"update:clearFilter\": null,\n        \"update:confirmDeleteMessage\": null,\n        \"update:confirmDeleteTitle\": null,\n        \"update:count\": null,\n        \"update:createFilter\": null,\n        \"update:deleteRow\": null,\n        \"update:editRow\": null,\n        \"update:emptyValue\": null,\n        \"update:exportAll\": null,\n        \"update:exportSelectedRows\": null,\n        \"update:exportTo\": null,\n        \"update:filterEnabledHint\": null,\n        \"update:fix\": null,\n        \"update:groupByThisColumn\": null,\n        \"update:groupContinuedMessage\": null,\n        \"update:groupContinuesMessage\": null,\n        \"update:leftPosition\": null,\n        \"update:max\": null,\n        \"update:maxOtherColumn\": null,\n        \"update:min\": null,\n        \"update:minOtherColumn\": null,\n        \"update:ok\": null,\n        \"update:rightPosition\": null,\n        \"update:saveAllChanges\": null,\n        \"update:saveRowChanges\": null,\n        \"update:sum\": null,\n        \"update:sumOtherColumn\": null,\n        \"update:undeleteRow\": null,\n        \"update:unfix\": null,\n        \"update:ungroup\": null,\n        \"update:ungroupAll\": null,\n        \"update:validationCancelChanges\": null,\n    },\n    props: {\n        addRow: String,\n        avg: String,\n        avgOtherColumn: String,\n        cancel: String,\n        cancelAllChanges: String,\n        cancelRowChanges: String,\n        clearFilter: String,\n        confirmDeleteMessage: String,\n        confirmDeleteTitle: String,\n        count: String,\n        createFilter: String,\n        deleteRow: String,\n        editRow: String,\n        emptyValue: String,\n        exportAll: String,\n        exportSelectedRows: String,\n        exportTo: String,\n        filterEnabledHint: String,\n        fix: String,\n        groupByThisColumn: String,\n        groupContinuedMessage: String,\n        groupContinuesMessage: String,\n        leftPosition: String,\n        max: String,\n        maxOtherColumn: String,\n        min: String,\n        minOtherColumn: String,\n        ok: String,\n        rightPosition: String,\n        saveAllChanges: String,\n        saveRowChanges: String,\n        sum: String,\n        sumOtherColumn: String,\n        undeleteRow: String,\n        unfix: String,\n        ungroup: String,\n        ungroupAll: String,\n        validationCancelChanges: String\n    }\n});\nexports.DxTexts = DxTexts;\nDxTexts.$_optionName = \"texts\";\nvar DxTo = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:left\": null,\n        \"update:opacity\": null,\n        \"update:position\": null,\n        \"update:scale\": null,\n        \"update:top\": null,\n    },\n    props: {\n        left: Number,\n        opacity: Number,\n        position: Object,\n        scale: Number,\n        top: Number\n    }\n});\nexports.DxTo = DxTo;\nDxTo.$_optionName = \"to\";\nvar DxToolbar = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:disabled\": null,\n        \"update:items\": null,\n        \"update:visible\": null,\n    },\n    props: {\n        disabled: Boolean,\n        items: Array,\n        visible: Boolean\n    }\n});\nexports.DxToolbar = DxToolbar;\nDxToolbar.$_optionName = \"toolbar\";\nDxToolbar.$_expectedChildren = {\n    item: { isCollectionItem: true, optionName: \"items\" }\n};\nvar DxToolbarItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:disabled\": null,\n        \"update:html\": null,\n        \"update:location\": null,\n        \"update:options\": null,\n        \"update:template\": null,\n        \"update:text\": null,\n        \"update:toolbar\": null,\n        \"update:visible\": null,\n        \"update:widget\": null,\n    },\n    props: {\n        disabled: Boolean,\n        html: String,\n        location: String,\n        options: {},\n        template: {},\n        text: String,\n        toolbar: String,\n        visible: Boolean,\n        widget: String\n    }\n});\nexports.DxToolbarItem = DxToolbarItem;\nDxToolbarItem.$_optionName = \"toolbarItems\";\nDxToolbarItem.$_isCollectionItem = true;\nvar DxTotalItem = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:alignment\": null,\n        \"update:column\": null,\n        \"update:cssClass\": null,\n        \"update:customizeText\": null,\n        \"update:displayFormat\": null,\n        \"update:name\": null,\n        \"update:showInColumn\": null,\n        \"update:skipEmptyValues\": null,\n        \"update:summaryType\": null,\n        \"update:valueFormat\": null,\n    },\n    props: {\n        alignment: String,\n        column: String,\n        cssClass: String,\n        customizeText: Function,\n        displayFormat: String,\n        name: String,\n        showInColumn: String,\n        skipEmptyValues: Boolean,\n        summaryType: String,\n        valueFormat: [Object, Function, String]\n    }\n});\nexports.DxTotalItem = DxTotalItem;\nDxTotalItem.$_optionName = \"totalItems\";\nDxTotalItem.$_isCollectionItem = true;\nDxTotalItem.$_expectedChildren = {\n    valueFormat: { isCollectionItem: false, optionName: \"valueFormat\" }\n};\nvar DxValidationRule = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:comparisonTarget\": null,\n        \"update:comparisonType\": null,\n        \"update:ignoreEmptyValue\": null,\n        \"update:max\": null,\n        \"update:message\": null,\n        \"update:min\": null,\n        \"update:pattern\": null,\n        \"update:reevaluate\": null,\n        \"update:trim\": null,\n        \"update:type\": null,\n        \"update:validationCallback\": null,\n    },\n    props: {\n        comparisonTarget: Function,\n        comparisonType: String,\n        ignoreEmptyValue: Boolean,\n        max: {},\n        message: String,\n        min: {},\n        pattern: {},\n        reevaluate: Boolean,\n        trim: Boolean,\n        type: String,\n        validationCallback: Function\n    }\n});\nexports.DxValidationRule = DxValidationRule;\nDxValidationRule.$_optionName = \"validationRules\";\nDxValidationRule.$_isCollectionItem = true;\nDxValidationRule.$_predefinedProps = {\n    type: \"required\"\n};\nvar DxValueFormat = index_2.createConfigurationComponent({\n    emits: {\n        \"update:isActive\": null,\n        \"update:hoveredElement\": null,\n        \"update:currency\": null,\n        \"update:formatter\": null,\n        \"update:parser\": null,\n        \"update:precision\": null,\n        \"update:type\": null,\n    },\n    props: {\n        currency: String,\n        formatter: Function,\n        parser: Function,\n        precision: Number,\n        type: String\n    }\n});\nexports.DxValueFormat = DxValueFormat;\nDxValueFormat.$_optionName = \"valueFormat\";\nexports.default = DxDataGrid;\n","/**\r\n * DevExtreme (esm/format_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isString,\r\n    isNumeric,\r\n    isFunction,\r\n    isDefined,\r\n    isDate,\r\n    isPlainObject\r\n} from \"./core/utils/type\";\r\nimport dateUtils from \"./core/utils/date\";\r\nimport numberLocalization from \"./localization/number\";\r\nimport dateLocalization from \"./localization/date\";\r\nimport dependencyInjector from \"./core/utils/dependency_injector\";\r\nimport \"./localization/currency\";\r\nexport default dependencyInjector({\r\n    format: function(value, _format) {\r\n        var formatIsValid = isString(_format) && \"\" !== _format || isPlainObject(_format) || isFunction(_format);\r\n        var valueIsValid = isNumeric(value) || isDate(value);\r\n        if (!formatIsValid || !valueIsValid) {\r\n            return isDefined(value) ? value.toString() : \"\"\r\n        }\r\n        if (isFunction(_format)) {\r\n            return _format(value)\r\n        }\r\n        if (isString(_format)) {\r\n            _format = {\r\n                type: _format\r\n            }\r\n        }\r\n        if (isNumeric(value)) {\r\n            return numberLocalization.format(value, _format)\r\n        }\r\n        if (isDate(value)) {\r\n            return dateLocalization.format(value, _format)\r\n        }\r\n    },\r\n    getTimeFormat: function(showSecond) {\r\n        return showSecond ? \"longtime\" : \"shorttime\"\r\n    },\r\n    _normalizeFormat: function(format) {\r\n        if (!Array.isArray(format)) {\r\n            return format\r\n        }\r\n        if (1 === format.length) {\r\n            return format[0]\r\n        }\r\n        return function(date) {\r\n            return format.map((function(formatPart) {\r\n                return dateLocalization.format(date, formatPart)\r\n            })).join(\" \")\r\n        }\r\n    },\r\n    getDateFormatByDifferences: function(dateDifferences, intervalFormat) {\r\n        var resultFormat = [];\r\n        var needSpecialSecondFormatter = intervalFormat && dateDifferences.millisecond && !(dateDifferences.year || dateDifferences.month || dateDifferences.day);\r\n        if (needSpecialSecondFormatter) {\r\n            resultFormat.push((function(date) {\r\n                return date.getSeconds() + date.getMilliseconds() / 1e3 + \"s\"\r\n            }))\r\n        } else if (dateDifferences.millisecond) {\r\n            resultFormat.push(\"millisecond\")\r\n        }\r\n        if (dateDifferences.hour || dateDifferences.minute || !needSpecialSecondFormatter && dateDifferences.second) {\r\n            resultFormat.unshift(this.getTimeFormat(dateDifferences.second))\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat && \"month\" === intervalFormat) {\r\n                return \"monthandyear\"\r\n            } else {\r\n                resultFormat.unshift(\"shortdate\");\r\n                return this._normalizeFormat(resultFormat)\r\n            }\r\n        }\r\n        if (dateDifferences.year && dateDifferences.month) {\r\n            return \"monthandyear\"\r\n        }\r\n        if (dateDifferences.year && dateDifferences.quarter) {\r\n            return \"quarterandyear\"\r\n        }\r\n        if (dateDifferences.year) {\r\n            return \"year\"\r\n        }\r\n        if (dateDifferences.quarter) {\r\n            return \"quarter\"\r\n        }\r\n        if (dateDifferences.month && dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                resultFormat.unshift((function(date) {\r\n                    return dateLocalization.getMonthNames(\"abbreviated\")[date.getMonth()] + \" \" + dateLocalization.format(date, \"day\")\r\n                }))\r\n            } else {\r\n                resultFormat.unshift(\"monthandday\")\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        if (dateDifferences.month) {\r\n            return \"month\"\r\n        }\r\n        if (dateDifferences.day) {\r\n            if (intervalFormat) {\r\n                resultFormat.unshift(\"day\")\r\n            } else {\r\n                resultFormat.unshift((function(date) {\r\n                    return dateLocalization.format(date, \"dayofweek\") + \", \" + dateLocalization.format(date, \"day\")\r\n                }))\r\n            }\r\n            return this._normalizeFormat(resultFormat)\r\n        }\r\n        return this._normalizeFormat(resultFormat)\r\n    },\r\n    getDateFormatByTicks: function(ticks) {\r\n        var maxDiff;\r\n        var currentDiff;\r\n        var i;\r\n        if (ticks.length > 1) {\r\n            maxDiff = dateUtils.getDatesDifferences(ticks[0], ticks[1]);\r\n            for (i = 1; i < ticks.length - 1; i++) {\r\n                currentDiff = dateUtils.getDatesDifferences(ticks[i], ticks[i + 1]);\r\n                if (maxDiff.count < currentDiff.count) {\r\n                    maxDiff = currentDiff\r\n                }\r\n            }\r\n        } else {\r\n            maxDiff = {\r\n                year: true,\r\n                month: true,\r\n                day: true,\r\n                hour: ticks[0].getHours() > 0,\r\n                minute: ticks[0].getMinutes() > 0,\r\n                second: ticks[0].getSeconds() > 0,\r\n                millisecond: ticks[0].getMilliseconds() > 0\r\n            }\r\n        }\r\n        var resultFormat = this.getDateFormatByDifferences(maxDiff);\r\n        return resultFormat\r\n    },\r\n    getDateFormatByTickInterval: function(startValue, endValue, tickInterval) {\r\n        var dateUnitInterval;\r\n        var correctDateDifferences = function(dateDifferences, tickInterval, value) {\r\n            switch (tickInterval) {\r\n                case \"year\":\r\n                case \"quarter\":\r\n                    dateDifferences.month = value;\r\n                case \"month\":\r\n                    dateDifferences.day = value;\r\n                case \"week\":\r\n                case \"day\":\r\n                    dateDifferences.hour = value;\r\n                case \"hour\":\r\n                    dateDifferences.minute = value;\r\n                case \"minute\":\r\n                    dateDifferences.second = value;\r\n                case \"second\":\r\n                    dateDifferences.millisecond = value\r\n            }\r\n        };\r\n        tickInterval = isString(tickInterval) ? tickInterval.toLowerCase() : tickInterval;\r\n        var dateDifferences = dateUtils.getDatesDifferences(startValue, endValue);\r\n        if (startValue !== endValue) {\r\n            ! function(differences, minDate, maxDate) {\r\n                if (!maxDate.getMilliseconds() && maxDate.getSeconds()) {\r\n                    if (maxDate.getSeconds() - minDate.getSeconds() === 1) {\r\n                        differences.millisecond = true;\r\n                        differences.second = false\r\n                    }\r\n                } else if (!maxDate.getSeconds() && maxDate.getMinutes()) {\r\n                    if (maxDate.getMinutes() - minDate.getMinutes() === 1) {\r\n                        differences.second = true;\r\n                        differences.minute = false\r\n                    }\r\n                } else if (!maxDate.getMinutes() && maxDate.getHours()) {\r\n                    if (maxDate.getHours() - minDate.getHours() === 1) {\r\n                        differences.minute = true;\r\n                        differences.hour = false\r\n                    }\r\n                } else if (!maxDate.getHours() && maxDate.getDate() > 1) {\r\n                    if (maxDate.getDate() - minDate.getDate() === 1) {\r\n                        differences.hour = true;\r\n                        differences.day = false\r\n                    }\r\n                } else if (1 === maxDate.getDate() && maxDate.getMonth()) {\r\n                    if (maxDate.getMonth() - minDate.getMonth() === 1) {\r\n                        differences.day = true;\r\n                        differences.month = false\r\n                    }\r\n                } else if (!maxDate.getMonth() && maxDate.getFullYear()) {\r\n                    if (maxDate.getFullYear() - minDate.getFullYear() === 1) {\r\n                        differences.month = true;\r\n                        differences.year = false\r\n                    }\r\n                }\r\n            }(dateDifferences, startValue > endValue ? endValue : startValue, startValue > endValue ? startValue : endValue)\r\n        }\r\n        dateUnitInterval = dateUtils.getDateUnitInterval(dateDifferences);\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, true);\r\n        dateUnitInterval = dateUtils.getDateUnitInterval(tickInterval || \"second\");\r\n        correctDateDifferences(dateDifferences, dateUnitInterval, false);\r\n        dateDifferences[{\r\n            week: \"day\"\r\n        } [dateUnitInterval] || dateUnitInterval] = true;\r\n        var resultFormat = this.getDateFormatByDifferences(dateDifferences);\r\n        return resultFormat\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/localization/language_codes.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport localizationCoreUtils from \"./core\";\r\nvar LANGUAGE_CODES = {\r\n    ar: 1,\r\n    bg: 2,\r\n    ca: 3,\r\n    \"zh-Hans\": 4,\r\n    cs: 5,\r\n    da: 6,\r\n    de: 7,\r\n    el: 8,\r\n    en: 9,\r\n    es: 10,\r\n    fi: 11,\r\n    fr: 12,\r\n    he: 13,\r\n    hu: 14,\r\n    is: 15,\r\n    it: 16,\r\n    ja: 17,\r\n    ko: 18,\r\n    nl: 19,\r\n    no: 20,\r\n    pl: 21,\r\n    pt: 22,\r\n    rm: 23,\r\n    ro: 24,\r\n    ru: 25,\r\n    hr: 26,\r\n    sk: 27,\r\n    sq: 28,\r\n    sv: 29,\r\n    th: 30,\r\n    tr: 31,\r\n    ur: 32,\r\n    id: 33,\r\n    uk: 34,\r\n    be: 35,\r\n    sl: 36,\r\n    et: 37,\r\n    lv: 38,\r\n    lt: 39,\r\n    tg: 40,\r\n    fa: 41,\r\n    vi: 42,\r\n    hy: 43,\r\n    az: 44,\r\n    eu: 45,\r\n    hsb: 46,\r\n    mk: 47,\r\n    tn: 50,\r\n    xh: 52,\r\n    zu: 53,\r\n    af: 54,\r\n    ka: 55,\r\n    fo: 56,\r\n    hi: 57,\r\n    mt: 58,\r\n    se: 59,\r\n    ga: 60,\r\n    ms: 62,\r\n    kk: 63,\r\n    ky: 64,\r\n    sw: 65,\r\n    tk: 66,\r\n    uz: 67,\r\n    tt: 68,\r\n    bn: 69,\r\n    pa: 70,\r\n    gu: 71,\r\n    or: 72,\r\n    ta: 73,\r\n    te: 74,\r\n    kn: 75,\r\n    ml: 76,\r\n    as: 77,\r\n    mr: 78,\r\n    sa: 79,\r\n    mn: 80,\r\n    bo: 81,\r\n    cy: 82,\r\n    km: 83,\r\n    lo: 84,\r\n    gl: 86,\r\n    kok: 87,\r\n    syr: 90,\r\n    si: 91,\r\n    iu: 93,\r\n    am: 94,\r\n    tzm: 95,\r\n    ne: 97,\r\n    fy: 98,\r\n    ps: 99,\r\n    fil: 100,\r\n    dv: 101,\r\n    ha: 104,\r\n    yo: 106,\r\n    quz: 107,\r\n    nso: 108,\r\n    ba: 109,\r\n    lb: 110,\r\n    kl: 111,\r\n    ig: 112,\r\n    ii: 120,\r\n    arn: 122,\r\n    moh: 124,\r\n    br: 126,\r\n    ug: 128,\r\n    mi: 129,\r\n    oc: 130,\r\n    co: 131,\r\n    gsw: 132,\r\n    sah: 133,\r\n    qut: 134,\r\n    rw: 135,\r\n    wo: 136,\r\n    prs: 140,\r\n    gd: 145,\r\n    \"ar-SA\": 1025,\r\n    \"bg-BG\": 1026,\r\n    \"ca-ES\": 1027,\r\n    \"zh-TW\": 1028,\r\n    \"cs-CZ\": 1029,\r\n    \"da-DK\": 1030,\r\n    \"de-DE\": 1031,\r\n    \"el-GR\": 1032,\r\n    \"en-US\": 1033,\r\n    \"fi-FI\": 1035,\r\n    \"fr-FR\": 1036,\r\n    \"he-IL\": 1037,\r\n    \"hu-HU\": 1038,\r\n    \"is-IS\": 1039,\r\n    \"it-IT\": 1040,\r\n    \"ja-JP\": 1041,\r\n    \"ko-KR\": 1042,\r\n    \"nl-NL\": 1043,\r\n    \"nb-NO\": 1044,\r\n    \"pl-PL\": 1045,\r\n    \"pt-BR\": 1046,\r\n    \"rm-CH\": 1047,\r\n    \"ro-RO\": 1048,\r\n    \"ru-RU\": 1049,\r\n    \"hr-HR\": 1050,\r\n    \"sk-SK\": 1051,\r\n    \"sq-AL\": 1052,\r\n    \"sv-SE\": 1053,\r\n    \"th-TH\": 1054,\r\n    \"tr-TR\": 1055,\r\n    \"ur-PK\": 1056,\r\n    \"id-ID\": 1057,\r\n    \"uk-UA\": 1058,\r\n    \"be-BY\": 1059,\r\n    \"sl-SI\": 1060,\r\n    \"et-EE\": 1061,\r\n    \"lv-LV\": 1062,\r\n    \"lt-LT\": 1063,\r\n    \"tg-Cyrl-TJ\": 1064,\r\n    \"fa-IR\": 1065,\r\n    \"vi-VN\": 1066,\r\n    \"hy-AM\": 1067,\r\n    \"az-Latn-AZ\": 1068,\r\n    \"eu-ES\": 1069,\r\n    \"hsb-DE\": 1070,\r\n    \"mk-MK\": 1071,\r\n    \"tn-ZA\": 1074,\r\n    \"xh-ZA\": 1076,\r\n    \"zu-ZA\": 1077,\r\n    \"af-ZA\": 1078,\r\n    \"ka-GE\": 1079,\r\n    \"fo-FO\": 1080,\r\n    \"hi-IN\": 1081,\r\n    \"mt-MT\": 1082,\r\n    \"se-NO\": 1083,\r\n    \"ms-MY\": 1086,\r\n    \"kk-KZ\": 1087,\r\n    \"ky-KG\": 1088,\r\n    \"sw-KE\": 1089,\r\n    \"tk-TM\": 1090,\r\n    \"uz-Latn-UZ\": 1091,\r\n    \"tt-RU\": 1092,\r\n    \"bn-IN\": 1093,\r\n    \"pa-IN\": 1094,\r\n    \"gu-IN\": 1095,\r\n    \"or-IN\": 1096,\r\n    \"ta-IN\": 1097,\r\n    \"te-IN\": 1098,\r\n    \"kn-IN\": 1099,\r\n    \"ml-IN\": 1100,\r\n    \"as-IN\": 1101,\r\n    \"mr-IN\": 1102,\r\n    \"sa-IN\": 1103,\r\n    \"mn-MN\": 1104,\r\n    \"bo-CN\": 1105,\r\n    \"cy-GB\": 1106,\r\n    \"km-KH\": 1107,\r\n    \"lo-LA\": 1108,\r\n    \"gl-ES\": 1110,\r\n    \"kok-IN\": 1111,\r\n    \"syr-SY\": 1114,\r\n    \"si-LK\": 1115,\r\n    \"iu-Cans-CA\": 1117,\r\n    \"am-ET\": 1118,\r\n    \"ne-NP\": 1121,\r\n    \"fy-NL\": 1122,\r\n    \"ps-AF\": 1123,\r\n    \"fil-PH\": 1124,\r\n    \"dv-MV\": 1125,\r\n    \"ha-Latn-NG\": 1128,\r\n    \"yo-NG\": 1130,\r\n    \"quz-BO\": 1131,\r\n    \"nso-ZA\": 1132,\r\n    \"ba-RU\": 1133,\r\n    \"lb-LU\": 1134,\r\n    \"kl-GL\": 1135,\r\n    \"ig-NG\": 1136,\r\n    \"ii-CN\": 1144,\r\n    \"arn-CL\": 1146,\r\n    \"moh-CA\": 1148,\r\n    \"br-FR\": 1150,\r\n    \"ug-CN\": 1152,\r\n    \"mi-NZ\": 1153,\r\n    \"oc-FR\": 1154,\r\n    \"co-FR\": 1155,\r\n    \"gsw-FR\": 1156,\r\n    \"sah-RU\": 1157,\r\n    \"qut-GT\": 1158,\r\n    \"rw-RW\": 1159,\r\n    \"wo-SN\": 1160,\r\n    \"prs-AF\": 1164,\r\n    \"gd-GB\": 1169,\r\n    \"ar-IQ\": 2049,\r\n    \"zh-CN\": 2052,\r\n    \"de-CH\": 2055,\r\n    \"en-GB\": 2057,\r\n    \"es-MX\": 2058,\r\n    \"fr-BE\": 2060,\r\n    \"it-CH\": 2064,\r\n    \"nl-BE\": 2067,\r\n    \"nn-NO\": 2068,\r\n    \"pt-PT\": 2070,\r\n    \"sr-Latn-CS\": 2074,\r\n    \"sv-FI\": 2077,\r\n    \"az-Cyrl-AZ\": 2092,\r\n    \"dsb-DE\": 2094,\r\n    \"se-SE\": 2107,\r\n    \"ga-IE\": 2108,\r\n    \"ms-BN\": 2110,\r\n    \"uz-Cyrl-UZ\": 2115,\r\n    \"bn-BD\": 2117,\r\n    \"mn-Mong-CN\": 2128,\r\n    \"iu-Latn-CA\": 2141,\r\n    \"tzm-Latn-DZ\": 2143,\r\n    \"quz-EC\": 2155,\r\n    \"ar-EG\": 3073,\r\n    \"zh-HK\": 3076,\r\n    \"de-AT\": 3079,\r\n    \"en-AU\": 3081,\r\n    \"es-ES\": 3082,\r\n    \"fr-CA\": 3084,\r\n    \"sr-Cyrl-CS\": 3098,\r\n    \"se-FI\": 3131,\r\n    \"quz-PE\": 3179,\r\n    \"ar-LY\": 4097,\r\n    \"zh-SG\": 4100,\r\n    \"de-LU\": 4103,\r\n    \"en-CA\": 4105,\r\n    \"es-GT\": 4106,\r\n    \"fr-CH\": 4108,\r\n    \"hr-BA\": 4122,\r\n    \"smj-NO\": 4155,\r\n    \"ar-DZ\": 5121,\r\n    \"zh-MO\": 5124,\r\n    \"de-LI\": 5127,\r\n    \"en-NZ\": 5129,\r\n    \"es-CR\": 5130,\r\n    \"fr-LU\": 5132,\r\n    \"bs-Latn-BA\": 5146,\r\n    \"smj-SE\": 5179,\r\n    \"ar-MA\": 6145,\r\n    \"en-IE\": 6153,\r\n    \"es-PA\": 6154,\r\n    \"fr-MC\": 6156,\r\n    \"sr-Latn-BA\": 6170,\r\n    \"sma-NO\": 6203,\r\n    \"ar-TN\": 7169,\r\n    \"en-ZA\": 7177,\r\n    \"es-DO\": 7178,\r\n    \"sr-Cyrl-BA\": 7194,\r\n    \"sma-SE\": 7227,\r\n    \"ar-OM\": 8193,\r\n    \"en-JM\": 8201,\r\n    \"es-VE\": 8202,\r\n    \"bs-Cyrl-BA\": 8218,\r\n    \"sms-FI\": 8251,\r\n    \"ar-YE\": 9217,\r\n    \"en-029\": 9225,\r\n    \"es-CO\": 9226,\r\n    \"sr-Latn-RS\": 9242,\r\n    \"smn-FI\": 9275,\r\n    \"ar-SY\": 10241,\r\n    \"en-BZ\": 10249,\r\n    \"es-PE\": 10250,\r\n    \"sr-Cyrl-RS\": 10266,\r\n    \"ar-JO\": 11265,\r\n    \"en-TT\": 11273,\r\n    \"es-AR\": 11274,\r\n    \"sr-Latn-ME\": 11290,\r\n    \"ar-LB\": 12289,\r\n    \"en-ZW\": 12297,\r\n    \"es-EC\": 12298,\r\n    \"sr-Cyrl-ME\": 12314,\r\n    \"ar-KW\": 13313,\r\n    \"en-PH\": 13321,\r\n    \"es-CL\": 13322,\r\n    \"ar-AE\": 14337,\r\n    \"es-UY\": 14346,\r\n    \"ar-BH\": 15361,\r\n    \"es-PY\": 15370,\r\n    \"ar-QA\": 16385,\r\n    \"en-IN\": 16393,\r\n    \"es-BO\": 16394,\r\n    \"en-MY\": 17417,\r\n    \"es-SV\": 17418,\r\n    \"en-SG\": 18441,\r\n    \"es-HN\": 18442,\r\n    \"es-NI\": 19466,\r\n    \"es-PR\": 20490,\r\n    \"es-US\": 21514,\r\n    \"bs-Cyrl\": 25626,\r\n    \"bs-Latn\": 26650,\r\n    \"sr-Cyrl\": 27674,\r\n    \"sr-Latn\": 28698,\r\n    smn: 28731,\r\n    \"az-Cyrl\": 29740,\r\n    sms: 29755,\r\n    zh: 30724,\r\n    nn: 30740,\r\n    bs: 30746,\r\n    \"az-Latn\": 30764,\r\n    sma: 30779,\r\n    \"uz-Cyrl\": 30787,\r\n    \"mn-Cyrl\": 30800,\r\n    \"iu-Cans\": 30813,\r\n    \"zh-Hant\": 31748,\r\n    nb: 31764,\r\n    sr: 31770,\r\n    \"tg-Cyrl\": 31784,\r\n    dsb: 31790,\r\n    smj: 31803,\r\n    \"uz-Latn\": 31811,\r\n    \"mn-Mong\": 31824,\r\n    \"iu-Latn\": 31837,\r\n    \"tzm-Latn\": 31839,\r\n    \"ha-Latn\": 31848\r\n};\r\nexport function getLanguageId() {\r\n    return LANGUAGE_CODES[localizationCoreUtils.locale()]\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.modules.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Class from \"../../core/class\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport {\r\n    grep\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nvar WIDGET_WITH_LEGACY_CONTAINER_NAME = \"dxDataGrid\";\r\nvar ModuleItem = Class.inherit({\r\n    _endUpdateCore: function() {},\r\n    ctor: function(component) {\r\n        var that = this;\r\n        that._updateLockCount = 0;\r\n        that.component = component;\r\n        that._actions = {};\r\n        that._actionConfigs = {};\r\n        each(this.callbackNames() || [], (function(index, name) {\r\n            var flags = that.callbackFlags(name) || {};\r\n            flags.unique = true, flags.syncStrategy = true;\r\n            that[this] = Callbacks(flags)\r\n        }))\r\n    },\r\n    init: function() {},\r\n    callbackNames: function() {},\r\n    callbackFlags: function() {},\r\n    publicMethods: function() {},\r\n    beginUpdate: function() {\r\n        this._updateLockCount++\r\n    },\r\n    endUpdate: function() {\r\n        if (this._updateLockCount > 0) {\r\n            this._updateLockCount--;\r\n            if (!this._updateLockCount) {\r\n                this._endUpdateCore()\r\n            }\r\n        }\r\n    },\r\n    option: function(name) {\r\n        var component = this.component;\r\n        var optionCache = component._optionCache;\r\n        if (1 === arguments.length && optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = component.option(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return component.option.apply(component, arguments)\r\n    },\r\n    _silentOption: function(name, value) {\r\n        var component = this.component;\r\n        var optionCache = component._optionCache;\r\n        if (optionCache) {\r\n            optionCache[name] = value\r\n        }\r\n        return component._setOptionWithoutOptionChange(name, value)\r\n    },\r\n    localize: function(name) {\r\n        var optionCache = this.component._optionCache;\r\n        if (optionCache) {\r\n            if (!(name in optionCache)) {\r\n                optionCache[name] = messageLocalization.format(name)\r\n            }\r\n            return optionCache[name]\r\n        }\r\n        return messageLocalization.format(name)\r\n    },\r\n    on: function() {\r\n        return this.component.on.apply(this.component, arguments)\r\n    },\r\n    off: function() {\r\n        return this.component.off.apply(this.component, arguments)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (args.name in this._actions) {\r\n            this.createAction(args.name, this._actionConfigs[args.name]);\r\n            args.handled = true\r\n        }\r\n    },\r\n    getAction: function(actionName) {\r\n        return this._actions[actionName]\r\n    },\r\n    setAria: function(name, value, $target) {\r\n        var target = $target.get(0);\r\n        var prefix = \"role\" !== name && \"id\" !== name ? \"aria-\" : \"\";\r\n        if (target.setAttribute) {\r\n            target.setAttribute(prefix + name, value)\r\n        } else {\r\n            $target.attr(prefix + name, value)\r\n        }\r\n    },\r\n    _createComponent: function() {\r\n        return this.component._createComponent.apply(this.component, arguments)\r\n    },\r\n    getController: function(name) {\r\n        return this.component._controllers[name]\r\n    },\r\n    createAction: function(actionName, config) {\r\n        if (isFunction(actionName)) {\r\n            var action = this.component._createAction(actionName.bind(this), config);\r\n            return function(e) {\r\n                action({\r\n                    event: e\r\n                })\r\n            }\r\n        } else {\r\n            this._actions[actionName] = this.component._createActionByOption(actionName, config);\r\n            this._actionConfigs[actionName] = config\r\n        }\r\n    },\r\n    executeAction: function(actionName, options) {\r\n        var action = this._actions[actionName];\r\n        return action && action(options)\r\n    },\r\n    dispose: function() {\r\n        var that = this;\r\n        each(that.callbackNames() || [], (function() {\r\n            that[this].empty()\r\n        }))\r\n    },\r\n    addWidgetPrefix: function(className) {\r\n        var componentName = this.component.NAME;\r\n        return \"dx-\" + componentName.slice(2).toLowerCase() + (className ? \"-\" + className : \"\")\r\n    },\r\n    getWidgetContainerClass: function() {\r\n        var containerName = this.component.NAME === WIDGET_WITH_LEGACY_CONTAINER_NAME ? null : \"container\";\r\n        return this.addWidgetPrefix(containerName)\r\n    }\r\n});\r\nvar Controller = ModuleItem;\r\nvar ViewController = Controller.inherit({\r\n    getView: function(name) {\r\n        return this.component._views[name]\r\n    },\r\n    getViews: function() {\r\n        return this.component._views\r\n    }\r\n});\r\nvar View = ModuleItem.inherit({\r\n    _isReady: function() {\r\n        return this.component.isReady()\r\n    },\r\n    _endUpdateCore: function() {\r\n        this.callBase();\r\n        if (!this._isReady() && this._requireReady) {\r\n            this._requireRender = false;\r\n            this.component._requireResize = false\r\n        }\r\n        if (this._requireRender) {\r\n            this._requireRender = false;\r\n            this.render(this._$parent)\r\n        }\r\n    },\r\n    _invalidate: function(requireResize, requireReady) {\r\n        this._requireRender = true;\r\n        this.component._requireResize = hasWindow() && (this.component._requireResize || requireResize);\r\n        this._requireReady = this._requireReady || requireReady\r\n    },\r\n    _renderCore: function() {},\r\n    _resizeCore: function() {},\r\n    _parentElement: function() {\r\n        return this._$parent\r\n    },\r\n    ctor: function(component) {\r\n        this.callBase(component);\r\n        this.renderCompleted = Callbacks();\r\n        this.resizeCompleted = Callbacks()\r\n    },\r\n    element: function() {\r\n        return this._$element\r\n    },\r\n    getElementHeight: function() {\r\n        var $element = this.element();\r\n        if (!$element) {\r\n            return 0\r\n        }\r\n        var marginTop = parseFloat($element.css(\"marginTop\")) || 0;\r\n        var marginBottom = parseFloat($element.css(\"marginBottom\")) || 0;\r\n        var offsetHeight = $element.get(0).offsetHeight;\r\n        return offsetHeight + marginTop + marginBottom\r\n    },\r\n    isVisible: function() {\r\n        return true\r\n    },\r\n    getTemplate: function(name) {\r\n        return this.component._getTemplate(name)\r\n    },\r\n    render: function($parent, options) {\r\n        var $element = this._$element;\r\n        var isVisible = this.isVisible();\r\n        if (!$element && !$parent) {\r\n            return\r\n        }\r\n        this._requireReady = false;\r\n        if (!$element) {\r\n            $element = this._$element = $(\"<div>\").appendTo($parent);\r\n            this._$parent = $parent\r\n        }\r\n        $element.toggleClass(\"dx-hidden\", !isVisible);\r\n        if (isVisible) {\r\n            this.component._optionCache = {};\r\n            this._renderCore(options);\r\n            this.component._optionCache = void 0;\r\n            this.renderCompleted.fire(options)\r\n        }\r\n    },\r\n    resize: function() {\r\n        this.isResizing = true;\r\n        this._resizeCore();\r\n        this.resizeCompleted.fire();\r\n        this.isResizing = false\r\n    },\r\n    focus: function() {\r\n        eventsEngine.trigger(this.element(), \"focus\")\r\n    }\r\n});\r\nvar MODULES_ORDER_MAX_INDEX = 1e6;\r\nvar processModules = function(that, componentClass) {\r\n    var modules = componentClass.modules;\r\n    var modulesOrder = componentClass.modulesOrder;\r\n    var controllerTypes = componentClass.controllerTypes || {};\r\n    var viewTypes = componentClass.viewTypes || {};\r\n    if (!componentClass.controllerTypes) {\r\n        if (modulesOrder) {\r\n            modules.sort((function(module1, module2) {\r\n                var orderIndex1 = inArray(module1.name, modulesOrder);\r\n                var orderIndex2 = inArray(module2.name, modulesOrder);\r\n                if (orderIndex1 < 0) {\r\n                    orderIndex1 = MODULES_ORDER_MAX_INDEX\r\n                }\r\n                if (orderIndex2 < 0) {\r\n                    orderIndex2 = MODULES_ORDER_MAX_INDEX\r\n                }\r\n                return orderIndex1 - orderIndex2\r\n            }))\r\n        }\r\n        each(modules, (function() {\r\n            var controllers = this.controllers;\r\n            var moduleName = this.name;\r\n            var views = this.views;\r\n            controllers && each(controllers, (function(name, type) {\r\n                if (controllerTypes[name]) {\r\n                    throw errors.Error(\"E1001\", moduleName, name)\r\n                } else if (!(type && type.subclassOf && type.subclassOf(Controller))) {\r\n                    type.subclassOf(Controller);\r\n                    throw errors.Error(\"E1002\", moduleName, name)\r\n                }\r\n                controllerTypes[name] = type\r\n            }));\r\n            views && each(views, (function(name, type) {\r\n                if (viewTypes[name]) {\r\n                    throw errors.Error(\"E1003\", moduleName, name)\r\n                } else if (!(type && type.subclassOf && type.subclassOf(View))) {\r\n                    throw errors.Error(\"E1004\", moduleName, name)\r\n                }\r\n                viewTypes[name] = type\r\n            }))\r\n        }));\r\n        each(modules, (function() {\r\n            var extenders = this.extenders;\r\n            if (extenders) {\r\n                extenders.controllers && each(extenders.controllers, (function(name, extender) {\r\n                    if (controllerTypes[name]) {\r\n                        controllerTypes[name] = controllerTypes[name].inherit(extender)\r\n                    }\r\n                }));\r\n                extenders.views && each(extenders.views, (function(name, extender) {\r\n                    if (viewTypes[name]) {\r\n                        viewTypes[name] = viewTypes[name].inherit(extender)\r\n                    }\r\n                }))\r\n            }\r\n        }));\r\n        componentClass.controllerTypes = controllerTypes;\r\n        componentClass.viewTypes = viewTypes\r\n    }\r\n    var createModuleItems = function(moduleTypes) {\r\n        var moduleItems = {};\r\n        each(moduleTypes, (function(name, moduleType) {\r\n            var moduleItem = new moduleType(that);\r\n            moduleItem.name = name;\r\n            ! function(that, name, moduleItem) {\r\n                var publicMethods = moduleItem.publicMethods();\r\n                if (publicMethods) {\r\n                    each(publicMethods, (function(index, methodName) {\r\n                        if (moduleItem[methodName]) {\r\n                            if (!that[methodName]) {\r\n                                that[methodName] = function() {\r\n                                    return moduleItem[methodName].apply(moduleItem, arguments)\r\n                                }\r\n                            } else {\r\n                                throw errors.Error(\"E1005\", methodName)\r\n                            }\r\n                        } else {\r\n                            throw errors.Error(\"E1006\", name, methodName)\r\n                        }\r\n                    }))\r\n                }\r\n            }(that, name, moduleItem);\r\n            moduleItems[name] = moduleItem\r\n        }));\r\n        return moduleItems\r\n    };\r\n    that._controllers = createModuleItems(controllerTypes);\r\n    that._views = createModuleItems(viewTypes)\r\n};\r\nvar callModuleItemsMethod = function(that, methodName, args) {\r\n    args = args || [];\r\n    if (that._controllers) {\r\n        each(that._controllers, (function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        }))\r\n    }\r\n    if (that._views) {\r\n        each(that._views, (function() {\r\n            this[methodName] && this[methodName].apply(this, args)\r\n        }))\r\n    }\r\n};\r\nexport default {\r\n    modules: [],\r\n    View: View,\r\n    ViewController: ViewController,\r\n    Controller: Controller,\r\n    registerModule: function(name, module) {\r\n        var modules = this.modules;\r\n        for (var i = 0; i < modules.length; i++) {\r\n            if (modules[i].name === name) {\r\n                return\r\n            }\r\n        }\r\n        module.name = name;\r\n        modules.push(module);\r\n        delete this.controllerTypes;\r\n        delete this.viewTypes\r\n    },\r\n    registerModulesOrder: function(moduleNames) {\r\n        this.modulesOrder = moduleNames\r\n    },\r\n    unregisterModule: function(name) {\r\n        this.modules = grep(this.modules, (function(module) {\r\n            return module.name !== name\r\n        }));\r\n        delete this.controllerTypes;\r\n        delete this.viewTypes\r\n    },\r\n    processModules: processModules,\r\n    callModuleItemsMethod: callModuleItemsMethod\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport gridCoreUtils from \"../grid_core/ui.grid_core.utils\";\r\nimport modules from \"../grid_core/ui.grid_core.modules\";\r\nexport default _extends({}, modules, gridCoreUtils, {\r\n    modules: []\r\n});\r\n","/**\r\n * DevExtreme (esm/events/double_click.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    closestCommonParent\r\n} from \"../core/utils/dom\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport Class from \"../core/class\";\r\nimport registerEvent from \"./core/event_registrator\";\r\nimport {\r\n    name as clickEventName\r\n} from \"./click\";\r\nimport {\r\n    addNamespace,\r\n    fireEvent\r\n} from \"./utils/index\";\r\nvar DBLCLICK_EVENT_NAME = \"dxdblclick\";\r\nvar DBLCLICK_NAMESPACE = \"dxDblClick\";\r\nvar NAMESPACED_CLICK_EVENT = addNamespace(clickEventName, DBLCLICK_NAMESPACE);\r\nvar DBLCLICK_TIMEOUT = 300;\r\nvar DblClick = Class.inherit({\r\n    ctor: function() {\r\n        this._handlerCount = 0;\r\n        this._forgetLastClick()\r\n    },\r\n    _forgetLastClick: function() {\r\n        this._firstClickTarget = null;\r\n        this._lastClickTimeStamp = -DBLCLICK_TIMEOUT\r\n    },\r\n    add: function() {\r\n        if (this._handlerCount <= 0) {\r\n            eventsEngine.on(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT, this._clickHandler.bind(this))\r\n        }\r\n        this._handlerCount++\r\n    },\r\n    _clickHandler: function(e) {\r\n        var timeStamp = e.timeStamp || Date.now();\r\n        var timeBetweenClicks = timeStamp - this._lastClickTimeStamp;\r\n        var isSimulated = timeBetweenClicks < 0;\r\n        var isDouble = !isSimulated && timeBetweenClicks < DBLCLICK_TIMEOUT;\r\n        if (isDouble) {\r\n            fireEvent({\r\n                type: DBLCLICK_EVENT_NAME,\r\n                target: closestCommonParent(this._firstClickTarget, e.target),\r\n                originalEvent: e\r\n            });\r\n            this._forgetLastClick()\r\n        } else {\r\n            this._firstClickTarget = e.target;\r\n            this._lastClickTimeStamp = timeStamp\r\n        }\r\n    },\r\n    remove: function() {\r\n        this._handlerCount--;\r\n        if (this._handlerCount <= 0) {\r\n            this._forgetLastClick();\r\n            eventsEngine.off(domAdapter.getDocument(), NAMESPACED_CLICK_EVENT)\r\n        }\r\n    }\r\n});\r\nregisterEvent(DBLCLICK_EVENT_NAME, new DblClick);\r\nexport {\r\n    DBLCLICK_EVENT_NAME as name\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_state_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nvar COLUMN_INDICATORS_CLASS = \"dx-column-indicators\";\r\nvar GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\r\nexport default {\r\n    _applyColumnState: function(options) {\r\n        var _that$component;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var columnAlignment = this._getColumnAlignment(options.column.alignment, rtlEnabled);\r\n        var parameters = extend(true, {\r\n            columnAlignment: columnAlignment\r\n        }, options);\r\n        var isGroupPanelItem = parameters.rootElement.hasClass(GROUP_PANEL_ITEM_CLASS);\r\n        var $indicatorsContainer = this._createIndicatorContainer(parameters, isGroupPanelItem);\r\n        var $span = $(\"<span>\").addClass(this._getIndicatorClassName(options.name));\r\n        var columnsController = null === (_that$component = this.component) || void 0 === _that$component ? void 0 : _that$component.getController(\"columns\");\r\n        var indicatorAlignment = (null === columnsController || void 0 === columnsController ? void 0 : columnsController.getHeaderContentAlignment(columnAlignment)) || columnAlignment;\r\n        parameters.container = $indicatorsContainer;\r\n        parameters.indicator = $span;\r\n        this._renderIndicator(parameters);\r\n        $indicatorsContainer[(isGroupPanelItem || !options.showColumnLines) && \"left\" === indicatorAlignment ? \"appendTo\" : \"prependTo\"](options.rootElement);\r\n        return $span\r\n    },\r\n    _getIndicatorClassName: noop,\r\n    _getColumnAlignment: function(alignment, rtlEnabled) {\r\n        rtlEnabled = rtlEnabled || this.option(\"rtlEnabled\");\r\n        return alignment && \"center\" !== alignment ? alignment : getDefaultAlignment(rtlEnabled)\r\n    },\r\n    _createIndicatorContainer: function(options, ignoreIndicatorAlignment) {\r\n        var $indicatorsContainer = this._getIndicatorContainer(options.rootElement);\r\n        var indicatorAlignment = \"left\" === options.columnAlignment ? \"right\" : \"left\";\r\n        if (!$indicatorsContainer.length) {\r\n            $indicatorsContainer = $(\"<div>\").addClass(COLUMN_INDICATORS_CLASS)\r\n        }\r\n        this.setAria(\"role\", \"presentation\", $indicatorsContainer);\r\n        return $indicatorsContainer.css(\"float\", options.showColumnLines && !ignoreIndicatorAlignment ? indicatorAlignment : null)\r\n    },\r\n    _getIndicatorContainer: function($cell) {\r\n        return $cell && $cell.find(\".\" + COLUMN_INDICATORS_CLASS)\r\n    },\r\n    _getIndicatorElements: function($cell) {\r\n        var $indicatorContainer = this._getIndicatorContainer($cell);\r\n        return $indicatorContainer && $indicatorContainer.children()\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        $container && $indicator && $container.append($indicator)\r\n    },\r\n    _updateIndicators: function(indicatorName) {\r\n        var columns = this.getColumns();\r\n        var $cells = this.getColumnElements();\r\n        var $cell;\r\n        if (!$cells || columns.length !== $cells.length) {\r\n            return\r\n        }\r\n        for (var i = 0; i < columns.length; i++) {\r\n            $cell = $cells.eq(i);\r\n            this._updateIndicator($cell, columns[i], indicatorName);\r\n            var rowOptions = $cell.parent().data(\"options\");\r\n            if (rowOptions && rowOptions.cells) {\r\n                rowOptions.cells[$cell.index()].column = columns[i]\r\n            }\r\n        }\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        if (!column.command) {\r\n            return this._applyColumnState({\r\n                name: indicatorName,\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: this.option(\"showColumnLines\")\r\n            })\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.columns_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getWidth,\r\n    getOuterHeight,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    data as elementData\r\n} from \"../../core/element_data\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    name as dblclickEvent\r\n} from \"../../events/double_click\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    setWidth\r\n} from \"../../core/utils/style\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    isRenderer,\r\n    isFunction,\r\n    isString,\r\n    isDefined,\r\n    isNumeric\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getBoundingRect,\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport * as iteratorUtils from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport columnStateMixin from \"./ui.grid_core.column_state_mixin\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    nativeScrolling\r\n} from \"../../core/utils/support\";\r\nvar SCROLL_CONTAINER_CLASS = \"scroll-container\";\r\nvar SCROLLABLE_SIMULATED_CLASS = \"scrollable-simulated\";\r\nvar GROUP_SPACE_CLASS = \"group-space\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar TABLE_CLASS = \"table\";\r\nvar TABLE_FIXED_CLASS = \"table-fixed\";\r\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar FILTER_ROW_CLASS = \"filter-row\";\r\nvar ERROR_ROW_CLASS = \"dx-error-row\";\r\nvar CELL_UPDATED_ANIMATION_CLASS = \"cell-updated-animation\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"0.0001px\";\r\nvar CELL_HINT_VISIBLE = \"dxCellHintVisible\";\r\nvar FORM_FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar appendElementTemplate = {\r\n    render: function(options) {\r\n        options.container.append(options.content)\r\n    }\r\n};\r\nvar subscribeToRowEvents = function(that, $table) {\r\n    var touchTarget;\r\n    var touchCurrentTarget;\r\n    var timeoutId;\r\n\r\n    function clearTouchTargets(timeout) {\r\n        return setTimeout((function() {\r\n            touchTarget = touchCurrentTarget = null\r\n        }), timeout)\r\n    }\r\n    eventsEngine.on($table, \"touchstart touchend\", \".dx-row\", (function(e) {\r\n        clearTimeout(timeoutId);\r\n        if (\"touchstart\" === e.type) {\r\n            touchTarget = e.target;\r\n            touchCurrentTarget = e.currentTarget;\r\n            timeoutId = clearTouchTargets(1e3)\r\n        } else {\r\n            timeoutId = clearTouchTargets()\r\n        }\r\n    }));\r\n    eventsEngine.on($table, [clickEventName, dblclickEvent, pointerEvents.down].join(\" \"), \".dx-row\", {\r\n        useNative: that._isNativeClick()\r\n    }, that.createAction((function(e) {\r\n        var event = e.event;\r\n        if (touchTarget) {\r\n            event.target = touchTarget;\r\n            event.currentTarget = touchCurrentTarget\r\n        }\r\n        if (!$(event.target).closest(\"a\").length) {\r\n            e.rowIndex = that.getRowIndex(event.currentTarget);\r\n            if (e.rowIndex >= 0) {\r\n                e.rowElement = getPublicElement($(event.currentTarget));\r\n                e.columns = that.getColumns();\r\n                if (event.type === pointerEvents.down) {\r\n                    that._rowPointerDown(e)\r\n                } else if (event.type === clickEventName) {\r\n                    that._rowClick(e)\r\n                } else {\r\n                    that._rowDblClick(e)\r\n                }\r\n            }\r\n        }\r\n    })))\r\n};\r\nvar getWidthStyle = function(width) {\r\n    if (\"auto\" === width) {\r\n        return \"\"\r\n    }\r\n    return isNumeric(width) ? width + \"px\" : width\r\n};\r\nvar setCellWidth = function(cell, column, width) {\r\n    cell.style.width = cell.style.maxWidth = \"auto\" === column.width ? \"\" : width\r\n};\r\nvar copyAttributes = function(element, newElement) {\r\n    if (!element || !newElement) {\r\n        return\r\n    }\r\n    var oldAttributes = element.attributes;\r\n    var newAttributes = newElement.attributes;\r\n    var i;\r\n    for (i = 0; i < oldAttributes.length; i++) {\r\n        var name = oldAttributes[i].nodeName;\r\n        if (!newElement.hasAttribute(name)) {\r\n            element.removeAttribute(name)\r\n        }\r\n    }\r\n    for (i = 0; i < newAttributes.length; i++) {\r\n        element.setAttribute(newAttributes[i].nodeName, newAttributes[i].nodeValue)\r\n    }\r\n};\r\nexport var ColumnsView = modules.View.inherit(columnStateMixin).inherit({\r\n    _createScrollableOptions: function() {\r\n        var scrollingOptions = this.option(\"scrolling\");\r\n        var useNativeScrolling = this.option(\"scrolling.useNative\");\r\n        var options = extend({}, scrollingOptions, {\r\n            direction: \"both\",\r\n            bounceEnabled: false,\r\n            useKeyboard: false\r\n        });\r\n        if (void 0 === useNativeScrolling) {\r\n            useNativeScrolling = true\r\n        }\r\n        if (\"auto\" === useNativeScrolling) {\r\n            delete options.useNative;\r\n            delete options.useSimulatedScrollbar\r\n        } else {\r\n            options.useNative = !!useNativeScrolling;\r\n            options.useSimulatedScrollbar = !useNativeScrolling\r\n        }\r\n        return options\r\n    },\r\n    _updateCell: function($cell, parameters) {\r\n        if (parameters.rowType) {\r\n            this._cellPrepared($cell, parameters)\r\n        }\r\n    },\r\n    _createCell: function(options) {\r\n        var column = options.column;\r\n        var alignment = column.alignment || getDefaultAlignment(this.option(\"rtlEnabled\"));\r\n        var cell = domAdapter.createElement(\"td\");\r\n        cell.style.textAlign = alignment;\r\n        var $cell = $(cell);\r\n        if (\"data\" === options.rowType && column.headerId && !column.type) {\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                this.setAria(\"describedby\", column.headerId, $cell)\r\n            }\r\n        }\r\n        if (column.cssClass) {\r\n            $cell.addClass(column.cssClass)\r\n        }\r\n        if (\"expand\" === column.command) {\r\n            $cell.addClass(column.cssClass);\r\n            $cell.addClass(this.addWidgetPrefix(GROUP_SPACE_CLASS))\r\n        }\r\n        if (column.colspan > 1) {\r\n            $cell.attr(\"colSpan\", column.colspan)\r\n        } else if (!column.isBand && \"auto\" !== column.visibleWidth && this.option(\"columnAutoWidth\")) {\r\n            if (column.width || column.minWidth) {\r\n                cell.style.minWidth = getWidthStyle(column.minWidth || column.width)\r\n            }\r\n            if (column.width) {\r\n                setCellWidth(cell, column, getWidthStyle(column.width))\r\n            }\r\n        }\r\n        return $cell\r\n    },\r\n    _createRow: function(rowObject, tagName) {\r\n        tagName = tagName || \"tr\";\r\n        var $element = $(\"<\".concat(tagName, \">\")).addClass(ROW_CLASS);\r\n        this.setAria(\"role\", \"row\", $element);\r\n        return $element\r\n    },\r\n    _isAltRow: function(row) {\r\n        return row && row.dataIndex % 2 === 1\r\n    },\r\n    _createTable: function(columns, isAppend) {\r\n        var that = this;\r\n        var $table = $(\"<table>\").addClass(that.addWidgetPrefix(TABLE_CLASS)).addClass(that.addWidgetPrefix(TABLE_FIXED_CLASS));\r\n        if (columns && !isAppend) {\r\n            $table.append(that._createColGroup(columns));\r\n            if (browser.safari) {\r\n                $table.append($(\"<thead>\").append(\"<tr>\"))\r\n            }\r\n            that.setAria(\"role\", \"presentation\", $table)\r\n        } else {\r\n            that.setAria(\"hidden\", true, $table)\r\n        }\r\n        this.setAria(\"role\", \"presentation\", $(\"<tbody>\").appendTo($table));\r\n        if (isAppend) {\r\n            return $table\r\n        }\r\n        if (browser.mozilla) {\r\n            eventsEngine.on($table, \"mousedown\", \"td\", (function(e) {\r\n                if (e.ctrlKey) {\r\n                    e.preventDefault()\r\n                }\r\n            }))\r\n        }\r\n        if (that.option(\"cellHintEnabled\")) {\r\n            eventsEngine.on($table, \"mousemove\", \".dx-row > td\", this.createAction((function(args) {\r\n                var e = args.event;\r\n                var $element = $(e.target);\r\n                var $cell = $(e.currentTarget);\r\n                var $row = $cell.parent();\r\n                var isDataRow = $row.hasClass(\"dx-data-row\");\r\n                var isHeaderRow = $row.hasClass(\"dx-header-row\");\r\n                var isGroupRow = $row.hasClass(GROUP_ROW_CLASS);\r\n                var isMasterDetailRow = $row.hasClass(DETAIL_ROW_CLASS);\r\n                var isFilterRow = $row.hasClass(that.addWidgetPrefix(FILTER_ROW_CLASS));\r\n                var visibleColumns = that._columnsController.getVisibleColumns();\r\n                var rowOptions = $row.data(\"options\");\r\n                var columnIndex = $cell.index();\r\n                var cellOptions = rowOptions && rowOptions.cells && rowOptions.cells[columnIndex];\r\n                var column = cellOptions ? cellOptions.column : visibleColumns[columnIndex];\r\n                if (!isMasterDetailRow && !isFilterRow && (!isDataRow || isDataRow && column && !column.cellTemplate) && (!isHeaderRow || isHeaderRow && column && !column.headerCellTemplate) && (!isGroupRow || isGroupRow && column && (void 0 === column.groupIndex || !column.groupCellTemplate))) {\r\n                    if ($element.data(CELL_HINT_VISIBLE)) {\r\n                        $element.removeAttr(\"title\");\r\n                        $element.data(CELL_HINT_VISIBLE, false)\r\n                    }\r\n                    var difference = $element[0].scrollWidth - $element[0].clientWidth;\r\n                    if (difference > 0 && !isDefined($element.attr(\"title\"))) {\r\n                        $element.attr(\"title\", $element.text());\r\n                        $element.data(CELL_HINT_VISIBLE, true)\r\n                    }\r\n                }\r\n            })))\r\n        }\r\n        var getOptions = function(event) {\r\n            var $cell = $(event.currentTarget);\r\n            var $fieldItemContent = $(event.target).closest(\".\" + FORM_FIELD_ITEM_CONTENT_CLASS);\r\n            var $row = $cell.parent();\r\n            var rowOptions = $row.data(\"options\");\r\n            var options = rowOptions && rowOptions.cells && rowOptions.cells[$cell.index()];\r\n            if (!$cell.closest(\"table\").is(event.delegateTarget)) {\r\n                return\r\n            }\r\n            var resultOptions = extend({}, options, {\r\n                cellElement: getPublicElement($cell),\r\n                event: event,\r\n                eventType: event.type\r\n            });\r\n            resultOptions.rowIndex = that.getRowIndex($row);\r\n            if ($fieldItemContent.length) {\r\n                var formItemOptions = $fieldItemContent.data(\"dx-form-item\");\r\n                if (formItemOptions.column) {\r\n                    resultOptions.column = formItemOptions.column;\r\n                    resultOptions.columnIndex = that._columnsController.getVisibleIndex(resultOptions.column.index)\r\n                }\r\n            }\r\n            return resultOptions\r\n        };\r\n        eventsEngine.on($table, \"mouseover\", \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        }));\r\n        eventsEngine.on($table, \"mouseout\", \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellHoverChanged\", options)\r\n        }));\r\n        eventsEngine.on($table, clickEventName, \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellClick\", options)\r\n        }));\r\n        eventsEngine.on($table, dblclickEvent, \".dx-row > td\", (function(e) {\r\n            var options = getOptions(e);\r\n            options && that.executeAction(\"onCellDblClick\", options)\r\n        }));\r\n        subscribeToRowEvents(that, $table);\r\n        return $table\r\n    },\r\n    _isNativeClick: noop,\r\n    _rowPointerDown: noop,\r\n    _rowClick: noop,\r\n    _rowDblClick: noop,\r\n    _createColGroup: function(columns) {\r\n        var colgroupElement = $(\"<colgroup>\");\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var colspan = columns[i].colspan || 1;\r\n            for (var j = 0; j < colspan; j++) {\r\n                colgroupElement.append(this._createCol(columns[i]))\r\n            }\r\n        }\r\n        return colgroupElement\r\n    },\r\n    _createCol: function(column) {\r\n        var width = column.visibleWidth || column.width;\r\n        if (\"adaptiveHidden\" === width) {\r\n            width = HIDDEN_COLUMNS_WIDTH\r\n        }\r\n        var col = $(\"<col>\");\r\n        setWidth(col, width);\r\n        return col\r\n    },\r\n    renderDelayedTemplates: function(change) {\r\n        var delayedTemplates = this._delayedTemplates;\r\n        var syncTemplates = delayedTemplates.filter(template => !template.async);\r\n        var asyncTemplates = delayedTemplates.filter(template => template.async);\r\n        this._delayedTemplates = [];\r\n        this._renderDelayedTemplatesCore(syncTemplates, false, change);\r\n        this._renderDelayedTemplatesCoreAsync(asyncTemplates)\r\n    },\r\n    _renderDelayedTemplatesCoreAsync: function(templates) {\r\n        var that = this;\r\n        if (templates.length) {\r\n            getWindow().setTimeout((function() {\r\n                that._renderDelayedTemplatesCore(templates, true)\r\n            }))\r\n        }\r\n    },\r\n    _renderDelayedTemplatesCore: function(templates, isAsync, change) {\r\n        var date = new Date;\r\n        while (templates.length) {\r\n            var templateParameters = templates.shift();\r\n            var options = templateParameters.options;\r\n            var doc = domAdapter.getDocument();\r\n            if (!isAsync || $(options.container).closest(doc).length) {\r\n                if (change) {\r\n                    options.change = change\r\n                }\r\n                templateParameters.template.render(options)\r\n            }\r\n            if (isAsync && new Date - date > 30) {\r\n                this._renderDelayedTemplatesCoreAsync(templates);\r\n                break\r\n            }\r\n        }\r\n        if (!templates.length && this._delayedTemplates.length) {\r\n            this.renderDelayedTemplates()\r\n        }\r\n    },\r\n    _processTemplate: function(template) {\r\n        var renderingTemplate;\r\n        if (template && template.render && !isRenderer(template)) {\r\n            renderingTemplate = {\r\n                allowRenderToDetachedContainer: template.allowRenderToDetachedContainer,\r\n                render: function(options) {\r\n                    template.render(options.container, options.model, options.change);\r\n                    options.deferred && options.deferred.resolve()\r\n                }\r\n            }\r\n        } else if (isFunction(template)) {\r\n            renderingTemplate = {\r\n                render: function(options) {\r\n                    var renderedTemplate = template(getPublicElement(options.container), options.model, options.change);\r\n                    if (renderedTemplate && (renderedTemplate.nodeType || isRenderer(renderedTemplate))) {\r\n                        options.container.append(renderedTemplate)\r\n                    }\r\n                    options.deferred && options.deferred.resolve()\r\n                }\r\n            }\r\n        } else {\r\n            var templateID = isString(template) ? template : $(template).attr(\"id\");\r\n            if (!templateID) {\r\n                renderingTemplate = this.getTemplate(template)\r\n            } else {\r\n                if (!this._templatesCache[templateID]) {\r\n                    this._templatesCache[templateID] = this.getTemplate(template)\r\n                }\r\n                renderingTemplate = this._templatesCache[templateID]\r\n            }\r\n        }\r\n        return renderingTemplate\r\n    },\r\n    renderTemplate: function(container, template, options, allowRenderToDetachedContainer, change) {\r\n        var renderingTemplate = this._processTemplate(template, options);\r\n        var column = options.column;\r\n        var isDataRow = \"data\" === options.rowType;\r\n        var templateDeferred = new Deferred;\r\n        var templateOptions = {\r\n            container: container,\r\n            model: options,\r\n            deferred: templateDeferred,\r\n            onRendered: () => {\r\n                templateDeferred.resolve()\r\n            }\r\n        };\r\n        if (renderingTemplate) {\r\n            options.component = this.component;\r\n            var async = column && (column.renderAsync && isDataRow || this.option(\"renderAsync\") && (false !== column.renderAsync && (column.command || column.showEditorAlways) && isDataRow || \"filter\" === options.rowType));\r\n            if ((renderingTemplate.allowRenderToDetachedContainer || allowRenderToDetachedContainer) && !async) {\r\n                renderingTemplate.render(templateOptions)\r\n            } else {\r\n                this._delayedTemplates.push({\r\n                    template: renderingTemplate,\r\n                    options: templateOptions,\r\n                    async: async\r\n                })\r\n            }\r\n            if (change) {\r\n                change.templateDeferreds = change.templateDeferreds || [];\r\n                change.templateDeferreds.push(templateDeferred)\r\n            }\r\n        } else {\r\n            templateDeferred.reject()\r\n        }\r\n        return templateDeferred.promise()\r\n    },\r\n    _getBodies: function(tableElement) {\r\n        return $(tableElement).children(\"tbody\").not(\".dx-header\").not(\".dx-footer\")\r\n    },\r\n    _wrapRowIfNeed: function($table, $row) {\r\n        var hasDataRowTemplate = this.option().rowTemplate || this.option(\"dataRowTemplate\");\r\n        var $tBodies = hasDataRowTemplate && this._getBodies(this._tableElement || $table);\r\n        if ($tBodies && $tBodies.filter(\".\" + ROW_CLASS).length) {\r\n            var $tbody = $(\"<tbody>\").addClass($row.attr(\"class\"));\r\n            this.setAria(\"role\", \"presentation\", $tbody);\r\n            return $tbody.append($row)\r\n        }\r\n        return $row\r\n    },\r\n    _appendRow: function($table, $row, appendTemplate) {\r\n        appendTemplate = appendTemplate || appendElementTemplate;\r\n        appendTemplate.render({\r\n            content: $row,\r\n            container: $table\r\n        })\r\n    },\r\n    _resizeCore: function() {\r\n        var scrollLeft = this._scrollLeft;\r\n        if (scrollLeft >= 0) {\r\n            this._scrollLeft = 0;\r\n            this.scrollTo({\r\n                left: scrollLeft\r\n            })\r\n        }\r\n    },\r\n    _renderCore: function(e) {\r\n        var $root = this.element().parent();\r\n        if (!$root || $root.parent().length) {\r\n            this.renderDelayedTemplates(e)\r\n        }\r\n    },\r\n    _renderTable: function(options) {\r\n        options = options || {};\r\n        options.columns = this._columnsController.getVisibleColumns();\r\n        var changeType = options.change && options.change.changeType;\r\n        var $table = this._createTable(options.columns, \"append\" === changeType || \"prepend\" === changeType || \"update\" === changeType);\r\n        this._renderRows($table, options);\r\n        return $table\r\n    },\r\n    _renderRows: function($table, options) {\r\n        var rows = this._getRows(options.change);\r\n        var columnIndices = options.change && options.change.columnIndices || [];\r\n        var changeTypes = options.change && options.change.changeTypes || [];\r\n        for (var i = 0; i < rows.length; i++) {\r\n            this._renderRow($table, extend({\r\n                row: rows[i],\r\n                columnIndices: columnIndices[i],\r\n                changeType: changeTypes[i]\r\n            }, options))\r\n        }\r\n    },\r\n    _renderRow: function($table, options) {\r\n        if (!options.columnIndices) {\r\n            options.row.cells = []\r\n        }\r\n        var $row = this._createRow(options.row);\r\n        var $wrappedRow = this._wrapRowIfNeed($table, $row);\r\n        if (\"remove\" !== options.changeType) {\r\n            this._renderCells($row, options)\r\n        }\r\n        this._appendRow($table, $wrappedRow);\r\n        var rowOptions = extend({\r\n            columns: options.columns\r\n        }, options.row);\r\n        this._addWatchMethod(rowOptions, options.row);\r\n        this._rowPrepared($wrappedRow, rowOptions, options.row)\r\n    },\r\n    _needRenderCell: function(columnIndex, columnIndices) {\r\n        return !columnIndices || columnIndices.indexOf(columnIndex) >= 0\r\n    },\r\n    _renderCells: function($row, options) {\r\n        var columnIndex = 0;\r\n        var row = options.row;\r\n        var columns = options.columns;\r\n        for (var i = 0; i < columns.length; i++) {\r\n            if (this._needRenderCell(i, options.columnIndices)) {\r\n                this._renderCell($row, extend({\r\n                    column: columns[i],\r\n                    columnIndex: columnIndex,\r\n                    value: row.values && row.values[columnIndex],\r\n                    oldValue: row.oldValues && row.oldValues[columnIndex]\r\n                }, options))\r\n            }\r\n            if (columns[i].colspan > 1) {\r\n                columnIndex += columns[i].colspan\r\n            } else {\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    _updateCells: function($rowElement, $newRowElement, columnIndices) {\r\n        var $cells = $rowElement.children();\r\n        var $newCells = $newRowElement.children();\r\n        var highlightChanges = this.option(\"highlightChanges\");\r\n        var cellUpdatedClass = this.addWidgetPrefix(CELL_UPDATED_ANIMATION_CLASS);\r\n        columnIndices.forEach((function(columnIndex, index) {\r\n            var $cell = $cells.eq(columnIndex);\r\n            var $newCell = $newCells.eq(index);\r\n            $cell.replaceWith($newCell);\r\n            if (highlightChanges && !$newCell.hasClass(\"dx-command-expand\")) {\r\n                $newCell.addClass(cellUpdatedClass)\r\n            }\r\n        }));\r\n        copyAttributes($rowElement.get(0), $newRowElement.get(0))\r\n    },\r\n    _setCellAriaAttributes: function($cell, cellOptions) {\r\n        if (\"freeSpace\" !== cellOptions.rowType) {\r\n            this.setAria(\"selected\", false, $cell);\r\n            this.setAria(\"role\", \"gridcell\", $cell);\r\n            var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n            var ariaColIndex = cellOptions.columnIndex + columnIndexOffset + 1;\r\n            this.setAria(\"colindex\", ariaColIndex, $cell)\r\n        }\r\n    },\r\n    _renderCell: function($row, options) {\r\n        var cellOptions = this._getCellOptions(options);\r\n        if (options.columnIndices) {\r\n            if (options.row.cells) {\r\n                var cellIndex = options.row.cells.findIndex(cell => cell.columnIndex === cellOptions.columnIndex);\r\n                options.row.cells[cellIndex] = cellOptions\r\n            }\r\n        } else {\r\n            options.row.cells.push(cellOptions)\r\n        }\r\n        var $cell = this._createCell(cellOptions);\r\n        this._setCellAriaAttributes($cell, cellOptions);\r\n        this._renderCellContent($cell, cellOptions);\r\n        $row.get(0).appendChild($cell.get(0));\r\n        return $cell\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var template = this._getCellTemplate(options);\r\n        when(!template || this.renderTemplate($cell, template, options)).done(() => {\r\n            this._updateCell($cell, options)\r\n        })\r\n    },\r\n    _getCellTemplate: function() {},\r\n    _getRows: function() {\r\n        return []\r\n    },\r\n    _getCellOptions: function(options) {\r\n        var cellOptions = {\r\n            column: options.column,\r\n            columnIndex: options.columnIndex,\r\n            rowType: options.row.rowType,\r\n            isAltRow: this._isAltRow(options.row)\r\n        };\r\n        this._addWatchMethod(cellOptions);\r\n        return cellOptions\r\n    },\r\n    _addWatchMethod: function(options, source) {\r\n        if (!this.option(\"repaintChangesOnly\")) {\r\n            return\r\n        }\r\n        var watchers = [];\r\n        source = source || options;\r\n        source.watch = source.watch || function(getter, updateValueFunc, updateRowFunc) {\r\n            var oldValue = getter(source.data);\r\n            var watcher = function(row) {\r\n                if (row && updateRowFunc) {\r\n                    updateRowFunc(row)\r\n                }\r\n                var newValue = getter(source.data);\r\n                if (JSON.stringify(oldValue) !== JSON.stringify(newValue)) {\r\n                    if (row) {\r\n                        updateValueFunc(newValue)\r\n                    }\r\n                    oldValue = newValue\r\n                }\r\n            };\r\n            watchers.push(watcher);\r\n            return function() {\r\n                var index = watchers.indexOf(watcher);\r\n                if (index >= 0) {\r\n                    watchers.splice(index, 1)\r\n                }\r\n            }\r\n        };\r\n        source.update = source.update || function(row, keepRow) {\r\n            if (row) {\r\n                this.data = options.data = row.data;\r\n                this.rowIndex = options.rowIndex = row.rowIndex;\r\n                this.dataIndex = options.dataIndex = row.dataIndex;\r\n                this.isExpanded = options.isExpanded = row.isExpanded;\r\n                if (options.row && !keepRow) {\r\n                    options.row = row\r\n                }\r\n            }\r\n            watchers.forEach((function(watcher) {\r\n                watcher(row)\r\n            }))\r\n        };\r\n        if (source !== options) {\r\n            options.watch = source.watch.bind(source)\r\n        }\r\n        return options\r\n    },\r\n    _cellPrepared: function(cell, options) {\r\n        options.cellElement = getPublicElement($(cell));\r\n        this.executeAction(\"onCellPrepared\", options)\r\n    },\r\n    _rowPrepared: function($row, options) {\r\n        elementData($row.get(0), \"options\", options);\r\n        options.rowElement = getPublicElement($row);\r\n        this.executeAction(\"onRowPrepared\", options)\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (gridCoreUtils.checkChanges(optionNames, [\"width\", \"visibleWidth\"])) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var widths = iteratorUtils.map(visibleColumns, (function(column) {\r\n                var width = column.visibleWidth || column.width;\r\n                return isDefined(width) ? width : \"auto\"\r\n            }));\r\n            this.setColumnWidths({\r\n                widths: widths,\r\n                optionNames: optionNames\r\n            });\r\n            return\r\n        }\r\n        if (!this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    getCellIndex: function($cell) {\r\n        var cellIndex = $cell.length ? $cell[0].cellIndex : -1;\r\n        return cellIndex\r\n    },\r\n    getTableElements: function() {\r\n        return this._tableElement || $()\r\n    },\r\n    getTableElement: function() {\r\n        return this._tableElement\r\n    },\r\n    setTableElement: function(tableElement) {\r\n        this._tableElement = tableElement\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        switch (args.name) {\r\n            case \"cellHintEnabled\":\r\n            case \"onCellPrepared\":\r\n            case \"onRowPrepared\":\r\n            case \"onCellHoverChanged\":\r\n                this._invalidate(true, true);\r\n                args.handled = true\r\n        }\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._scrollLeft = -1;\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._dataController = that.getController(\"data\");\r\n        that._delayedTemplates = [];\r\n        that._templatesCache = {};\r\n        that.createAction(\"onCellClick\");\r\n        that.createAction(\"onRowClick\");\r\n        that.createAction(\"onCellDblClick\");\r\n        that.createAction(\"onRowDblClick\");\r\n        that.createAction(\"onCellHoverChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        that.createAction(\"onCellPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        that.createAction(\"onRowPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\",\r\n            afterExecute: function(e) {\r\n                that._afterRowPrepared(e)\r\n            }\r\n        });\r\n        that._columnsController.columnsChanged.add(that._columnOptionChanged.bind(that));\r\n        that._dataController && that._dataController.changed.add(that._handleDataChanged.bind(that))\r\n    },\r\n    _afterRowPrepared: noop,\r\n    _handleDataChanged: function() {},\r\n    callbackNames: function() {\r\n        return [\"scrollChanged\"]\r\n    },\r\n    _updateScrollLeftPosition: function() {\r\n        var scrollLeft = this._scrollLeft;\r\n        if (scrollLeft >= 0) {\r\n            this._scrollLeft = 0;\r\n            this.scrollTo({\r\n                left: scrollLeft\r\n            })\r\n        }\r\n    },\r\n    scrollTo: function(pos) {\r\n        var $element = this.element();\r\n        var $scrollContainer = $element && $element.children(\".\" + this.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).not(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS));\r\n        if (isDefined(pos) && isDefined(pos.left) && this._scrollLeft !== pos.left) {\r\n            this._scrollLeft = pos.left;\r\n            $scrollContainer && $scrollContainer.scrollLeft(pos.left)\r\n        }\r\n    },\r\n    _wrapTableInScrollContainer: function($table) {\r\n        var $scrollContainer = $(\"<div>\");\r\n        var useNative = this.option(\"scrolling.useNative\");\r\n        if (false === useNative || \"auto\" === useNative && !nativeScrolling) {\r\n            $scrollContainer.addClass(this.addWidgetPrefix(SCROLLABLE_SIMULATED_CLASS))\r\n        }\r\n        eventsEngine.on($scrollContainer, \"scroll\", () => {\r\n            var scrollLeft = $scrollContainer.scrollLeft();\r\n            if (scrollLeft !== this._scrollLeft) {\r\n                this.scrollChanged.fire({\r\n                    left: scrollLeft\r\n                }, this.name)\r\n            }\r\n        });\r\n        $scrollContainer.addClass(this.addWidgetPrefix(CONTENT_CLASS)).addClass(this.addWidgetPrefix(SCROLL_CONTAINER_CLASS)).append($table).appendTo(this.element());\r\n        this.setAria(\"role\", \"presentation\", $scrollContainer);\r\n        return $scrollContainer\r\n    },\r\n    _updateContent: function($newTableElement) {\r\n        this.setTableElement($newTableElement);\r\n        this._wrapTableInScrollContainer($newTableElement)\r\n    },\r\n    _findContentElement: noop,\r\n    _getWidths: function($cellElements) {\r\n        var result = [];\r\n        var width;\r\n        if ($cellElements) {\r\n            iteratorUtils.each($cellElements, (function(index, item) {\r\n                width = item.offsetWidth;\r\n                if (item.getBoundingClientRect) {\r\n                    var clientRect = getBoundingRect(item);\r\n                    if (clientRect.width > width - 1) {\r\n                        width = clientRect.width\r\n                    }\r\n                }\r\n                result.push(width)\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    getColumnWidths: function($tableElement) {\r\n        var result = [];\r\n        var $rows;\r\n        var $cells;\r\n        (this.option(\"forceApplyBindings\") || noop)();\r\n        $tableElement = $tableElement || this.getTableElement();\r\n        if ($tableElement) {\r\n            $rows = $tableElement.children(\"tbody:not(.dx-header)\").children();\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                var $row = $rows.eq(i);\r\n                var isRowVisible = \"none\" !== $row.get(0).style.display && !$row.hasClass(\"dx-state-invisible\");\r\n                if (!$row.is(\".\" + GROUP_ROW_CLASS) && !$row.is(\".\" + DETAIL_ROW_CLASS) && !$row.is(\".\" + ERROR_ROW_CLASS) && isRowVisible) {\r\n                    $cells = $row.children(\"td\");\r\n                    break\r\n                }\r\n            }\r\n            result = this._getWidths($cells)\r\n        }\r\n        return result\r\n    },\r\n    getVisibleColumnIndex: function(columnIndex, rowIndex) {\r\n        return columnIndex\r\n    },\r\n    setColumnWidths: function(_ref) {\r\n        var {\r\n            widths: widths,\r\n            $tableElement: $tableElement,\r\n            columns: columns,\r\n            fixed: fixed\r\n        } = _ref;\r\n        var $cols;\r\n        var width;\r\n        var minWidth;\r\n        var columnIndex;\r\n        var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n        $tableElement = $tableElement || this.getTableElement();\r\n        if ($tableElement && $tableElement.length && widths) {\r\n            columnIndex = 0;\r\n            $cols = $tableElement.children(\"colgroup\").children(\"col\");\r\n            setWidth($cols, \"auto\");\r\n            columns = columns || this.getColumns(null, $tableElement);\r\n            for (var i = 0; i < columns.length; i++) {\r\n                if (columnAutoWidth && !fixed) {\r\n                    width = columns[i].width;\r\n                    if (width && !columns[i].command) {\r\n                        width = columns[i].visibleWidth || width;\r\n                        width = getWidthStyle(width);\r\n                        minWidth = getWidthStyle(columns[i].minWidth || width);\r\n                        var $rows = $rows || $tableElement.children().children(\".dx-row\").not(\".\" + DETAIL_ROW_CLASS);\r\n                        for (var rowIndex = 0; rowIndex < $rows.length; rowIndex++) {\r\n                            var row = $rows[rowIndex];\r\n                            var cell = void 0;\r\n                            var visibleIndex = this.getVisibleColumnIndex(i, rowIndex);\r\n                            if (row.classList.contains(GROUP_ROW_CLASS)) {\r\n                                cell = row.querySelector(\"td[aria-colindex='\".concat(visibleIndex + 1, \"']:not(.\").concat(GROUP_CELL_CLASS, \")\"))\r\n                            } else {\r\n                                cell = row.cells[visibleIndex]\r\n                            }\r\n                            if (cell) {\r\n                                setCellWidth(cell, columns[i], width);\r\n                                cell.style.minWidth = minWidth\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                if (columns[i].colspan) {\r\n                    columnIndex += columns[i].colspan;\r\n                    continue\r\n                }\r\n                width = widths[columnIndex];\r\n                if (\"adaptiveHidden\" === width) {\r\n                    width = HIDDEN_COLUMNS_WIDTH\r\n                }\r\n                if (\"number\" === typeof width) {\r\n                    width = width.toFixed(3) + \"px\"\r\n                }\r\n                setWidth($cols.eq(columnIndex), isDefined(width) ? width : \"auto\");\r\n                columnIndex++\r\n            }\r\n        }\r\n    },\r\n    getCellElements: function(rowIndex) {\r\n        return this._getCellElementsCore(rowIndex)\r\n    },\r\n    _getCellElementsCore: function(rowIndex) {\r\n        var $row = this._getRowElements().eq(rowIndex);\r\n        return $row.children()\r\n    },\r\n    _getCellElement: function(rowIndex, columnIdentifier) {\r\n        var $cell;\r\n        var $cells = this.getCellElements(rowIndex);\r\n        var columnVisibleIndex = this._getVisibleColumnIndex($cells, rowIndex, columnIdentifier);\r\n        if ($cells.length && columnVisibleIndex >= 0) {\r\n            $cell = $cells.eq(columnVisibleIndex)\r\n        }\r\n        if ($cell && $cell.length) {\r\n            return $cell\r\n        }\r\n    },\r\n    _getRowElement: function(rowIndex) {\r\n        var that = this;\r\n        var $rowElement = $();\r\n        var $tableElements = that.getTableElements();\r\n        iteratorUtils.each($tableElements, (function(_, tableElement) {\r\n            $rowElement = $rowElement.add(that._getRowElements($(tableElement)).eq(rowIndex))\r\n        }));\r\n        if ($rowElement.length) {\r\n            return $rowElement\r\n        }\r\n    },\r\n    getCellElement: function(rowIndex, columnIdentifier) {\r\n        return getPublicElement(this._getCellElement(rowIndex, columnIdentifier))\r\n    },\r\n    getRowElement: function(rowIndex) {\r\n        var $rows = this._getRowElement(rowIndex);\r\n        var elements = [];\r\n        if ($rows && !getPublicElement($rows).get) {\r\n            for (var i = 0; i < $rows.length; i++) {\r\n                elements.push($rows[i])\r\n            }\r\n        } else {\r\n            elements = $rows\r\n        }\r\n        return elements\r\n    },\r\n    _getVisibleColumnIndex: function($cells, rowIndex, columnIdentifier) {\r\n        if (isString(columnIdentifier)) {\r\n            var columnIndex = this._columnsController.columnOption(columnIdentifier, \"index\");\r\n            return this._columnsController.getVisibleIndex(columnIndex)\r\n        }\r\n        return columnIdentifier\r\n    },\r\n    getColumnElements: function() {},\r\n    getColumns: function(rowIndex) {\r\n        return this._columnsController.getVisibleColumns(rowIndex)\r\n    },\r\n    getCell: function(cellPosition, rows) {\r\n        var $rows = rows || this._getRowElements();\r\n        var $cells;\r\n        if ($rows.length > 0 && cellPosition.rowIndex >= 0) {\r\n            if (\"virtual\" !== this.option(\"scrolling.mode\") && \"virtual\" !== this.option(\"scrolling.rowRenderingMode\")) {\r\n                cellPosition.rowIndex = cellPosition.rowIndex < $rows.length ? cellPosition.rowIndex : $rows.length - 1\r\n            }\r\n            $cells = this.getCellElements(cellPosition.rowIndex);\r\n            if ($cells && $cells.length > 0) {\r\n                return $cells.eq($cells.length > cellPosition.columnIndex ? cellPosition.columnIndex : $cells.length - 1)\r\n            }\r\n        }\r\n    },\r\n    getRowsCount: function() {\r\n        var tableElement = this.getTableElement();\r\n        if (tableElement && 1 === tableElement.length) {\r\n            return tableElement[0].rows.length\r\n        }\r\n        return 0\r\n    },\r\n    _getRowElementsCore: function(tableElement) {\r\n        tableElement = tableElement || this.getTableElement();\r\n        if (tableElement) {\r\n            var hasRowTemplate = this.option().rowTemplate || this.option(\"dataRowTemplate\");\r\n            var tBodies = hasRowTemplate && tableElement.find(\"> tbody.\" + ROW_CLASS);\r\n            return tBodies && tBodies.length ? tBodies : tableElement.find(\"> tbody > .\" + ROW_CLASS + \", > .\" + ROW_CLASS)\r\n        }\r\n        return $()\r\n    },\r\n    _getRowElements: function(tableElement) {\r\n        return this._getRowElementsCore(tableElement)\r\n    },\r\n    getRowIndex: function($row) {\r\n        return this._getRowElements().index($row)\r\n    },\r\n    getBoundingRect: function() {},\r\n    getName: function() {},\r\n    setScrollerSpacing: function(width) {\r\n        var $element = this.element();\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        $element && $element.css({\r\n            paddingLeft: rtlEnabled ? width : \"\",\r\n            paddingRight: !rtlEnabled ? width : \"\"\r\n        })\r\n    },\r\n    isScrollbarVisible: function(isHorizontal) {\r\n        var $element = this.element();\r\n        var $tableElement = this._tableElement;\r\n        if ($element && $tableElement) {\r\n            return isHorizontal ? getOuterWidth($tableElement) - getWidth($element) > 0 : getOuterHeight($tableElement) - getHeight($element) > 0\r\n        }\r\n        return false\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/shared/accessibility.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\r\nvar FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUSED_ROW_SELECTOR = \".dx-row-focused\";\r\nvar GRID_ROW_SELECTOR = \".dx-datagrid-rowsview .dx-row\";\r\nvar GRID_CELL_SELECTOR = \"\".concat(GRID_ROW_SELECTOR, \" > td\");\r\nvar TREELIST_ROW_SELECTOR = \".dx-treelist-rowsview .dx-row\";\r\nvar TREELIST_CELL_SELECTOR = \"\".concat(TREELIST_ROW_SELECTOR, \" > td\");\r\nvar viewItemSelectorMap = {\r\n    groupPanel: [\".dx-datagrid-group-panel .dx-group-panel-item[tabindex]\"],\r\n    columnHeaders: [\".dx-datagrid-headers .dx-header-row > td.dx-datagrid-action\", \".dx-treelist-headers .dx-header-row > td.dx-treelist-action\"],\r\n    filterRow: [\".dx-datagrid-headers .dx-datagrid-filter-row .dx-editor-cell .dx-texteditor-input\", \".dx-treelist-headers .dx-treelist-filter-row .dx-editor-cell .dx-texteditor-input\"],\r\n    rowsView: [\"\".concat(FOCUSED_ROW_SELECTOR), \"\".concat(GRID_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(GRID_CELL_SELECTOR), \"\".concat(TREELIST_ROW_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR, \"[tabindex]\"), \"\".concat(TREELIST_CELL_SELECTOR)],\r\n    footer: [\".dx-datagrid-total-footer .dx-datagrid-summary-item\", \".dx-treelist-total-footer .dx-treelist-summary-item\"],\r\n    filterPanel: [\".dx-datagrid-filter-panel .dx-icon-filter\", \".dx-treelist-filter-panel .dx-icon-filter\"],\r\n    pager: [\".dx-datagrid-pager [tabindex]\", \".dx-treelist-pager [tabindex]\"]\r\n};\r\nvar isMouseDown = false;\r\nvar isHiddenFocusing = false;\r\nvar focusedElementInfo = null;\r\n\r\nfunction processKeyDown(viewName, instance, event, action, $mainElement, executeKeyDown) {\r\n    var isHandled = fireKeyDownEvent(instance, event.originalEvent, executeKeyDown);\r\n    if (isHandled) {\r\n        return\r\n    }\r\n    var keyName = normalizeKeyName(event);\r\n    if (\"enter\" === keyName || \"space\" === keyName) {\r\n        saveFocusedElementInfo(event.target, instance);\r\n        action && action({\r\n            event: event\r\n        })\r\n    } else if (\"tab\" === keyName) {\r\n        $mainElement.addClass(FOCUS_STATE_CLASS)\r\n    } else {\r\n        selectView(viewName, instance, event)\r\n    }\r\n}\r\n\r\nfunction saveFocusedElementInfo(target, instance) {\r\n    var $target = $(target);\r\n    var ariaLabel = $target.attr(\"aria-label\");\r\n    var $activeElements = getActiveAccessibleElements(ariaLabel, instance.element());\r\n    var targetIndex = $activeElements.index($target);\r\n    focusedElementInfo = extend({}, {\r\n        ariaLabel: ariaLabel,\r\n        index: targetIndex\r\n    }, {\r\n        viewInstance: instance\r\n    })\r\n}\r\n\r\nfunction getActiveAccessibleElements(ariaLabel, viewElement) {\r\n    var $viewElement = $(viewElement);\r\n    var $activeElements;\r\n    if (ariaLabel) {\r\n        $activeElements = $viewElement.find('[aria-label=\"'.concat(ariaLabel, '\"][tabindex]'))\r\n    } else {\r\n        $activeElements = $viewElement.find(\"[tabindex]\")\r\n    }\r\n    return $activeElements\r\n}\r\n\r\nfunction findFocusedViewElement(viewSelectors) {\r\n    for (var index in viewSelectors) {\r\n        var selector = viewSelectors[index];\r\n        var $focusViewElement = $(selector).first();\r\n        if ($focusViewElement.length) {\r\n            return $focusViewElement\r\n        }\r\n    }\r\n}\r\n\r\nfunction fireKeyDownEvent(instance, event, executeAction) {\r\n    var args = {\r\n        event: event,\r\n        handled: false\r\n    };\r\n    if (executeAction) {\r\n        executeAction(args)\r\n    } else {\r\n        instance._createActionByOption(\"onKeyDown\")(args)\r\n    }\r\n    return args.handled\r\n}\r\n\r\nfunction onDocumentVisibilityChange() {\r\n    isHiddenFocusing = \"visible\" === domAdapter.getDocument().visibilityState\r\n}\r\nexport function subscribeVisibilityChange() {\r\n    eventsEngine.on(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\nexport function unsubscribeVisibilityChange() {\r\n    eventsEngine.off(domAdapter.getDocument(), \"visibilitychange\", onDocumentVisibilityChange)\r\n}\r\nexport function hiddenFocus(element) {\r\n    isHiddenFocusing = true;\r\n    element.focus();\r\n    isHiddenFocusing = false\r\n}\r\nexport function registerKeyboardAction(viewName, instance, $element, selector, action, executeKeyDown) {\r\n    if (instance.option(\"useLegacyKeyboardNavigation\")) {\r\n        return noop\r\n    }\r\n    var getMainElement = () => $(instance.element());\r\n    var keyDownHandler = e => processKeyDown(viewName, instance, e, action, getMainElement(), executeKeyDown);\r\n    var mouseDownHandler = () => {\r\n        isMouseDown = true;\r\n        getMainElement().removeClass(FOCUS_STATE_CLASS)\r\n    };\r\n    var focusinHandler = () => {\r\n        var needShowOverlay = !isMouseDown && !isHiddenFocusing;\r\n        if (needShowOverlay) {\r\n            getMainElement().addClass(FOCUS_STATE_CLASS)\r\n        }\r\n        isMouseDown = false\r\n    };\r\n    eventsEngine.on($element, \"keydown\", selector, keyDownHandler);\r\n    eventsEngine.on($element, \"mousedown\", selector, mouseDownHandler);\r\n    eventsEngine.on($element, \"focusin\", selector, focusinHandler);\r\n    return () => {\r\n        eventsEngine.off($element, \"keydown\", selector, keyDownHandler);\r\n        eventsEngine.off($element, \"mousedown\", selector, mouseDownHandler);\r\n        eventsEngine.off($element, \"focusin\", selector, focusinHandler)\r\n    }\r\n}\r\nexport function restoreFocus(instance) {\r\n    if (!instance.option(\"useLegacyKeyboardNavigation\") && focusedElementInfo) {\r\n        var viewInstance = focusedElementInfo.viewInstance;\r\n        if (viewInstance) {\r\n            var $activeElements = getActiveAccessibleElements(focusedElementInfo.ariaLabel, viewInstance.element());\r\n            var $targetElement = $activeElements.eq(focusedElementInfo.index);\r\n            focusedElementInfo = null;\r\n            eventsEngine.trigger($targetElement, \"focus\")\r\n        }\r\n    }\r\n}\r\nexport function selectView(viewName, instance, event) {\r\n    var keyName = normalizeKeyName(event);\r\n    if (event.ctrlKey && (\"upArrow\" === keyName || \"downArrow\" === keyName)) {\r\n        var viewNames = Object.keys(viewItemSelectorMap);\r\n        var viewItemIndex = viewNames.indexOf(viewName);\r\n        while (viewItemIndex >= 0 && viewItemIndex < viewNames.length) {\r\n            viewItemIndex = \"upArrow\" === keyName ? --viewItemIndex : ++viewItemIndex;\r\n            var _viewName = viewNames[viewItemIndex];\r\n            var viewSelectors = viewItemSelectorMap[_viewName];\r\n            var $focusViewElement = findFocusedViewElement(viewSelectors);\r\n            if ($focusViewElement && $focusViewElement.length) {\r\n                $focusViewElement.attr(\"tabindex\", instance.option(\"tabindex\") || 0);\r\n                eventsEngine.trigger($focusViewElement, \"focus\");\r\n                $focusViewElement.removeClass(FOCUS_DISABLED_CLASS);\r\n                break\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function setTabIndex(instance, $element) {\r\n    if (!instance.option(\"useLegacyKeyboardnavigation\")) {\r\n        $element.attr(\"tabindex\", instance.option(\"tabindex\") || 0)\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.accessibility.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport * as accessibility from \"../../ui/shared/accessibility\";\r\nexport var registerKeyboardAction = function(viewName, instance, $element, selector, action) {\r\n    var keyboardController = instance.getController(\"keyboardNavigation\");\r\n    if (instance.option(\"useLegacyKeyboardNavigation\") || keyboardController && !keyboardController.isKeyboardEnabled()) {\r\n        return\r\n    }\r\n    instance.createAction(\"onKeyDown\");\r\n    accessibility.registerKeyboardAction(viewName, instance, $element, selector, action, args => {\r\n        instance.executeAction(\"onKeyDown\", args)\r\n    })\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_headers.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    registerKeyboardAction\r\n} from \"./ui.grid_core.accessibility\";\r\nvar CELL_CONTENT_CLASS = \"text-content\";\r\nvar HEADERS_CLASS = \"headers\";\r\nvar NOWRAP_CLASS = \"nowrap\";\r\nvar ROW_CLASS_SELECTOR = \".dx-row\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar CONTEXT_MENU_SORT_ASC_ICON = \"context-menu-sort-asc\";\r\nvar CONTEXT_MENU_SORT_DESC_ICON = \"context-menu-sort-desc\";\r\nvar CONTEXT_MENU_SORT_NONE_ICON = \"context-menu-sort-none\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar VISIBILITY_HIDDEN_CLASS = \"dx-visibility-hidden\";\r\nvar TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX = \"dx-text-content-alignment-\";\r\nvar SORT_INDICATOR_CLASS = \"dx-sort-indicator\";\r\nvar SORT_INDEX_INDICATOR_CLASS = \"dx-sort-index-indicator\";\r\nvar HEADER_FILTER_CLASS_SELECTOR = \".dx-header-filter\";\r\nvar HEADER_FILTER_INDICATOR_CLASS = \"dx-header-filter-indicator\";\r\nvar MULTI_ROW_HEADER_CLASS = \"dx-header-multi-row\";\r\nexport var columnHeadersModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            showColumnHeaders: true,\r\n            cellHintEnabled: true\r\n        }\r\n    },\r\n    views: {\r\n        columnHeadersView: ColumnsView.inherit(function() {\r\n            var createCellContent = function(that, $cell, options) {\r\n                var $cellContent = $(\"<div>\").addClass(that.addWidgetPrefix(CELL_CONTENT_CLASS));\r\n                that.setAria(\"role\", \"presentation\", $cellContent);\r\n                addCssClassesToCellContent(that, $cell, options.column, $cellContent);\r\n                var showColumnLines = that.option(\"showColumnLines\");\r\n                var contentAlignment = that.getController(\"columns\").getHeaderContentAlignment(options.column.alignment);\r\n                return $cellContent[showColumnLines || \"right\" === contentAlignment ? \"appendTo\" : \"prependTo\"]($cell)\r\n            };\r\n\r\n            function addCssClassesToCellContent(that, $cell, column, $cellContent) {\r\n                var $indicatorElements = that._getIndicatorElements($cell, true);\r\n                var $visibleIndicatorElements = that._getIndicatorElements($cell);\r\n                var indicatorCount = $indicatorElements && $indicatorElements.length;\r\n                var columnAlignment = that._getColumnAlignment(column.alignment);\r\n                var sortIndicatorClassName = \".\".concat(that._getIndicatorClassName(\"sort\"));\r\n                var sortIndexIndicatorClassName = \".\".concat(that._getIndicatorClassName(\"sortIndex\"));\r\n                var $sortIndicator = $visibleIndicatorElements.filter(sortIndicatorClassName);\r\n                var $sortIndexIndicator = $visibleIndicatorElements.children().filter(sortIndexIndicatorClassName);\r\n                $cellContent = $cellContent || $cell.children(\".\" + that.addWidgetPrefix(CELL_CONTENT_CLASS));\r\n                $cellContent.toggleClass(TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX + columnAlignment, indicatorCount > 0).toggleClass(TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX + (\"left\" === columnAlignment ? \"right\" : \"left\"), indicatorCount > 0 && \"center\" === column.alignment).toggleClass(SORT_INDICATOR_CLASS, !!$sortIndicator.length).toggleClass(SORT_INDEX_INDICATOR_CLASS, !!$sortIndexIndicator.length).toggleClass(HEADER_FILTER_INDICATOR_CLASS, !!$visibleIndicatorElements.filter(\".\" + that._getIndicatorClassName(\"headerFilter\")).length)\r\n            }\r\n            return {\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    eventsEngine.on($table, \"mousedown selectstart\", this.createAction((function(e) {\r\n                        var event = e.event;\r\n                        if (event.shiftKey) {\r\n                            event.preventDefault()\r\n                        }\r\n                    })));\r\n                    return $table\r\n                },\r\n                _isLegacyKeyboardNavigation() {\r\n                    return this.option(\"useLegacyKeyboardNavigation\")\r\n                },\r\n                _getDefaultTemplate: function(column) {\r\n                    var that = this;\r\n                    return function($container, options) {\r\n                        var $content = column.command ? $container : createCellContent(that, $container, options);\r\n                        var caption = \"expand\" !== column.command && column.caption;\r\n                        if (caption) {\r\n                            $content.text(caption)\r\n                        } else if (column.command) {\r\n                            $container.html(\"&nbsp;\")\r\n                        }\r\n                    }\r\n                },\r\n                _getHeaderTemplate: function(column) {\r\n                    return column.headerCellTemplate || {\r\n                        allowRenderToDetachedContainer: true,\r\n                        render: this._getDefaultTemplate(column)\r\n                    }\r\n                },\r\n                _processTemplate: function(template, options) {\r\n                    var that = this;\r\n                    var resultTemplate;\r\n                    var column = options.column;\r\n                    var renderingTemplate = that.callBase(template);\r\n                    if (\"header\" === options.rowType && renderingTemplate && column.headerCellTemplate && !column.command) {\r\n                        resultTemplate = {\r\n                            render: function(options) {\r\n                                var $content = createCellContent(that, options.container, options.model);\r\n                                renderingTemplate.render(extend({}, options, {\r\n                                    container: $content\r\n                                }))\r\n                            }\r\n                        }\r\n                    } else {\r\n                        resultTemplate = renderingTemplate\r\n                    }\r\n                    return resultTemplate\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    if (\"refresh\" !== e.changeType) {\r\n                        return\r\n                    }\r\n                    if (this._isGroupingChanged || this._requireReady) {\r\n                        this._isGroupingChanged = false;\r\n                        this.render()\r\n                    }\r\n                },\r\n                _renderCell: function($row, options) {\r\n                    var $cell = this.callBase($row, options);\r\n                    if (\"header\" === options.row.rowType) {\r\n                        $cell.addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                        if (!this._isLegacyKeyboardNavigation()) {\r\n                            if (options.column && !options.column.type) {\r\n                                $cell.attr(\"tabindex\", this.option(\"tabindex\") || 0)\r\n                            }\r\n                        }\r\n                    }\r\n                    return $cell\r\n                },\r\n                _setCellAriaAttributes: function($cell, cellOptions) {\r\n                    this.callBase($cell, cellOptions);\r\n                    if (\"header\" === cellOptions.rowType) {\r\n                        this.setAria(\"role\", \"columnheader\", $cell);\r\n                        if (cellOptions.column && !cellOptions.column.command && !cellOptions.column.isBand) {\r\n                            $cell.attr(\"id\", cellOptions.column.headerId);\r\n                            this.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaColumn\") + \" \" + cellOptions.column.caption, $cell)\r\n                        }\r\n                    }\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    $row.toggleClass(COLUMN_LINES_CLASS, this.option(\"showColumnLines\"));\r\n                    if (\"header\" === row.rowType) {\r\n                        $row.addClass(HEADER_ROW_CLASS);\r\n                        if (!this._isLegacyKeyboardNavigation()) {\r\n                            registerKeyboardAction(\"columnHeaders\", this, $row, \"td\", this._handleActionKeyDown.bind(this))\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _handleActionKeyDown: function(args) {\r\n                    var event = args.event;\r\n                    var $target = $(event.target);\r\n                    this._lastActionElement = event.target;\r\n                    if ($target.is(HEADER_FILTER_CLASS_SELECTOR)) {\r\n                        var headerFilterController = this.getController(\"headerFilter\");\r\n                        var $column = $target.closest(\"td\");\r\n                        var columnIndex = this.getColumnIndexByElement($column);\r\n                        if (columnIndex >= 0) {\r\n                            headerFilterController.showHeaderFilterMenu(columnIndex, false)\r\n                        }\r\n                    } else {\r\n                        var $row = $target.closest(ROW_CLASS_SELECTOR);\r\n                        this._processHeaderAction(event, $row)\r\n                    }\r\n                    event.preventDefault()\r\n                },\r\n                _renderCore: function() {\r\n                    var that = this;\r\n                    var $container = that.element();\r\n                    if (that._tableElement && !that._dataController.isLoaded() && !that._hasRowElements) {\r\n                        return\r\n                    }\r\n                    $container.addClass(that.addWidgetPrefix(HEADERS_CLASS)).toggleClass(that.addWidgetPrefix(NOWRAP_CLASS), !that.option(\"wordWrapEnabled\")).empty();\r\n                    that.setAria(\"role\", \"presentation\", $container);\r\n                    that._updateContent(that._renderTable());\r\n                    if (that.getRowCount() > 1) {\r\n                        $container.addClass(MULTI_ROW_HEADER_CLASS)\r\n                    }\r\n                    that.callBase.apply(that, arguments)\r\n                },\r\n                _renderRows: function() {\r\n                    var that = this;\r\n                    if (that._dataController.isLoaded() || that._hasRowElements) {\r\n                        that.callBase.apply(that, arguments);\r\n                        that._hasRowElements = true\r\n                    }\r\n                },\r\n                _getRowVisibleColumns: function(rowIndex) {\r\n                    return this._columnsController.getVisibleColumns(rowIndex)\r\n                },\r\n                _renderRow: function($table, options) {\r\n                    options.columns = this._getRowVisibleColumns(options.row.rowIndex);\r\n                    this.callBase($table, options)\r\n                },\r\n                _createCell: function(options) {\r\n                    var column = options.column;\r\n                    var $cellElement = this.callBase.apply(this, arguments);\r\n                    column.rowspan > 1 && \"header\" === options.rowType && $cellElement.attr(\"rowSpan\", column.rowspan);\r\n                    return $cellElement\r\n                },\r\n                _getRows: function() {\r\n                    var result = [];\r\n                    var rowCount = this.getRowCount();\r\n                    if (this.option(\"showColumnHeaders\")) {\r\n                        for (var i = 0; i < rowCount; i++) {\r\n                            result.push({\r\n                                rowType: \"header\",\r\n                                rowIndex: i\r\n                            })\r\n                        }\r\n                    }\r\n                    return result\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    if (\"header\" === options.rowType) {\r\n                        return this._getHeaderTemplate(options.column)\r\n                    }\r\n                },\r\n                _columnOptionChanged: function(e) {\r\n                    var changeTypes = e.changeTypes;\r\n                    var optionNames = e.optionNames;\r\n                    if (changeTypes.grouping || changeTypes.groupExpanding) {\r\n                        if (changeTypes.grouping) {\r\n                            this._isGroupingChanged = true\r\n                        }\r\n                        return\r\n                    }\r\n                    this.callBase(e);\r\n                    if (optionNames.width || optionNames.visible) {\r\n                        this.resizeCompleted.fire()\r\n                    }\r\n                },\r\n                _isElementVisible: function(elementOptions) {\r\n                    return elementOptions && elementOptions.visible\r\n                },\r\n                _alignCaptionByCenter: function($cell) {\r\n                    var $indicatorsContainer = this._getIndicatorContainer($cell, true);\r\n                    if ($indicatorsContainer && $indicatorsContainer.length) {\r\n                        $indicatorsContainer.filter(\".\" + VISIBILITY_HIDDEN_CLASS).remove();\r\n                        $indicatorsContainer = this._getIndicatorContainer($cell);\r\n                        $indicatorsContainer.clone().addClass(VISIBILITY_HIDDEN_CLASS).css(\"float\", \"\").insertBefore($cell.children(\".\" + this.addWidgetPrefix(CELL_CONTENT_CLASS)))\r\n                    }\r\n                },\r\n                _updateCell: function($cell, options) {\r\n                    if (\"header\" === options.rowType && \"center\" === options.column.alignment) {\r\n                        this._alignCaptionByCenter($cell)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _updateIndicator: function($cell, column, indicatorName) {\r\n                    var $indicatorElement = this.callBase.apply(this, arguments);\r\n                    if (\"center\" === column.alignment) {\r\n                        this._alignCaptionByCenter($cell)\r\n                    }\r\n                    addCssClassesToCellContent(this, $cell, column);\r\n                    return $indicatorElement\r\n                },\r\n                _getIndicatorContainer: function($cell, returnAll) {\r\n                    var $indicatorsContainer = this.callBase($cell);\r\n                    return returnAll ? $indicatorsContainer : $indicatorsContainer.filter(\":not(.\" + VISIBILITY_HIDDEN_CLASS + \")\")\r\n                },\r\n                _isSortableElement: function() {\r\n                    return true\r\n                },\r\n                getHeadersRowHeight: function() {\r\n                    var $tableElement = this.getTableElement();\r\n                    var $headerRows = $tableElement && $tableElement.find(\".\" + HEADER_ROW_CLASS);\r\n                    return $headerRows && $headerRows.toArray().reduce((function(sum, headerRow) {\r\n                        return sum + getHeight(headerRow)\r\n                    }), 0) || 0\r\n                },\r\n                getHeaderElement: function(index) {\r\n                    var columnElements = this.getColumnElements();\r\n                    return columnElements && columnElements.eq(index)\r\n                },\r\n                getColumnElements: function(index, bandColumnIndex) {\r\n                    var that = this;\r\n                    var $cellElement;\r\n                    var columnsController = that._columnsController;\r\n                    var rowCount = that.getRowCount();\r\n                    if (that.option(\"showColumnHeaders\")) {\r\n                        if (rowCount > 1 && (!isDefined(index) || isDefined(bandColumnIndex))) {\r\n                            var result = [];\r\n                            var visibleColumns = isDefined(bandColumnIndex) ? columnsController.getChildrenByBandColumn(bandColumnIndex, true) : columnsController.getVisibleColumns();\r\n                            each(visibleColumns, (function(_, column) {\r\n                                var rowIndex = isDefined(index) ? index : columnsController.getRowIndex(column.index);\r\n                                $cellElement = that._getCellElement(rowIndex, columnsController.getVisibleIndex(column.index, rowIndex));\r\n                                $cellElement && result.push($cellElement.get(0))\r\n                            }));\r\n                            return $(result)\r\n                        } else if (!index || index < rowCount) {\r\n                            return that.getCellElements(index || 0)\r\n                        }\r\n                    }\r\n                },\r\n                getColumnIndexByElement: function($cell) {\r\n                    var cellIndex = this.getCellIndex($cell);\r\n                    var $row = $cell.closest(\".dx-row\");\r\n                    var rowIndex = $row[0].rowIndex;\r\n                    var column = this.getColumns(rowIndex)[cellIndex];\r\n                    return column ? column.index : -1\r\n                },\r\n                getVisibleColumnIndex: function(columnIndex, rowIndex) {\r\n                    var column = this.getColumns()[columnIndex];\r\n                    return column ? this._columnsController.getVisibleIndex(column.index, rowIndex) : -1\r\n                },\r\n                getColumnWidths: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    if ($columnElements && $columnElements.length) {\r\n                        return this._getWidths($columnElements)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                allowDragging: function(column, sourceLocation, draggingPanels) {\r\n                    var i;\r\n                    var draggableColumnCount = 0;\r\n                    var rowIndex = column && this._columnsController.getRowIndex(column.index);\r\n                    var columns = this.getColumns(0 === rowIndex ? 0 : null);\r\n                    var canHideColumn = (null === column || void 0 === column ? void 0 : column.allowHiding) && columns.length > 1;\r\n                    var allowDrag = function(column) {\r\n                        return column.allowReordering || column.allowGrouping || column.allowHiding\r\n                    };\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        if (allowDrag(columns[i])) {\r\n                            draggableColumnCount++\r\n                        }\r\n                    }\r\n                    if (draggableColumnCount <= 1 && !canHideColumn) {\r\n                        return false\r\n                    } else if (!draggingPanels) {\r\n                        return (this.option(\"allowColumnReordering\") || this._columnsController.isColumnOptionUsed(\"allowReordering\")) && column && column.allowReordering\r\n                    }\r\n                    for (i = 0; i < draggingPanels.length; i++) {\r\n                        var draggingPanel = draggingPanels[i];\r\n                        if (draggingPanel && draggingPanel.allowDragging(column, sourceLocation)) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                getBoundingRect: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    if ($columnElements && $columnElements.length) {\r\n                        var offset = this.getTableElement().offset();\r\n                        return {\r\n                            top: offset.top\r\n                        }\r\n                    }\r\n                    return null\r\n                },\r\n                getName: function() {\r\n                    return \"headers\"\r\n                },\r\n                getColumnCount: function() {\r\n                    var $columnElements = this.getColumnElements();\r\n                    return $columnElements ? $columnElements.length : 0\r\n                },\r\n                isVisible: function() {\r\n                    return this.option(\"showColumnHeaders\")\r\n                },\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"showColumnHeaders\":\r\n                        case \"wordWrapEnabled\":\r\n                        case \"showColumnLines\":\r\n                            this._invalidate(true, true);\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                getHeight: function() {\r\n                    return this.getElementHeight()\r\n                },\r\n                getContextMenuItems: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    if (options.row && (\"header\" === options.row.rowType || \"detailAdaptive\" === options.row.rowType)) {\r\n                        var sortingOptions = that.option(\"sorting\");\r\n                        if (sortingOptions && \"none\" !== sortingOptions.mode && column && column.allowSorting) {\r\n                            var onItemClick = function(params) {\r\n                                setTimeout((function() {\r\n                                    that._columnsController.changeSortOrder(column.index, params.itemData.value)\r\n                                }))\r\n                            };\r\n                            return [{\r\n                                text: sortingOptions.ascendingText,\r\n                                value: \"asc\",\r\n                                disabled: \"asc\" === column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_ASC_ICON,\r\n                                onItemClick: onItemClick\r\n                            }, {\r\n                                text: sortingOptions.descendingText,\r\n                                value: \"desc\",\r\n                                disabled: \"desc\" === column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_DESC_ICON,\r\n                                onItemClick: onItemClick\r\n                            }, {\r\n                                text: sortingOptions.clearText,\r\n                                value: \"none\",\r\n                                disabled: !column.sortOrder,\r\n                                icon: CONTEXT_MENU_SORT_NONE_ICON,\r\n                                onItemClick: onItemClick\r\n                            }]\r\n                        }\r\n                    }\r\n                },\r\n                getRowCount: function() {\r\n                    return this._columnsController && this._columnsController.getRowCount()\r\n                },\r\n                setRowsOpacity: function(columnIndex, value, rowIndex) {\r\n                    var that = this;\r\n                    var i;\r\n                    var columnElements;\r\n                    var rowCount = that.getRowCount();\r\n                    var columns = that._columnsController.getColumns();\r\n                    var column = columns && columns[columnIndex];\r\n                    var columnID = column && column.isBand && column.index;\r\n                    var setColumnOpacity = function(index, column) {\r\n                        if (column.ownerBand === columnID) {\r\n                            columnElements.eq(index).css({\r\n                                opacity: value\r\n                            });\r\n                            if (column.isBand) {\r\n                                that.setRowsOpacity(column.index, value, i + 1)\r\n                            }\r\n                        }\r\n                    };\r\n                    if (isDefined(columnID)) {\r\n                        rowIndex = rowIndex || 0;\r\n                        for (i = rowIndex; i < rowCount; i++) {\r\n                            columnElements = that.getCellElements(i);\r\n                            each(that.getColumns(i), setColumnOpacity)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.column_headers.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnHeadersModule\r\n} from \"../grid_core/ui.grid_core.column_headers\";\r\nexport var ColumnHeadersView = columnHeadersModule.views.columnHeadersView;\r\ngridCore.registerModule(\"columnHeaders\", columnHeadersModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.columns_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    compileGetter,\r\n    compileSetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    isDefined,\r\n    isString,\r\n    isNumeric,\r\n    isFunction,\r\n    isObject,\r\n    isPlainObject,\r\n    type\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    inArray,\r\n    normalizeIndexes\r\n} from \"../../core/utils/array\";\r\nimport config from \"../../core/config\";\r\nimport {\r\n    orderEach,\r\n    deepExtendArraySafe\r\n} from \"../../core/utils/object\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport dateSerialization from \"../../core/utils/date_serialization\";\r\nimport numberLocalization from \"../../localization/number\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport Store from \"../../data/abstract_store\";\r\nimport {\r\n    DataSource\r\n} from \"../../data/data_source/data_source\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"../../data/data_source/utils\";\r\nimport filterUtils from \"../shared/filtering\";\r\nvar USER_STATE_FIELD_NAMES_15_1 = [\"filterValues\", \"filterType\", \"fixed\", \"fixedPosition\"];\r\nvar USER_STATE_FIELD_NAMES = [\"visibleIndex\", \"dataField\", \"name\", \"dataType\", \"width\", \"visible\", \"sortOrder\", \"lastSortOrder\", \"sortIndex\", \"groupIndex\", \"filterValue\", \"selectedFilterOperation\", \"added\"].concat(USER_STATE_FIELD_NAMES_15_1);\r\nvar IGNORE_COLUMN_OPTION_NAMES = {\r\n    visibleWidth: true,\r\n    bestFitWidth: true,\r\n    bufferedFilterValue: true\r\n};\r\nvar COMMAND_EXPAND_CLASS = \"dx-command-expand\";\r\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\nvar GROUP_COMMAND_COLUMN_NAME = \"groupExpand\";\r\nvar regExp = /columns\\[(\\d+)\\]\\.?/gi;\r\nvar globalColumnId = 1;\r\nexport var columnsControllerModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            commonColumnSettings: {\r\n                allowFiltering: true,\r\n                allowHiding: true,\r\n                allowSorting: true,\r\n                allowEditing: true,\r\n                encodeHtml: true,\r\n                trueText: messageLocalization.format(\"dxDataGrid-trueText\"),\r\n                falseText: messageLocalization.format(\"dxDataGrid-falseText\")\r\n            },\r\n            allowColumnReordering: false,\r\n            allowColumnResizing: false,\r\n            columnResizingMode: \"nextColumn\",\r\n            columnMinWidth: void 0,\r\n            columnWidth: void 0,\r\n            adaptColumnWidthByRatio: true,\r\n            columns: void 0,\r\n            regenerateColumnsByVisibleItems: false,\r\n            customizeColumns: null,\r\n            dateSerializationFormat: void 0\r\n        }\r\n    },\r\n    controllers: {\r\n        columns: modules.Controller.inherit(function() {\r\n            var DEFAULT_COLUMN_OPTIONS = {\r\n                visible: true,\r\n                showInColumnChooser: true\r\n            };\r\n            var DATATYPE_OPERATIONS = {\r\n                number: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"],\r\n                string: [\"contains\", \"notcontains\", \"startswith\", \"endswith\", \"=\", \"<>\"],\r\n                date: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"],\r\n                datetime: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"between\"]\r\n            };\r\n            var COLUMN_INDEX_OPTIONS = {\r\n                visibleIndex: true,\r\n                groupIndex: true,\r\n                grouped: true,\r\n                sortIndex: true,\r\n                sortOrder: true\r\n            };\r\n            var setFilterOperationsAsDefaultValues = function(column) {\r\n                column.filterOperations = column.defaultFilterOperations\r\n            };\r\n            var createColumn = function(that, columnOptions, userStateColumnOptions, bandColumn) {\r\n                var commonColumnOptions = {};\r\n                if (columnOptions) {\r\n                    if (isString(columnOptions)) {\r\n                        columnOptions = {\r\n                            dataField: columnOptions\r\n                        }\r\n                    }\r\n                    that.setName(columnOptions);\r\n                    var result = {};\r\n                    if (columnOptions.command) {\r\n                        result = deepExtendArraySafe(commonColumnOptions, columnOptions)\r\n                    } else {\r\n                        commonColumnOptions = that.getCommonSettings(columnOptions);\r\n                        if (userStateColumnOptions && userStateColumnOptions.name && userStateColumnOptions.dataField) {\r\n                            columnOptions = extend({}, columnOptions, {\r\n                                dataField: userStateColumnOptions.dataField\r\n                            })\r\n                        }\r\n                        var calculatedColumnOptions = that._createCalculatedColumnOptions(columnOptions, bandColumn);\r\n                        if (!columnOptions.type) {\r\n                            result = {\r\n                                headerId: \"dx-col-\".concat(globalColumnId++)\r\n                            }\r\n                        }\r\n                        result = deepExtendArraySafe(result, DEFAULT_COLUMN_OPTIONS);\r\n                        deepExtendArraySafe(result, commonColumnOptions);\r\n                        deepExtendArraySafe(result, calculatedColumnOptions);\r\n                        deepExtendArraySafe(result, columnOptions);\r\n                        deepExtendArraySafe(result, {\r\n                            selector: null\r\n                        })\r\n                    }\r\n                    if (columnOptions.filterOperations === columnOptions.defaultFilterOperations) {\r\n                        setFilterOperationsAsDefaultValues(result)\r\n                    }\r\n                    return result\r\n                }\r\n            };\r\n            var createColumnsFromOptions = function createColumnsFromOptions(that, columnsOptions, bandColumn) {\r\n                var result = [];\r\n                if (columnsOptions) {\r\n                    each(columnsOptions, (function(index, columnOptions) {\r\n                        var userStateColumnOptions = that._columnsUserState && checkUserStateColumn(columnOptions, that._columnsUserState[index]) && that._columnsUserState[index];\r\n                        var column = createColumn(that, columnOptions, userStateColumnOptions, bandColumn);\r\n                        if (column) {\r\n                            if (bandColumn) {\r\n                                column.ownerBand = bandColumn\r\n                            }\r\n                            result.push(column);\r\n                            if (column.columns) {\r\n                                result = result.concat(createColumnsFromOptions(that, column.columns, column));\r\n                                delete column.columns;\r\n                                column.hasColumns = true\r\n                            }\r\n                        }\r\n                    }))\r\n                }\r\n                return result\r\n            };\r\n            var getParentBandColumns = function(columnIndex, columnParentByIndex) {\r\n                var result = [];\r\n                var parent = columnParentByIndex[columnIndex];\r\n                while (parent) {\r\n                    result.unshift(parent);\r\n                    columnIndex = parent.index;\r\n                    parent = columnParentByIndex[columnIndex]\r\n                }\r\n                return result\r\n            };\r\n            var _getChildrenByBandColumn = function(columnIndex, columnChildrenByIndex, recursive) {\r\n                var result = [];\r\n                var children = columnChildrenByIndex[columnIndex];\r\n                if (children) {\r\n                    for (var i = 0; i < children.length; i++) {\r\n                        var column = children[i];\r\n                        if (!isDefined(column.groupIndex) || column.showWhenGrouped) {\r\n                            result.push(column);\r\n                            if (recursive && column.isBand) {\r\n                                result = result.concat(_getChildrenByBandColumn(column.index, columnChildrenByIndex, recursive))\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return result\r\n            };\r\n            var getColumnFullPath = function(that, column) {\r\n                var result = [];\r\n                var columns;\r\n                var bandColumnsCache = that.getBandColumnsCache();\r\n                var callbackFilter = function(item) {\r\n                    return item.ownerBand === column.ownerBand\r\n                };\r\n                if (bandColumnsCache.isPlain) {\r\n                    var columnIndex = that._columns.indexOf(column);\r\n                    if (columnIndex >= 0) {\r\n                        result = [\"columns[\".concat(columnIndex, \"]\")]\r\n                    }\r\n                } else {\r\n                    columns = that._columns.filter(callbackFilter);\r\n                    while (columns.length && -1 !== columns.indexOf(column)) {\r\n                        result.unshift(\"columns[\".concat(columns.indexOf(column), \"]\"));\r\n                        column = bandColumnsCache.columnParentByIndex[column.index];\r\n                        columns = column ? that._columns.filter(callbackFilter) : []\r\n                    }\r\n                }\r\n                return result.join(\".\")\r\n            };\r\n            var calculateColspan = function calculateColspan(that, columnID) {\r\n                var colspan = 0;\r\n                var columns = that.getChildrenByBandColumn(columnID, true);\r\n                each(columns, (function(_, column) {\r\n                    if (column.isBand) {\r\n                        column.colspan = column.colspan || calculateColspan(that, column.index);\r\n                        colspan += column.colspan || 1\r\n                    } else {\r\n                        colspan += 1\r\n                    }\r\n                }));\r\n                return colspan\r\n            };\r\n            var getValueDataType = function(value) {\r\n                var dataType = type(value);\r\n                if (\"string\" !== dataType && \"boolean\" !== dataType && \"number\" !== dataType && \"date\" !== dataType && \"object\" !== dataType) {\r\n                    dataType = void 0\r\n                }\r\n                return dataType\r\n            };\r\n            var getSerializationFormat = function(dataType, value) {\r\n                switch (dataType) {\r\n                    case \"date\":\r\n                    case \"datetime\":\r\n                        return dateSerialization.getDateSerializationFormat(value);\r\n                    case \"number\":\r\n                        if (isString(value)) {\r\n                            return \"string\"\r\n                        }\r\n                        if (isNumeric(value)) {\r\n                            return null\r\n                        }\r\n                }\r\n            };\r\n            var updateSerializers = function(options, dataType) {\r\n                if (!options.deserializeValue) {\r\n                    if (gridCoreUtils.isDateType(dataType)) {\r\n                        options.deserializeValue = function(value) {\r\n                            return dateSerialization.deserializeDate(value)\r\n                        };\r\n                        options.serializeValue = function(value) {\r\n                            return isString(value) ? value : dateSerialization.serializeDate(value, this.serializationFormat)\r\n                        }\r\n                    }\r\n                    if (\"number\" === dataType) {\r\n                        options.deserializeValue = function(value) {\r\n                            var parsedValue = parseFloat(value);\r\n                            return isNaN(parsedValue) ? value : parsedValue\r\n                        };\r\n                        options.serializeValue = function(value, target) {\r\n                            if (\"filter\" === target) {\r\n                                return value\r\n                            }\r\n                            return isDefined(value) && \"string\" === this.serializationFormat ? value.toString() : value\r\n                        }\r\n                    }\r\n                }\r\n            };\r\n            var customizeTextForBooleanDataType = function(e) {\r\n                if (true === e.value) {\r\n                    return this.trueText || \"true\"\r\n                } else if (false === e.value) {\r\n                    return this.falseText || \"false\"\r\n                } else {\r\n                    return e.valueText || \"\"\r\n                }\r\n            };\r\n            var getCustomizeTextByDataType = function(dataType) {\r\n                if (\"boolean\" === dataType) {\r\n                    return customizeTextForBooleanDataType\r\n                }\r\n            };\r\n            var updateColumnIndexes = function(that) {\r\n                each(that._columns, (function(index, column) {\r\n                    column.index = index\r\n                }));\r\n                each(that._columns, (function(index, column) {\r\n                    if (isObject(column.ownerBand)) {\r\n                        column.ownerBand = column.ownerBand.index\r\n                    }\r\n                }));\r\n                each(that._commandColumns, (function(index, column) {\r\n                    column.index = -(index + 1)\r\n                }))\r\n            };\r\n            var updateColumnGroupIndexes = function(that, currentColumn) {\r\n                normalizeIndexes(that._columns, \"groupIndex\", currentColumn, (function(column) {\r\n                    var grouped = column.grouped;\r\n                    delete column.grouped;\r\n                    return grouped\r\n                }))\r\n            };\r\n            var getColumnIndexByVisibleIndex = function(that, visibleIndex, location) {\r\n                var rowIndex = isObject(visibleIndex) ? visibleIndex.rowIndex : null;\r\n                var columns = \"group\" === location ? that.getGroupColumns() : \"columnChooser\" === location ? that.getChooserColumns() : that.getVisibleColumns(rowIndex);\r\n                var column;\r\n                visibleIndex = isObject(visibleIndex) ? visibleIndex.columnIndex : visibleIndex;\r\n                column = columns[visibleIndex];\r\n                if (column && column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                    column = that._columns.filter(col => column.type === col.type)[0] || column\r\n                }\r\n                return column && isDefined(column.index) ? column.index : -1\r\n            };\r\n\r\n            function checkUserStateColumn(column, userStateColumn) {\r\n                return column && userStateColumn && userStateColumn.name === (column.name || column.dataField) && (userStateColumn.dataField === column.dataField || column.name)\r\n            }\r\n            var applyUserState = function(that) {\r\n                var columnsUserState = that._columnsUserState;\r\n                var ignoreColumnOptionNames = that._ignoreColumnOptionNames || [];\r\n                var columns = that._columns;\r\n                var columnCountById = {};\r\n                var resultColumns = [];\r\n                var allColumnsHaveState = true;\r\n                var userStateColumnIndexes = [];\r\n                var column;\r\n                var userStateColumnIndex;\r\n                var i;\r\n\r\n                function applyFieldsState(column, userStateColumn) {\r\n                    if (!userStateColumn) {\r\n                        return\r\n                    }\r\n                    for (var index = 0; index < USER_STATE_FIELD_NAMES.length; index++) {\r\n                        var fieldName = USER_STATE_FIELD_NAMES[index];\r\n                        if (inArray(fieldName, ignoreColumnOptionNames) >= 0) {\r\n                            continue\r\n                        }\r\n                        if (\"dataType\" === fieldName) {\r\n                            column[fieldName] = column[fieldName] || userStateColumn[fieldName]\r\n                        } else if (inArray(fieldName, USER_STATE_FIELD_NAMES_15_1) >= 0) {\r\n                            if (fieldName in userStateColumn) {\r\n                                column[fieldName] = userStateColumn[fieldName]\r\n                            }\r\n                        } else {\r\n                            if (\"selectedFilterOperation\" === fieldName && userStateColumn[fieldName]) {\r\n                                column.defaultSelectedFilterOperation = column[fieldName] || null\r\n                            }\r\n                            column[fieldName] = userStateColumn[fieldName]\r\n                        }\r\n                    }\r\n                }\r\n\r\n                function findUserStateColumn(columnsUserState, column) {\r\n                    var id = column.name || column.dataField;\r\n                    var count = columnCountById[id] || 0;\r\n                    for (var j = 0; j < columnsUserState.length; j++) {\r\n                        if (checkUserStateColumn(column, columnsUserState[j])) {\r\n                            if (count) {\r\n                                count--\r\n                            } else {\r\n                                columnCountById[id] = columnCountById[id] || 0;\r\n                                columnCountById[id]++;\r\n                                return j\r\n                            }\r\n                        }\r\n                    }\r\n                    return -1\r\n                }\r\n                if (columnsUserState) {\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        userStateColumnIndex = findUserStateColumn(columnsUserState, columns[i]);\r\n                        allColumnsHaveState = allColumnsHaveState && userStateColumnIndex >= 0;\r\n                        userStateColumnIndexes.push(userStateColumnIndex)\r\n                    }\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        column = columns[i];\r\n                        userStateColumnIndex = userStateColumnIndexes[i];\r\n                        if (that._hasUserState || allColumnsHaveState) {\r\n                            applyFieldsState(column, columnsUserState[userStateColumnIndex])\r\n                        }\r\n                        if (userStateColumnIndex >= 0 && isDefined(columnsUserState[userStateColumnIndex].initialIndex)) {\r\n                            resultColumns[userStateColumnIndex] = column\r\n                        } else {\r\n                            resultColumns.push(column)\r\n                        }\r\n                    }\r\n                    var hasAddedBands = false;\r\n                    for (i = 0; i < columnsUserState.length; i++) {\r\n                        var columnUserState = columnsUserState[i];\r\n                        if (columnUserState.added && findUserStateColumn(columns, columnUserState) < 0) {\r\n                            column = createColumn(that, columnUserState.added);\r\n                            applyFieldsState(column, columnUserState);\r\n                            resultColumns.push(column);\r\n                            if (columnUserState.added.columns) {\r\n                                hasAddedBands = true\r\n                            }\r\n                        }\r\n                    }\r\n                    if (hasAddedBands) {\r\n                        updateColumnIndexes(that);\r\n                        resultColumns = createColumnsFromOptions(that, resultColumns)\r\n                    }\r\n                    assignColumns(that, resultColumns)\r\n                }\r\n            };\r\n            var updateIndexes = function(that, column) {\r\n                updateColumnIndexes(that);\r\n                updateColumnGroupIndexes(that, column);\r\n                ! function(that, currentColumn) {\r\n                    each(that._columns, (function(index, column) {\r\n                        if (isDefined(column.sortIndex) && !isSortOrderValid(column.sortOrder)) {\r\n                            delete column.sortIndex\r\n                        }\r\n                    }));\r\n                    normalizeIndexes(that._columns, \"sortIndex\", currentColumn, (function(column) {\r\n                        return !isDefined(column.groupIndex) && isSortOrderValid(column.sortOrder)\r\n                    }))\r\n                }(that, column);\r\n                resetBandColumnsCache(that);\r\n                ! function(that, currentColumn) {\r\n                    var key;\r\n                    var column;\r\n                    var bandColumns = {};\r\n                    var result = [];\r\n                    var bandColumnsCache = that.getBandColumnsCache();\r\n                    var columns = that._columns.filter(column => !column.command);\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        column = columns[i];\r\n                        var parentBandColumns = getParentBandColumns(i, bandColumnsCache.columnParentByIndex);\r\n                        if (parentBandColumns.length) {\r\n                            var bandColumnIndex = parentBandColumns[parentBandColumns.length - 1].index;\r\n                            bandColumns[bandColumnIndex] = bandColumns[bandColumnIndex] || [];\r\n                            bandColumns[bandColumnIndex].push(column)\r\n                        } else {\r\n                            result.push(column)\r\n                        }\r\n                    }\r\n                    for (key in bandColumns) {\r\n                        normalizeIndexes(bandColumns[key], \"visibleIndex\", currentColumn)\r\n                    }\r\n                    normalizeIndexes(result, \"visibleIndex\", currentColumn)\r\n                }(that, column)\r\n            };\r\n            var resetColumnsCache = function(that) {\r\n                that.resetColumnsCache()\r\n            };\r\n\r\n            function assignColumns(that, columns) {\r\n                that._columns = columns;\r\n                resetColumnsCache(that);\r\n                that.updateColumnDataTypes()\r\n            }\r\n            var updateColumnChanges = function(that, changeType, optionName, columnIndex) {\r\n                var columnChanges = that._columnChanges || {\r\n                    optionNames: {\r\n                        length: 0\r\n                    },\r\n                    changeTypes: {\r\n                        length: 0\r\n                    },\r\n                    columnIndex: columnIndex\r\n                };\r\n                optionName = optionName || \"all\";\r\n                optionName = optionName.split(\".\")[0];\r\n                var changeTypes = columnChanges.changeTypes;\r\n                if (changeType && !changeTypes[changeType]) {\r\n                    changeTypes[changeType] = true;\r\n                    changeTypes.length++\r\n                }\r\n                var optionNames = columnChanges.optionNames;\r\n                if (optionName && !optionNames[optionName]) {\r\n                    optionNames[optionName] = true;\r\n                    optionNames.length++\r\n                }\r\n                if (void 0 === columnIndex || columnIndex !== columnChanges.columnIndex) {\r\n                    delete columnChanges.columnIndex\r\n                }\r\n                that._columnChanges = columnChanges;\r\n                resetColumnsCache(that)\r\n            };\r\n            var fireColumnsChanged = function(that) {\r\n                var onColumnsChanging = that.option(\"onColumnsChanging\");\r\n                var columnChanges = that._columnChanges;\r\n                var reinitOptionNames = [\"dataField\", \"lookup\", \"dataType\", \"columns\"];\r\n                if (that.isInitialized() && !that._updateLockCount && columnChanges) {\r\n                    if (onColumnsChanging) {\r\n                        that._updateLockCount++;\r\n                        onColumnsChanging(extend({\r\n                            component: that.component\r\n                        }, columnChanges));\r\n                        that._updateLockCount--\r\n                    }\r\n                    that._columnChanges = void 0;\r\n                    if (options = columnChanges.optionNames, options && reinitOptionNames.some(name => options[name])) {\r\n                        that.reinit()\r\n                    } else {\r\n                        that.columnsChanged.fire(columnChanges)\r\n                    }\r\n                }\r\n                var options\r\n            };\r\n            var updateSortOrderWhenGrouping = function(that, column, groupIndex, prevGroupIndex) {\r\n                var columnWasGrouped = prevGroupIndex >= 0;\r\n                if (groupIndex >= 0) {\r\n                    if (!columnWasGrouped) {\r\n                        column.lastSortOrder = column.sortOrder\r\n                    }\r\n                } else {\r\n                    var sortMode = that.option(\"sorting.mode\");\r\n                    var sortOrder = column.lastSortOrder;\r\n                    if (\"single\" === sortMode) {\r\n                        var sortedByAnotherColumn = that._columns.some(col => col !== column && isDefined(col.sortIndex));\r\n                        if (sortedByAnotherColumn) {\r\n                            sortOrder = void 0\r\n                        }\r\n                    }\r\n                    column.sortOrder = sortOrder\r\n                }\r\n            };\r\n            var fireOptionChanged = function(that, options) {\r\n                var value = options.value;\r\n                var optionName = options.optionName;\r\n                var prevValue = options.prevValue;\r\n                var fullOptionName = options.fullOptionName;\r\n                var fullOptionPath = \"\".concat(fullOptionName, \".\").concat(optionName);\r\n                if (!IGNORE_COLUMN_OPTION_NAMES[optionName] && that._skipProcessingColumnsChange !== fullOptionPath) {\r\n                    that._skipProcessingColumnsChange = fullOptionPath;\r\n                    that.component._notifyOptionChanged(fullOptionPath, value, prevValue);\r\n                    that._skipProcessingColumnsChange = false\r\n                }\r\n            };\r\n            var columnOptionCore = function(that, column, optionName, value, notFireEvent) {\r\n                var optionGetter = compileGetter(optionName);\r\n                var columnIndex = column.index;\r\n                var columns;\r\n                var changeType;\r\n                var initialColumn;\r\n                if (3 === arguments.length) {\r\n                    return optionGetter(column, {\r\n                        functionsAsIs: true\r\n                    })\r\n                }\r\n                var prevValue = optionGetter(column, {\r\n                    functionsAsIs: true\r\n                });\r\n                if (prevValue !== value) {\r\n                    if (\"groupIndex\" === optionName || \"calculateGroupValue\" === optionName) {\r\n                        changeType = \"grouping\";\r\n                        updateSortOrderWhenGrouping(that, column, value, prevValue)\r\n                    } else if (\"sortIndex\" === optionName || \"sortOrder\" === optionName || \"calculateSortValue\" === optionName) {\r\n                        changeType = \"sorting\"\r\n                    } else {\r\n                        changeType = \"columns\"\r\n                    }\r\n                    var optionSetter = compileSetter(optionName);\r\n                    optionSetter(column, value, {\r\n                        functionsAsIs: true\r\n                    });\r\n                    var fullOptionName = getColumnFullPath(that, column);\r\n                    if (COLUMN_INDEX_OPTIONS[optionName]) {\r\n                        updateIndexes(that, column);\r\n                        value = optionGetter(column)\r\n                    }\r\n                    if (\"name\" === optionName || \"allowEditing\" === optionName) {\r\n                        that._checkColumns()\r\n                    }\r\n                    if (!isDefined(prevValue) && !isDefined(value) && 0 !== optionName.indexOf(\"buffer\")) {\r\n                        notFireEvent = true\r\n                    }\r\n                    if (!notFireEvent) {\r\n                        if (inArray(optionName, USER_STATE_FIELD_NAMES) < 0 && \"visibleWidth\" !== optionName) {\r\n                            columns = that.option(\"columns\");\r\n                            initialColumn = that.getColumnByPath(fullOptionName, columns);\r\n                            if (isString(initialColumn)) {\r\n                                initialColumn = columns[columnIndex] = {\r\n                                    dataField: initialColumn\r\n                                }\r\n                            }\r\n                            if (initialColumn && checkUserStateColumn(initialColumn, column)) {\r\n                                optionSetter(initialColumn, value, {\r\n                                    functionsAsIs: true\r\n                                })\r\n                            }\r\n                        }\r\n                        updateColumnChanges(that, changeType, optionName, columnIndex)\r\n                    } else {\r\n                        resetColumnsCache(that)\r\n                    }\r\n                    fullOptionName && fireOptionChanged(that, {\r\n                        fullOptionName: fullOptionName,\r\n                        optionName: optionName,\r\n                        value: value,\r\n                        prevValue: prevValue\r\n                    })\r\n                }\r\n            };\r\n\r\n            function isSortOrderValid(sortOrder) {\r\n                return \"asc\" === sortOrder || \"desc\" === sortOrder\r\n            }\r\n            var defaultSetCellValue = function(data, value) {\r\n                var path = this.dataField.split(\".\");\r\n                var dotCount = path.length - 1;\r\n                if (this.serializeValue) {\r\n                    value = this.serializeValue(value)\r\n                }\r\n                for (var i = 0; i < dotCount; i++) {\r\n                    var name = path[i];\r\n                    data = data[name] = data[name] || {}\r\n                }\r\n                data[path[dotCount]] = value\r\n            };\r\n            var isCustomCommandColumn = (that, commandColumn) => !!that._columns.filter(column => column.type === commandColumn.type).length;\r\n            var getFixedPosition = function(that, column) {\r\n                var rtlEnabled = that.option(\"rtlEnabled\");\r\n                if (column.command && !isCustomCommandColumn(that, column) || !column.fixedPosition) {\r\n                    return rtlEnabled ? \"right\" : \"left\"\r\n                }\r\n                return column.fixedPosition\r\n            };\r\n            var processExpandColumns = function(columns, expandColumns, type, columnIndex) {\r\n                var customColumnIndex;\r\n                var rowCount = this.getRowCount();\r\n                var rowspan = columns[columnIndex] && columns[columnIndex].rowspan;\r\n                var expandColumnsByType = expandColumns.filter(column => column.type === type);\r\n                columns.forEach((column, index) => {\r\n                    if (column.type === type) {\r\n                        customColumnIndex = index;\r\n                        rowspan = columns[index + 1] ? columns[index + 1].rowspan : rowCount\r\n                    }\r\n                });\r\n                if (rowspan > 1) {\r\n                    expandColumnsByType = map(expandColumnsByType, (function(expandColumn) {\r\n                        return extend({}, expandColumn, {\r\n                            rowspan: rowspan\r\n                        })\r\n                    }))\r\n                }\r\n                expandColumnsByType.unshift.apply(expandColumnsByType, isDefined(customColumnIndex) ? [customColumnIndex, 1] : [columnIndex, 0]);\r\n                columns.splice.apply(columns, expandColumnsByType);\r\n                return rowspan || 1\r\n            };\r\n            var numberToString = function(number, digitsCount) {\r\n                var str = number ? number.toString() : \"0\";\r\n                while (str.length < digitsCount) {\r\n                    str = \"0\" + str\r\n                }\r\n                return str\r\n            };\r\n            var mergeColumns = (that, columns, commandColumns, needToExtend) => {\r\n                var column;\r\n                var commandColumnIndex;\r\n                var result = columns.slice().map(column => extend({}, column));\r\n                var isColumnFixing = that._isColumnFixing();\r\n                var defaultCommandColumns = commandColumns.slice().map(column => extend({\r\n                    fixed: isColumnFixing\r\n                }, column));\r\n                var getCommandColumnIndex = column => commandColumns.reduce((result, commandColumn, index) => {\r\n                    var columnType = needToExtend && column.type === GROUP_COMMAND_COLUMN_NAME ? \"expand\" : column.type;\r\n                    return commandColumn.type === columnType || commandColumn.command === column.command ? index : result\r\n                }, -1);\r\n                var callbackFilter = commandColumn => commandColumn.command !== commandColumns[commandColumnIndex].command;\r\n                for (var i = 0; i < columns.length; i++) {\r\n                    column = columns[i];\r\n                    commandColumnIndex = column && (column.type || column.command) ? getCommandColumnIndex(column) : -1;\r\n                    if (commandColumnIndex >= 0) {\r\n                        if (needToExtend) {\r\n                            result[i] = extend({\r\n                                fixed: isColumnFixing\r\n                            }, commandColumns[commandColumnIndex], column);\r\n                            if (column.type !== GROUP_COMMAND_COLUMN_NAME) {\r\n                                defaultCommandColumns = defaultCommandColumns.filter(callbackFilter)\r\n                            }\r\n                        } else {\r\n                            var columnOptions = {\r\n                                visibleIndex: column.visibleIndex,\r\n                                index: column.index,\r\n                                headerId: column.headerId,\r\n                                allowFixing: 0 === column.groupIndex,\r\n                                allowReordering: 0 === column.groupIndex,\r\n                                groupIndex: column.groupIndex\r\n                            };\r\n                            result[i] = extend({}, column, commandColumns[commandColumnIndex], column.type === GROUP_COMMAND_COLUMN_NAME && columnOptions)\r\n                        }\r\n                    }\r\n                }\r\n                if (columns.length && needToExtend && defaultCommandColumns.length) {\r\n                    result = result.concat(defaultCommandColumns)\r\n                }\r\n                return result\r\n            };\r\n            var isColumnFixed = (that, column) => isDefined(column.fixed) || !column.type ? column.fixed : that._isColumnFixing();\r\n            var resetBandColumnsCache = that => {\r\n                that._bandColumnsCache = void 0\r\n            };\r\n            var findColumn = (columns, identifier) => {\r\n                var identifierOptionName = isString(identifier) && identifier.substr(0, identifier.indexOf(\":\"));\r\n                var column;\r\n                if (void 0 === identifier) {\r\n                    return\r\n                }\r\n                if (identifierOptionName) {\r\n                    identifier = identifier.substr(identifierOptionName.length + 1)\r\n                }\r\n                if (identifierOptionName) {\r\n                    column = columns.filter(column => \"\" + column[identifierOptionName] === identifier)[0]\r\n                } else {\r\n                    [\"index\", \"name\", \"dataField\", \"caption\"].some(optionName => {\r\n                        column = columns.filter(column => column[optionName] === identifier)[0];\r\n                        return !!column\r\n                    })\r\n                }\r\n                return column\r\n            };\r\n            return {\r\n                _getExpandColumnOptions: function() {\r\n                    return {\r\n                        type: \"expand\",\r\n                        command: \"expand\",\r\n                        width: \"auto\",\r\n                        cssClass: COMMAND_EXPAND_CLASS,\r\n                        allowEditing: false,\r\n                        allowGrouping: false,\r\n                        allowSorting: false,\r\n                        allowResizing: false,\r\n                        allowReordering: false,\r\n                        allowHiding: false\r\n                    }\r\n                },\r\n                _getFirstItems: function(dataSource) {\r\n                    var groupsCount;\r\n                    var items = [];\r\n                    if (dataSource && dataSource.items().length > 0) {\r\n                        groupsCount = gridCoreUtils.normalizeSortingInfo(dataSource.group()).length;\r\n                        items = function getFirstItemsCore(items, groupsCount) {\r\n                            if (!items || !groupsCount) {\r\n                                return items\r\n                            }\r\n                            for (var i = 0; i < items.length; i++) {\r\n                                var childItems = getFirstItemsCore(items[i].items || items[i].collapsedItems, groupsCount - 1);\r\n                                if (childItems && childItems.length) {\r\n                                    return childItems\r\n                                }\r\n                            }\r\n                        }(dataSource.items(), groupsCount) || []\r\n                    }\r\n                    return items\r\n                },\r\n                _endUpdateCore: function() {\r\n                    !this._skipProcessingColumnsChange && fireColumnsChanged(this)\r\n                },\r\n                init: function() {\r\n                    var columns = this.option(\"columns\");\r\n                    this._commandColumns = this._commandColumns || [];\r\n                    this._columns = this._columns || [];\r\n                    this._isColumnsFromOptions = !!columns;\r\n                    if (this._isColumnsFromOptions) {\r\n                        assignColumns(this, columns ? createColumnsFromOptions(this, columns) : []);\r\n                        applyUserState(this)\r\n                    } else {\r\n                        assignColumns(this, this._columnsUserState ? createColumnsFromOptions(this, this._columnsUserState) : this._columns)\r\n                    }! function(that) {\r\n                        var options = that._getExpandColumnOptions();\r\n                        that.addCommandColumn(options)\r\n                    }(this);\r\n                    if (this._dataSourceApplied) {\r\n                        this.applyDataSource(this._dataSource, true)\r\n                    } else {\r\n                        updateIndexes(this)\r\n                    }\r\n                    this._checkColumns()\r\n                },\r\n                callbackNames: function() {\r\n                    return [\"columnsChanged\"]\r\n                },\r\n                getColumnByPath: function(path, columns) {\r\n                    var column;\r\n                    var columnIndexes = [];\r\n                    path.replace(regExp, (function(_, columnIndex) {\r\n                        columnIndexes.push(parseInt(columnIndex));\r\n                        return \"\"\r\n                    }));\r\n                    if (columnIndexes.length) {\r\n                        if (columns) {\r\n                            column = columnIndexes.reduce((function(column, index) {\r\n                                return column && column.columns && column.columns[index]\r\n                            }), {\r\n                                columns: columns\r\n                            })\r\n                        } else {\r\n                            column = function(that, columnIndexes) {\r\n                                var result;\r\n                                var columns;\r\n                                var bandColumnsCache = that.getBandColumnsCache();\r\n                                var callbackFilter = function(column) {\r\n                                    var ownerBand = result ? result.index : void 0;\r\n                                    return column.ownerBand === ownerBand\r\n                                };\r\n                                if (bandColumnsCache.isPlain) {\r\n                                    result = that._columns[columnIndexes[0]]\r\n                                } else {\r\n                                    columns = that._columns.filter(callbackFilter);\r\n                                    for (var i = 0; i < columnIndexes.length; i++) {\r\n                                        result = columns[columnIndexes[i]];\r\n                                        if (result) {\r\n                                            columns = that._columns.filter(callbackFilter)\r\n                                        }\r\n                                    }\r\n                                }\r\n                                return result\r\n                            }(this, columnIndexes)\r\n                        }\r\n                    }\r\n                    return column\r\n                },\r\n                optionChanged: function(args) {\r\n                    var needUpdateRequireResize;\r\n                    switch (args.name) {\r\n                        case \"adaptColumnWidthByRatio\":\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"dataSource\":\r\n                            if (args.value !== args.previousValue && !this.option(\"columns\") && (!Array.isArray(args.value) || !Array.isArray(args.previousValue))) {\r\n                                this._columns = []\r\n                            }\r\n                            break;\r\n                        case \"columns\":\r\n                            needUpdateRequireResize = this._skipProcessingColumnsChange;\r\n                            args.handled = true;\r\n                            if (!this._skipProcessingColumnsChange) {\r\n                                if (args.name === args.fullName) {\r\n                                    this._columnsUserState = null;\r\n                                    this._ignoreColumnOptionNames = null;\r\n                                    this.init()\r\n                                } else {\r\n                                    this._columnOptionChanged(args);\r\n                                    needUpdateRequireResize = true\r\n                                }\r\n                            }\r\n                            if (needUpdateRequireResize) {\r\n                                this._updateRequireResize(args)\r\n                            }\r\n                            break;\r\n                        case \"commonColumnSettings\":\r\n                        case \"columnAutoWidth\":\r\n                        case \"allowColumnResizing\":\r\n                        case \"allowColumnReordering\":\r\n                        case \"columnFixing\":\r\n                        case \"grouping\":\r\n                        case \"groupPanel\":\r\n                        case \"regenerateColumnsByVisibleItems\":\r\n                        case \"customizeColumns\":\r\n                        case \"columnHidingEnabled\":\r\n                        case \"dateSerializationFormat\":\r\n                        case \"columnResizingMode\":\r\n                        case \"columnMinWidth\":\r\n                        case \"columnWidth\":\r\n                            args.handled = true;\r\n                            var ignoreColumnOptionNames = \"columnWidth\" === args.fullName && [\"width\"];\r\n                            this.reinit(ignoreColumnOptionNames);\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            this.reinit();\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                _columnOptionChanged: function(args) {\r\n                    var columnOptionValue = {};\r\n                    var column = this.getColumnByPath(args.fullName);\r\n                    var columnOptionName = args.fullName.replace(regExp, \"\");\r\n                    if (column) {\r\n                        if (columnOptionName) {\r\n                            columnOptionValue[columnOptionName] = args.value\r\n                        } else {\r\n                            columnOptionValue = args.value\r\n                        }\r\n                        this._skipProcessingColumnsChange = args.fullName;\r\n                        this.columnOption(column.index, columnOptionValue);\r\n                        this._skipProcessingColumnsChange = false\r\n                    }\r\n                },\r\n                _updateRequireResize: function(args) {\r\n                    var component = this.component;\r\n                    if (\"width\" === args.fullName.replace(regExp, \"\") && component._updateLockCount) {\r\n                        component._requireResize = true\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"addColumn\", \"deleteColumn\", \"columnOption\", \"columnCount\", \"clearSorting\", \"clearGrouping\", \"getVisibleColumns\", \"getVisibleColumnIndex\"]\r\n                },\r\n                applyDataSource: function(dataSource, forceApplying) {\r\n                    var isDataSourceLoaded = dataSource && dataSource.isLoaded();\r\n                    this._dataSource = dataSource;\r\n                    if (!this._dataSourceApplied || 0 === this._dataSourceColumnsCount || forceApplying || this.option(\"regenerateColumnsByVisibleItems\")) {\r\n                        if (isDataSourceLoaded) {\r\n                            if (!this._isColumnsFromOptions) {\r\n                                var columnsFromDataSource = function(that, dataSource) {\r\n                                    var firstItems = that._getFirstItems(dataSource);\r\n                                    var fieldName;\r\n                                    var processedFields = {};\r\n                                    var result = [];\r\n                                    for (var i = 0; i < firstItems.length; i++) {\r\n                                        if (firstItems[i]) {\r\n                                            for (fieldName in firstItems[i]) {\r\n                                                if (!isFunction(firstItems[i][fieldName]) || variableWrapper.isWrapped(firstItems[i][fieldName])) {\r\n                                                    processedFields[fieldName] = true\r\n                                                }\r\n                                            }\r\n                                        }\r\n                                    }\r\n                                    for (fieldName in processedFields) {\r\n                                        if (0 !== fieldName.indexOf(\"__\")) {\r\n                                            var column = createColumn(that, fieldName);\r\n                                            result.push(column)\r\n                                        }\r\n                                    }\r\n                                    return result\r\n                                }(this, dataSource);\r\n                                if (columnsFromDataSource.length) {\r\n                                    assignColumns(this, columnsFromDataSource);\r\n                                    this._dataSourceColumnsCount = this._columns.length;\r\n                                    applyUserState(this)\r\n                                }\r\n                            }\r\n                            return this.updateColumns(dataSource, forceApplying)\r\n                        } else {\r\n                            this._dataSourceApplied = false;\r\n                            updateIndexes(this)\r\n                        }\r\n                    } else if (isDataSourceLoaded && !this.isAllDataTypesDefined(true) && this.updateColumnDataTypes(dataSource)) {\r\n                        updateColumnChanges(this, \"columns\");\r\n                        fireColumnsChanged(this);\r\n                        return (new Deferred).reject().promise()\r\n                    }\r\n                },\r\n                reset: function() {\r\n                    this._dataSource = null;\r\n                    this._dataSourceApplied = false;\r\n                    this._dataSourceColumnsCount = void 0;\r\n                    this.reinit()\r\n                },\r\n                resetColumnsCache: function() {\r\n                    this._visibleColumns = void 0;\r\n                    this._fixedColumns = void 0;\r\n                    this._rowCount = void 0;\r\n                    resetBandColumnsCache(this)\r\n                },\r\n                reinit: function(ignoreColumnOptionNames) {\r\n                    this._columnsUserState = this.getUserState();\r\n                    this._ignoreColumnOptionNames = ignoreColumnOptionNames || null;\r\n                    this.init();\r\n                    if (ignoreColumnOptionNames) {\r\n                        this._ignoreColumnOptionNames = null\r\n                    }\r\n                },\r\n                isInitialized: function() {\r\n                    return !!this._columns.length || !!this.option(\"columns\")\r\n                },\r\n                isDataSourceApplied: function() {\r\n                    return this._dataSourceApplied\r\n                },\r\n                getCommonSettings: function(column) {\r\n                    var commonColumnSettings = (!column || !column.type) && this.option(\"commonColumnSettings\") || {};\r\n                    var groupingOptions = this.option(\"grouping\") || {};\r\n                    var groupPanelOptions = this.option(\"groupPanel\") || {};\r\n                    return extend({\r\n                        allowFixing: this.option(\"columnFixing.enabled\"),\r\n                        allowResizing: this.option(\"allowColumnResizing\") || void 0,\r\n                        allowReordering: this.option(\"allowColumnReordering\"),\r\n                        minWidth: this.option(\"columnMinWidth\"),\r\n                        width: this.option(\"columnWidth\"),\r\n                        autoExpandGroup: groupingOptions.autoExpandAll,\r\n                        allowCollapsing: groupingOptions.allowCollapsing,\r\n                        allowGrouping: groupPanelOptions.allowColumnDragging && groupPanelOptions.visible || groupingOptions.contextMenuEnabled\r\n                    }, commonColumnSettings)\r\n                },\r\n                isColumnOptionUsed: function(optionName) {\r\n                    for (var i = 0; i < this._columns.length; i++) {\r\n                        if (this._columns[i][optionName]) {\r\n                            return true\r\n                        }\r\n                    }\r\n                },\r\n                isAllDataTypesDefined: function(checkSerializers) {\r\n                    var columns = this._columns;\r\n                    if (!columns.length) {\r\n                        return false\r\n                    }\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        if (!columns[i].dataField && columns[i].calculateCellValue === columns[i].defaultCalculateCellValue) {\r\n                            continue\r\n                        }\r\n                        if (!columns[i].dataType || checkSerializers && columns[i].deserializeValue && void 0 === columns[i].serializationFormat) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                getColumns: function() {\r\n                    return this._columns\r\n                },\r\n                isBandColumnsUsed: function() {\r\n                    return this.getColumns().some((function(column) {\r\n                        return column.isBand\r\n                    }))\r\n                },\r\n                getGroupColumns: function() {\r\n                    var result = [];\r\n                    each(this._columns, (function() {\r\n                        if (isDefined(this.groupIndex)) {\r\n                            result[this.groupIndex] = this\r\n                        }\r\n                    }));\r\n                    return result\r\n                },\r\n                getVisibleColumns: function(rowIndex) {\r\n                    this._visibleColumns = this._visibleColumns || this._getVisibleColumnsCore();\r\n                    rowIndex = isDefined(rowIndex) ? rowIndex : this._visibleColumns.length - 1;\r\n                    return this._visibleColumns[rowIndex] || []\r\n                },\r\n                getFixedColumns: function(rowIndex) {\r\n                    this._fixedColumns = this._fixedColumns || this._getFixedColumnsCore();\r\n                    rowIndex = isDefined(rowIndex) ? rowIndex : this._fixedColumns.length - 1;\r\n                    return this._fixedColumns[rowIndex] || []\r\n                },\r\n                getFilteringColumns: function() {\r\n                    return this.getColumns().filter(item => (item.dataField || item.name) && (item.allowFiltering || item.allowHeaderFiltering)).map(item => {\r\n                        var field = extend(true, {}, item);\r\n                        if (!isDefined(field.dataField)) {\r\n                            field.dataField = field.name\r\n                        }\r\n                        field.filterOperations = item.filterOperations !== item.defaultFilterOperations ? field.filterOperations : null;\r\n                        return field\r\n                    })\r\n                },\r\n                getColumnIndexOffset: function() {\r\n                    return 0\r\n                },\r\n                _getFixedColumnsCore: function() {\r\n                    var result = [];\r\n                    var rowCount = this.getRowCount();\r\n                    var isColumnFixing = this._isColumnFixing();\r\n                    var transparentColumn = {\r\n                        command: \"transparent\"\r\n                    };\r\n                    var transparentColspan = 0;\r\n                    var notFixedColumnCount;\r\n                    var transparentColumnIndex;\r\n                    var lastFixedPosition;\r\n                    if (isColumnFixing) {\r\n                        for (var i = 0; i <= rowCount; i++) {\r\n                            notFixedColumnCount = 0;\r\n                            lastFixedPosition = null;\r\n                            transparentColumnIndex = null;\r\n                            var visibleColumns = this.getVisibleColumns(i, true);\r\n                            for (var j = 0; j < visibleColumns.length; j++) {\r\n                                var prevColumn = visibleColumns[j - 1];\r\n                                var column = visibleColumns[j];\r\n                                if (!column.fixed) {\r\n                                    if (0 === i) {\r\n                                        if (column.isBand && column.colspan) {\r\n                                            transparentColspan += column.colspan\r\n                                        } else {\r\n                                            transparentColspan++\r\n                                        }\r\n                                    }\r\n                                    notFixedColumnCount++;\r\n                                    if (!isDefined(transparentColumnIndex)) {\r\n                                        transparentColumnIndex = j\r\n                                    }\r\n                                } else if (prevColumn && prevColumn.fixed && getFixedPosition(this, prevColumn) !== getFixedPosition(this, column)) {\r\n                                    if (!isDefined(transparentColumnIndex)) {\r\n                                        transparentColumnIndex = j\r\n                                    }\r\n                                } else {\r\n                                    lastFixedPosition = column.fixedPosition\r\n                                }\r\n                            }\r\n                            if (0 === i && (0 === notFixedColumnCount || notFixedColumnCount >= visibleColumns.length)) {\r\n                                return []\r\n                            }\r\n                            if (!isDefined(transparentColumnIndex)) {\r\n                                transparentColumnIndex = \"right\" === lastFixedPosition ? 0 : visibleColumns.length\r\n                            }\r\n                            result[i] = visibleColumns.slice(0);\r\n                            if (!transparentColumn.colspan) {\r\n                                transparentColumn.colspan = transparentColspan\r\n                            }\r\n                            result[i].splice(transparentColumnIndex, notFixedColumnCount, transparentColumn)\r\n                        }\r\n                    }\r\n                    return result.map(columns => columns.map(column => {\r\n                        var newColumn = _extends({}, column);\r\n                        if (newColumn.headerId) {\r\n                            newColumn.headerId += \"-fixed\"\r\n                        }\r\n                        return newColumn\r\n                    }))\r\n                },\r\n                _isColumnFixing: function() {\r\n                    var isColumnFixing = this.option(\"columnFixing.enabled\");\r\n                    !isColumnFixing && each(this._columns, (function(_, column) {\r\n                        if (column.fixed) {\r\n                            isColumnFixing = true;\r\n                            return false\r\n                        }\r\n                    }));\r\n                    return isColumnFixing\r\n                },\r\n                _getExpandColumnsCore: function() {\r\n                    return this.getGroupColumns()\r\n                },\r\n                getExpandColumns: function() {\r\n                    var expandColumns = this._getExpandColumnsCore();\r\n                    var expandColumn;\r\n                    var firstGroupColumn = expandColumns.filter(column => 0 === column.groupIndex)[0];\r\n                    var isFixedFirstGroupColumn = firstGroupColumn && firstGroupColumn.fixed;\r\n                    var isColumnFixing = this._isColumnFixing();\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (expandColumns.length) {\r\n                        expandColumn = this.columnOption(\"command:expand\")\r\n                    }\r\n                    expandColumns = map(expandColumns, column => extend({}, column, {\r\n                        visibleWidth: null,\r\n                        minWidth: null,\r\n                        cellTemplate: !isDefined(column.groupIndex) ? column.cellTemplate : null,\r\n                        headerCellTemplate: null,\r\n                        fixed: !isDefined(column.groupIndex) || !isFixedFirstGroupColumn ? isColumnFixing : true,\r\n                        fixedPosition: rtlEnabled ? \"right\" : \"left\"\r\n                    }, expandColumn, {\r\n                        index: column.index,\r\n                        type: column.type || GROUP_COMMAND_COLUMN_NAME\r\n                    }));\r\n                    return expandColumns\r\n                },\r\n                getBandColumnsCache: function() {\r\n                    if (!this._bandColumnsCache) {\r\n                        var columns = this._columns;\r\n                        var columnChildrenByIndex = {};\r\n                        var columnParentByIndex = {};\r\n                        var isPlain = true;\r\n                        columns.forEach((function(column) {\r\n                            var ownerBand = column.ownerBand;\r\n                            var parentIndex = isObject(ownerBand) ? ownerBand.index : ownerBand;\r\n                            var parent = columns[parentIndex];\r\n                            if (column.hasColumns) {\r\n                                isPlain = false\r\n                            }\r\n                            if (column.colspan) {\r\n                                column.colspan = void 0\r\n                            }\r\n                            if (column.rowspan) {\r\n                                column.rowspan = void 0\r\n                            }\r\n                            if (parent) {\r\n                                columnParentByIndex[column.index] = parent\r\n                            } else {\r\n                                parentIndex = -1\r\n                            }\r\n                            columnChildrenByIndex[parentIndex] = columnChildrenByIndex[parentIndex] || [];\r\n                            columnChildrenByIndex[parentIndex].push(column)\r\n                        }));\r\n                        this._bandColumnsCache = {\r\n                            isPlain: isPlain,\r\n                            columnChildrenByIndex: columnChildrenByIndex,\r\n                            columnParentByIndex: columnParentByIndex\r\n                        }\r\n                    }\r\n                    return this._bandColumnsCache\r\n                },\r\n                _isColumnVisible: function(column) {\r\n                    return column.visible && this.isParentColumnVisible(column.index)\r\n                },\r\n                _getVisibleColumnsCore: function() {\r\n                    var that = this;\r\n                    var i;\r\n                    var result = [];\r\n                    var rowspanGroupColumns = 0;\r\n                    var rowspanExpandColumns = 0;\r\n                    var rowCount = that.getRowCount();\r\n                    var positiveIndexedColumns = [];\r\n                    var negativeIndexedColumns = [];\r\n                    var notGroupedColumnsCount = 0;\r\n                    var isFixedToEnd;\r\n                    var rtlEnabled = that.option(\"rtlEnabled\");\r\n                    var bandColumnsCache = that.getBandColumnsCache();\r\n                    var expandColumns = mergeColumns(that, that.getExpandColumns(), that._columns);\r\n                    var columns = mergeColumns(that, that._columns, that._commandColumns, true);\r\n                    var columnDigitsCount = function(number) {\r\n                        var i;\r\n                        for (i = 0; number > 1; i++) {\r\n                            number /= 10\r\n                        }\r\n                        return i\r\n                    }(columns.length);\r\n                    ! function(that, columns, bandColumnsCache) {\r\n                        var rowspan;\r\n                        for (var i = 0; i < columns.length; i++) {\r\n                            var column = columns[i];\r\n                            if (column.visible || column.command) {\r\n                                if (column.isBand) {\r\n                                    column.colspan = column.colspan || calculateColspan(that, column.index)\r\n                                }\r\n                                if (!column.isBand || !column.colspan) {\r\n                                    rowspan = that.getRowCount();\r\n                                    if (!column.command && (!isDefined(column.groupIndex) || column.showWhenGrouped)) {\r\n                                        rowspan -= getParentBandColumns(column.index, bandColumnsCache.columnParentByIndex).length\r\n                                    }\r\n                                    if (rowspan > 1) {\r\n                                        column.rowspan = rowspan\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }(that, columns, bandColumnsCache);\r\n                    for (i = 0; i < rowCount; i++) {\r\n                        result[i] = [];\r\n                        negativeIndexedColumns[i] = [{}];\r\n                        positiveIndexedColumns[i] = [{}, {}, {}]\r\n                    }\r\n                    each(columns, (function() {\r\n                        var visibleIndex = this.visibleIndex;\r\n                        var indexedColumns;\r\n                        var parentBandColumns = getParentBandColumns(this.index, bandColumnsCache.columnParentByIndex);\r\n                        var visible = that._isColumnVisible(this);\r\n                        if (visible && (!isDefined(this.groupIndex) || this.showWhenGrouped)) {\r\n                            var rowIndex = parentBandColumns.length;\r\n                            if (visibleIndex < 0) {\r\n                                visibleIndex = -visibleIndex;\r\n                                indexedColumns = negativeIndexedColumns[rowIndex]\r\n                            } else {\r\n                                this.fixed = parentBandColumns.length ? parentBandColumns[0].fixed : this.fixed;\r\n                                this.fixedPosition = parentBandColumns.length ? parentBandColumns[0].fixedPosition : this.fixedPosition;\r\n                                if (this.fixed) {\r\n                                    isFixedToEnd = \"right\" === this.fixedPosition;\r\n                                    if (rtlEnabled && (!this.command || isCustomCommandColumn(that, this))) {\r\n                                        isFixedToEnd = !isFixedToEnd\r\n                                    }\r\n                                    if (isFixedToEnd) {\r\n                                        indexedColumns = positiveIndexedColumns[rowIndex][2]\r\n                                    } else {\r\n                                        indexedColumns = positiveIndexedColumns[rowIndex][0]\r\n                                    }\r\n                                } else {\r\n                                    indexedColumns = positiveIndexedColumns[rowIndex][1]\r\n                                }\r\n                            }\r\n                            if (parentBandColumns.length) {\r\n                                visibleIndex = numberToString(visibleIndex, columnDigitsCount);\r\n                                for (i = parentBandColumns.length - 1; i >= 0; i--) {\r\n                                    visibleIndex = numberToString(parentBandColumns[i].visibleIndex, columnDigitsCount) + visibleIndex\r\n                                }\r\n                            }\r\n                            indexedColumns[visibleIndex] = indexedColumns[visibleIndex] || [];\r\n                            indexedColumns[visibleIndex].push(this);\r\n                            notGroupedColumnsCount++\r\n                        }\r\n                    }));\r\n                    each(result, (function(rowIndex) {\r\n                        orderEach(negativeIndexedColumns[rowIndex], (function(_, columns) {\r\n                            result[rowIndex].unshift.apply(result[rowIndex], columns)\r\n                        }));\r\n                        var firstPositiveIndexColumn = result[rowIndex].length;\r\n                        each(positiveIndexedColumns[rowIndex], (function(index, columnsByFixing) {\r\n                            orderEach(columnsByFixing, (function(_, columnsByVisibleIndex) {\r\n                                result[rowIndex].push.apply(result[rowIndex], columnsByVisibleIndex)\r\n                            }))\r\n                        }));\r\n                        if (rowspanExpandColumns < rowIndex + 1) {\r\n                            rowspanExpandColumns += processExpandColumns.call(that, result[rowIndex], expandColumns, \"detailExpand\", firstPositiveIndexColumn)\r\n                        }\r\n                        if (rowspanGroupColumns < rowIndex + 1) {\r\n                            rowspanGroupColumns += processExpandColumns.call(that, result[rowIndex], expandColumns, GROUP_COMMAND_COLUMN_NAME, firstPositiveIndexColumn)\r\n                        }\r\n                    }));\r\n                    result.push(function getDataColumns(columns, rowIndex, bandColumnID) {\r\n                        var result = [];\r\n                        rowIndex = rowIndex || 0;\r\n                        columns[rowIndex] && each(columns[rowIndex], (function(_, column) {\r\n                            if (column.ownerBand === bandColumnID || column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                                if (!column.isBand || !column.colspan) {\r\n                                    if (!column.command || rowIndex < 1) {\r\n                                        result.push(column)\r\n                                    }\r\n                                } else {\r\n                                    result.push.apply(result, getDataColumns(columns, rowIndex + 1, column.index))\r\n                                }\r\n                            }\r\n                        }));\r\n                        return result\r\n                    }(result));\r\n                    if (!notGroupedColumnsCount && that._columns.length) {\r\n                        result[rowCount].push({\r\n                            command: \"empty\"\r\n                        })\r\n                    }\r\n                    return result\r\n                },\r\n                getInvisibleColumns: function(columns, bandColumnIndex) {\r\n                    var that = this;\r\n                    var result = [];\r\n                    var hiddenColumnsByBand;\r\n                    columns = columns || that._columns;\r\n                    each(columns, (function(_, column) {\r\n                        if (column.ownerBand !== bandColumnIndex) {\r\n                            return\r\n                        }\r\n                        if (column.isBand) {\r\n                            if (!column.visible) {\r\n                                hiddenColumnsByBand = that.getChildrenByBandColumn(column.index)\r\n                            } else {\r\n                                hiddenColumnsByBand = that.getInvisibleColumns(that.getChildrenByBandColumn(column.index), column.index)\r\n                            }\r\n                            if (hiddenColumnsByBand.length) {\r\n                                result.push(column);\r\n                                result = result.concat(hiddenColumnsByBand)\r\n                            }\r\n                            return\r\n                        }\r\n                        if (!column.visible) {\r\n                            result.push(column)\r\n                        }\r\n                    }));\r\n                    return result\r\n                },\r\n                getChooserColumns: function(getAllColumns) {\r\n                    var columns = getAllColumns ? this.getColumns() : this.getInvisibleColumns();\r\n                    var columnChooserColumns = columns.filter(column => column.showInColumnChooser);\r\n                    var sortOrder = this.option(\"columnChooser.sortOrder\");\r\n                    return ((columns, sortOrder) => {\r\n                        if (\"asc\" !== sortOrder && \"desc\" !== sortOrder) {\r\n                            return columns\r\n                        }\r\n                        var sign = \"asc\" === sortOrder ? 1 : -1;\r\n                        columns.sort((function(column1, column2) {\r\n                            var caption1 = column1.caption || \"\";\r\n                            var caption2 = column2.caption || \"\";\r\n                            return sign * caption1.localeCompare(caption2)\r\n                        }));\r\n                        return columns\r\n                    })(columnChooserColumns, sortOrder)\r\n                },\r\n                allowMoveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var columnIndex = getColumnIndexByVisibleIndex(this, fromVisibleIndex, sourceLocation);\r\n                    var sourceColumn = this._columns[columnIndex];\r\n                    if (sourceColumn && (sourceColumn.allowReordering || sourceColumn.allowGrouping || sourceColumn.allowHiding)) {\r\n                        if (sourceLocation === targetLocation) {\r\n                            if (\"columnChooser\" === sourceLocation) {\r\n                                return false\r\n                            }\r\n                            fromVisibleIndex = isObject(fromVisibleIndex) ? fromVisibleIndex.columnIndex : fromVisibleIndex;\r\n                            toVisibleIndex = isObject(toVisibleIndex) ? toVisibleIndex.columnIndex : toVisibleIndex;\r\n                            return fromVisibleIndex !== toVisibleIndex && fromVisibleIndex + 1 !== toVisibleIndex\r\n                        } else if (\"group\" === sourceLocation && \"columnChooser\" !== targetLocation || \"group\" === targetLocation) {\r\n                            return sourceColumn && sourceColumn.allowGrouping\r\n                        } else if (\"columnChooser\" === sourceLocation || \"columnChooser\" === targetLocation) {\r\n                            return sourceColumn && sourceColumn.allowHiding\r\n                        }\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                moveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var options = {};\r\n                    var prevGroupIndex;\r\n                    var fromIndex = getColumnIndexByVisibleIndex(this, fromVisibleIndex, sourceLocation);\r\n                    var toIndex = getColumnIndexByVisibleIndex(this, toVisibleIndex, targetLocation);\r\n                    var targetGroupIndex;\r\n                    if (fromIndex >= 0) {\r\n                        var column = this._columns[fromIndex];\r\n                        toVisibleIndex = isObject(toVisibleIndex) ? toVisibleIndex.columnIndex : toVisibleIndex;\r\n                        targetGroupIndex = toIndex >= 0 ? this._columns[toIndex].groupIndex : -1;\r\n                        if (isDefined(column.groupIndex) && \"group\" === sourceLocation) {\r\n                            if (targetGroupIndex > column.groupIndex) {\r\n                                targetGroupIndex--\r\n                            }\r\n                            if (\"group\" !== targetLocation) {\r\n                                options.groupIndex = void 0\r\n                            } else {\r\n                                prevGroupIndex = column.groupIndex;\r\n                                delete column.groupIndex;\r\n                                updateColumnGroupIndexes(this)\r\n                            }\r\n                        }\r\n                        if (\"group\" === targetLocation) {\r\n                            options.groupIndex = function(that, column, groupIndex) {\r\n                                var groupColumns = that.getGroupColumns();\r\n                                var i;\r\n                                if (groupIndex >= 0) {\r\n                                    for (i = 0; i < groupColumns.length; i++) {\r\n                                        if (groupColumns[i].groupIndex >= groupIndex) {\r\n                                            groupColumns[i].groupIndex++\r\n                                        }\r\n                                    }\r\n                                } else {\r\n                                    groupIndex = 0;\r\n                                    for (i = 0; i < groupColumns.length; i++) {\r\n                                        groupIndex = Math.max(groupIndex, groupColumns[i].groupIndex + 1)\r\n                                    }\r\n                                }\r\n                                return groupIndex\r\n                            }(this, 0, targetGroupIndex);\r\n                            column.groupIndex = prevGroupIndex\r\n                        } else if (toVisibleIndex >= 0) {\r\n                            var targetColumn = this._columns[toIndex];\r\n                            if (!targetColumn || column.ownerBand !== targetColumn.ownerBand) {\r\n                                options.visibleIndex = MAX_SAFE_INTEGER\r\n                            } else if (isColumnFixed(this, column) ^ isColumnFixed(this, targetColumn)) {\r\n                                options.visibleIndex = MAX_SAFE_INTEGER\r\n                            } else {\r\n                                options.visibleIndex = targetColumn.visibleIndex\r\n                            }\r\n                        }\r\n                        var isVisible = \"columnChooser\" !== targetLocation;\r\n                        if (column.visible !== isVisible) {\r\n                            options.visible = isVisible\r\n                        }\r\n                        this.columnOption(column.index, options)\r\n                    }\r\n                },\r\n                changeSortOrder: function(columnIndex, sortOrder) {\r\n                    var options = {};\r\n                    var sortingOptions = this.option(\"sorting\");\r\n                    var sortingMode = sortingOptions && sortingOptions.mode;\r\n                    var needResetSorting = \"single\" === sortingMode || !sortOrder;\r\n                    var allowSorting = \"single\" === sortingMode || \"multiple\" === sortingMode;\r\n                    var column = this._columns[columnIndex];\r\n                    if (allowSorting && column && column.allowSorting) {\r\n                        if (needResetSorting && !isDefined(column.groupIndex)) {\r\n                            each(this._columns, (function(index) {\r\n                                if (index !== columnIndex && this.sortOrder) {\r\n                                    if (!isDefined(this.groupIndex)) {\r\n                                        delete this.sortOrder\r\n                                    }\r\n                                    delete this.sortIndex\r\n                                }\r\n                            }))\r\n                        }\r\n                        if (isSortOrderValid(sortOrder)) {\r\n                            if (column.sortOrder !== sortOrder) {\r\n                                options.sortOrder = sortOrder\r\n                            }\r\n                        } else if (\"none\" === sortOrder) {\r\n                            if (column.sortOrder) {\r\n                                options.sortIndex = void 0;\r\n                                options.sortOrder = void 0\r\n                            }\r\n                        } else {\r\n                            ! function(column) {\r\n                                if (\"ctrl\" === sortOrder) {\r\n                                    if (!(\"sortOrder\" in column && \"sortIndex\" in column)) {\r\n                                        return false\r\n                                    }\r\n                                    options.sortOrder = void 0;\r\n                                    options.sortIndex = void 0\r\n                                } else if (isDefined(column.groupIndex) || isDefined(column.sortIndex)) {\r\n                                    options.sortOrder = \"desc\" === column.sortOrder ? \"asc\" : \"desc\"\r\n                                } else {\r\n                                    options.sortOrder = \"asc\"\r\n                                }\r\n                                return true\r\n                            }(column)\r\n                        }\r\n                    }\r\n                    this.columnOption(column.index, options)\r\n                },\r\n                getSortDataSourceParameters: function(useLocalSelector) {\r\n                    var sortColumns = [];\r\n                    var sort = [];\r\n                    each(this._columns, (function() {\r\n                        if ((this.dataField || this.selector || this.calculateCellValue) && isDefined(this.sortIndex) && !isDefined(this.groupIndex)) {\r\n                            sortColumns[this.sortIndex] = this\r\n                        }\r\n                    }));\r\n                    each(sortColumns, (function() {\r\n                        var sortOrder = this && this.sortOrder;\r\n                        if (isSortOrderValid(sortOrder)) {\r\n                            var sortItem = {\r\n                                selector: this.calculateSortValue || this.displayField || this.calculateDisplayValue || useLocalSelector && this.selector || this.dataField || this.calculateCellValue,\r\n                                desc: \"desc\" === this.sortOrder\r\n                            };\r\n                            if (this.sortingMethod) {\r\n                                sortItem.compare = this.sortingMethod.bind(this)\r\n                            }\r\n                            sort.push(sortItem)\r\n                        }\r\n                    }));\r\n                    return sort.length > 0 ? sort : null\r\n                },\r\n                getGroupDataSourceParameters: function(useLocalSelector) {\r\n                    var group = [];\r\n                    each(this.getGroupColumns(), (function() {\r\n                        var selector = this.calculateGroupValue || this.displayField || this.calculateDisplayValue || useLocalSelector && this.selector || this.dataField || this.calculateCellValue;\r\n                        if (selector) {\r\n                            var groupItem = {\r\n                                selector: selector,\r\n                                desc: \"desc\" === this.sortOrder,\r\n                                isExpanded: !!this.autoExpandGroup\r\n                            };\r\n                            if (this.sortingMethod) {\r\n                                groupItem.compare = this.sortingMethod.bind(this)\r\n                            }\r\n                            group.push(groupItem)\r\n                        }\r\n                    }));\r\n                    return group.length > 0 ? group : null\r\n                },\r\n                refresh: function(updateNewLookupsOnly) {\r\n                    var deferreds = [];\r\n                    each(this._columns, (function() {\r\n                        var lookup = this.lookup;\r\n                        if (lookup && !this.calculateDisplayValue) {\r\n                            if (updateNewLookupsOnly && lookup.valueMap) {\r\n                                return\r\n                            }\r\n                            if (lookup.update) {\r\n                                deferreds.push(lookup.update())\r\n                            }\r\n                        }\r\n                    }));\r\n                    return when.apply($, deferreds).done(resetColumnsCache.bind(null, this))\r\n                },\r\n                _updateColumnOptions: function(column, columnIndex) {\r\n                    column.selector = column.selector || function(data) {\r\n                        return column.calculateCellValue(data)\r\n                    };\r\n                    each([\"calculateSortValue\", \"calculateGroupValue\", \"calculateDisplayValue\"], (function(_, calculateCallbackName) {\r\n                        var calculateCallback = column[calculateCallbackName];\r\n                        if (isFunction(calculateCallback)) {\r\n                            if (!calculateCallback.originalCallback) {\r\n                                var context = {\r\n                                    column: column\r\n                                };\r\n                                column[calculateCallbackName] = function(data) {\r\n                                    return calculateCallback.call(context.column, data)\r\n                                };\r\n                                column[calculateCallbackName].originalCallback = calculateCallback;\r\n                                column[calculateCallbackName].columnIndex = columnIndex;\r\n                                column[calculateCallbackName].context = context\r\n                            } else {\r\n                                column[calculateCallbackName].context.column = column\r\n                            }\r\n                        }\r\n                    }));\r\n                    if (isString(column.calculateDisplayValue)) {\r\n                        column.displayField = column.calculateDisplayValue;\r\n                        column.calculateDisplayValue = compileGetter(column.displayField)\r\n                    }\r\n                    if (column.calculateDisplayValue) {\r\n                        column.displayValueMap = column.displayValueMap || {}\r\n                    }\r\n                    updateSerializers(column, column.dataType);\r\n                    var lookup = column.lookup;\r\n                    if (lookup) {\r\n                        updateSerializers(lookup, lookup.dataType)\r\n                    }\r\n                    var dataType = lookup ? lookup.dataType : column.dataType;\r\n                    if (dataType) {\r\n                        column.alignment = column.alignment || function(dataType, isRTL) {\r\n                            switch (dataType) {\r\n                                case \"number\":\r\n                                    return \"right\";\r\n                                case \"boolean\":\r\n                                    return \"center\";\r\n                                default:\r\n                                    return getDefaultAlignment(isRTL)\r\n                            }\r\n                        }(dataType, this.option(\"rtlEnabled\"));\r\n                        column.format = column.format || gridCoreUtils.getFormatByDataType(dataType);\r\n                        column.customizeText = column.customizeText || getCustomizeTextByDataType(dataType);\r\n                        column.defaultFilterOperations = column.defaultFilterOperations || !lookup && DATATYPE_OPERATIONS[dataType] || [];\r\n                        if (!isDefined(column.filterOperations)) {\r\n                            setFilterOperationsAsDefaultValues(column)\r\n                        }\r\n                        column.defaultFilterOperation = column.filterOperations && column.filterOperations[0] || \"=\";\r\n                        column.showEditorAlways = isDefined(column.showEditorAlways) ? column.showEditorAlways : \"boolean\" === dataType && !column.cellTemplate && !column.lookup\r\n                    }\r\n                },\r\n                updateColumnDataTypes: function(dataSource) {\r\n                    var that = this;\r\n                    var dateSerializationFormat = that.option(\"dateSerializationFormat\");\r\n                    var firstItems = that._getFirstItems(dataSource);\r\n                    var isColumnDataTypesUpdated = false;\r\n                    each(that._columns, (function(index, column) {\r\n                        var i;\r\n                        var value;\r\n                        var dataType;\r\n                        var lookupDataType;\r\n                        var valueDataType;\r\n                        var lookup = column.lookup;\r\n                        if (gridCoreUtils.isDateType(column.dataType) && void 0 === column.serializationFormat) {\r\n                            column.serializationFormat = dateSerializationFormat\r\n                        }\r\n                        if (lookup && gridCoreUtils.isDateType(lookup.dataType) && void 0 === column.serializationFormat) {\r\n                            lookup.serializationFormat = dateSerializationFormat\r\n                        }\r\n                        if (column.calculateCellValue && firstItems.length) {\r\n                            if (!column.dataType || lookup && !lookup.dataType) {\r\n                                for (i = 0; i < firstItems.length; i++) {\r\n                                    value = column.calculateCellValue(firstItems[i]);\r\n                                    if (!column.dataType) {\r\n                                        valueDataType = getValueDataType(value);\r\n                                        dataType = dataType || valueDataType;\r\n                                        if (dataType && valueDataType && dataType !== valueDataType) {\r\n                                            dataType = \"string\"\r\n                                        }\r\n                                    }\r\n                                    if (lookup && !lookup.dataType) {\r\n                                        valueDataType = getValueDataType(gridCoreUtils.getDisplayValue(column, value, firstItems[i]));\r\n                                        lookupDataType = lookupDataType || valueDataType;\r\n                                        if (lookupDataType && valueDataType && lookupDataType !== valueDataType) {\r\n                                            lookupDataType = \"string\"\r\n                                        }\r\n                                    }\r\n                                }\r\n                                if (dataType || lookupDataType) {\r\n                                    if (dataType) {\r\n                                        column.dataType = dataType\r\n                                    }\r\n                                    if (lookup && lookupDataType) {\r\n                                        lookup.dataType = lookupDataType\r\n                                    }\r\n                                    isColumnDataTypesUpdated = true\r\n                                }\r\n                            }\r\n                            if (void 0 === column.serializationFormat || lookup && void 0 === lookup.serializationFormat) {\r\n                                for (i = 0; i < firstItems.length; i++) {\r\n                                    value = column.calculateCellValue(firstItems[i], true);\r\n                                    if (void 0 === column.serializationFormat) {\r\n                                        column.serializationFormat = getSerializationFormat(column.dataType, value)\r\n                                    }\r\n                                    if (lookup && void 0 === lookup.serializationFormat) {\r\n                                        lookup.serializationFormat = getSerializationFormat(lookup.dataType, lookup.calculateCellValue(value, true))\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        that._updateColumnOptions(column, index)\r\n                    }));\r\n                    return isColumnDataTypesUpdated\r\n                },\r\n                _customizeColumns: function(columns) {\r\n                    var customizeColumns = this.option(\"customizeColumns\");\r\n                    if (customizeColumns) {\r\n                        var hasOwnerBand = columns.some((function(column) {\r\n                            return isObject(column.ownerBand)\r\n                        }));\r\n                        if (hasOwnerBand) {\r\n                            updateIndexes(this)\r\n                        }\r\n                        customizeColumns(columns);\r\n                        assignColumns(this, createColumnsFromOptions(this, columns))\r\n                    }\r\n                },\r\n                updateColumns: function(dataSource, forceApplying) {\r\n                    if (!forceApplying) {\r\n                        this.updateSortingGrouping(dataSource)\r\n                    }\r\n                    if (!dataSource || dataSource.isLoaded()) {\r\n                        var sortParameters = dataSource ? dataSource.sort() || [] : this.getSortDataSourceParameters();\r\n                        var groupParameters = dataSource ? dataSource.group() || [] : this.getGroupDataSourceParameters();\r\n                        var filterParameters = null === dataSource || void 0 === dataSource ? void 0 : dataSource.lastLoadOptions().filter;\r\n                        this._customizeColumns(this._columns);\r\n                        updateIndexes(this);\r\n                        var columns = this._columns;\r\n                        return when(this.refresh(true)).always(() => {\r\n                            if (this._columns !== columns) {\r\n                                return\r\n                            }\r\n                            this._updateChanges(dataSource, {\r\n                                sorting: sortParameters,\r\n                                grouping: groupParameters,\r\n                                filtering: filterParameters\r\n                            });\r\n                            fireColumnsChanged(this)\r\n                        })\r\n                    }\r\n                },\r\n                _updateChanges: function(dataSource, parameters) {\r\n                    if (dataSource) {\r\n                        this.updateColumnDataTypes(dataSource);\r\n                        this._dataSourceApplied = true\r\n                    }\r\n                    if (!gridCoreUtils.equalSortParameters(parameters.sorting, this.getSortDataSourceParameters())) {\r\n                        updateColumnChanges(this, \"sorting\")\r\n                    }\r\n                    if (!gridCoreUtils.equalSortParameters(parameters.grouping, this.getGroupDataSourceParameters())) {\r\n                        updateColumnChanges(this, \"grouping\")\r\n                    }\r\n                    var dataController = this.getController(\"data\");\r\n                    if (dataController && !gridCoreUtils.equalFilterParameters(parameters.filtering, dataController.getCombinedFilter())) {\r\n                        updateColumnChanges(this, \"filtering\")\r\n                    }\r\n                    updateColumnChanges(this, \"columns\")\r\n                },\r\n                updateSortingGrouping: function(dataSource, fromDataSource) {\r\n                    var that = this;\r\n                    var sortParameters;\r\n                    var isColumnsChanged;\r\n                    var updateSortGroupParameterIndexes = function(columns, sortParameters, indexParameterName) {\r\n                        each(columns, (function(index, column) {\r\n                            delete column[indexParameterName];\r\n                            if (sortParameters) {\r\n                                for (var i = 0; i < sortParameters.length; i++) {\r\n                                    var selector = sortParameters[i].selector;\r\n                                    var isExpanded = sortParameters[i].isExpanded;\r\n                                    if (selector === column.dataField || selector === column.name || selector === column.selector || selector === column.calculateCellValue || selector === column.calculateGroupValue || selector === column.calculateDisplayValue) {\r\n                                        column.sortOrder = column.sortOrder || (sortParameters[i].desc ? \"desc\" : \"asc\");\r\n                                        if (void 0 !== isExpanded) {\r\n                                            column.autoExpandGroup = isExpanded\r\n                                        }\r\n                                        column[indexParameterName] = i;\r\n                                        break\r\n                                    }\r\n                                }\r\n                            }\r\n                        }))\r\n                    };\r\n                    if (dataSource) {\r\n                        sortParameters = gridCoreUtils.normalizeSortingInfo(dataSource.sort());\r\n                        var groupParameters = gridCoreUtils.normalizeSortingInfo(dataSource.group());\r\n                        var columnsGroupParameters = that.getGroupDataSourceParameters();\r\n                        var columnsSortParameters = that.getSortDataSourceParameters();\r\n                        var groupingChanged = !gridCoreUtils.equalSortParameters(groupParameters, columnsGroupParameters, true);\r\n                        var groupExpandingChanged = !groupingChanged && !gridCoreUtils.equalSortParameters(groupParameters, columnsGroupParameters);\r\n                        if (!that._columns.length) {\r\n                            each(groupParameters, (function(index, group) {\r\n                                that._columns.push(group.selector)\r\n                            }));\r\n                            each(sortParameters, (function(index, sort) {\r\n                                that._columns.push(sort.selector)\r\n                            }));\r\n                            assignColumns(that, createColumnsFromOptions(that, that._columns))\r\n                        }\r\n                        if ((fromDataSource || !columnsGroupParameters && !that._hasUserState) && (groupingChanged || groupExpandingChanged)) {\r\n                            updateSortGroupParameterIndexes(that._columns, groupParameters, \"groupIndex\");\r\n                            if (fromDataSource) {\r\n                                groupingChanged && updateColumnChanges(that, \"grouping\");\r\n                                groupExpandingChanged && updateColumnChanges(that, \"groupExpanding\");\r\n                                isColumnsChanged = true\r\n                            }\r\n                        }\r\n                        if ((fromDataSource || !columnsSortParameters && !that._hasUserState) && !gridCoreUtils.equalSortParameters(sortParameters, columnsSortParameters)) {\r\n                            updateSortGroupParameterIndexes(that._columns, sortParameters, \"sortIndex\");\r\n                            if (fromDataSource) {\r\n                                updateColumnChanges(that, \"sorting\");\r\n                                isColumnsChanged = true\r\n                            }\r\n                        }\r\n                        if (isColumnsChanged) {\r\n                            fireColumnsChanged(that)\r\n                        }\r\n                    }\r\n                },\r\n                updateFilter: function(filter, remoteFiltering, columnIndex, filterValue) {\r\n                    if (!Array.isArray(filter)) {\r\n                        return filter\r\n                    }\r\n                    filter = extend([], filter);\r\n                    columnIndex = void 0 !== filter.columnIndex ? filter.columnIndex : columnIndex;\r\n                    filterValue = void 0 !== filter.filterValue ? filter.filterValue : filterValue;\r\n                    if (isString(filter[0]) && \"!\" !== filter[0]) {\r\n                        var column = this.columnOption(filter[0]);\r\n                        if (remoteFiltering) {\r\n                            if (config().forceIsoDateParsing && column && column.serializeValue && filter.length > 1) {\r\n                                filter[filter.length - 1] = column.serializeValue(filter[filter.length - 1], \"filter\")\r\n                            }\r\n                        } else if (column && column.selector) {\r\n                            filter[0] = column.selector;\r\n                            filter[0].columnIndex = column.index\r\n                        }\r\n                    } else if (isFunction(filter[0])) {\r\n                        filter[0].columnIndex = columnIndex;\r\n                        filter[0].filterValue = filterValue\r\n                    }\r\n                    for (var i = 0; i < filter.length; i++) {\r\n                        filter[i] = this.updateFilter(filter[i], remoteFiltering, columnIndex, filterValue)\r\n                    }\r\n                    return filter\r\n                },\r\n                columnCount: function() {\r\n                    return this._columns ? this._columns.length : 0\r\n                },\r\n                columnOption: function(identifier, option, value, notFireEvent) {\r\n                    var that = this;\r\n                    var columns = that._columns.concat(that._commandColumns);\r\n                    var column = findColumn(columns, identifier);\r\n                    if (column) {\r\n                        if (1 === arguments.length) {\r\n                            return extend({}, column)\r\n                        }\r\n                        if (isString(option)) {\r\n                            if (2 === arguments.length) {\r\n                                return columnOptionCore(that, column, option)\r\n                            } else {\r\n                                columnOptionCore(that, column, option, value, notFireEvent)\r\n                            }\r\n                        } else if (isObject(option)) {\r\n                            each(option, (function(optionName, value) {\r\n                                columnOptionCore(that, column, optionName, value, notFireEvent)\r\n                            }))\r\n                        }\r\n                        fireColumnsChanged(that)\r\n                    }\r\n                },\r\n                clearSorting: function() {\r\n                    var columnCount = this.columnCount();\r\n                    this.beginUpdate();\r\n                    for (var i = 0; i < columnCount; i++) {\r\n                        this.columnOption(i, \"sortOrder\", void 0)\r\n                    }\r\n                    this.endUpdate()\r\n                },\r\n                clearGrouping: function() {\r\n                    var columnCount = this.columnCount();\r\n                    this.beginUpdate();\r\n                    for (var i = 0; i < columnCount; i++) {\r\n                        this.columnOption(i, \"groupIndex\", void 0)\r\n                    }\r\n                    this.endUpdate()\r\n                },\r\n                getVisibleIndex: function(index, rowIndex) {\r\n                    var columns = this.getVisibleColumns(rowIndex);\r\n                    for (var i = columns.length - 1; i >= 0; i--) {\r\n                        if (columns[i].index === index) {\r\n                            return i\r\n                        }\r\n                    }\r\n                    return -1\r\n                },\r\n                getVisibleIndexByColumn: function(column, rowIndex) {\r\n                    var visibleColumns = this.getVisibleColumns(rowIndex);\r\n                    var visibleColumn = visibleColumns.filter(col => col.index === column.index && col.command === column.command)[0];\r\n                    return visibleColumns.indexOf(visibleColumn)\r\n                },\r\n                getVisibleColumnIndex: function(id, rowIndex) {\r\n                    var index = this.columnOption(id, \"index\");\r\n                    return this.getVisibleIndex(index, rowIndex)\r\n                },\r\n                addColumn: function(options) {\r\n                    var column = createColumn(this, options);\r\n                    var index = this._columns.length;\r\n                    this._columns.push(column);\r\n                    if (column.isBand) {\r\n                        this._columns = createColumnsFromOptions(this, this._columns);\r\n                        column = this._columns[index]\r\n                    }\r\n                    column.added = options;\r\n                    updateIndexes(this, column);\r\n                    this.updateColumns(this._dataSource);\r\n                    this._checkColumns()\r\n                },\r\n                deleteColumn: function(id) {\r\n                    var column = this.columnOption(id);\r\n                    if (column && column.index >= 0) {\r\n                        columns = this._columns, void columns.forEach(column => {\r\n                            if (isDefined(column.ownerBand)) {\r\n                                column.ownerBand = columns[column.ownerBand]\r\n                            }\r\n                        });\r\n                        this._columns.splice(column.index, 1);\r\n                        if (column.isBand) {\r\n                            var childIndexes = this.getChildrenByBandColumn(column.index).map(column => column.index);\r\n                            this._columns = this._columns.filter(column => childIndexes.indexOf(column.index) < 0)\r\n                        }\r\n                        updateIndexes(this);\r\n                        this.updateColumns(this._dataSource)\r\n                    }\r\n                    var columns\r\n                },\r\n                addCommandColumn: function(options) {\r\n                    var commandColumn = this._commandColumns.filter(column => column.command === options.command)[0];\r\n                    if (!commandColumn) {\r\n                        commandColumn = options;\r\n                        this._commandColumns.push(commandColumn)\r\n                    }\r\n                },\r\n                getUserState: function() {\r\n                    var columns = this._columns;\r\n                    var result = [];\r\n                    var i;\r\n\r\n                    function handleStateField(index, value) {\r\n                        if (void 0 !== columns[i][value]) {\r\n                            result[i][value] = columns[i][value]\r\n                        }\r\n                    }\r\n                    for (i = 0; i < columns.length; i++) {\r\n                        result[i] = {};\r\n                        each(USER_STATE_FIELD_NAMES, handleStateField)\r\n                    }\r\n                    return result\r\n                },\r\n                setName: function(column) {\r\n                    column.name = column.name || column.dataField || column.type\r\n                },\r\n                setUserState: function(state) {\r\n                    var dataSource = this._dataSource;\r\n                    var ignoreColumnOptionNames = this.option(\"stateStoring.ignoreColumnOptionNames\");\r\n                    null === state || void 0 === state ? void 0 : state.forEach(this.setName);\r\n                    if (!ignoreColumnOptionNames) {\r\n                        ignoreColumnOptionNames = [];\r\n                        var commonColumnSettings = this.getCommonSettings();\r\n                        if (!this.option(\"columnChooser.enabled\")) {\r\n                            ignoreColumnOptionNames.push(\"visible\")\r\n                        }\r\n                        if (\"none\" === this.option(\"sorting.mode\")) {\r\n                            ignoreColumnOptionNames.push(\"sortIndex\", \"sortOrder\")\r\n                        }\r\n                        if (!commonColumnSettings.allowGrouping) {\r\n                            ignoreColumnOptionNames.push(\"groupIndex\")\r\n                        }\r\n                        if (!commonColumnSettings.allowFixing) {\r\n                            ignoreColumnOptionNames.push(\"fixed\", \"fixedPosition\")\r\n                        }\r\n                        if (!commonColumnSettings.allowResizing) {\r\n                            ignoreColumnOptionNames.push(\"width\", \"visibleWidth\")\r\n                        }\r\n                        var isFilterPanelHidden = !this.option(\"filterPanel.visible\");\r\n                        if (!this.option(\"filterRow.visible\") && isFilterPanelHidden) {\r\n                            ignoreColumnOptionNames.push(\"filterValue\", \"selectedFilterOperation\")\r\n                        }\r\n                        if (!this.option(\"headerFilter.visible\") && isFilterPanelHidden) {\r\n                            ignoreColumnOptionNames.push(\"filterValues\", \"filterType\")\r\n                        }\r\n                    }\r\n                    this._columnsUserState = state;\r\n                    this._ignoreColumnOptionNames = ignoreColumnOptionNames;\r\n                    this._hasUserState = !!state;\r\n                    updateColumnChanges(this, \"filtering\");\r\n                    this.init();\r\n                    if (dataSource) {\r\n                        dataSource.sort(this.getSortDataSourceParameters());\r\n                        dataSource.group(this.getGroupDataSourceParameters())\r\n                    }\r\n                },\r\n                _checkColumns: function() {\r\n                    var usedNames = {};\r\n                    var hasEditableColumnWithoutName = false;\r\n                    var duplicatedNames = [];\r\n                    this._columns.forEach(column => {\r\n                        var _column$columns;\r\n                        var name = column.name;\r\n                        var isBand = null === (_column$columns = column.columns) || void 0 === _column$columns ? void 0 : _column$columns.length;\r\n                        var isEditable = column.allowEditing && (column.dataField || column.setCellValue) && !isBand;\r\n                        if (name) {\r\n                            if (usedNames[name]) {\r\n                                duplicatedNames.push('\"'.concat(name, '\"'))\r\n                            }\r\n                            usedNames[name] = true\r\n                        } else if (isEditable) {\r\n                            hasEditableColumnWithoutName = true\r\n                        }\r\n                    });\r\n                    if (duplicatedNames.length) {\r\n                        errors.log(\"E1059\", duplicatedNames.join(\", \"))\r\n                    }\r\n                    if (hasEditableColumnWithoutName) {\r\n                        errors.log(\"E1060\")\r\n                    }\r\n                },\r\n                _createCalculatedColumnOptions: function(columnOptions, bandColumn) {\r\n                    var calculatedColumnOptions = {};\r\n                    var dataField = columnOptions.dataField;\r\n                    if (Array.isArray(columnOptions.columns) && columnOptions.columns.length || columnOptions.isBand) {\r\n                        calculatedColumnOptions.isBand = true;\r\n                        dataField = null\r\n                    }\r\n                    if (dataField) {\r\n                        if (isString(dataField)) {\r\n                            var getter = compileGetter(dataField);\r\n                            calculatedColumnOptions = {\r\n                                caption: captionize(dataField),\r\n                                calculateCellValue: function(data, skipDeserialization) {\r\n                                    var value = getter(data);\r\n                                    return this.deserializeValue && !skipDeserialization ? this.deserializeValue(value) : value\r\n                                },\r\n                                setCellValue: defaultSetCellValue,\r\n                                parseValue: function(text) {\r\n                                    var result;\r\n                                    var parsedValue;\r\n                                    if (\"number\" === this.dataType) {\r\n                                        if (isString(text) && this.format) {\r\n                                            result = function(text, format) {\r\n                                                var parsedValue = numberLocalization.parse(text);\r\n                                                if (isNumeric(parsedValue)) {\r\n                                                    var formattedValue = numberLocalization.format(parsedValue, format);\r\n                                                    var formattedValueWithDefaultFormat = numberLocalization.format(parsedValue, \"decimal\");\r\n                                                    if (formattedValue === text || formattedValueWithDefaultFormat === text) {\r\n                                                        return parsedValue\r\n                                                    }\r\n                                                }\r\n                                            }(text.trim(), this.format)\r\n                                        } else if (isDefined(text) && isNumeric(text)) {\r\n                                            result = Number(text)\r\n                                        }\r\n                                    } else if (\"boolean\" === this.dataType) {\r\n                                        if (text === this.trueText) {\r\n                                            result = true\r\n                                        } else if (text === this.falseText) {\r\n                                            result = false\r\n                                        }\r\n                                    } else if (gridCoreUtils.isDateType(this.dataType)) {\r\n                                        parsedValue = dateLocalization.parse(text, this.format);\r\n                                        if (parsedValue) {\r\n                                            result = parsedValue\r\n                                        }\r\n                                    } else {\r\n                                        result = text\r\n                                    }\r\n                                    return result\r\n                                }\r\n                            }\r\n                        }\r\n                        calculatedColumnOptions.allowFiltering = true\r\n                    } else {\r\n                        calculatedColumnOptions.allowFiltering = !!columnOptions.calculateFilterExpression\r\n                    }\r\n                    calculatedColumnOptions.calculateFilterExpression = function() {\r\n                        return filterUtils.defaultCalculateFilterExpression.apply(this, arguments)\r\n                    };\r\n                    calculatedColumnOptions.createFilterExpression = function(filterValue) {\r\n                        var result;\r\n                        if (this.calculateFilterExpression) {\r\n                            result = this.calculateFilterExpression.apply(this, arguments)\r\n                        }\r\n                        if (isFunction(result)) {\r\n                            result = [result, \"=\", true]\r\n                        }\r\n                        if (result) {\r\n                            result.columnIndex = this.index;\r\n                            result.filterValue = filterValue\r\n                        }\r\n                        return result\r\n                    };\r\n                    if (!dataField || !isString(dataField)) {\r\n                        extend(true, calculatedColumnOptions, {\r\n                            allowSorting: false,\r\n                            allowGrouping: false,\r\n                            calculateCellValue: function() {\r\n                                return null\r\n                            }\r\n                        })\r\n                    }\r\n                    if (bandColumn) {\r\n                        calculatedColumnOptions.allowFixing = false\r\n                    }\r\n                    if (columnOptions.dataType) {\r\n                        calculatedColumnOptions.userDataType = columnOptions.dataType\r\n                    }\r\n                    if (columnOptions.selectedFilterOperation && !(\"defaultSelectedFilterOperation\" in calculatedColumnOptions)) {\r\n                        calculatedColumnOptions.defaultSelectedFilterOperation = columnOptions.selectedFilterOperation\r\n                    }\r\n                    if (columnOptions.lookup) {\r\n                        calculatedColumnOptions.lookup = {\r\n                            calculateCellValue: function(value, skipDeserialization) {\r\n                                if (this.valueExpr) {\r\n                                    value = this.valueMap && this.valueMap[value]\r\n                                }\r\n                                return this.deserializeValue && !skipDeserialization ? this.deserializeValue(value) : value\r\n                            },\r\n                            updateValueMap: function() {\r\n                                this.valueMap = {};\r\n                                if (this.items) {\r\n                                    var calculateValue = compileGetter(this.valueExpr);\r\n                                    var calculateDisplayValue = compileGetter(this.displayExpr);\r\n                                    for (var i = 0; i < this.items.length; i++) {\r\n                                        var item = this.items[i];\r\n                                        var displayValue = calculateDisplayValue(item);\r\n                                        this.valueMap[calculateValue(item)] = displayValue;\r\n                                        this.dataType = this.dataType || getValueDataType(displayValue)\r\n                                    }\r\n                                }\r\n                            },\r\n                            update: function() {\r\n                                var that = this;\r\n                                var dataSource = that.dataSource;\r\n                                if (dataSource) {\r\n                                    if (isFunction(dataSource) && !variableWrapper.isWrapped(dataSource)) {\r\n                                        dataSource = dataSource({})\r\n                                    }\r\n                                    if (isPlainObject(dataSource) || dataSource instanceof Store || Array.isArray(dataSource)) {\r\n                                        if (that.valueExpr) {\r\n                                            var dataSourceOptions = normalizeDataSourceOptions(dataSource);\r\n                                            dataSourceOptions.paginate = false;\r\n                                            dataSource = new DataSource(dataSourceOptions);\r\n                                            return dataSource.load().done((function(data) {\r\n                                                that.items = data;\r\n                                                that.updateValueMap && that.updateValueMap()\r\n                                            }))\r\n                                        }\r\n                                    } else {\r\n                                        errors.log(\"E1016\")\r\n                                    }\r\n                                } else {\r\n                                    that.updateValueMap && that.updateValueMap()\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    calculatedColumnOptions.resizedCallbacks = Callbacks();\r\n                    if (columnOptions.resized) {\r\n                        calculatedColumnOptions.resizedCallbacks.add(columnOptions.resized.bind(columnOptions))\r\n                    }\r\n                    each(calculatedColumnOptions, (function(optionName) {\r\n                        if (isFunction(calculatedColumnOptions[optionName]) && 0 !== optionName.indexOf(\"default\")) {\r\n                            var defaultOptionName = \"default\" + optionName.charAt(0).toUpperCase() + optionName.substr(1);\r\n                            calculatedColumnOptions[defaultOptionName] = calculatedColumnOptions[optionName]\r\n                        }\r\n                    }));\r\n                    return calculatedColumnOptions\r\n                },\r\n                getRowCount: function() {\r\n                    this._rowCount = this._rowCount || function(that) {\r\n                        var rowCount = 1;\r\n                        var bandColumnsCache = that.getBandColumnsCache();\r\n                        var columnParentByIndex = bandColumnsCache.columnParentByIndex;\r\n                        that._columns.forEach((function(column) {\r\n                            var parents = getParentBandColumns(column.index, columnParentByIndex);\r\n                            var invisibleParents = parents.filter((function(column) {\r\n                                return !column.visible\r\n                            }));\r\n                            if (column.visible && !invisibleParents.length) {\r\n                                rowCount = Math.max(rowCount, parents.length + 1)\r\n                            }\r\n                        }));\r\n                        return rowCount\r\n                    }(this);\r\n                    return this._rowCount\r\n                },\r\n                getRowIndex: function(columnIndex, alwaysGetRowIndex) {\r\n                    var column = this._columns[columnIndex];\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    return column && (alwaysGetRowIndex || column.visible && !(column.command || isDefined(column.groupIndex))) ? getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex).length : 0\r\n                },\r\n                getChildrenByBandColumn: function(bandColumnIndex, onlyVisibleDirectChildren) {\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var result = _getChildrenByBandColumn(bandColumnIndex, bandColumnsCache.columnChildrenByIndex, !onlyVisibleDirectChildren);\r\n                    if (onlyVisibleDirectChildren) {\r\n                        return result.filter((function(column) {\r\n                            return column.visible && !column.command\r\n                        })).sort((function(column1, column2) {\r\n                            return column1.visibleIndex - column2.visibleIndex\r\n                        }))\r\n                    }\r\n                    return result\r\n                },\r\n                isParentBandColumn: function(columnIndex, bandColumnIndex) {\r\n                    var result = false;\r\n                    var column = this._columns[columnIndex];\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var parentBandColumns = column && getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex);\r\n                    if (parentBandColumns) {\r\n                        each(parentBandColumns, (function(_, bandColumn) {\r\n                            if (bandColumn.index === bandColumnIndex) {\r\n                                result = true;\r\n                                return false\r\n                            }\r\n                        }))\r\n                    }\r\n                    return result\r\n                },\r\n                isParentColumnVisible: function(columnIndex) {\r\n                    var result = true;\r\n                    var bandColumnsCache = this.getBandColumnsCache();\r\n                    var bandColumns = columnIndex >= 0 && getParentBandColumns(columnIndex, bandColumnsCache.columnParentByIndex);\r\n                    bandColumns && each(bandColumns, (function(_, bandColumn) {\r\n                        result = result && bandColumn.visible;\r\n                        return result\r\n                    }));\r\n                    return result\r\n                },\r\n                getColumnId: function(column) {\r\n                    if (column.command && column.type === GROUP_COMMAND_COLUMN_NAME) {\r\n                        if (isCustomCommandColumn(this, column)) {\r\n                            return \"type:\" + column.type\r\n                        }\r\n                        return \"command:\" + column.command\r\n                    }\r\n                    return column.index\r\n                },\r\n                getCustomizeTextByDataType: getCustomizeTextByDataType,\r\n                getHeaderContentAlignment: function(columnAlignment) {\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (rtlEnabled) {\r\n                        return \"left\" === columnAlignment ? \"right\" : \"left\"\r\n                    }\r\n                    return columnAlignment\r\n                }\r\n            }\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.columns_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnsControllerModule\r\n} from \"../grid_core/ui.grid_core.columns_controller\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\ngridCore.registerModule(\"columns\", {\r\n    defaultOptions: function() {\r\n        return extend(true, {}, columnsControllerModule.defaultOptions(), {\r\n            commonColumnSettings: {\r\n                allowExporting: true\r\n            }\r\n        })\r\n    },\r\n    controllers: columnsControllerModule.controllers\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.data_source_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport gridCore from \"../data_grid/ui.data_grid.core\";\r\nimport {\r\n    executeAsync,\r\n    getKeyHash\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport ArrayStore from \"../../data/array_store\";\r\nimport {\r\n    applyBatch\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nexport default gridCore.Controller.inherit(function() {\r\n    function cloneItems(items, groupCount) {\r\n        if (items) {\r\n            items = items.slice(0);\r\n            if (groupCount) {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    items[i] = extend({\r\n                        key: items[i].key\r\n                    }, items[i]);\r\n                    items[i].items = cloneItems(items[i].items, groupCount - 1)\r\n                }\r\n            }\r\n        }\r\n        return items\r\n    }\r\n\r\n    function calculateOperationTypes(loadOptions, lastLoadOptions, isFullReload) {\r\n        var operationTypes = {\r\n            reload: true,\r\n            fullReload: true\r\n        };\r\n        if (lastLoadOptions) {\r\n            operationTypes = {\r\n                sorting: !gridCore.equalSortParameters(loadOptions.sort, lastLoadOptions.sort),\r\n                grouping: !gridCore.equalSortParameters(loadOptions.group, lastLoadOptions.group, true),\r\n                groupExpanding: !gridCore.equalSortParameters(loadOptions.group, lastLoadOptions.group) || lastLoadOptions.groupExpand,\r\n                filtering: !gridCore.equalFilterParameters(loadOptions.filter, lastLoadOptions.filter),\r\n                pageIndex: loadOptions.pageIndex !== lastLoadOptions.pageIndex,\r\n                skip: loadOptions.skip !== lastLoadOptions.skip,\r\n                take: loadOptions.take !== lastLoadOptions.take,\r\n                pageSize: loadOptions.pageSize !== lastLoadOptions.pageSize,\r\n                fullReload: isFullReload\r\n            };\r\n            operationTypes.reload = isFullReload || operationTypes.sorting || operationTypes.grouping || operationTypes.filtering;\r\n            operationTypes.paging = operationTypes.pageIndex || operationTypes.pageSize || operationTypes.take\r\n        }\r\n        return operationTypes\r\n    }\r\n\r\n    function getPageDataFromCache(options, updatePaging) {\r\n        var groupCount = gridCore.normalizeSortingInfo(options.group || options.storeLoadOptions.group || options.loadOptions.group).length;\r\n        var items = [];\r\n        if (fillItemsFromCache(items, options, groupCount)) {\r\n            return items\r\n        } else if (updatePaging) {\r\n            ! function(cacheItemsFromBegin, options, groupCount) {\r\n                var cacheItemBeginCount = cacheItemsFromBegin.length;\r\n                var {\r\n                    storeLoadOptions: storeLoadOptions\r\n                } = options;\r\n                if (void 0 !== storeLoadOptions.skip && storeLoadOptions.take && !groupCount) {\r\n                    var cacheItemsFromEnd = [];\r\n                    fillItemsFromCache(cacheItemsFromEnd, options, groupCount, true);\r\n                    var cacheItemEndCount = cacheItemsFromEnd.length;\r\n                    if (cacheItemBeginCount || cacheItemEndCount) {\r\n                        var _options$skip2, _options$take2;\r\n                        options.skip = null !== (_options$skip2 = options.skip) && void 0 !== _options$skip2 ? _options$skip2 : storeLoadOptions.skip;\r\n                        options.take = null !== (_options$take2 = options.take) && void 0 !== _options$take2 ? _options$take2 : storeLoadOptions.take\r\n                    }\r\n                    if (cacheItemBeginCount) {\r\n                        storeLoadOptions.skip += cacheItemBeginCount;\r\n                        storeLoadOptions.take -= cacheItemBeginCount;\r\n                        options.cachedDataPartBegin = cacheItemsFromBegin\r\n                    }\r\n                    if (cacheItemEndCount) {\r\n                        storeLoadOptions.take -= cacheItemEndCount;\r\n                        options.cachedDataPartEnd = cacheItemsFromEnd.reverse()\r\n                    }\r\n                }\r\n            }(items, options, groupCount)\r\n        }\r\n    }\r\n\r\n    function fillItemsFromCache(items, options, groupCount, fromEnd) {\r\n        var _ref, _options$take, _options$cachedData;\r\n        var {\r\n            storeLoadOptions: storeLoadOptions\r\n        } = options;\r\n        var take = null !== (_ref = null !== (_options$take = options.take) && void 0 !== _options$take ? _options$take : storeLoadOptions.take) && void 0 !== _ref ? _ref : 0;\r\n        var cachedItems = null === (_options$cachedData = options.cachedData) || void 0 === _options$cachedData ? void 0 : _options$cachedData.items;\r\n        if (take && cachedItems) {\r\n            var _ref2, _options$skip;\r\n            var skip = null !== (_ref2 = null !== (_options$skip = options.skip) && void 0 !== _options$skip ? _options$skip : storeLoadOptions.skip) && void 0 !== _ref2 ? _ref2 : 0;\r\n            for (var i = 0; i < take; i++) {\r\n                var localIndex = fromEnd ? take - 1 - i : i;\r\n                var cacheItemIndex = localIndex + skip;\r\n                var cacheItem = cachedItems[cacheItemIndex];\r\n                if (void 0 === cacheItem && cacheItemIndex in cachedItems) {\r\n                    return true\r\n                }\r\n                var item = getItemFromCache(options, cacheItem, groupCount, localIndex, take);\r\n                if (item) {\r\n                    items.push(item)\r\n                } else {\r\n                    return false\r\n                }\r\n            }\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n\r\n    function getItemFromCache(options, cacheItem, groupCount, index, take) {\r\n        if (groupCount && cacheItem) {\r\n            var skips = 0 === index && options.skips || [];\r\n            var takes = index === take - 1 && options.takes || [];\r\n            return function getGroupItemFromCache(cacheItem, groupCount, skips, takes) {\r\n                if (groupCount && cacheItem) {\r\n                    var result = _extends({}, cacheItem);\r\n                    var skip = skips[0] || 0;\r\n                    var take = takes[0];\r\n                    var items = cacheItem.items;\r\n                    if (items) {\r\n                        if (void 0 === take && !items[skip]) {\r\n                            return\r\n                        }\r\n                        result.items = [];\r\n                        if (skips.length) {\r\n                            result.isContinuation = true\r\n                        }\r\n                        if (takes.length) {\r\n                            result.isContinuationOnNextPage = true\r\n                        }\r\n                        for (var i = 0; void 0 === take ? items[i + skip] : i < take; i++) {\r\n                            var childCacheItem = items[i + skip];\r\n                            var isLast = i + 1 === take;\r\n                            var item = getGroupItemFromCache(childCacheItem, groupCount - 1, 0 === i ? skips.slice(1) : [], isLast ? takes.slice(1) : []);\r\n                            if (void 0 !== item) {\r\n                                result.items.push(item)\r\n                            } else {\r\n                                return\r\n                            }\r\n                        }\r\n                    }\r\n                    return result\r\n                }\r\n                return cacheItem\r\n            }(cacheItem, groupCount, skips, takes)\r\n        } else {\r\n            return cacheItem\r\n        }\r\n    }\r\n\r\n    function getCacheItem(cacheItem, loadedItem, groupCount, skips) {\r\n        if (groupCount && loadedItem) {\r\n            var result = _extends({}, loadedItem);\r\n            delete result.isContinuation;\r\n            delete result.isContinuationOnNextPage;\r\n            var skip = skips[0] || 0;\r\n            if (loadedItem.items) {\r\n                result.items = (null === cacheItem || void 0 === cacheItem ? void 0 : cacheItem.items) || {};\r\n                loadedItem.items.forEach((item, index) => {\r\n                    var globalIndex = index + skip;\r\n                    var childSkips = 0 === index ? skips.slice(1) : [];\r\n                    result.items[globalIndex] = getCacheItem(result.items[globalIndex], item, groupCount - 1, childSkips)\r\n                })\r\n            }\r\n            return result\r\n        }\r\n        return loadedItem\r\n    }\r\n    return {\r\n        init: function(dataSource, remoteOperations) {\r\n            var that = this;\r\n            that._dataSource = dataSource;\r\n            that._remoteOperations = remoteOperations || {};\r\n            that._isLastPage = !dataSource.isLastPage();\r\n            that._hasLastPage = false;\r\n            that._currentTotalCount = 0;\r\n            that._cachedData = {\r\n                items: {}\r\n            };\r\n            that._lastOperationTypes = {};\r\n            that._eventsStrategy = dataSource._eventsStrategy;\r\n            that._totalCountCorrection = 0;\r\n            that._isLoadingAll = false;\r\n            that.changed = Callbacks();\r\n            that.loadingChanged = Callbacks();\r\n            that.loadError = Callbacks();\r\n            that.customizeStoreLoadOptions = Callbacks();\r\n            that.changing = Callbacks();\r\n            that.pushed = Callbacks();\r\n            that._dataChangedHandler = that._handleDataChanged.bind(that);\r\n            that._customizeStoreLoadOptionsHandler = that._handleCustomizeStoreLoadOptions.bind(that);\r\n            that._dataLoadedHandler = that._handleDataLoaded.bind(that);\r\n            that._loadingChangedHandler = that._handleLoadingChanged.bind(that);\r\n            that._loadErrorHandler = that._handleLoadError.bind(that);\r\n            that._pushHandler = that._handlePush.bind(that);\r\n            that._changingHandler = that._handleChanging.bind(that);\r\n            dataSource.on(\"changed\", that._dataChangedHandler);\r\n            dataSource.on(\"customizeStoreLoadOptions\", that._customizeStoreLoadOptionsHandler);\r\n            dataSource.on(\"customizeLoadResult\", that._dataLoadedHandler);\r\n            dataSource.on(\"loadingChanged\", that._loadingChangedHandler);\r\n            dataSource.on(\"loadError\", that._loadErrorHandler);\r\n            dataSource.on(\"changing\", that._changingHandler);\r\n            dataSource.store().on(\"beforePush\", that._pushHandler);\r\n            each(dataSource, (function(memberName, member) {\r\n                if (!that[memberName] && isFunction(member)) {\r\n                    that[memberName] = function() {\r\n                        return this._dataSource[memberName].apply(this._dataSource, arguments)\r\n                    }\r\n                }\r\n            }))\r\n        },\r\n        remoteOperations: function() {\r\n            return this._remoteOperations\r\n        },\r\n        dispose: function(isSharedDataSource) {\r\n            var dataSource = this._dataSource;\r\n            var store = dataSource.store();\r\n            dataSource.off(\"changed\", this._dataChangedHandler);\r\n            dataSource.off(\"customizeStoreLoadOptions\", this._customizeStoreLoadOptionsHandler);\r\n            dataSource.off(\"customizeLoadResult\", this._dataLoadedHandler);\r\n            dataSource.off(\"loadingChanged\", this._loadingChangedHandler);\r\n            dataSource.off(\"loadError\", this._loadErrorHandler);\r\n            dataSource.off(\"changing\", this._changingHandler);\r\n            store && store.off(\"beforePush\", this._pushHandler);\r\n            if (!isSharedDataSource) {\r\n                dataSource.dispose()\r\n            }\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var dataSource = this._dataSource;\r\n            if (operationTypes.reload) {\r\n                this.resetCurrentTotalCount();\r\n                this._isLastPage = !dataSource.paginate();\r\n                this._hasLastPage = this._isLastPage\r\n            }\r\n        },\r\n        resetCurrentTotalCount: function() {\r\n            this._currentTotalCount = 0;\r\n            this._totalCountCorrection = 0\r\n        },\r\n        resetCache: function() {\r\n            this._cachedStoreData = void 0;\r\n            this._cachedPagingData = void 0\r\n        },\r\n        resetPagesCache: function() {\r\n            this._cachedData = {\r\n                items: {}\r\n            }\r\n        },\r\n        _needClearStoreDataCache: function() {\r\n            var remoteOperations = this.remoteOperations();\r\n            var operationTypes = calculateOperationTypes(this._lastLoadOptions || {}, {});\r\n            var isLocalOperations = Object.keys(remoteOperations).every(operationName => !operationTypes[operationName] || !remoteOperations[operationName]);\r\n            return !isLocalOperations\r\n        },\r\n        push: function(changes, fromStore) {\r\n            var store = this.store();\r\n            if (this._needClearStoreDataCache()) {\r\n                this._cachedStoreData = void 0\r\n            }\r\n            this._cachedPagingData = void 0;\r\n            this.resetPagesCache(true);\r\n            if (this._cachedStoreData) {\r\n                applyBatch({\r\n                    keyInfo: store,\r\n                    data: this._cachedStoreData,\r\n                    changes: changes\r\n                })\r\n            }\r\n            if (!fromStore) {\r\n                this._applyBatch(changes)\r\n            }\r\n            this.pushed.fire(changes)\r\n        },\r\n        getDataIndexGetter: function() {\r\n            if (!this._dataIndexGetter) {\r\n                var indexByKey;\r\n                var storeData;\r\n                var store = this.store();\r\n                this._dataIndexGetter = data => {\r\n                    var isCacheUpdated = storeData && storeData !== this._cachedStoreData;\r\n                    if (!indexByKey || isCacheUpdated) {\r\n                        storeData = this._cachedStoreData || [];\r\n                        indexByKey = {};\r\n                        for (var i = 0; i < storeData.length; i++) {\r\n                            indexByKey[getKeyHash(store.keyOf(storeData[i]))] = i\r\n                        }\r\n                    }\r\n                    return indexByKey[getKeyHash(store.keyOf(data))]\r\n                }\r\n            }\r\n            return this._dataIndexGetter\r\n        },\r\n        _getKeyInfo: function() {\r\n            return this.store()\r\n        },\r\n        _applyBatch: function(changes) {\r\n            var keyInfo = this._getKeyInfo();\r\n            var dataSource = this._dataSource;\r\n            var groupCount = gridCore.normalizeSortingInfo(this.group()).length;\r\n            var totalCount = this.totalCount();\r\n            var isVirtualMode = \"virtual\" === this.option(\"scrolling.mode\");\r\n            changes = changes.filter((function(change) {\r\n                return !dataSource.paginate() || \"insert\" !== change.type || void 0 !== change.index\r\n            }));\r\n            var getItemCount = () => groupCount ? this.itemsCount() : this.items().length;\r\n            var oldItemCount = getItemCount();\r\n            applyBatch({\r\n                keyInfo: keyInfo,\r\n                data: this._items,\r\n                changes: changes,\r\n                groupCount: groupCount,\r\n                useInsertIndex: true\r\n            });\r\n            applyBatch({\r\n                keyInfo: keyInfo,\r\n                data: dataSource.items(),\r\n                changes: changes,\r\n                groupCount: groupCount,\r\n                useInsertIndex: true\r\n            });\r\n            if (this._currentTotalCount > 0 || isVirtualMode && totalCount === oldItemCount) {\r\n                this._totalCountCorrection += getItemCount() - oldItemCount\r\n            }\r\n            changes.splice(0, changes.length)\r\n        },\r\n        _handlePush: function(_ref5) {\r\n            var {\r\n                changes: changes\r\n            } = _ref5;\r\n            this.push(changes, true)\r\n        },\r\n        _handleChanging: function(e) {\r\n            this.changing.fire(e);\r\n            this._applyBatch(e.changes)\r\n        },\r\n        _needCleanCacheByOperation: function(operationType, remoteOperations) {\r\n            var operationTypesByOrder = [\"filtering\", \"sorting\", \"paging\"];\r\n            var operationTypeIndex = operationTypesByOrder.indexOf(operationType);\r\n            var currentOperationTypes = operationTypeIndex >= 0 ? operationTypesByOrder.slice(operationTypeIndex) : [operationType];\r\n            return currentOperationTypes.some(operationType => remoteOperations[operationType])\r\n        },\r\n        _customizeRemoteOperations: function(options, operationTypes) {\r\n            var cachedStoreData = this._cachedStoreData;\r\n            var cachedPagingData = this._cachedPagingData;\r\n            var cachedData = this._cachedData;\r\n            if (options.storeLoadOptions.filter && !options.remoteOperations.filtering || options.storeLoadOptions.sort && !options.remoteOperations.sorting) {\r\n                options.remoteOperations = {\r\n                    filtering: options.remoteOperations.filtering,\r\n                    summary: options.remoteOperations.summary\r\n                }\r\n            }\r\n            if (operationTypes.fullReload) {\r\n                cachedStoreData = void 0;\r\n                cachedPagingData = void 0;\r\n                cachedData = {\r\n                    items: {}\r\n                }\r\n            } else {\r\n                if (operationTypes.reload) {\r\n                    cachedPagingData = void 0;\r\n                    cachedData = {\r\n                        items: {}\r\n                    }\r\n                } else if (operationTypes.groupExpanding) {\r\n                    cachedData = {\r\n                        items: {}\r\n                    }\r\n                }\r\n                each(operationTypes, (operationType, value) => {\r\n                    if (value && this._needCleanCacheByOperation(operationType, options.remoteOperations)) {\r\n                        cachedStoreData = void 0;\r\n                        cachedPagingData = void 0\r\n                    }\r\n                })\r\n            }\r\n            if (cachedPagingData) {\r\n                options.remoteOperations.paging = false\r\n            }\r\n            options.cachedStoreData = cachedStoreData;\r\n            options.cachedPagingData = cachedPagingData;\r\n            options.cachedData = cachedData;\r\n            if (!options.isCustomLoading) {\r\n                this._cachedStoreData = cachedStoreData;\r\n                this._cachedPagingData = cachedPagingData;\r\n                this._cachedData = cachedData\r\n            }\r\n        },\r\n        _handleCustomizeStoreLoadOptions(options) {\r\n            var _options$data;\r\n            this._handleDataLoading(options);\r\n            if (!(0 === (null === (_options$data = options.data) || void 0 === _options$data ? void 0 : _options$data.length))) {\r\n                options.data = getPageDataFromCache(options, true) || options.cachedStoreData\r\n            }\r\n        },\r\n        _handleDataLoading: function(options) {\r\n            var dataSource = this._dataSource;\r\n            var lastLoadOptions = this._lastLoadOptions;\r\n            this.customizeStoreLoadOptions.fire(options);\r\n            options.delay = this.option(\"loadingTimeout\");\r\n            options.originalStoreLoadOptions = options.storeLoadOptions;\r\n            options.remoteOperations = extend({}, this.remoteOperations());\r\n            var isFullReload = !this.isLoaded() && !this._isRefreshing;\r\n            if (this.option(\"integrationOptions.renderedOnServer\") && !this.isLoaded()) {\r\n                options.delay = void 0\r\n            }\r\n            var loadOptions = extend({\r\n                pageIndex: this.pageIndex(),\r\n                pageSize: this.pageSize()\r\n            }, options.storeLoadOptions);\r\n            var operationTypes = calculateOperationTypes(loadOptions, lastLoadOptions, isFullReload);\r\n            this._customizeRemoteOperations(options, operationTypes);\r\n            if (!options.isCustomLoading) {\r\n                var isRefreshing = this._isRefreshing;\r\n                options.pageIndex = dataSource.pageIndex();\r\n                options.lastLoadOptions = loadOptions;\r\n                options.operationTypes = operationTypes;\r\n                this._loadingOperationTypes = operationTypes;\r\n                this._isRefreshing = true;\r\n                when(isRefreshing || this._isRefreshed || this.refresh(options, operationTypes)).done(() => {\r\n                    if (this._lastOperationId === options.operationId) {\r\n                        this._isRefreshed = true;\r\n                        this.load().always(() => {\r\n                            this._isRefreshed = false\r\n                        })\r\n                    }\r\n                }).fail(() => {\r\n                    dataSource.cancel(options.operationId)\r\n                }).always(() => {\r\n                    this._isRefreshing = false\r\n                });\r\n                dataSource.cancel(this._lastOperationId);\r\n                this._lastOperationId = options.operationId;\r\n                if (this._isRefreshing) {\r\n                    dataSource.cancel(this._lastOperationId)\r\n                }\r\n            }\r\n            this._handleDataLoadingCore(options)\r\n        },\r\n        _handleDataLoadingCore: function(options) {\r\n            var remoteOperations = options.remoteOperations;\r\n            options.loadOptions = {};\r\n            var cachedExtra = options.cachedData.extra;\r\n            var localLoadOptionNames = {\r\n                filter: !remoteOperations.filtering,\r\n                sort: !remoteOperations.sorting,\r\n                group: !remoteOperations.grouping,\r\n                summary: !remoteOperations.summary,\r\n                skip: !remoteOperations.paging,\r\n                take: !remoteOperations.paging,\r\n                requireTotalCount: cachedExtra && \"totalCount\" in cachedExtra || !remoteOperations.paging\r\n            };\r\n            each(options.storeLoadOptions, (function(optionName, optionValue) {\r\n                if (localLoadOptionNames[optionName]) {\r\n                    options.loadOptions[optionName] = optionValue;\r\n                    delete options.storeLoadOptions[optionName]\r\n                }\r\n            }));\r\n            if (cachedExtra) {\r\n                options.extra = cachedExtra\r\n            }\r\n        },\r\n        _handleDataLoaded: function(options) {\r\n            var loadOptions = options.loadOptions;\r\n            var localPaging = options.remoteOperations && !options.remoteOperations.paging;\r\n            var cachedData = options.cachedData;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var needCache = false !== this.option(\"cacheEnabled\") && storeLoadOptions;\r\n            var needPageCache = needCache && !options.isCustomLoading && cachedData && (!localPaging || storeLoadOptions.group);\r\n            var needPagingCache = needCache && localPaging;\r\n            var needStoreCache = needPagingCache && !options.isCustomLoading;\r\n            if (!loadOptions) {\r\n                this._dataSource.cancel(options.operationId);\r\n                return\r\n            }\r\n            if (localPaging) {\r\n                options.skip = loadOptions.skip;\r\n                options.take = loadOptions.take;\r\n                delete loadOptions.skip;\r\n                delete loadOptions.take\r\n            }\r\n            if (loadOptions.group) {\r\n                loadOptions.group = options.group || loadOptions.group\r\n            }\r\n            var groupCount = gridCore.normalizeSortingInfo(options.group || storeLoadOptions.group || loadOptions.group).length;\r\n            if (options.cachedDataPartBegin) {\r\n                options.data = options.cachedDataPartBegin.concat(options.data)\r\n            }\r\n            if (options.cachedDataPartEnd) {\r\n                options.data = options.data.concat(options.cachedDataPartEnd)\r\n            }\r\n            if (!needPageCache || !getPageDataFromCache(options)) {\r\n                if (needPagingCache && options.cachedPagingData) {\r\n                    options.data = cloneItems(options.cachedPagingData, groupCount)\r\n                } else {\r\n                    if (needStoreCache) {\r\n                        if (!this._cachedStoreData) {\r\n                            this._cachedStoreData = cloneItems(options.data, gridCore.normalizeSortingInfo(storeLoadOptions.group).length)\r\n                        } else if (options.mergeStoreLoadData) {\r\n                            options.data = this._cachedStoreData = this._cachedStoreData.concat(options.data)\r\n                        }\r\n                    }\r\n                    new ArrayStore(options.data).load(loadOptions).done(data => {\r\n                        options.data = data;\r\n                        if (needStoreCache) {\r\n                            this._cachedPagingData = cloneItems(options.data, groupCount)\r\n                        }\r\n                    }).fail(error => {\r\n                        options.data = (new Deferred).reject(error)\r\n                    })\r\n                }\r\n                if (loadOptions.requireTotalCount && localPaging) {\r\n                    options.extra = isPlainObject(options.extra) ? options.extra : {};\r\n                    options.extra.totalCount = options.data.length\r\n                }\r\n                if (options.extra && options.extra.totalCount >= 0 && (false === storeLoadOptions.requireTotalCount || false === loadOptions.requireTotalCount)) {\r\n                    options.extra.totalCount = -1\r\n                }\r\n                this._handleDataLoadedCore(options);\r\n                if (needPageCache) {\r\n                    cachedData.extra = cachedData.extra || extend({}, options.extra);\r\n                    when(options.data).done(data => {\r\n                        ! function(options, data, groupCount) {\r\n                            var _ref3, _options$skip3, _ref4, _options$take3;\r\n                            var {\r\n                                storeLoadOptions: storeLoadOptions\r\n                            } = options;\r\n                            var skip = null !== (_ref3 = null !== (_options$skip3 = options.skip) && void 0 !== _options$skip3 ? _options$skip3 : storeLoadOptions.skip) && void 0 !== _ref3 ? _ref3 : 0;\r\n                            var take = null !== (_ref4 = null !== (_options$take3 = options.take) && void 0 !== _options$take3 ? _options$take3 : storeLoadOptions.take) && void 0 !== _ref4 ? _ref4 : 0;\r\n                            for (var i = 0; i < take; i++) {\r\n                                var globalIndex = i + skip;\r\n                                var cacheItems = options.cachedData.items;\r\n                                var skips = 0 === i && options.skips || [];\r\n                                cacheItems[globalIndex] = getCacheItem(cacheItems[globalIndex], data[i], groupCount, skips)\r\n                            }\r\n                        }(options, data, groupCount)\r\n                    })\r\n                }\r\n            }\r\n            when(options.data).done(() => {\r\n                if (options.lastLoadOptions) {\r\n                    this._lastLoadOptions = options.lastLoadOptions;\r\n                    Object.keys(options.operationTypes).forEach(operationType => {\r\n                        this._lastOperationTypes[operationType] = this._lastOperationTypes[operationType] || options.operationTypes[operationType]\r\n                    })\r\n                }\r\n            });\r\n            options.storeLoadOptions = options.originalStoreLoadOptions\r\n        },\r\n        _handleDataLoadedCore: function(options) {\r\n            if (options.remoteOperations && !options.remoteOperations.paging && Array.isArray(options.data)) {\r\n                if (void 0 !== options.skip) {\r\n                    options.data = options.data.slice(options.skip)\r\n                }\r\n                if (void 0 !== options.take) {\r\n                    options.data = options.data.slice(0, options.take)\r\n                }\r\n            }\r\n        },\r\n        _handleLoadingChanged: function(isLoading) {\r\n            this.loadingChanged.fire(isLoading)\r\n        },\r\n        _handleLoadError: function(error) {\r\n            this.loadError.fire(error);\r\n            this.changed.fire({\r\n                changeType: \"loadError\",\r\n                error: error\r\n            })\r\n        },\r\n        _loadPageSize: function() {\r\n            return this.pageSize()\r\n        },\r\n        _handleDataChanged: function(args) {\r\n            var currentTotalCount;\r\n            var dataSource = this._dataSource;\r\n            var isLoading = false;\r\n            var isDataLoading = !args || isDefined(args.changeType);\r\n            var itemsCount = this.itemsCount();\r\n            if (isDataLoading) {\r\n                this._isLastPage = !itemsCount || !this._loadPageSize() || itemsCount < this._loadPageSize();\r\n                if (this._isLastPage) {\r\n                    this._hasLastPage = true\r\n                }\r\n            }\r\n            if (dataSource.totalCount() >= 0) {\r\n                if (dataSource.pageIndex() >= this.pageCount()) {\r\n                    dataSource.pageIndex(this.pageCount() - 1);\r\n                    this.pageIndex(dataSource.pageIndex());\r\n                    this.resetPagesCache();\r\n                    dataSource.load();\r\n                    isLoading = true\r\n                }\r\n            } else if (isDataLoading) {\r\n                currentTotalCount = dataSource.pageIndex() * this.pageSize() + itemsCount;\r\n                if (currentTotalCount > this._currentTotalCount) {\r\n                    this._currentTotalCount = currentTotalCount;\r\n                    if (0 === dataSource.pageIndex() || !this.option(\"scrolling.legacyMode\")) {\r\n                        this._totalCountCorrection = 0\r\n                    }\r\n                }\r\n                if (0 === itemsCount && dataSource.pageIndex() >= this.pageCount()) {\r\n                    dataSource.pageIndex(this.pageCount() - 1);\r\n                    if (\"infinite\" !== this.option(\"scrolling.mode\")) {\r\n                        dataSource.load();\r\n                        isLoading = true\r\n                    }\r\n                }\r\n            }\r\n            if (!isLoading) {\r\n                this._operationTypes = this._lastOperationTypes;\r\n                this._lastOperationTypes = {};\r\n                this.component._optionCache = {};\r\n                this.changed.fire(args);\r\n                this.component._optionCache = void 0\r\n            }\r\n        },\r\n        _scheduleCustomLoadCallbacks: function(deferred) {\r\n            var that = this;\r\n            that._isCustomLoading = true;\r\n            deferred.always((function() {\r\n                that._isCustomLoading = false\r\n            }))\r\n        },\r\n        loadingOperationTypes: function() {\r\n            return this._loadingOperationTypes\r\n        },\r\n        operationTypes: function() {\r\n            return this._operationTypes\r\n        },\r\n        lastLoadOptions: function() {\r\n            return this._lastLoadOptions || {}\r\n        },\r\n        isLastPage: function() {\r\n            return this._isLastPage\r\n        },\r\n        _dataSourceTotalCount: function() {\r\n            return this._dataSource.totalCount()\r\n        },\r\n        totalCount: function() {\r\n            return parseInt((this._currentTotalCount || this._dataSourceTotalCount()) + this._totalCountCorrection)\r\n        },\r\n        totalCountCorrection: function() {\r\n            return this._totalCountCorrection\r\n        },\r\n        itemsCount: function() {\r\n            return this._dataSource.items().length\r\n        },\r\n        totalItemsCount: function() {\r\n            return this.totalCount()\r\n        },\r\n        pageSize: function() {\r\n            var dataSource = this._dataSource;\r\n            if (!arguments.length && !dataSource.paginate()) {\r\n                return 0\r\n            }\r\n            return dataSource.pageSize.apply(dataSource, arguments)\r\n        },\r\n        pageCount: function() {\r\n            var count = this.totalItemsCount() - this._totalCountCorrection;\r\n            var pageSize = this.pageSize();\r\n            if (pageSize && count > 0) {\r\n                return Math.max(1, Math.ceil(count / pageSize))\r\n            }\r\n            return 1\r\n        },\r\n        hasKnownLastPage: function() {\r\n            return this._hasLastPage || this._dataSource.totalCount() >= 0\r\n        },\r\n        loadFromStore: function(loadOptions, store) {\r\n            var dataSource = this._dataSource;\r\n            var d = new Deferred;\r\n            if (!dataSource) {\r\n                return\r\n            }\r\n            store = store || dataSource.store();\r\n            store.load(loadOptions).done((function(data, extra) {\r\n                if (data && !Array.isArray(data) && Array.isArray(data.data)) {\r\n                    extra = data;\r\n                    data = data.data\r\n                }\r\n                d.resolve(data, extra)\r\n            })).fail(d.reject);\r\n            return d\r\n        },\r\n        isCustomLoading: function() {\r\n            return !!this._isCustomLoading\r\n        },\r\n        load: function(options) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var d = new Deferred;\r\n            if (options) {\r\n                var store = dataSource.store();\r\n                var dataSourceLoadOptions = dataSource.loadOptions();\r\n                var loadResult = {\r\n                    storeLoadOptions: options,\r\n                    isCustomLoading: true\r\n                };\r\n                each(store._customLoadOptions() || [], (function(_, optionName) {\r\n                    if (!(optionName in loadResult.storeLoadOptions)) {\r\n                        loadResult.storeLoadOptions[optionName] = dataSourceLoadOptions[optionName]\r\n                    }\r\n                }));\r\n                this._isLoadingAll = options.isLoadingAll;\r\n                that._scheduleCustomLoadCallbacks(d);\r\n                dataSource._scheduleLoadCallbacks(d);\r\n                that._handleCustomizeStoreLoadOptions(loadResult);\r\n                ! function(action, timeout) {\r\n                    if (isDefined(timeout)) {\r\n                        executeAsync(action, timeout)\r\n                    } else {\r\n                        action()\r\n                    }\r\n                }((function() {\r\n                    if (!dataSource.store()) {\r\n                        return d.reject(\"canceled\")\r\n                    }\r\n                    when(loadResult.data || that.loadFromStore(loadResult.storeLoadOptions)).done((function(data, extra) {\r\n                        loadResult.data = data;\r\n                        loadResult.extra = extra || {};\r\n                        that._handleDataLoaded(loadResult);\r\n                        if (options.requireTotalCount && void 0 === loadResult.extra.totalCount) {\r\n                            loadResult.extra.totalCount = store.totalCount(loadResult.storeLoadOptions)\r\n                        }\r\n                        when(loadResult.data, loadResult.extra.totalCount).done((function(data, totalCount) {\r\n                            loadResult.extra.totalCount = totalCount;\r\n                            d.resolve(data, loadResult.extra)\r\n                        })).fail(d.reject)\r\n                    })).fail(d.reject)\r\n                }), that.option(\"loadingTimeout\"));\r\n                return d.fail((function() {\r\n                    that._eventsStrategy.fireEvent(\"loadError\", arguments)\r\n                })).always(() => {\r\n                    this._isLoadingAll = false\r\n                }).promise()\r\n            } else {\r\n                return dataSource.load()\r\n            }\r\n        },\r\n        reload: function(full) {\r\n            return full ? this._dataSource.reload() : this._dataSource.load()\r\n        },\r\n        getCachedStoreData: function() {\r\n            return this._cachedStoreData\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.data_source_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport DataSourceAdapter from \"../grid_core/ui.grid_core.data_source_adapter\";\r\nvar dataSourceAdapterType = DataSourceAdapter;\r\nexport default {\r\n    extend: function(extender) {\r\n        dataSourceAdapterType = dataSourceAdapterType.inherit(extender)\r\n    },\r\n    create: function(component) {\r\n        return new dataSourceAdapterType(component)\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.data_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport ArrayStore from \"../../data/array_store\";\r\nimport CustomStore from \"../../data/custom_store\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    noop,\r\n    deferRender,\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport DataHelperMixin from \"../../data_helper\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    findChanges\r\n} from \"../../core/utils/array_compare\";\r\nexport var dataControllerModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            loadingTimeout: 0,\r\n            dataSource: null,\r\n            cacheEnabled: true,\r\n            repaintChangesOnly: false,\r\n            highlightChanges: false,\r\n            onDataErrorOccurred: null,\r\n            remoteOperations: \"auto\",\r\n            paging: {\r\n                enabled: true,\r\n                pageSize: void 0,\r\n                pageIndex: void 0\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        data: modules.Controller.inherit({}).include(DataHelperMixin).inherit(function() {\r\n            var changePaging = function(that, optionName, value) {\r\n                var dataSource = that._dataSource;\r\n                if (dataSource) {\r\n                    if (void 0 !== value) {\r\n                        var oldValue = that._getPagingOptionValue(optionName);\r\n                        if (oldValue !== value) {\r\n                            if (\"pageSize\" === optionName) {\r\n                                dataSource.pageIndex(0)\r\n                            }\r\n                            dataSource[optionName](value);\r\n                            that._skipProcessingPagingChange = true;\r\n                            that.option(\"paging.\" + optionName, value);\r\n                            that._skipProcessingPagingChange = false;\r\n                            var pageIndex = dataSource.pageIndex();\r\n                            return dataSource[\"pageIndex\" === optionName ? \"load\" : \"reload\"]().done(() => that.pageChanged.fire(pageIndex))\r\n                        }\r\n                        return Deferred().resolve().promise()\r\n                    }\r\n                    return dataSource[optionName]()\r\n                }\r\n                return 0\r\n            };\r\n            var members = {\r\n                init: function() {\r\n                    var that = this;\r\n                    that._items = [];\r\n                    that._cachedProcessedItems = null;\r\n                    that._columnsController = that.getController(\"columns\");\r\n                    that._currentOperationTypes = null;\r\n                    that._dataChangedHandler = e => {\r\n                        that._currentOperationTypes = this._dataSource.operationTypes();\r\n                        that._handleDataChanged(e);\r\n                        that._currentOperationTypes = null\r\n                    };\r\n                    that._columnsChangedHandler = that._handleColumnsChanged.bind(that);\r\n                    that._loadingChangedHandler = that._handleLoadingChanged.bind(that);\r\n                    that._loadErrorHandler = that._handleLoadError.bind(that);\r\n                    that._customizeStoreLoadOptionsHandler = that._handleCustomizeStoreLoadOptions.bind(that);\r\n                    that._changingHandler = that._handleChanging.bind(that);\r\n                    that._dataPushedHandler = that._handleDataPushed.bind(that);\r\n                    that._columnsController.columnsChanged.add(that._columnsChangedHandler);\r\n                    that._isLoading = false;\r\n                    that._isCustomLoading = false;\r\n                    that._repaintChangesOnly = void 0;\r\n                    that._changes = [];\r\n                    that.createAction(\"onDataErrorOccurred\");\r\n                    that.dataErrorOccurred.add((function(error) {\r\n                        return that.executeAction(\"onDataErrorOccurred\", {\r\n                            error: error\r\n                        })\r\n                    }));\r\n                    that._refreshDataSource()\r\n                },\r\n                _getPagingOptionValue: function(optionName) {\r\n                    return this._dataSource[optionName]()\r\n                },\r\n                callbackNames: function() {\r\n                    return [\"changed\", \"loadingChanged\", \"dataErrorOccurred\", \"pageChanged\", \"dataSourceChanged\", \"pushed\"]\r\n                },\r\n                callbackFlags: function(name) {\r\n                    if (\"dataErrorOccurred\" === name) {\r\n                        return {\r\n                            stopOnFalse: true\r\n                        }\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"beginCustomLoading\", \"endCustomLoading\", \"refresh\", \"filter\", \"clearFilter\", \"getCombinedFilter\", \"keyOf\", \"byKey\", \"getDataByKeys\", \"pageIndex\", \"pageSize\", \"pageCount\", \"totalCount\", \"_disposeDataSource\", \"getKeyByRowIndex\", \"getRowIndexByKey\", \"getDataSource\", \"getVisibleRows\", \"repaintRows\"]\r\n                },\r\n                reset: function() {\r\n                    this._columnsController.reset();\r\n                    this._items = [];\r\n                    this._refreshDataSource()\r\n                },\r\n                _handleDataSourceChange(args) {\r\n                    if (args.value === args.previousValue || this.option(\"columns\") && Array.isArray(args.value) && Array.isArray(args.previousValue)) {\r\n                        var _this$_dataSource;\r\n                        var isValueChanged = args.value !== args.previousValue;\r\n                        if (isValueChanged) {\r\n                            var store = this.store();\r\n                            if (store) {\r\n                                store._array = args.value\r\n                            }\r\n                        }\r\n                        var isParasiteChange = Array.isArray(args.value) && !isValueChanged && (null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.isLoading());\r\n                        if (!isParasiteChange) {\r\n                            this.refresh(this.option(\"repaintChangesOnly\"))\r\n                        }\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                optionChanged: function(args) {\r\n                    var that = this;\r\n                    var dataSource;\r\n\r\n                    function handled() {\r\n                        args.handled = true\r\n                    }\r\n                    if (\"dataSource\" === args.name && args.name === args.fullName && this._handleDataSourceChange(args)) {\r\n                        handled();\r\n                        return\r\n                    }\r\n                    switch (args.name) {\r\n                        case \"cacheEnabled\":\r\n                        case \"repaintChangesOnly\":\r\n                        case \"highlightChanges\":\r\n                        case \"loadingTimeout\":\r\n                            handled();\r\n                            break;\r\n                        case \"remoteOperations\":\r\n                        case \"keyExpr\":\r\n                        case \"dataSource\":\r\n                        case \"scrolling\":\r\n                            handled();\r\n                            that.reset();\r\n                            break;\r\n                        case \"paging\":\r\n                            dataSource = that.dataSource();\r\n                            if (dataSource && that._setPagingOptions(dataSource)) {\r\n                                var pageIndex = dataSource.pageIndex();\r\n                                dataSource.load().done(() => that.pageChanged.fire(pageIndex))\r\n                            }\r\n                            handled();\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            that.reset();\r\n                            break;\r\n                        case \"columns\":\r\n                            dataSource = that.dataSource();\r\n                            if (dataSource && dataSource.isLoading() && args.name === args.fullName) {\r\n                                this._useSortingGroupingFromColumns = true;\r\n                                dataSource.load()\r\n                            }\r\n                            break;\r\n                        default:\r\n                            that.callBase(args)\r\n                    }\r\n                },\r\n                isReady: function() {\r\n                    return !this._isLoading\r\n                },\r\n                getDataSource: function() {\r\n                    return this._dataSource && this._dataSource._dataSource\r\n                },\r\n                getCombinedFilter: function(returnDataField) {\r\n                    return this.combinedFilter(void 0, returnDataField)\r\n                },\r\n                combinedFilter: function(filter, returnDataField) {\r\n                    var dataSource = this._dataSource;\r\n                    var columnsController = this._columnsController;\r\n                    if (dataSource) {\r\n                        if (void 0 === filter) {\r\n                            filter = dataSource.filter()\r\n                        }\r\n                        var additionalFilter = this._calculateAdditionalFilter();\r\n                        if (additionalFilter) {\r\n                            if (columnsController.isDataSourceApplied() || columnsController.isAllDataTypesDefined()) {\r\n                                filter = gridCoreUtils.combineFilters([additionalFilter, filter])\r\n                            }\r\n                        }\r\n                        filter = columnsController.updateFilter(filter, returnDataField || dataSource.remoteOperations().filtering)\r\n                    }\r\n                    return filter\r\n                },\r\n                waitReady: function() {\r\n                    if (this._updateLockCount) {\r\n                        this._readyDeferred = new Deferred;\r\n                        return this._readyDeferred\r\n                    }\r\n                    return when()\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var changes = this._changes;\r\n                    if (changes.length) {\r\n                        this._changes = [];\r\n                        var repaintChangesOnly = changes.every(change => change.repaintChangesOnly);\r\n                        this.updateItems(1 === changes.length ? changes[0] : {\r\n                            repaintChangesOnly: repaintChangesOnly\r\n                        })\r\n                    }\r\n                    if (this._readyDeferred) {\r\n                        this._readyDeferred.resolve();\r\n                        this._readyDeferred = null\r\n                    }\r\n                },\r\n                _handleCustomizeStoreLoadOptions: function(e) {\r\n                    var _storeLoadOptions$fil;\r\n                    var columnsController = this._columnsController;\r\n                    var dataSource = this._dataSource;\r\n                    var storeLoadOptions = e.storeLoadOptions;\r\n                    if (e.isCustomLoading && !storeLoadOptions.isLoadingAll) {\r\n                        return\r\n                    }\r\n                    storeLoadOptions.filter = this.combinedFilter(storeLoadOptions.filter);\r\n                    if (1 === (null === (_storeLoadOptions$fil = storeLoadOptions.filter) || void 0 === _storeLoadOptions$fil ? void 0 : _storeLoadOptions$fil.length) && \"!\" === storeLoadOptions.filter[0]) {\r\n                        e.data = [];\r\n                        e.extra = e.extra || {};\r\n                        e.extra.totalCount = 0\r\n                    }\r\n                    if (!columnsController.isDataSourceApplied()) {\r\n                        columnsController.updateColumnDataTypes(dataSource)\r\n                    }\r\n                    this._columnsUpdating = true;\r\n                    columnsController.updateSortingGrouping(dataSource, !this._useSortingGroupingFromColumns);\r\n                    this._columnsUpdating = false;\r\n                    storeLoadOptions.sort = columnsController.getSortDataSourceParameters();\r\n                    storeLoadOptions.group = columnsController.getGroupDataSourceParameters();\r\n                    dataSource.sort(storeLoadOptions.sort);\r\n                    dataSource.group(storeLoadOptions.group);\r\n                    storeLoadOptions.sort = columnsController.getSortDataSourceParameters(!dataSource.remoteOperations().sorting);\r\n                    e.group = columnsController.getGroupDataSourceParameters(!dataSource.remoteOperations().grouping)\r\n                },\r\n                _handleColumnsChanged: function(e) {\r\n                    var that = this;\r\n                    var changeTypes = e.changeTypes;\r\n                    var optionNames = e.optionNames;\r\n                    var filterValue;\r\n                    var filterValues;\r\n                    var filterApplied;\r\n                    if (changeTypes.sorting || changeTypes.grouping) {\r\n                        if (that._dataSource && !that._columnsUpdating) {\r\n                            that._dataSource.group(that._columnsController.getGroupDataSourceParameters());\r\n                            that._dataSource.sort(that._columnsController.getSortDataSourceParameters());\r\n                            that.reload()\r\n                        }\r\n                    } else if (changeTypes.columns) {\r\n                        filterValues = that._columnsController.columnOption(e.columnIndex, \"filterValues\");\r\n                        if (optionNames.filterValues || optionNames.filterType && Array.isArray(filterValues) || optionNames.filterValue || optionNames.selectedFilterOperation || optionNames.allowFiltering) {\r\n                            filterValue = that._columnsController.columnOption(e.columnIndex, \"filterValue\");\r\n                            if (Array.isArray(filterValues) || void 0 === e.columnIndex || isDefined(filterValue) || !optionNames.selectedFilterOperation || optionNames.filterValue) {\r\n                                that._applyFilter();\r\n                                filterApplied = true\r\n                            }\r\n                        }\r\n                        if (!that._needApplyFilter && !gridCoreUtils.checkChanges(optionNames, [\"width\", \"visibleWidth\", \"filterValue\", \"bufferedFilterValue\", \"selectedFilterOperation\", \"filterValues\", \"filterType\"])) {\r\n                            that._columnsController.columnsChanged.add((function updateItemsHandler() {\r\n                                that._columnsController.columnsChanged.remove(updateItemsHandler);\r\n                                that.updateItems({\r\n                                    repaintChangesOnly: false,\r\n                                    virtualColumnsScrolling: e.changeTypes.virtualColumnsScrolling\r\n                                })\r\n                            }))\r\n                        }\r\n                        if (isDefined(optionNames.visible)) {\r\n                            var column = that._columnsController.columnOption(e.columnIndex);\r\n                            if (column && (isDefined(column.filterValue) || isDefined(column.filterValues))) {\r\n                                that._applyFilter();\r\n                                filterApplied = true\r\n                            }\r\n                        }\r\n                    }\r\n                    if (!filterApplied && changeTypes.filtering) {\r\n                        that.reload()\r\n                    }\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var columnsController = that._columnsController;\r\n                    var isAsyncDataSourceApplying = false;\r\n                    this._useSortingGroupingFromColumns = false;\r\n                    if (dataSource && !that._isDataSourceApplying) {\r\n                        that._isDataSourceApplying = true;\r\n                        when(that._columnsController.applyDataSource(dataSource)).done((function() {\r\n                            if (that._isLoading) {\r\n                                that._handleLoadingChanged(false)\r\n                            }\r\n                            if (isAsyncDataSourceApplying && e && e.isDelayed) {\r\n                                e.isDelayed = false\r\n                            }\r\n                            that._isDataSourceApplying = false;\r\n                            var needApplyFilter = that._needApplyFilter;\r\n                            that._needApplyFilter = false;\r\n                            if (needApplyFilter && !that._isAllDataTypesDefined && (additionalFilter = that._calculateAdditionalFilter(), additionalFilter && additionalFilter.length)) {\r\n                                errors.log(\"W1005\", that.component.NAME);\r\n                                that._applyFilter()\r\n                            } else {\r\n                                that.updateItems(e, true)\r\n                            }\r\n                            var additionalFilter\r\n                        })).fail((function() {\r\n                            that._isDataSourceApplying = false\r\n                        }));\r\n                        if (that._isDataSourceApplying) {\r\n                            isAsyncDataSourceApplying = true;\r\n                            that._handleLoadingChanged(true)\r\n                        }\r\n                        that._needApplyFilter = !that._columnsController.isDataSourceApplied();\r\n                        that._isAllDataTypesDefined = columnsController.isAllDataTypesDefined()\r\n                    }\r\n                },\r\n                _handleLoadingChanged: function(isLoading) {\r\n                    this._isLoading = isLoading;\r\n                    this._fireLoadingChanged()\r\n                },\r\n                _handleLoadError: function(e) {\r\n                    this.dataErrorOccurred.fire(e)\r\n                },\r\n                _handleDataPushed: function(changes) {\r\n                    this.pushed.fire(changes)\r\n                },\r\n                fireError: function() {\r\n                    this.dataErrorOccurred.fire(errors.Error.apply(errors, arguments))\r\n                },\r\n                _setPagingOptions: function(dataSource) {\r\n                    var pageIndex = this.option(\"paging.pageIndex\");\r\n                    var pageSize = this.option(\"paging.pageSize\");\r\n                    var pagingEnabled = this.option(\"paging.enabled\");\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var appendMode = \"infinite\" === scrollingMode;\r\n                    var virtualMode = \"virtual\" === scrollingMode;\r\n                    var paginate = pagingEnabled || virtualMode || appendMode;\r\n                    var isChanged = false;\r\n                    dataSource.requireTotalCount(!appendMode);\r\n                    if (void 0 !== pagingEnabled && dataSource.paginate() !== paginate) {\r\n                        dataSource.paginate(paginate);\r\n                        isChanged = true\r\n                    }\r\n                    if (void 0 !== pageSize && dataSource.pageSize() !== pageSize) {\r\n                        dataSource.pageSize(pageSize);\r\n                        isChanged = true\r\n                    }\r\n                    if (void 0 !== pageIndex && dataSource.pageIndex() !== pageIndex) {\r\n                        dataSource.pageIndex(pageIndex);\r\n                        isChanged = true\r\n                    }\r\n                    return isChanged\r\n                },\r\n                _getSpecificDataSourceOption: function() {\r\n                    var dataSource = this.option(\"dataSource\");\r\n                    if (Array.isArray(dataSource)) {\r\n                        return {\r\n                            store: {\r\n                                type: \"array\",\r\n                                data: dataSource,\r\n                                key: this.option(\"keyExpr\")\r\n                            }\r\n                        }\r\n                    }\r\n                    return dataSource\r\n                },\r\n                _initDataSource: function() {\r\n                    var dataSource = this.option(\"dataSource\");\r\n                    var oldDataSource = this._dataSource;\r\n                    this.callBase();\r\n                    dataSource = this._dataSource;\r\n                    this._useSortingGroupingFromColumns = true;\r\n                    this._cachedProcessedItems = null;\r\n                    if (dataSource) {\r\n                        this._setPagingOptions(dataSource);\r\n                        this.setDataSource(dataSource)\r\n                    } else if (oldDataSource) {\r\n                        this.updateItems()\r\n                    }\r\n                },\r\n                _loadDataSource: function() {\r\n                    var dataSource = this._dataSource;\r\n                    var result = new Deferred;\r\n                    when(this._columnsController.refresh(true)).always((function() {\r\n                        if (dataSource) {\r\n                            dataSource.load().done(result.resolve).fail(result.reject)\r\n                        } else {\r\n                            result.resolve()\r\n                        }\r\n                    }));\r\n                    return result.promise()\r\n                },\r\n                _beforeProcessItems: function(items) {\r\n                    return items.slice(0)\r\n                },\r\n                getRowIndexDelta: function() {\r\n                    return 0\r\n                },\r\n                _processItems: function(items, change) {\r\n                    var that = this;\r\n                    var rowIndexDelta = that.getRowIndexDelta();\r\n                    var changeType = change.changeType;\r\n                    var visibleColumns = that._columnsController.getVisibleColumns(null, \"loadingAll\" === changeType);\r\n                    var visibleItems = that._items;\r\n                    var lastVisibleItem = \"append\" === changeType && visibleItems.length > 0 ? visibleItems[visibleItems.length - 1] : null;\r\n                    var dataIndex = isDefined(null === lastVisibleItem || void 0 === lastVisibleItem ? void 0 : lastVisibleItem.dataIndex) ? lastVisibleItem.dataIndex + 1 : 0;\r\n                    var options = {\r\n                        visibleColumns: visibleColumns,\r\n                        dataIndex: dataIndex\r\n                    };\r\n                    var result = [];\r\n                    each(items, (function(index, item) {\r\n                        if (isDefined(item)) {\r\n                            options.rowIndex = index - rowIndexDelta;\r\n                            item = that._processItem(item, options);\r\n                            result.push(item)\r\n                        }\r\n                    }));\r\n                    return result\r\n                },\r\n                _processItem: function(item, options) {\r\n                    item = this._generateDataItem(item, options);\r\n                    item = this._processDataItem(item, options);\r\n                    item.dataIndex = options.dataIndex++;\r\n                    return item\r\n                },\r\n                _generateDataItem: function(data) {\r\n                    return {\r\n                        rowType: \"data\",\r\n                        data: data,\r\n                        key: this.keyOf(data)\r\n                    }\r\n                },\r\n                _processDataItem: function(dataItem, options) {\r\n                    dataItem.values = this.generateDataValues(dataItem.data, options.visibleColumns);\r\n                    return dataItem\r\n                },\r\n                generateDataValues: function(data, columns, isModified) {\r\n                    var values = [];\r\n                    var value;\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        var column = columns[i];\r\n                        value = isModified ? void 0 : null;\r\n                        if (!column.command) {\r\n                            if (column.calculateCellValue) {\r\n                                value = column.calculateCellValue(data)\r\n                            } else if (column.dataField) {\r\n                                value = data[column.dataField]\r\n                            }\r\n                        }\r\n                        values.push(value)\r\n                    }\r\n                    return values\r\n                },\r\n                _applyChange: function(change) {\r\n                    if (\"update\" === change.changeType) {\r\n                        this._applyChangeUpdate(change)\r\n                    } else if (this.items().length && change.repaintChangesOnly && \"refresh\" === change.changeType) {\r\n                        this._applyChangesOnly(change)\r\n                    } else if (\"refresh\" === change.changeType) {\r\n                        this._applyChangeFull(change)\r\n                    }\r\n                },\r\n                _applyChangeFull: function(change) {\r\n                    this._items = change.items.slice(0)\r\n                },\r\n                _getRowIndices: function(change) {\r\n                    var rowIndices = change.rowIndices.slice(0);\r\n                    var rowIndexDelta = this.getRowIndexDelta();\r\n                    rowIndices.sort((function(a, b) {\r\n                        return a - b\r\n                    }));\r\n                    for (var i = 0; i < rowIndices.length; i++) {\r\n                        var correctedRowIndex = rowIndices[i];\r\n                        if (change.allowInvisibleRowIndices) {\r\n                            correctedRowIndex += rowIndexDelta\r\n                        }\r\n                        if (correctedRowIndex < 0) {\r\n                            rowIndices.splice(i, 1);\r\n                            i--\r\n                        }\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                _applyChangeUpdate: function(change) {\r\n                    var that = this;\r\n                    var items = change.items;\r\n                    var rowIndices = that._getRowIndices(change);\r\n                    var rowIndexDelta = that.getRowIndexDelta();\r\n                    var repaintChangesOnly = that.option(\"repaintChangesOnly\");\r\n                    var prevIndex = -1;\r\n                    var rowIndexCorrection = 0;\r\n                    var changeType;\r\n                    change.items = [];\r\n                    change.rowIndices = [];\r\n                    change.columnIndices = [];\r\n                    change.changeTypes = [];\r\n                    var equalItems = function(item1, item2, strict) {\r\n                        var result = item1 && item2 && equalByValue(item1.key, item2.key);\r\n                        if (result && strict) {\r\n                            result = item1.rowType === item2.rowType && (\"detail\" !== item2.rowType || item1.isEditing === item2.isEditing)\r\n                        }\r\n                        return result\r\n                    };\r\n                    each(rowIndices, (function(index, rowIndex) {\r\n                        var columnIndices;\r\n                        rowIndex += rowIndexCorrection + rowIndexDelta;\r\n                        if (prevIndex === rowIndex) {\r\n                            return\r\n                        }\r\n                        prevIndex = rowIndex;\r\n                        var oldItem = that._items[rowIndex];\r\n                        var oldNextItem = that._items[rowIndex + 1];\r\n                        var newItem = items[rowIndex];\r\n                        var newNextItem = items[rowIndex + 1];\r\n                        var strict = equalItems(oldItem, oldNextItem) || equalItems(newItem, newNextItem);\r\n                        if (newItem) {\r\n                            newItem.rowIndex = rowIndex;\r\n                            change.items.push(newItem)\r\n                        }\r\n                        if (oldItem && newItem && equalItems(oldItem, newItem, strict)) {\r\n                            changeType = \"update\";\r\n                            that._items[rowIndex] = newItem;\r\n                            if (oldItem.visible !== newItem.visible) {\r\n                                change.items.splice(-1, 1, {\r\n                                    visible: newItem.visible\r\n                                })\r\n                            } else if (repaintChangesOnly && !change.isFullUpdate) {\r\n                                columnIndices = that._partialUpdateRow(oldItem, newItem, rowIndex - rowIndexDelta)\r\n                            }\r\n                        } else if (newItem && !oldItem || newNextItem && equalItems(oldItem, newNextItem, strict)) {\r\n                            changeType = \"insert\";\r\n                            that._items.splice(rowIndex, 0, newItem);\r\n                            rowIndexCorrection++\r\n                        } else if (oldItem && !newItem || oldNextItem && equalItems(newItem, oldNextItem, strict)) {\r\n                            changeType = \"remove\";\r\n                            that._items.splice(rowIndex, 1);\r\n                            rowIndexCorrection--;\r\n                            prevIndex = -1\r\n                        } else if (newItem) {\r\n                            changeType = \"update\";\r\n                            that._items[rowIndex] = newItem\r\n                        } else {\r\n                            return\r\n                        }\r\n                        change.rowIndices.push(rowIndex - rowIndexDelta);\r\n                        change.changeTypes.push(changeType);\r\n                        change.columnIndices.push(columnIndices)\r\n                    }))\r\n                },\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    if (JSON.stringify(oldRow.values[columnIndex]) !== JSON.stringify(newRow.values[columnIndex])) {\r\n                        return true\r\n                    }\r\n\r\n                    function isCellModified(row, columnIndex) {\r\n                        return row.modifiedValues ? void 0 !== row.modifiedValues[columnIndex] : false\r\n                    }\r\n                    if (isCellModified(oldRow, columnIndex) !== isCellModified(newRow, columnIndex)) {\r\n                        return true\r\n                    }\r\n                    return false\r\n                },\r\n                _getChangedColumnIndices: function(oldItem, newItem, visibleRowIndex, isLiveUpdate) {\r\n                    var columnIndices;\r\n                    if (oldItem.rowType === newItem.rowType) {\r\n                        if (\"group\" !== newItem.rowType && \"groupFooter\" !== newItem.rowType) {\r\n                            columnIndices = [];\r\n                            if (\"detail\" !== newItem.rowType) {\r\n                                for (var columnIndex = 0; columnIndex < oldItem.values.length; columnIndex++) {\r\n                                    if (this._isCellChanged(oldItem, newItem, visibleRowIndex, columnIndex, isLiveUpdate)) {\r\n                                        columnIndices.push(columnIndex)\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                        if (\"group\" === newItem.rowType && newItem.isExpanded === oldItem.isExpanded && oldItem.cells) {\r\n                            columnIndices = oldItem.cells.map((cell, index) => {\r\n                                var _cell$column;\r\n                                return \"groupExpand\" !== (null === (_cell$column = cell.column) || void 0 === _cell$column ? void 0 : _cell$column.type) ? index : -1\r\n                            }).filter(index => index >= 0)\r\n                        }\r\n                    }\r\n                    return columnIndices\r\n                },\r\n                _partialUpdateRow: function(oldItem, newItem, visibleRowIndex, isLiveUpdate) {\r\n                    var _changedColumnIndices;\r\n                    var changedColumnIndices = this._getChangedColumnIndices(oldItem, newItem, visibleRowIndex, isLiveUpdate);\r\n                    if (null !== (_changedColumnIndices = changedColumnIndices) && void 0 !== _changedColumnIndices && _changedColumnIndices.length && this.option(\"dataRowTemplate\")) {\r\n                        changedColumnIndices = void 0\r\n                    }\r\n                    if (changedColumnIndices) {\r\n                        oldItem.cells && oldItem.cells.forEach((function(cell, columnIndex) {\r\n                            var isCellChanged = changedColumnIndices.indexOf(columnIndex) >= 0;\r\n                            if (!isCellChanged && cell && cell.update) {\r\n                                cell.update(newItem)\r\n                            }\r\n                        }));\r\n                        newItem.update = oldItem.update;\r\n                        newItem.watch = oldItem.watch;\r\n                        newItem.cells = oldItem.cells;\r\n                        if (isLiveUpdate) {\r\n                            newItem.oldValues = oldItem.values\r\n                        }\r\n                        oldItem.update && oldItem.update(newItem)\r\n                    }\r\n                    return changedColumnIndices\r\n                },\r\n                _isItemEquals: function(item1, item2) {\r\n                    if (JSON.stringify(item1.values) !== JSON.stringify(item2.values)) {\r\n                        return false\r\n                    }\r\n                    if ([\"modified\", \"isNewRow\", \"removed\", \"isEditing\"].some(field => item1[field] !== item2[field])) {\r\n                        return false\r\n                    }\r\n                    if (\"group\" === item1.rowType || \"groupFooter\" === item1.rowType) {\r\n                        var _item1$data, _item2$data, _item1$data2, _item2$data2;\r\n                        var expandedMatch = item1.isExpanded === item2.isExpanded;\r\n                        var summaryCellsMatch = JSON.stringify(item1.summaryCells) === JSON.stringify(item2.summaryCells);\r\n                        var continuationMatch = (null === (_item1$data = item1.data) || void 0 === _item1$data ? void 0 : _item1$data.isContinuation) === (null === (_item2$data = item2.data) || void 0 === _item2$data ? void 0 : _item2$data.isContinuation) && (null === (_item1$data2 = item1.data) || void 0 === _item1$data2 ? void 0 : _item1$data2.isContinuationOnNextPage) === (null === (_item2$data2 = item2.data) || void 0 === _item2$data2 ? void 0 : _item2$data2.isContinuationOnNextPage);\r\n                        if (!expandedMatch || !summaryCellsMatch || !continuationMatch) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                _applyChangesOnly: function(change) {\r\n                    var rowIndices = [];\r\n                    var columnIndices = [];\r\n                    var changeTypes = [];\r\n                    var items = [];\r\n                    var newIndexByKey = {};\r\n\r\n                    function getRowKey(row) {\r\n                        if (row) {\r\n                            return row.rowType + \",\" + JSON.stringify(row.key)\r\n                        }\r\n                    }\r\n                    var currentItems = this._items;\r\n                    var oldItems = currentItems.slice();\r\n                    change.items.forEach((function(item, index) {\r\n                        var key = getRowKey(item);\r\n                        newIndexByKey[key] = index;\r\n                        item.rowIndex = index\r\n                    }));\r\n                    var result = findChanges(oldItems, change.items, getRowKey, (item1, item2) => {\r\n                        if (!this._isItemEquals(item1, item2)) {\r\n                            return false\r\n                        }\r\n                        if (item1.cells) {\r\n                            item1.update && item1.update(item2);\r\n                            item1.cells.forEach((function(cell) {\r\n                                if (cell && cell.update) {\r\n                                    cell.update(item2, true)\r\n                                }\r\n                            }))\r\n                        }\r\n                        return true\r\n                    });\r\n                    if (!result) {\r\n                        this._applyChangeFull(change);\r\n                        return\r\n                    }\r\n                    result.forEach(change => {\r\n                        switch (change.type) {\r\n                            case \"update\":\r\n                                var index = change.index;\r\n                                var newItem = change.data;\r\n                                var oldItem = change.oldItem;\r\n                                var changedColumnIndices = this._partialUpdateRow(oldItem, newItem, index, true);\r\n                                rowIndices.push(index);\r\n                                changeTypes.push(\"update\");\r\n                                items.push(newItem);\r\n                                currentItems[index] = newItem;\r\n                                columnIndices.push(changedColumnIndices);\r\n                                break;\r\n                            case \"insert\":\r\n                                rowIndices.push(change.index);\r\n                                changeTypes.push(\"insert\");\r\n                                items.push(change.data);\r\n                                columnIndices.push(void 0);\r\n                                currentItems.splice(change.index, 0, change.data);\r\n                                break;\r\n                            case \"remove\":\r\n                                rowIndices.push(change.index);\r\n                                changeTypes.push(\"remove\");\r\n                                currentItems.splice(change.index, 1);\r\n                                items.push(change.oldItem);\r\n                                columnIndices.push(void 0)\r\n                        }\r\n                    });\r\n                    change.repaintChangesOnly = true;\r\n                    change.changeType = \"update\";\r\n                    change.rowIndices = rowIndices;\r\n                    change.columnIndices = columnIndices;\r\n                    change.changeTypes = changeTypes;\r\n                    change.items = items;\r\n                    if (oldItems.length) {\r\n                        change.isLiveUpdate = true\r\n                    }\r\n                    this._correctRowIndices(rowIndex => {\r\n                        var oldRowIndexOffset = this._rowIndexOffset || 0;\r\n                        var rowIndexOffset = this.getRowIndexOffset();\r\n                        var oldItem = oldItems[rowIndex - oldRowIndexOffset];\r\n                        var key = getRowKey(oldItem);\r\n                        var newVisibleRowIndex = newIndexByKey[key];\r\n                        return newVisibleRowIndex >= 0 ? newVisibleRowIndex + rowIndexOffset - rowIndex : 0\r\n                    })\r\n                },\r\n                _correctRowIndices: noop,\r\n                _afterProcessItems: function(items) {\r\n                    return items\r\n                },\r\n                _updateItemsCore: function(change) {\r\n                    var items;\r\n                    var dataSource = this._dataSource;\r\n                    var changeType = change.changeType || \"refresh\";\r\n                    change.changeType = changeType;\r\n                    if (dataSource) {\r\n                        var cachedProcessedItems = this._cachedProcessedItems;\r\n                        if (change.useProcessedItemsCache && cachedProcessedItems) {\r\n                            items = cachedProcessedItems\r\n                        } else {\r\n                            items = change.items || dataSource.items();\r\n                            items = this._beforeProcessItems(items);\r\n                            items = this._processItems(items, change);\r\n                            this._cachedProcessedItems = items\r\n                        }\r\n                        items = this._afterProcessItems(items, change);\r\n                        change.items = items;\r\n                        var oldItems = this._items.length === items.length && this._items;\r\n                        this._applyChange(change);\r\n                        var rowIndexDelta = this.getRowIndexDelta();\r\n                        each(this._items, (index, item) => {\r\n                            item.rowIndex = index - rowIndexDelta;\r\n                            if (oldItems) {\r\n                                item.cells = oldItems[index].cells || []\r\n                            }\r\n                            var newItem = items[index];\r\n                            if (newItem) {\r\n                                item.loadIndex = newItem.loadIndex\r\n                            }\r\n                        });\r\n                        this._rowIndexOffset = this.getRowIndexOffset()\r\n                    } else {\r\n                        this._items = []\r\n                    }\r\n                },\r\n                _handleChanging: function(e) {\r\n                    var rows = this.getVisibleRows();\r\n                    var dataSource = this.dataSource();\r\n                    if (dataSource) {\r\n                        e.changes.forEach((function(change) {\r\n                            if (\"insert\" === change.type && change.index >= 0) {\r\n                                var dataIndex = 0;\r\n                                for (var i = 0; i < change.index; i++) {\r\n                                    var row = rows[i];\r\n                                    if (row && (\"data\" === row.rowType || \"group\" === row.rowType)) {\r\n                                        dataIndex++\r\n                                    }\r\n                                }\r\n                                change.index = dataIndex\r\n                            }\r\n                        }))\r\n                    }\r\n                },\r\n                updateItems: function(change, isDataChanged) {\r\n                    change = change || {};\r\n                    if (void 0 !== this._repaintChangesOnly) {\r\n                        var _change$repaintChange;\r\n                        change.repaintChangesOnly = null !== (_change$repaintChange = change.repaintChangesOnly) && void 0 !== _change$repaintChange ? _change$repaintChange : this._repaintChangesOnly;\r\n                        change.needUpdateDimensions = change.needUpdateDimensions || this._needUpdateDimensions\r\n                    } else if (change.changes) {\r\n                        change.repaintChangesOnly = this.option(\"repaintChangesOnly\")\r\n                    } else if (isDataChanged) {\r\n                        var operationTypes = this.dataSource().operationTypes();\r\n                        change.repaintChangesOnly = operationTypes && !operationTypes.grouping && !operationTypes.filtering && this.option(\"repaintChangesOnly\");\r\n                        change.isDataChanged = true;\r\n                        if (operationTypes && (operationTypes.reload || operationTypes.paging || operationTypes.groupExpanding)) {\r\n                            change.needUpdateDimensions = true\r\n                        }\r\n                    }\r\n                    if (this._updateLockCount) {\r\n                        this._changes.push(change);\r\n                        return\r\n                    }\r\n                    this._updateItemsCore(change);\r\n                    if (change.cancel) {\r\n                        return\r\n                    }\r\n                    this._fireChanged(change)\r\n                },\r\n                loadingOperationTypes: function() {\r\n                    var dataSource = this.dataSource();\r\n                    return dataSource && dataSource.loadingOperationTypes() || {}\r\n                },\r\n                _fireChanged: function(change) {\r\n                    if (this._currentOperationTypes) {\r\n                        change.operationTypes = this._currentOperationTypes;\r\n                        this._currentOperationTypes = null\r\n                    }\r\n                    deferRender(() => {\r\n                        this.changed.fire(change)\r\n                    })\r\n                },\r\n                isLoading: function() {\r\n                    return this._isLoading || this._isCustomLoading\r\n                },\r\n                _fireLoadingChanged: function() {\r\n                    this.loadingChanged.fire(this.isLoading(), this._loadingText)\r\n                },\r\n                _calculateAdditionalFilter: function() {\r\n                    return null\r\n                },\r\n                _applyFilter: function() {\r\n                    var dataSource = this._dataSource;\r\n                    if (dataSource) {\r\n                        dataSource.pageIndex(0);\r\n                        this._isFilterApplying = true;\r\n                        return this.reload().done(() => {\r\n                            if (this._isFilterApplying) {\r\n                                this.pageChanged.fire()\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                resetFilterApplying: function() {\r\n                    this._isFilterApplying = false\r\n                },\r\n                filter: function(filterExpr) {\r\n                    var dataSource = this._dataSource;\r\n                    var filter = dataSource && dataSource.filter();\r\n                    if (0 === arguments.length) {\r\n                        return filter\r\n                    }\r\n                    filterExpr = arguments.length > 1 ? Array.prototype.slice.call(arguments, 0) : filterExpr;\r\n                    if (gridCoreUtils.equalFilterParameters(filter, filterExpr)) {\r\n                        return\r\n                    }\r\n                    if (dataSource) {\r\n                        dataSource.filter(filterExpr)\r\n                    }\r\n                    this._applyFilter()\r\n                },\r\n                clearFilter: function(filterName) {\r\n                    var that = this;\r\n                    var columnsController = that._columnsController;\r\n                    var clearColumnOption = function(optionName) {\r\n                        var columnCount = columnsController.columnCount();\r\n                        for (var index = 0; index < columnCount; index++) {\r\n                            columnsController.columnOption(index, optionName, void 0)\r\n                        }\r\n                    };\r\n                    that.component.beginUpdate();\r\n                    if (arguments.length > 0) {\r\n                        switch (filterName) {\r\n                            case \"dataSource\":\r\n                                that.filter(null);\r\n                                break;\r\n                            case \"search\":\r\n                                that.searchByText(\"\");\r\n                                break;\r\n                            case \"header\":\r\n                                clearColumnOption(\"filterValues\");\r\n                                break;\r\n                            case \"row\":\r\n                                clearColumnOption(\"filterValue\")\r\n                        }\r\n                    } else {\r\n                        that.filter(null);\r\n                        that.searchByText(\"\");\r\n                        clearColumnOption(\"filterValue\");\r\n                        clearColumnOption(\"bufferedFilterValue\");\r\n                        clearColumnOption(\"filterValues\")\r\n                    }\r\n                    that.component.endUpdate()\r\n                },\r\n                _fireDataSourceChanged: function() {\r\n                    var that = this;\r\n                    that.changed.add((function changedHandler() {\r\n                        that.changed.remove(changedHandler);\r\n                        that.dataSourceChanged.fire()\r\n                    }))\r\n                },\r\n                _getDataSourceAdapter: noop,\r\n                _createDataSourceAdapterCore: function(dataSource, remoteOperations) {\r\n                    var dataSourceAdapterProvider = this._getDataSourceAdapter();\r\n                    var dataSourceAdapter = dataSourceAdapterProvider.create(this.component);\r\n                    dataSourceAdapter.init(dataSource, remoteOperations);\r\n                    return dataSourceAdapter\r\n                },\r\n                isLocalStore: function(store) {\r\n                    store = store || this.store();\r\n                    return store instanceof ArrayStore\r\n                },\r\n                isCustomStore: function(store) {\r\n                    store = store || this.store();\r\n                    return store instanceof CustomStore\r\n                },\r\n                _createDataSourceAdapter: function(dataSource) {\r\n                    var remoteOperations = this.option(\"remoteOperations\");\r\n                    var store = dataSource.store();\r\n                    var enabledRemoteOperations = {\r\n                        filtering: true,\r\n                        sorting: true,\r\n                        paging: true,\r\n                        grouping: true,\r\n                        summary: true\r\n                    };\r\n                    if (remoteOperations && remoteOperations.groupPaging) {\r\n                        remoteOperations = extend({}, enabledRemoteOperations, remoteOperations)\r\n                    }\r\n                    if (\"auto\" === remoteOperations) {\r\n                        remoteOperations = this.isLocalStore(store) || this.isCustomStore(store) ? {} : {\r\n                            filtering: true,\r\n                            sorting: true,\r\n                            paging: true\r\n                        }\r\n                    }\r\n                    if (true === remoteOperations) {\r\n                        remoteOperations = enabledRemoteOperations\r\n                    }\r\n                    return this._createDataSourceAdapterCore(dataSource, remoteOperations)\r\n                },\r\n                setDataSource: function(dataSource) {\r\n                    var oldDataSource = this._dataSource;\r\n                    if (!dataSource && oldDataSource) {\r\n                        oldDataSource.cancelAll();\r\n                        oldDataSource.changed.remove(this._dataChangedHandler);\r\n                        oldDataSource.loadingChanged.remove(this._loadingChangedHandler);\r\n                        oldDataSource.loadError.remove(this._loadErrorHandler);\r\n                        oldDataSource.customizeStoreLoadOptions.remove(this._customizeStoreLoadOptionsHandler);\r\n                        oldDataSource.changing.remove(this._changingHandler);\r\n                        oldDataSource.pushed.remove(this._dataPushedHandler);\r\n                        oldDataSource.dispose(this._isSharedDataSource)\r\n                    }\r\n                    if (dataSource) {\r\n                        dataSource = this._createDataSourceAdapter(dataSource)\r\n                    }\r\n                    this._dataSource = dataSource;\r\n                    if (dataSource) {\r\n                        this._fireDataSourceChanged();\r\n                        this._isLoading = !dataSource.isLoaded();\r\n                        this._needApplyFilter = true;\r\n                        this._isAllDataTypesDefined = this._columnsController.isAllDataTypesDefined();\r\n                        dataSource.changed.add(this._dataChangedHandler);\r\n                        dataSource.loadingChanged.add(this._loadingChangedHandler);\r\n                        dataSource.loadError.add(this._loadErrorHandler);\r\n                        dataSource.customizeStoreLoadOptions.add(this._customizeStoreLoadOptionsHandler);\r\n                        dataSource.changing.add(this._changingHandler);\r\n                        dataSource.pushed.add(this._dataPushedHandler)\r\n                    }\r\n                },\r\n                items: function() {\r\n                    return this._items\r\n                },\r\n                isEmpty: function() {\r\n                    return !this.items().length\r\n                },\r\n                pageCount: function() {\r\n                    return this._dataSource ? this._dataSource.pageCount() : 1\r\n                },\r\n                dataSource: function() {\r\n                    return this._dataSource\r\n                },\r\n                store: function() {\r\n                    var dataSource = this._dataSource;\r\n                    return dataSource && dataSource.store()\r\n                },\r\n                loadAll: function(data) {\r\n                    var that = this;\r\n                    var d = new Deferred;\r\n                    var dataSource = that._dataSource;\r\n                    if (dataSource) {\r\n                        if (data) {\r\n                            var options = {\r\n                                data: data,\r\n                                isCustomLoading: true,\r\n                                storeLoadOptions: {\r\n                                    isLoadingAll: true\r\n                                },\r\n                                loadOptions: {\r\n                                    filter: that.getCombinedFilter(),\r\n                                    group: dataSource.group(),\r\n                                    sort: dataSource.sort()\r\n                                }\r\n                            };\r\n                            dataSource._handleDataLoaded(options);\r\n                            when(options.data).done((function(data) {\r\n                                data = that._beforeProcessItems(data);\r\n                                d.resolve(that._processItems(data, {\r\n                                    changeType: \"loadingAll\"\r\n                                }), options.extra && options.extra.summary)\r\n                            })).fail(d.reject)\r\n                        } else if (!dataSource.isLoading()) {\r\n                            var loadOptions = extend({}, dataSource.loadOptions(), {\r\n                                isLoadingAll: true,\r\n                                requireTotalCount: false\r\n                            });\r\n                            dataSource.load(loadOptions).done((function(items, extra) {\r\n                                items = that._beforeProcessItems(items);\r\n                                items = that._processItems(items, {\r\n                                    changeType: \"loadingAll\"\r\n                                });\r\n                                d.resolve(items, extra && extra.summary)\r\n                            })).fail(d.reject)\r\n                        } else {\r\n                            d.reject()\r\n                        }\r\n                    } else {\r\n                        d.resolve([])\r\n                    }\r\n                    return d\r\n                },\r\n                getKeyByRowIndex: function(rowIndex, byLoaded) {\r\n                    var item = this.items(byLoaded)[rowIndex];\r\n                    if (item) {\r\n                        return item.key\r\n                    }\r\n                },\r\n                getRowIndexByKey: function(key, byLoaded) {\r\n                    return gridCoreUtils.getIndexByKey(key, this.items(byLoaded))\r\n                },\r\n                keyOf: function(data) {\r\n                    var store = this.store();\r\n                    if (store) {\r\n                        return store.keyOf(data)\r\n                    }\r\n                },\r\n                byKey: function(key) {\r\n                    var store = this.store();\r\n                    var rowIndex = this.getRowIndexByKey(key);\r\n                    var result;\r\n                    if (!store) {\r\n                        return\r\n                    }\r\n                    if (rowIndex >= 0) {\r\n                        result = (new Deferred).resolve(this.items()[rowIndex].data)\r\n                    }\r\n                    return result || store.byKey(key)\r\n                },\r\n                key: function() {\r\n                    var store = this.store();\r\n                    if (store) {\r\n                        return store.key()\r\n                    }\r\n                },\r\n                getRowIndexOffset: function() {\r\n                    return 0\r\n                },\r\n                getDataByKeys: function(rowKeys) {\r\n                    var that = this;\r\n                    var result = new Deferred;\r\n                    var deferreds = [];\r\n                    var data = [];\r\n                    each(rowKeys, (function(index, key) {\r\n                        deferreds.push(that.byKey(key).done((function(keyData) {\r\n                            data[index] = keyData\r\n                        })))\r\n                    }));\r\n                    when.apply($, deferreds).always((function() {\r\n                        result.resolve(data)\r\n                    }));\r\n                    return result\r\n                },\r\n                pageIndex: function(value) {\r\n                    return changePaging(this, \"pageIndex\", value)\r\n                },\r\n                pageSize: function(value) {\r\n                    return changePaging(this, \"pageSize\", value)\r\n                },\r\n                beginCustomLoading: function(messageText) {\r\n                    this._isCustomLoading = true;\r\n                    this._loadingText = messageText || \"\";\r\n                    this._fireLoadingChanged()\r\n                },\r\n                endCustomLoading: function() {\r\n                    this._isCustomLoading = false;\r\n                    this._loadingText = void 0;\r\n                    this._fireLoadingChanged()\r\n                },\r\n                refresh: function(options) {\r\n                    if (true === options) {\r\n                        options = {\r\n                            reload: true,\r\n                            changesOnly: true\r\n                        }\r\n                    } else if (!options) {\r\n                        options = {\r\n                            lookup: true,\r\n                            selection: true,\r\n                            reload: true\r\n                        }\r\n                    }\r\n                    var that = this;\r\n                    var dataSource = that.getDataSource();\r\n                    var changesOnly = options.changesOnly;\r\n                    var d = new Deferred;\r\n                    var customizeLoadResult = function() {\r\n                        that._repaintChangesOnly = !!changesOnly\r\n                    };\r\n                    when(!options.lookup || that._columnsController.refresh()).always((function() {\r\n                        if (options.load || options.reload) {\r\n                            dataSource && dataSource.on(\"customizeLoadResult\", customizeLoadResult);\r\n                            when(that.reload(options.reload, changesOnly)).always((function() {\r\n                                dataSource && dataSource.off(\"customizeLoadResult\", customizeLoadResult);\r\n                                that._repaintChangesOnly = void 0\r\n                            })).done(d.resolve).fail(d.reject)\r\n                        } else {\r\n                            that.updateItems({\r\n                                repaintChangesOnly: options.changesOnly\r\n                            });\r\n                            d.resolve()\r\n                        }\r\n                    }));\r\n                    return d.promise()\r\n                },\r\n                getVisibleRows: function() {\r\n                    return this.items()\r\n                },\r\n                _disposeDataSource: function() {\r\n                    this.setDataSource(null)\r\n                },\r\n                dispose: function() {\r\n                    this._disposeDataSource();\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                repaintRows: function(rowIndexes, changesOnly) {\r\n                    rowIndexes = Array.isArray(rowIndexes) ? rowIndexes : [rowIndexes];\r\n                    if (rowIndexes.length > 1 || isDefined(rowIndexes[0])) {\r\n                        this.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: rowIndexes,\r\n                            isFullUpdate: !changesOnly\r\n                        })\r\n                    }\r\n                },\r\n                skipProcessingPagingChange: function(fullName) {\r\n                    return this._skipProcessingPagingChange && (\"paging.pageIndex\" === fullName || \"paging.pageSize\" === fullName)\r\n                },\r\n                getUserState: function() {\r\n                    return {\r\n                        searchText: this.option(\"searchPanel.text\"),\r\n                        pageIndex: this.pageIndex(),\r\n                        pageSize: this.pageSize()\r\n                    }\r\n                },\r\n                getCachedStoreData: function() {\r\n                    return this._dataSource && this._dataSource.getCachedStoreData()\r\n                },\r\n                isLastPageLoaded: function() {\r\n                    var pageIndex = this.pageIndex();\r\n                    var pageCount = this.pageCount();\r\n                    return pageIndex === pageCount - 1\r\n                }\r\n            };\r\n            gridCoreUtils.proxyMethod(members, \"load\");\r\n            gridCoreUtils.proxyMethod(members, \"reload\");\r\n            gridCoreUtils.proxyMethod(members, \"push\");\r\n            gridCoreUtils.proxyMethod(members, \"itemsCount\", 0);\r\n            gridCoreUtils.proxyMethod(members, \"totalItemsCount\", 0);\r\n            gridCoreUtils.proxyMethod(members, \"hasKnownLastPage\", true);\r\n            gridCoreUtils.proxyMethod(members, \"isLoaded\", true);\r\n            gridCoreUtils.proxyMethod(members, \"totalCount\", 0);\r\n            return members\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.data_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport dataSourceAdapterProvider from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    dataControllerModule\r\n} from \"../grid_core/ui.grid_core.data_controller\";\r\nexport var DataController = dataControllerModule.controllers.data.inherit({\r\n    _getDataSourceAdapter: function() {\r\n        return dataSourceAdapterProvider\r\n    },\r\n    _getSpecificDataSourceOption: function() {\r\n        var dataSource = this.option(\"dataSource\");\r\n        if (dataSource && !Array.isArray(dataSource) && this.option(\"keyExpr\")) {\r\n            errors.log(\"W1011\")\r\n        }\r\n        return this.callBase()\r\n    }\r\n});\r\ngridCore.registerModule(\"data\", {\r\n    defaultOptions: dataControllerModule.defaultOptions,\r\n    controllers: {\r\n        data: DataController\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.sorting_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport $ from \"../../core/renderer\";\r\nvar SORT_CLASS = \"dx-sort\";\r\nvar SORT_NONE_CLASS = \"dx-sort-none\";\r\nvar SORTUP_CLASS = \"dx-sort-up\";\r\nvar SORTDOWN_CLASS = \"dx-sort-down\";\r\nvar SORT_INDEX_CLASS = \"dx-sort-index\";\r\nvar SORT_INDEX_ICON_CLASS = \"dx-sort-index-icon\";\r\nvar HEADERS_ACTION_CLASS = \"action\";\r\nexport default {\r\n    _applyColumnState: function(options) {\r\n        var ariaSortState;\r\n        var $sortIndicator;\r\n        var sortingMode = this.option(\"sorting.mode\");\r\n        var rootElement = options.rootElement;\r\n        var column = options.column;\r\n        var $indicatorsContainer = this._getIndicatorContainer(rootElement);\r\n        if (\"sort\" === options.name) {\r\n            rootElement.find(\".\" + SORT_CLASS).remove();\r\n            !$indicatorsContainer.children().length && $indicatorsContainer.remove();\r\n            var isSortingAllowed = \"none\" !== sortingMode && column.allowSorting;\r\n            if (!isDefined(column.groupIndex) && (isSortingAllowed || isDefined(column.sortOrder))) {\r\n                ariaSortState = \"asc\" === column.sortOrder ? \"ascending\" : \"descending\";\r\n                $sortIndicator = this.callBase(options).toggleClass(SORTUP_CLASS, \"asc\" === column.sortOrder).toggleClass(SORTDOWN_CLASS, \"desc\" === column.sortOrder);\r\n                var hasSeveralSortIndexes = this.getController && !!this.getController(\"columns\").columnOption(\"sortIndex:1\");\r\n                if (hasSeveralSortIndexes && this.option(\"sorting.showSortIndexes\") && column.sortIndex >= 0) {\r\n                    $(\"<span>\").addClass(SORT_INDEX_ICON_CLASS).text(column.sortIndex + 1).appendTo($sortIndicator);\r\n                    $sortIndicator.addClass(SORT_INDEX_CLASS)\r\n                }\r\n                if (isSortingAllowed) {\r\n                    options.rootElement.addClass(this.addWidgetPrefix(HEADERS_ACTION_CLASS))\r\n                }\r\n            }\r\n            if (!isDefined(column.sortOrder)) {\r\n                this.setAria(\"sort\", \"none\", rootElement)\r\n            } else {\r\n                this.setAria(\"sort\", ariaSortState, rootElement)\r\n            }\r\n            return $sortIndicator\r\n        } else {\r\n            return this.callBase(options)\r\n        }\r\n    },\r\n    _getIndicatorClassName: function(name) {\r\n        if (\"sort\" === name) {\r\n            return SORT_CLASS\r\n        } else if (\"sortIndex\" === name) {\r\n            return SORT_INDEX_ICON_CLASS\r\n        }\r\n        return this.callBase(name)\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var column = options.column;\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        if (\"sort\" === options.name) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            if (!isDefined(column.sortOrder)) {\r\n                $indicator && $indicator.addClass(SORT_NONE_CLASS)\r\n            }\r\n            if ($container.children().length && (!rtlEnabled && \"left\" === options.columnAlignment || rtlEnabled && \"right\" === options.columnAlignment)) {\r\n                $container.prepend($indicator);\r\n                return\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        if (\"sort\" === indicatorName && isDefined(column.groupIndex)) {\r\n            return\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _getIndicatorElements: function($cell, returnAll) {\r\n        var $indicatorElements = this.callBase($cell);\r\n        return returnAll ? $indicatorElements : $indicatorElements && $indicatorElements.not(\".\" + SORT_NONE_CLASS)\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.sorting.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport sortingMixin from \"../grid_core/ui.grid_core.sorting_mixin\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    addNamespace,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nvar COLUMN_HEADERS_VIEW_NAMESPACE = \"dxDataGridColumnHeadersView\";\r\nvar ColumnHeadersViewSortingExtender = extend({}, sortingMixin, {\r\n    _createRow(row) {\r\n        var $row = this.callBase(row);\r\n        if (\"header\" === row.rowType) {\r\n            eventsEngine.on($row, addNamespace(clickEventName, COLUMN_HEADERS_VIEW_NAMESPACE), \"td\", this.createAction(e => {\r\n                this._processHeaderAction(e.event, $row)\r\n            }))\r\n        }\r\n        return $row\r\n    },\r\n    _processHeaderAction: function(event, $row) {\r\n        if ($(event.currentTarget).parent().get(0) !== $row.get(0)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var keyName = null;\r\n        var $cellElementFromEvent = $(event.currentTarget);\r\n        var rowIndex = $cellElementFromEvent.parent().index();\r\n        var columnIndex = -1;\r\n        [].slice.call(that.getCellElements(rowIndex)).some(($cellElement, index) => {\r\n            if ($cellElement === $cellElementFromEvent.get(0)) {\r\n                columnIndex = index;\r\n                return true\r\n            }\r\n        });\r\n        var visibleColumns = that._columnsController.getVisibleColumns(rowIndex);\r\n        var column = visibleColumns[columnIndex];\r\n        var editingController = that.getController(\"editing\");\r\n        var editingMode = that.option(\"editing.mode\");\r\n        var isCellEditing = editingController && editingController.isEditing() && (\"batch\" === editingMode || \"cell\" === editingMode);\r\n        if (isCellEditing || !that._isSortableElement($(event.target))) {\r\n            return\r\n        }\r\n        if (column && !isDefined(column.groupIndex) && !column.command) {\r\n            if (event.shiftKey) {\r\n                keyName = \"shift\"\r\n            } else if (isCommandKeyPressed(event)) {\r\n                keyName = \"ctrl\"\r\n            }\r\n            setTimeout(() => {\r\n                that._columnsController.changeSortOrder(column.index, keyName)\r\n            })\r\n        }\r\n    },\r\n    _renderCellContent($cell, options) {\r\n        var column = options.column;\r\n        if (!column.command && \"header\" === options.rowType) {\r\n            this._applyColumnState({\r\n                name: \"sort\",\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: this.option(\"showColumnLines\")\r\n            })\r\n        }\r\n        this.callBase($cell, options)\r\n    },\r\n    _columnOptionChanged(e) {\r\n        var changeTypes = e.changeTypes;\r\n        if (1 === changeTypes.length && changeTypes.sorting) {\r\n            this._updateIndicators(\"sort\");\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"sorting\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nvar HeaderPanelSortingExtender = extend({}, sortingMixin, {\r\n    _createGroupPanelItem($rootElement, groupColumn) {\r\n        var that = this;\r\n        var $item = that.callBase(...arguments);\r\n        eventsEngine.on($item, addNamespace(clickEventName, \"dxDataGridHeaderPanel\"), that.createAction(() => {\r\n            that._processGroupItemAction(groupColumn.index)\r\n        }));\r\n        that._applyColumnState({\r\n            name: \"sort\",\r\n            rootElement: $item,\r\n            column: {\r\n                alignment: that.option(\"rtlEnabled\") ? \"right\" : \"left\",\r\n                allowSorting: groupColumn.allowSorting,\r\n                sortOrder: \"desc\" === groupColumn.sortOrder ? \"desc\" : \"asc\"\r\n            },\r\n            showColumnLines: true\r\n        });\r\n        return $item\r\n    },\r\n    _processGroupItemAction(groupColumnIndex) {\r\n        setTimeout(() => this.getController(\"columns\").changeSortOrder(groupColumnIndex))\r\n    },\r\n    optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"sorting\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport var sortingModule = {\r\n    defaultOptions: () => ({\r\n        sorting: {\r\n            mode: \"single\",\r\n            ascendingText: messageLocalization.format(\"dxDataGrid-sortingAscendingText\"),\r\n            descendingText: messageLocalization.format(\"dxDataGrid-sortingDescendingText\"),\r\n            clearText: messageLocalization.format(\"dxDataGrid-sortingClearText\"),\r\n            showSortIndexes: true\r\n        }\r\n    }),\r\n    extenders: {\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewSortingExtender,\r\n            headerPanel: HeaderPanelSortingExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.sorting.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    sortingModule\r\n} from \"../grid_core/ui.grid_core.sorting\";\r\ngridCore.registerModule(\"sorting\", sortingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.rows.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    getHeight,\r\n    getOuterHeight,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    deferRender,\r\n    deferUpdate\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    setHeight\r\n} from \"../../core/utils/style\";\r\nimport {\r\n    isDefined,\r\n    isNumeric,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect,\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    isEmpty\r\n} from \"../../core/utils/string\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport {\r\n    removeEvent\r\n} from \"../../events/remove\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport browser from \"../../core/utils/browser\";\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar NOWRAP_CLASS = \"nowrap\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar FREE_SPACE_CLASS = \"dx-freespace-row\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar ROW_ALTERNATION_CLASS = \"dx-row-alt\";\r\nvar LAST_ROW_BORDER = \"dx-last-row-border\";\r\nvar EMPTY_CLASS = \"dx-empty\";\r\nvar ROW_INSERTED_ANIMATION_CLASS = \"row-inserted-animation\";\r\nvar LOADPANEL_HIDE_TIMEOUT = 200;\r\n\r\nfunction getMaxHorizontalScrollOffset(scrollable) {\r\n    return scrollable ? Math.round(scrollable.scrollWidth() - scrollable.clientWidth()) : 0\r\n}\r\nexport var rowsModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            hoverStateEnabled: false,\r\n            scrolling: {\r\n                useNative: \"auto\"\r\n            },\r\n            loadPanel: {\r\n                enabled: \"auto\",\r\n                text: messageLocalization.format(\"Loading\"),\r\n                width: 200,\r\n                height: 90,\r\n                showIndicator: true,\r\n                indicatorSrc: \"\",\r\n                showPane: true\r\n            },\r\n            dataRowTemplate: null,\r\n            columnAutoWidth: false,\r\n            noDataText: messageLocalization.format(\"dxDataGrid-noDataText\"),\r\n            wordWrapEnabled: false,\r\n            showColumnLines: true,\r\n            showRowLines: false,\r\n            rowAlternationEnabled: false,\r\n            activeStateEnabled: false,\r\n            twoWayBindingEnabled: true\r\n        }\r\n    },\r\n    views: {\r\n        rowsView: ColumnsView.inherit(function() {\r\n            var defaultCellTemplate = function($container, options) {\r\n                var isDataTextEmpty = isEmpty(options.text) && \"data\" === options.rowType;\r\n                var text = options.text;\r\n                var container = $container.get(0);\r\n                if (isDataTextEmpty) {\r\n                    gridCoreUtils.setEmptyText($container)\r\n                } else if (options.column.encodeHtml) {\r\n                    container.textContent = text\r\n                } else {\r\n                    container.innerHTML = text\r\n                }\r\n            };\r\n            return {\r\n                _getDefaultTemplate: function(column) {\r\n                    switch (column.command) {\r\n                        case \"empty\":\r\n                            return function(container) {\r\n                                container.html(\"&nbsp;\")\r\n                            };\r\n                        default:\r\n                            return defaultCellTemplate\r\n                    }\r\n                },\r\n                _getDefaultGroupTemplate: function(column) {\r\n                    var summaryTexts = this.option(\"summary.texts\");\r\n                    return function($container, options) {\r\n                        var data = options.data;\r\n                        var text = options.column.caption + \": \" + options.text;\r\n                        var container = $container.get(0);\r\n                        if (options.summaryItems && options.summaryItems.length) {\r\n                            text += \" \" + gridCoreUtils.getGroupRowSummaryText(options.summaryItems, summaryTexts)\r\n                        }\r\n                        if (data) {\r\n                            if (options.groupContinuedMessage && options.groupContinuesMessage) {\r\n                                text += \" (\" + options.groupContinuedMessage + \". \" + options.groupContinuesMessage + \")\"\r\n                            } else if (options.groupContinuesMessage) {\r\n                                text += \" (\" + options.groupContinuesMessage + \")\"\r\n                            } else if (options.groupContinuedMessage) {\r\n                                text += \" (\" + options.groupContinuedMessage + \")\"\r\n                            }\r\n                        }\r\n                        $container.addClass(GROUP_CELL_CLASS);\r\n                        if (column.encodeHtml) {\r\n                            container.textContent = text\r\n                        } else {\r\n                            container.innerHTML = text\r\n                        }\r\n                    }\r\n                },\r\n                _update: function() {},\r\n                _getCellTemplate: function(options) {\r\n                    var column = options.column;\r\n                    var template;\r\n                    if (\"group\" === options.rowType && isDefined(column.groupIndex) && !column.showWhenGrouped && !column.command) {\r\n                        template = column.groupCellTemplate || {\r\n                            allowRenderToDetachedContainer: true,\r\n                            render: this._getDefaultGroupTemplate(column)\r\n                        }\r\n                    } else if ((\"data\" === options.rowType || column.command) && column.cellTemplate) {\r\n                        template = column.cellTemplate\r\n                    } else {\r\n                        template = {\r\n                            allowRenderToDetachedContainer: true,\r\n                            render: this._getDefaultTemplate(column)\r\n                        }\r\n                    }\r\n                    return template\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var isGroup = \"group\" === row.rowType;\r\n                        var isDataRow = \"data\" === row.rowType;\r\n                        isDataRow && $row.addClass(DATA_ROW_CLASS);\r\n                        isDataRow && this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                        this.option(\"showColumnLines\") && $row.addClass(COLUMN_LINES_CLASS);\r\n                        if (false === row.visible) {\r\n                            $row.hide()\r\n                        }\r\n                        if (isGroup) {\r\n                            $row.addClass(GROUP_ROW_CLASS);\r\n                            var isRowExpanded = row.isExpanded;\r\n                            this.setAria(\"role\", \"row\", $row);\r\n                            this.setAria(\"expanded\", isDefined(isRowExpanded) && isRowExpanded.toString(), $row)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _rowPrepared: function($row, rowOptions, row) {\r\n                    if (\"data\" === rowOptions.rowType) {\r\n                        if (this.option(\"rowAlternationEnabled\")) {\r\n                            this._isAltRow(row) && $row.addClass(ROW_ALTERNATION_CLASS);\r\n                            rowOptions.watch && rowOptions.watch(() => this._isAltRow(row), value => {\r\n                                $row.toggleClass(ROW_ALTERNATION_CLASS, value)\r\n                            })\r\n                        }\r\n                        this._setAriaRowIndex(rowOptions, $row);\r\n                        rowOptions.watch && rowOptions.watch(() => rowOptions.rowIndex, () => this._setAriaRowIndex(rowOptions, $row))\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _setAriaRowIndex: function(row, $row) {\r\n                    var component = this.component;\r\n                    var isPagerMode = \"standard\" === component.option(\"scrolling.mode\") && !gridCoreUtils.isVirtualRowRendering(component);\r\n                    var rowIndex = row.rowIndex + 1;\r\n                    if (isPagerMode) {\r\n                        rowIndex = component.pageIndex() * component.pageSize() + rowIndex\r\n                    } else {\r\n                        rowIndex += this._dataController.getRowIndexOffset()\r\n                    }\r\n                    this.setAria(\"rowindex\", rowIndex, $row)\r\n                },\r\n                _afterRowPrepared: function(e) {\r\n                    var arg = e.args[0];\r\n                    var dataController = this._dataController;\r\n                    var row = dataController.getVisibleRows()[arg.rowIndex];\r\n                    var watch = this.option(\"integrationOptions.watchMethod\");\r\n                    if (!arg.data || \"data\" !== arg.rowType || arg.isNewRow || !this.option(\"twoWayBindingEnabled\") || !watch || !row) {\r\n                        return\r\n                    }\r\n                    var dispose = watch(() => dataController.generateDataValues(arg.data, arg.columns), () => {\r\n                        dataController.repaintRows([row.rowIndex], this.option(\"repaintChangesOnly\"))\r\n                    }, {\r\n                        deep: true,\r\n                        skipImmediate: true\r\n                    });\r\n                    eventsEngine.on(arg.rowElement, removeEvent, dispose)\r\n                },\r\n                _renderScrollable: function(force) {\r\n                    var $element = this.element();\r\n                    if (!$element.children().length) {\r\n                        $element.append(\"<div>\")\r\n                    }\r\n                    if (force || !this._loadPanel) {\r\n                        this._renderLoadPanel($element, $element.parent(), this._dataController.isLocalStore())\r\n                    }\r\n                    if ((force || !this.getScrollable()) && this._dataController.isLoaded()) {\r\n                        var columns = this.getColumns();\r\n                        var allColumnsHasWidth = true;\r\n                        for (var i = 0; i < columns.length; i++) {\r\n                            if (!columns[i].width && !columns[i].minWidth) {\r\n                                allColumnsHasWidth = false;\r\n                                break\r\n                            }\r\n                        }\r\n                        if (this.option(\"columnAutoWidth\") || this._hasHeight || allColumnsHasWidth || this._columnsController._isColumnFixing()) {\r\n                            this._renderScrollableCore($element)\r\n                        }\r\n                    }\r\n                },\r\n                _handleScroll: function(e) {\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    var isNativeScrolling = e.component.option(\"useNative\");\r\n                    this._scrollTop = e.scrollOffset.top;\r\n                    this._scrollLeft = e.scrollOffset.left;\r\n                    var scrollLeft = e.scrollOffset.left;\r\n                    if (rtlEnabled) {\r\n                        this._scrollRight = getMaxHorizontalScrollOffset(e.component) - this._scrollLeft;\r\n                        if (isNativeScrolling) {\r\n                            scrollLeft = -this._scrollRight\r\n                        }\r\n                        if (!this.isScrollbarVisible(true)) {\r\n                            this._scrollLeft = -1\r\n                        }\r\n                    }\r\n                    this.scrollChanged.fire(_extends({}, e.scrollOffset, {\r\n                        left: scrollLeft\r\n                    }), this.name)\r\n                },\r\n                _renderScrollableCore: function($element) {\r\n                    var dxScrollableOptions = this._createScrollableOptions();\r\n                    var scrollHandler = this._handleScroll.bind(this);\r\n                    dxScrollableOptions.onScroll = scrollHandler;\r\n                    this._scrollable = this._createComponent($element, Scrollable, dxScrollableOptions);\r\n                    this._scrollableContainer = this._scrollable && $(this._scrollable.container())\r\n                },\r\n                _renderLoadPanel: gridCoreUtils.renderLoadPanel,\r\n                _renderContent: function(contentElement, tableElement) {\r\n                    contentElement.empty().append(tableElement);\r\n                    return this._findContentElement()\r\n                },\r\n                _updateContent: function(newTableElement, change) {\r\n                    var that = this;\r\n                    var tableElement = that.getTableElement();\r\n                    var contentElement = that._findContentElement();\r\n                    var changeType = change && change.changeType;\r\n                    var executors = [];\r\n                    var highlightChanges = this.option(\"highlightChanges\");\r\n                    var rowInsertedClass = this.addWidgetPrefix(ROW_INSERTED_ANIMATION_CLASS);\r\n                    switch (changeType) {\r\n                        case \"update\":\r\n                            each(change.rowIndices, (function(index, rowIndex) {\r\n                                var $newRowElement = that._getRowElements(newTableElement).eq(index);\r\n                                var changeType = change.changeTypes && change.changeTypes[index];\r\n                                var item = change.items && change.items[index];\r\n                                executors.push((function() {\r\n                                    var $rowsElement = that._getRowElements();\r\n                                    var $rowElement = $rowsElement.eq(rowIndex);\r\n                                    switch (changeType) {\r\n                                        case \"update\":\r\n                                            if (item) {\r\n                                                var columnIndices = change.columnIndices && change.columnIndices[index];\r\n                                                if (isDefined(item.visible) && item.visible !== $rowElement.is(\":visible\")) {\r\n                                                    $rowElement.toggle(item.visible)\r\n                                                } else if (columnIndices) {\r\n                                                    that._updateCells($rowElement, $newRowElement, columnIndices)\r\n                                                } else {\r\n                                                    $rowElement.replaceWith($newRowElement)\r\n                                                }\r\n                                            }\r\n                                            break;\r\n                                        case \"insert\":\r\n                                            if (!$rowsElement.length) {\r\n                                                if (tableElement) {\r\n                                                    var target = $newRowElement.is(\"tbody\") ? tableElement : tableElement.children(\"tbody\");\r\n                                                    $newRowElement.prependTo(target)\r\n                                                }\r\n                                            } else if ($rowElement.length) {\r\n                                                $newRowElement.insertBefore($rowElement)\r\n                                            } else {\r\n                                                $newRowElement.insertAfter($rowsElement.last())\r\n                                            }\r\n                                            if (highlightChanges && change.isLiveUpdate) {\r\n                                                $newRowElement.addClass(rowInsertedClass)\r\n                                            }\r\n                                            break;\r\n                                        case \"remove\":\r\n                                            $rowElement.remove()\r\n                                    }\r\n                                }))\r\n                            }));\r\n                            each(executors, (function() {\r\n                                this()\r\n                            }));\r\n                            newTableElement.remove();\r\n                            break;\r\n                        default:\r\n                            that.setTableElement(newTableElement);\r\n                            contentElement.addClass(that.addWidgetPrefix(CONTENT_CLASS));\r\n                            that._renderContent(contentElement, newTableElement)\r\n                    }\r\n                },\r\n                _createEmptyRow: function(className, isFixed, height) {\r\n                    var $cell;\r\n                    var $row = this._createRow();\r\n                    var columns = isFixed ? this.getFixedColumns() : this.getColumns();\r\n                    $row.addClass(className).toggleClass(COLUMN_LINES_CLASS, this.option(\"showColumnLines\"));\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        $cell = this._createCell({\r\n                            column: columns[i],\r\n                            rowType: \"freeSpace\",\r\n                            columnIndex: i,\r\n                            columns: columns\r\n                        });\r\n                        isNumeric(height) && $cell.css(\"height\", height);\r\n                        $row.append($cell)\r\n                    }\r\n                    this.setAria(\"role\", \"presentation\", $row);\r\n                    return $row\r\n                },\r\n                _appendEmptyRow: function($table, $emptyRow, location) {\r\n                    var $tBodies = this._getBodies($table);\r\n                    var isTableContainer = !$tBodies.length || $emptyRow.is(\"tbody\");\r\n                    var $container = isTableContainer ? $table : $tBodies;\r\n                    if (\"top\" === location) {\r\n                        $container.first().prepend($emptyRow);\r\n                        if (isTableContainer) {\r\n                            var $colgroup = $container.children(\"colgroup\");\r\n                            $container.prepend($colgroup)\r\n                        }\r\n                    } else {\r\n                        $container.last().append($emptyRow)\r\n                    }\r\n                },\r\n                _renderFreeSpaceRow: function($tableElement) {\r\n                    var $freeSpaceRowElement = this._createEmptyRow(FREE_SPACE_CLASS);\r\n                    $freeSpaceRowElement = this._wrapRowIfNeed($tableElement, $freeSpaceRowElement);\r\n                    this._appendEmptyRow($tableElement, $freeSpaceRowElement)\r\n                },\r\n                _checkRowKeys: function(options) {\r\n                    var that = this;\r\n                    var rows = that._getRows(options);\r\n                    var keyExpr = that._dataController.store() && that._dataController.store().key();\r\n                    keyExpr && rows.some((function(row) {\r\n                        if (\"data\" === row.rowType && void 0 === row.key) {\r\n                            that._dataController.fireError(\"E1046\", keyExpr);\r\n                            return true\r\n                        }\r\n                    }))\r\n                },\r\n                _needUpdateRowHeight: function(itemsCount) {\r\n                    return itemsCount > 0 && !this._rowHeight\r\n                },\r\n                _getRowsHeight: function($tableElement) {\r\n                    var $rowElements = $tableElement.children(\"tbody\").children().not(\".dx-virtual-row\").not(\".\" + FREE_SPACE_CLASS);\r\n                    return $rowElements.toArray().reduce((function(sum, row) {\r\n                        return sum + getBoundingRect(row).height\r\n                    }), 0)\r\n                },\r\n                _updateRowHeight: function() {\r\n                    var $tableElement = this.getTableElement();\r\n                    var itemsCount = this._dataController.items().length;\r\n                    if ($tableElement && this._needUpdateRowHeight(itemsCount)) {\r\n                        var rowsHeight = this._getRowsHeight($tableElement);\r\n                        this._rowHeight = rowsHeight / itemsCount\r\n                    }\r\n                },\r\n                _findContentElement: function() {\r\n                    var $content = this.element();\r\n                    var scrollable = this.getScrollable();\r\n                    if ($content) {\r\n                        if (scrollable) {\r\n                            $content = $(scrollable.content())\r\n                        }\r\n                        return $content.children().first()\r\n                    }\r\n                },\r\n                _getRowElements: function(tableElement) {\r\n                    var $rows = this.callBase(tableElement);\r\n                    return $rows && $rows.not(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getFreeSpaceRowElements: function($table) {\r\n                    var tableElements = $table || this.getTableElements();\r\n                    return tableElements && tableElements.children(\"tbody\").children(\".\" + FREE_SPACE_CLASS)\r\n                },\r\n                _getNoDataText: function() {\r\n                    return this.option(\"noDataText\")\r\n                },\r\n                _rowClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowClick\", extend({\r\n                        evaluate: function(expr) {\r\n                            var getter = compileGetter(expr);\r\n                            return getter(item.data)\r\n                        }\r\n                    }, e, item))\r\n                },\r\n                _rowDblClick: function(e) {\r\n                    var item = this._dataController.items()[e.rowIndex] || {};\r\n                    this.executeAction(\"onRowDblClick\", extend({}, e, item))\r\n                },\r\n                _getColumnsCountBeforeGroups: function(columns) {\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        if (\"groupExpand\" === columns[i].type) {\r\n                            return i\r\n                        }\r\n                    }\r\n                    return 0\r\n                },\r\n                _getGroupCellOptions: function(options) {\r\n                    var columnsCountBeforeGroups = this._getColumnsCountBeforeGroups(options.columns);\r\n                    var columnIndex = (options.row.groupIndex || 0) + columnsCountBeforeGroups;\r\n                    return {\r\n                        columnIndex: columnIndex,\r\n                        colspan: options.columns.length - columnIndex - 1\r\n                    }\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    if (\"group\" === options.row.rowType) {\r\n                        this._renderGroupedCells($row, options)\r\n                    } else if (options.row.values) {\r\n                        this.callBase($row, options)\r\n                    }\r\n                },\r\n                _renderGroupedCells: function($row, options) {\r\n                    var row = options.row;\r\n                    var expandColumn;\r\n                    var columns = options.columns;\r\n                    var rowIndex = row.rowIndex;\r\n                    var isExpanded;\r\n                    var groupCellOptions = this._getGroupCellOptions(options);\r\n                    for (var i = 0; i <= groupCellOptions.columnIndex; i++) {\r\n                        if (i === groupCellOptions.columnIndex && columns[i].allowCollapsing && \"infinite\" !== options.scrollingMode) {\r\n                            isExpanded = !!row.isExpanded;\r\n                            expandColumn = columns[i]\r\n                        } else {\r\n                            isExpanded = null;\r\n                            expandColumn = {\r\n                                command: \"expand\",\r\n                                cssClass: columns[i].cssClass\r\n                            }\r\n                        }\r\n                        if (this._needRenderCell(i, options.columnIndices)) {\r\n                            this._renderCell($row, {\r\n                                value: isExpanded,\r\n                                row: row,\r\n                                rowIndex: rowIndex,\r\n                                column: expandColumn,\r\n                                columnIndex: i,\r\n                                columnIndices: options.columnIndices\r\n                            })\r\n                        }\r\n                    }\r\n                    var groupColumnAlignment = getDefaultAlignment(this.option(\"rtlEnabled\"));\r\n                    var groupColumn = extend({}, columns[groupCellOptions.columnIndex], {\r\n                        command: null,\r\n                        type: null,\r\n                        cssClass: null,\r\n                        width: null,\r\n                        showWhenGrouped: false,\r\n                        alignment: groupColumnAlignment\r\n                    });\r\n                    if (groupCellOptions.colspan > 1) {\r\n                        groupColumn.colspan = groupCellOptions.colspan\r\n                    }\r\n                    if (this._needRenderCell(groupCellOptions.columnIndex + 1, options.columnIndices)) {\r\n                        this._renderCell($row, {\r\n                            value: row.values[row.groupIndex],\r\n                            row: row,\r\n                            rowIndex: rowIndex,\r\n                            column: groupColumn,\r\n                            columnIndex: groupCellOptions.columnIndex + 1,\r\n                            columnIndices: options.columnIndices\r\n                        })\r\n                    }\r\n                },\r\n                _renderRows: function($table, options) {\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    this.callBase($table, extend({\r\n                        scrollingMode: scrollingMode\r\n                    }, options));\r\n                    this._checkRowKeys(options.change);\r\n                    this._renderFreeSpaceRow($table);\r\n                    if (!this._hasHeight) {\r\n                        this.updateFreeSpaceRowHeight($table)\r\n                    }\r\n                },\r\n                _renderDataRowByTemplate($table, options, dataRowTemplate) {\r\n                    var row = options.row;\r\n                    var rowOptions = extend({\r\n                        columns: options.columns\r\n                    }, row);\r\n                    var $tbody = this._createRow(row, \"tbody\");\r\n                    $tbody.appendTo($table);\r\n                    this.renderTemplate($tbody, dataRowTemplate, rowOptions, true, options.change);\r\n                    this._rowPrepared($tbody, rowOptions, options.row)\r\n                },\r\n                _renderRow: function($table, options) {\r\n                    var row = options.row;\r\n                    var rowTemplate = this.option().rowTemplate;\r\n                    var dataRowTemplate = this.option(\"dataRowTemplate\");\r\n                    if (\"data\" === row.rowType && dataRowTemplate) {\r\n                        this._renderDataRowByTemplate($table, options, dataRowTemplate)\r\n                    } else if ((\"data\" === row.rowType || \"group\" === row.rowType) && !isDefined(row.groupIndex) && rowTemplate) {\r\n                        this.renderTemplate($table, rowTemplate, extend({\r\n                            columns: options.columns\r\n                        }, row), true)\r\n                    } else {\r\n                        this.callBase($table, options)\r\n                    }\r\n                },\r\n                _renderTable: function(options) {\r\n                    var that = this;\r\n                    var $table = that.callBase(options);\r\n                    if (!isDefined(that.getTableElement())) {\r\n                        that.setTableElement($table);\r\n                        that._renderScrollable(true);\r\n                        that.resizeCompleted.add((function resizeCompletedHandler() {\r\n                            var scrollableInstance = that.getScrollable();\r\n                            if (scrollableInstance && that.element().closest(getWindow().document).length) {\r\n                                that.resizeCompleted.remove(resizeCompletedHandler);\r\n                                scrollableInstance._visibilityChanged(true)\r\n                            }\r\n                        }))\r\n                    } else {\r\n                        that._renderScrollable()\r\n                    }\r\n                    return $table\r\n                },\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    if (this.option().rowTemplate || this.option().dataRowTemplate) {\r\n                        $table.appendTo(this.component.$element())\r\n                    }\r\n                    return $table\r\n                },\r\n                _renderCore: function(change) {\r\n                    var $element = this.element();\r\n                    $element.addClass(this.addWidgetPrefix(ROWS_VIEW_CLASS)).toggleClass(this.addWidgetPrefix(NOWRAP_CLASS), !this.option(\"wordWrapEnabled\"));\r\n                    $element.toggleClass(EMPTY_CLASS, this._dataController.isEmpty());\r\n                    this.setAria(\"role\", \"presentation\", $element);\r\n                    var $table = this._renderTable({\r\n                        change: change\r\n                    });\r\n                    this._updateContent($table, change);\r\n                    this.callBase(change);\r\n                    this._lastColumnWidths = null\r\n                },\r\n                _getRows: function(change) {\r\n                    return change && change.items || this._dataController.items()\r\n                },\r\n                _getCellOptions: function(options) {\r\n                    var column = options.column;\r\n                    var row = options.row;\r\n                    var data = row.data;\r\n                    var summaryCells = row && row.summaryCells;\r\n                    var value = options.value;\r\n                    var displayValue = gridCoreUtils.getDisplayValue(column, value, data, row.rowType);\r\n                    var parameters = this.callBase(options);\r\n                    parameters.value = value;\r\n                    parameters.oldValue = options.oldValue;\r\n                    parameters.displayValue = displayValue;\r\n                    parameters.row = row;\r\n                    parameters.key = row.key;\r\n                    parameters.data = data;\r\n                    parameters.rowType = row.rowType;\r\n                    parameters.values = row.values;\r\n                    parameters.text = !column.command ? gridCoreUtils.formatValue(displayValue, column) : \"\";\r\n                    parameters.rowIndex = row.rowIndex;\r\n                    parameters.summaryItems = summaryCells && summaryCells[options.columnIndex];\r\n                    parameters.resized = column.resizedCallbacks;\r\n                    if (isDefined(column.groupIndex) && !column.command) {\r\n                        var groupingTextsOptions = this.option(\"grouping.texts\");\r\n                        var scrollingMode = this.option(\"scrolling.mode\");\r\n                        if (\"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                            parameters.groupContinuesMessage = data && data.isContinuationOnNextPage && groupingTextsOptions && groupingTextsOptions.groupContinuesMessage;\r\n                            parameters.groupContinuedMessage = data && data.isContinuation && groupingTextsOptions && groupingTextsOptions.groupContinuedMessage\r\n                        }\r\n                    }\r\n                    return parameters\r\n                },\r\n                _setRowsOpacityCore: function($rows, visibleColumns, columnIndex, value) {\r\n                    var columnsController = this._columnsController;\r\n                    var columns = columnsController.getColumns();\r\n                    var column = columns && columns[columnIndex];\r\n                    var columnID = column && column.isBand && column.index;\r\n                    each($rows, (function(rowIndex, row) {\r\n                        if (!$(row).hasClass(GROUP_ROW_CLASS)) {\r\n                            for (var i = 0; i < visibleColumns.length; i++) {\r\n                                if (isNumeric(columnID) && columnsController.isParentBandColumn(visibleColumns[i].index, columnID) || visibleColumns[i].index === columnIndex) {\r\n                                    $rows.eq(rowIndex).children().eq(i).css({\r\n                                        opacity: value\r\n                                    });\r\n                                    if (!isNumeric(columnID)) {\r\n                                        break\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }))\r\n                },\r\n                _getDevicePixelRatio: function() {\r\n                    return getWindow().devicePixelRatio\r\n                },\r\n                renderNoDataText: gridCoreUtils.renderNoDataText,\r\n                getCellOptions: function(rowIndex, columnIdentifier) {\r\n                    var rowOptions = this._dataController.items()[rowIndex];\r\n                    var cellOptions;\r\n                    var column;\r\n                    if (rowOptions) {\r\n                        if (isString(columnIdentifier)) {\r\n                            column = this._columnsController.columnOption(columnIdentifier)\r\n                        } else {\r\n                            column = this._columnsController.getVisibleColumns()[columnIdentifier]\r\n                        }\r\n                        if (column) {\r\n                            cellOptions = this._getCellOptions({\r\n                                value: column.calculateCellValue(rowOptions.data),\r\n                                rowIndex: rowOptions.rowIndex,\r\n                                row: rowOptions,\r\n                                column: column\r\n                            })\r\n                        }\r\n                    }\r\n                    return cellOptions\r\n                },\r\n                getRow: function(index) {\r\n                    if (index >= 0) {\r\n                        var rows = this._getRowElements();\r\n                        if (rows.length > index) {\r\n                            return $(rows[index])\r\n                        }\r\n                    }\r\n                },\r\n                updateFreeSpaceRowHeight: function($table) {\r\n                    var dataController = this._dataController;\r\n                    var itemCount = dataController.items(true).length;\r\n                    var contentElement = this._findContentElement();\r\n                    var freeSpaceRowElements = this._getFreeSpaceRowElements($table);\r\n                    if (freeSpaceRowElements && contentElement && dataController.totalCount() >= 0) {\r\n                        var isFreeSpaceRowVisible = false;\r\n                        if (itemCount > 0) {\r\n                            if (!this._hasHeight) {\r\n                                var freeSpaceRowCount = dataController.pageSize() - itemCount;\r\n                                var scrollingMode = this.option(\"scrolling.mode\");\r\n                                if (freeSpaceRowCount > 0 && dataController.pageCount() > 1 && \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode) {\r\n                                    setHeight(freeSpaceRowElements, freeSpaceRowCount * this._rowHeight);\r\n                                    isFreeSpaceRowVisible = true\r\n                                }\r\n                                if (!isFreeSpaceRowVisible && $table) {\r\n                                    setHeight(freeSpaceRowElements, 0)\r\n                                } else {\r\n                                    freeSpaceRowElements.toggle(isFreeSpaceRowVisible)\r\n                                }\r\n                                this._updateLastRowBorder(isFreeSpaceRowVisible)\r\n                            } else {\r\n                                freeSpaceRowElements.hide();\r\n                                deferUpdate(() => {\r\n                                    var scrollbarWidth = this.getScrollbarWidth(true);\r\n                                    var elementHeightWithoutScrollbar = getHeight(this.element()) - scrollbarWidth;\r\n                                    var contentHeight = getOuterHeight(contentElement);\r\n                                    var showFreeSpaceRow = elementHeightWithoutScrollbar - contentHeight > 0;\r\n                                    var rowsHeight = this._getRowsHeight(contentElement.children().first());\r\n                                    var $tableElement = $table || this.getTableElements();\r\n                                    var borderTopWidth = Math.ceil(parseFloat($tableElement.css(\"borderTopWidth\")));\r\n                                    var heightCorrection = this._getHeightCorrection();\r\n                                    var resultHeight = elementHeightWithoutScrollbar - rowsHeight - borderTopWidth - heightCorrection;\r\n                                    if (showFreeSpaceRow) {\r\n                                        deferRender(() => {\r\n                                            freeSpaceRowElements.css(\"height\", resultHeight);\r\n                                            isFreeSpaceRowVisible = true;\r\n                                            freeSpaceRowElements.show()\r\n                                        })\r\n                                    }\r\n                                    deferRender(() => this._updateLastRowBorder(isFreeSpaceRowVisible))\r\n                                })\r\n                            }\r\n                        } else {\r\n                            freeSpaceRowElements.css(\"height\", 0);\r\n                            freeSpaceRowElements.show();\r\n                            this._updateLastRowBorder(true)\r\n                        }\r\n                    }\r\n                },\r\n                _getHeightCorrection: function() {\r\n                    var isZoomedWebkit = browser.webkit && this._getDevicePixelRatio() >= 2;\r\n                    var isChromeLatest = browser.chrome && browser.version >= 91;\r\n                    var hasExtraBorderTop = browser.mozilla && browser.version >= 70 && !this.option(\"showRowLines\");\r\n                    return isZoomedWebkit || hasExtraBorderTop || isChromeLatest ? 1 : 0\r\n                },\r\n                _columnOptionChanged: function(e) {\r\n                    var optionNames = e.optionNames;\r\n                    if (e.changeTypes.grouping) {\r\n                        return\r\n                    }\r\n                    if (optionNames.width || optionNames.visibleWidth) {\r\n                        this.callBase(e);\r\n                        this._fireColumnResizedCallbacks()\r\n                    }\r\n                },\r\n                getScrollable: function() {\r\n                    return this._scrollable\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    var dataController = that.getController(\"data\");\r\n                    that.callBase();\r\n                    that._editorFactoryController = that.getController(\"editorFactory\");\r\n                    that._rowHeight = 0;\r\n                    that._scrollTop = 0;\r\n                    that._scrollLeft = -1;\r\n                    that._scrollRight = 0;\r\n                    that._hasHeight = false;\r\n                    dataController.loadingChanged.add((function(isLoading, messageText) {\r\n                        that.setLoading(isLoading, messageText)\r\n                    }));\r\n                    dataController.dataSourceChanged.add((function() {\r\n                        if (that._scrollLeft >= 0) {\r\n                            that._handleScroll({\r\n                                component: that.getScrollable(),\r\n                                scrollOffset: {\r\n                                    top: that._scrollTop,\r\n                                    left: that._scrollLeft\r\n                                }\r\n                            })\r\n                        }\r\n                    }))\r\n                },\r\n                _handleDataChanged: function(change) {\r\n                    switch (change.changeType) {\r\n                        case \"refresh\":\r\n                        case \"prepend\":\r\n                        case \"append\":\r\n                        case \"update\":\r\n                            this.render(null, change);\r\n                            break;\r\n                        default:\r\n                            this._update(change)\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    return [\"isScrollbarVisible\", \"getTopVisibleRowData\", \"getScrollbarWidth\", \"getCellElement\", \"getRowElement\", \"getScrollable\"]\r\n                },\r\n                contentWidth: function() {\r\n                    return getWidth(this.element()) - this.getScrollbarWidth()\r\n                },\r\n                getScrollbarWidth: function(isHorizontal) {\r\n                    var scrollableContainer = this._scrollableContainer && this._scrollableContainer.get(0);\r\n                    var scrollbarWidth = 0;\r\n                    if (scrollableContainer) {\r\n                        if (!isHorizontal) {\r\n                            scrollbarWidth = scrollableContainer.clientWidth ? scrollableContainer.offsetWidth - scrollableContainer.clientWidth : 0\r\n                        } else {\r\n                            scrollbarWidth = scrollableContainer.clientHeight ? scrollableContainer.offsetHeight - scrollableContainer.clientHeight : 0;\r\n                            scrollbarWidth += (that = this, scrollable = that.getScrollable(), scrollable ? Math.ceil(parseFloat($(scrollable.content()).css(\"paddingBottom\"))) : 0)\r\n                        }\r\n                    }\r\n                    var that, scrollable;\r\n                    return scrollbarWidth > 0 ? scrollbarWidth : 0\r\n                },\r\n                _fireColumnResizedCallbacks: function() {\r\n                    var lastColumnWidths = this._lastColumnWidths || [];\r\n                    var columnWidths = [];\r\n                    var columns = this.getColumns();\r\n                    for (var i = 0; i < columns.length; i++) {\r\n                        columnWidths[i] = columns[i].visibleWidth;\r\n                        if (columns[i].resizedCallbacks && !isDefined(columns[i].groupIndex) && lastColumnWidths[i] !== columnWidths[i]) {\r\n                            columns[i].resizedCallbacks.fire(columnWidths[i])\r\n                        }\r\n                    }\r\n                    this._lastColumnWidths = columnWidths\r\n                },\r\n                _updateLastRowBorder: function(isFreeSpaceRowVisible) {\r\n                    if (this.option(\"showBorders\") && this.option(\"showRowLines\") && !isFreeSpaceRowVisible) {\r\n                        this.element().addClass(LAST_ROW_BORDER)\r\n                    } else {\r\n                        this.element().removeClass(LAST_ROW_BORDER)\r\n                    }\r\n                },\r\n                _updateScrollable: function() {\r\n                    var dxScrollable = Scrollable.getInstance(this.element());\r\n                    if (dxScrollable) {\r\n                        dxScrollable.update();\r\n                        this._updateHorizontalScrollPosition()\r\n                    }\r\n                },\r\n                _updateHorizontalScrollPosition: function() {\r\n                    var scrollable = this.getScrollable();\r\n                    var scrollLeft = scrollable && scrollable.scrollOffset().left;\r\n                    var rtlEnabled = this.option(\"rtlEnabled\");\r\n                    if (rtlEnabled) {\r\n                        var maxHorizontalScrollOffset = getMaxHorizontalScrollOffset(scrollable);\r\n                        var scrollRight = maxHorizontalScrollOffset - scrollLeft;\r\n                        if (scrollRight !== this._scrollRight) {\r\n                            this._scrollLeft = maxHorizontalScrollOffset - this._scrollRight\r\n                        }\r\n                    }\r\n                    if (this._scrollLeft >= 0 && scrollLeft !== this._scrollLeft) {\r\n                        scrollable.scrollTo({\r\n                            x: this._scrollLeft\r\n                        })\r\n                    }\r\n                },\r\n                _resizeCore: function() {\r\n                    var that = this;\r\n                    that._fireColumnResizedCallbacks();\r\n                    that._updateRowHeight();\r\n                    deferRender((function() {\r\n                        that._renderScrollable();\r\n                        that.renderNoDataText();\r\n                        that.updateFreeSpaceRowHeight();\r\n                        deferUpdate((function() {\r\n                            that._updateScrollable()\r\n                        }))\r\n                    }))\r\n                },\r\n                scrollTo: function(location) {\r\n                    var $element = this.element();\r\n                    var dxScrollable = $element && Scrollable.getInstance($element);\r\n                    if (dxScrollable) {\r\n                        dxScrollable.scrollTo(location)\r\n                    }\r\n                },\r\n                height: function(_height, hasHeight) {\r\n                    var that = this;\r\n                    var $element = this.element();\r\n                    if (0 === arguments.length) {\r\n                        return $element ? getOuterHeight($element, true) : 0\r\n                    }\r\n                    that._hasHeight = void 0 === hasHeight ? \"auto\" !== _height : hasHeight;\r\n                    if (isDefined(_height) && $element) {\r\n                        setHeight($element, _height)\r\n                    }\r\n                },\r\n                setLoading: function(isLoading, messageText) {\r\n                    var loadPanel = this._loadPanel;\r\n                    var dataController = this._dataController;\r\n                    var loadPanelOptions = this.option(\"loadPanel\") || {};\r\n                    var animation = dataController.isLoaded() ? loadPanelOptions.animation : null;\r\n                    var $element = this.element();\r\n                    if (!hasWindow()) {\r\n                        return\r\n                    }\r\n                    if (!loadPanel && void 0 !== messageText && dataController.isLocalStore() && \"auto\" === loadPanelOptions.enabled && $element) {\r\n                        this._renderLoadPanel($element, $element.parent());\r\n                        loadPanel = this._loadPanel\r\n                    }\r\n                    if (loadPanel) {\r\n                        var visibilityOptions = {\r\n                            message: messageText || loadPanelOptions.text,\r\n                            animation: animation,\r\n                            visible: isLoading\r\n                        };\r\n                        if (isLoading) {\r\n                            visibilityOptions.position = gridCoreUtils.calculateLoadPanelPosition($element)\r\n                        }\r\n                        clearTimeout(this._hideLoadingTimeoutID);\r\n                        if (loadPanel.option(\"visible\") && !isLoading) {\r\n                            this._hideLoadingTimeoutID = setTimeout((function() {\r\n                                loadPanel.option(visibilityOptions)\r\n                            }), LOADPANEL_HIDE_TIMEOUT)\r\n                        } else {\r\n                            loadPanel.option(visibilityOptions)\r\n                        }\r\n                    }\r\n                },\r\n                setRowsOpacity: function(columnIndex, value) {\r\n                    var $rows = this._getRowElements().not(\".\" + GROUP_ROW_CLASS) || [];\r\n                    this._setRowsOpacityCore($rows, this.getColumns(), columnIndex, value)\r\n                },\r\n                _getCellElementsCore: function(rowIndex) {\r\n                    var $cells = this.callBase.apply(this, arguments);\r\n                    if ($cells) {\r\n                        var groupCellIndex = $cells.filter(\".\" + GROUP_CELL_CLASS).index();\r\n                        if (groupCellIndex >= 0 && $cells.length > groupCellIndex + 1) {\r\n                            return $cells.slice(0, groupCellIndex + 1)\r\n                        }\r\n                    }\r\n                    return $cells\r\n                },\r\n                _getBoundaryVisibleItemIndex: function(isTop, isFloor) {\r\n                    var itemIndex = 0;\r\n                    var prevOffset = 0;\r\n                    var offset = 0;\r\n                    var viewportBoundary = this._scrollTop;\r\n                    var $contentElement = this._findContentElement();\r\n                    var contentElementOffsetTop = $contentElement && $contentElement.offset().top;\r\n                    var dataController = this.getController(\"data\");\r\n                    var items = dataController.items();\r\n                    var tableElement = this.getTableElement();\r\n                    if (items.length && tableElement) {\r\n                        var rowElements = this._getRowElements(tableElement).filter(\":visible\");\r\n                        if (!isTop) {\r\n                            var height = this._hasHeight ? getOuterHeight(this.element()) : $(getWindow()).outerHeight();\r\n                            viewportBoundary += height\r\n                        }\r\n                        for (itemIndex = 0; itemIndex < items.length; itemIndex++) {\r\n                            prevOffset = offset;\r\n                            var $rowElement = $(rowElements).eq(itemIndex);\r\n                            if ($rowElement.length) {\r\n                                offset = $rowElement.offset();\r\n                                offset = (isTop ? offset.top : offset.top + getOuterHeight($rowElement)) - contentElementOffsetTop;\r\n                                if (offset > viewportBoundary) {\r\n                                    if (itemIndex) {\r\n                                        if (isFloor || 2 * viewportBoundary < Math.round(offset + prevOffset)) {\r\n                                            itemIndex--\r\n                                        }\r\n                                    }\r\n                                    break\r\n                                }\r\n                            }\r\n                        }\r\n                        if (itemIndex && itemIndex === items.length) {\r\n                            itemIndex--\r\n                        }\r\n                    }\r\n                    return itemIndex\r\n                },\r\n                getTopVisibleItemIndex: function(isFloor) {\r\n                    return this._getBoundaryVisibleItemIndex(true, isFloor)\r\n                },\r\n                getBottomVisibleItemIndex: function(isFloor) {\r\n                    return this._getBoundaryVisibleItemIndex(false, isFloor)\r\n                },\r\n                getTopVisibleRowData: function() {\r\n                    var itemIndex = this.getTopVisibleItemIndex();\r\n                    var items = this._dataController.items();\r\n                    if (items[itemIndex]) {\r\n                        return items[itemIndex].data\r\n                    }\r\n                },\r\n                _scrollToElement: function($element, offset) {\r\n                    var scrollable = this.getScrollable();\r\n                    scrollable && scrollable.scrollToElement($element, offset)\r\n                },\r\n                optionChanged: function(args) {\r\n                    this.callBase(args);\r\n                    switch (args.name) {\r\n                        case \"wordWrapEnabled\":\r\n                        case \"showColumnLines\":\r\n                        case \"showRowLines\":\r\n                        case \"rowAlternationEnabled\":\r\n                        case \"rowTemplate\":\r\n                        case \"dataRowTemplate\":\r\n                        case \"twoWayBindingEnabled\":\r\n                            this._invalidate(true, true);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"scrolling\":\r\n                            this._rowHeight = null;\r\n                            this._tableElement = null;\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"rtlEnabled\":\r\n                            this._rowHeight = null;\r\n                            this._tableElement = null;\r\n                            break;\r\n                        case \"loadPanel\":\r\n                            this._tableElement = null;\r\n                            this._invalidate(true, \"loadPanel.enabled\" !== args.fullName);\r\n                            args.handled = true;\r\n                            break;\r\n                        case \"noDataText\":\r\n                            this.renderNoDataText();\r\n                            args.handled = true\r\n                    }\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._hideLoadingTimeoutID);\r\n                    this._scrollable && this._scrollable.dispose()\r\n                },\r\n                setScrollerSpacing: function() {},\r\n                _restoreErrorRow: function() {}\r\n            }\r\n        }())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.rows.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    rowsModule\r\n} from \"../grid_core/ui.grid_core.rows\";\r\nexport var RowsView = rowsModule.views.rowsView;\r\ngridCore.registerModule(\"rows\", rowsModule);\r\n","/**\r\n * DevExtreme (esm/ui/hierarchical_collection/ui.data_converter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport errors from \"../../ui/widget/ui.errors\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isPrimitive\r\n} from \"../../core/utils/type\";\r\nvar DataConverter = Class.inherit({\r\n    ctor: function() {\r\n        this._dataStructure = [];\r\n        this._itemsCount = 0;\r\n        this._visibleItemsCount = 0\r\n    },\r\n    _indexByKey: {},\r\n    _convertItemsToNodes: function(items, parentKey) {\r\n        var that = this;\r\n        each(items, (function(_, item) {\r\n            var parentId = isDefined(parentKey) ? parentKey : that._getParentId(item);\r\n            var node = that._convertItemToNode(item, parentId);\r\n            that._dataStructure.push(node);\r\n            that._checkForDuplicateId(node.internalFields.key);\r\n            that._indexByKey[node.internalFields.key] = that._dataStructure.length - 1;\r\n            if (that._itemHasChildren(item)) {\r\n                that._convertItemsToNodes(that._dataAccessors.getters.items(item), node.internalFields.key)\r\n            }\r\n        }))\r\n    },\r\n    _checkForDuplicateId: function(key) {\r\n        if (isDefined(this._indexByKey[key])) {\r\n            throw errors.Error(\"E1040\", key)\r\n        }\r\n    },\r\n    _getParentId: function(item) {\r\n        return \"plain\" === this._dataType ? this._dataAccessors.getters.parentKey(item) : void 0\r\n    },\r\n    _itemHasChildren: function(item) {\r\n        if (\"plain\" === this._dataType) {\r\n            return\r\n        }\r\n        var items = this._dataAccessors.getters.items(item);\r\n        return items && items.length\r\n    },\r\n    _getUniqueKey: function(item) {\r\n        var keyGetter = this._dataAccessors.getters.key;\r\n        var itemKey = keyGetter(item);\r\n        var isCorrectKey = keyGetter && (itemKey || 0 === itemKey) && isPrimitive(itemKey);\r\n        return isCorrectKey ? itemKey : this.getItemsCount()\r\n    },\r\n    _convertItemToNode: function(item, parentKey) {\r\n        this._itemsCount++;\r\n        false !== item.visible && this._visibleItemsCount++;\r\n        var node = {\r\n            internalFields: {\r\n                disabled: this._dataAccessors.getters.disabled(item, {\r\n                    defaultValue: false\r\n                }),\r\n                expanded: this._dataAccessors.getters.expanded(item, {\r\n                    defaultValue: false\r\n                }),\r\n                selected: this._dataAccessors.getters.selected(item, {\r\n                    defaultValue: false\r\n                }),\r\n                key: this._getUniqueKey(item),\r\n                parentKey: isDefined(parentKey) ? parentKey : this._rootValue,\r\n                item: this._makeObjectFromPrimitive(item),\r\n                childrenKeys: []\r\n            }\r\n        };\r\n        extend(node, item);\r\n        delete node.items;\r\n        return node\r\n    },\r\n    setChildrenKeys: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (node.internalFields.parentKey === that._rootValue) {\r\n                return\r\n            }\r\n            var parent = that.getParentNode(node);\r\n            parent && parent.internalFields.childrenKeys.push(node.internalFields.key)\r\n        }))\r\n    },\r\n    _makeObjectFromPrimitive: function(item) {\r\n        if (isPrimitive(item)) {\r\n            var key = item;\r\n            item = {};\r\n            this._dataAccessors.setters.key(item, key)\r\n        }\r\n        return item\r\n    },\r\n    _convertToPublicNode: function(node, parent) {\r\n        if (!node) {\r\n            return null\r\n        }\r\n        var publicNode = {\r\n            text: this._dataAccessors.getters.display(node),\r\n            key: node.internalFields.key,\r\n            selected: node.internalFields.selected,\r\n            expanded: node.internalFields.expanded,\r\n            disabled: node.internalFields.disabled,\r\n            parent: parent || null,\r\n            itemData: node.internalFields.item,\r\n            children: [],\r\n            items: []\r\n        };\r\n        if (publicNode.parent) {\r\n            publicNode.parent.children.push(publicNode);\r\n            publicNode.parent.items.push(publicNode)\r\n        }\r\n        return publicNode\r\n    },\r\n    convertToPublicNodes: function(data, parent) {\r\n        if (!data.length) {\r\n            return []\r\n        }\r\n        var that = this;\r\n        var publicNodes = [];\r\n        each(data, (function(_, node) {\r\n            node = isPrimitive(node) ? that._getByKey(node) : node;\r\n            var publicNode = that._convertToPublicNode(node, parent);\r\n            publicNode.children = that.convertToPublicNodes(node.internalFields.childrenKeys, publicNode);\r\n            publicNodes.push(publicNode);\r\n            node.internalFields.publicNode = publicNode\r\n        }));\r\n        return publicNodes\r\n    },\r\n    setDataAccessors: function(accessors) {\r\n        this._dataAccessors = accessors\r\n    },\r\n    _getByKey: function(key) {\r\n        return this._dataStructure[this.getIndexByKey(key)] || null\r\n    },\r\n    getParentNode: function(node) {\r\n        return this._getByKey(node.internalFields.parentKey)\r\n    },\r\n    getByKey: function(data, key) {\r\n        if (null === key || void 0 === key) {\r\n            return null\r\n        }\r\n        var result = null;\r\n        var that = this;\r\n        var getByKey = function(data, key) {\r\n            each(data, (function(_, element) {\r\n                var currentElementKey = element.internalFields && element.internalFields.key || that._dataAccessors.getters.key(element);\r\n                if (currentElementKey.toString() === key.toString()) {\r\n                    result = element;\r\n                    return false\r\n                }\r\n            }));\r\n            return result\r\n        };\r\n        return getByKey(data, key)\r\n    },\r\n    getItemsCount: function() {\r\n        return this._itemsCount\r\n    },\r\n    getVisibleItemsCount: function() {\r\n        return this._visibleItemsCount\r\n    },\r\n    updateIndexByKey: function() {\r\n        var that = this;\r\n        this._indexByKey = {};\r\n        each(this._dataStructure, (function(index, node) {\r\n            that._checkForDuplicateId(node.internalFields.key);\r\n            that._indexByKey[node.internalFields.key] = index\r\n        }))\r\n    },\r\n    updateChildrenKeys: function() {\r\n        this._indexByKey = {};\r\n        this.removeChildrenKeys();\r\n        this.updateIndexByKey();\r\n        this.setChildrenKeys()\r\n    },\r\n    removeChildrenKeys: function() {\r\n        this._indexByKey = {};\r\n        each(this._dataStructure, (function(index, node) {\r\n            node.internalFields.childrenKeys = []\r\n        }))\r\n    },\r\n    getIndexByKey: function(key) {\r\n        return this._indexByKey[key]\r\n    },\r\n    createPlainStructure: function(items, rootValue, dataType) {\r\n        this._itemsCount = 0;\r\n        this._visibleItemsCount = 0;\r\n        this._rootValue = rootValue;\r\n        this._dataType = dataType;\r\n        this._indexByKey = {};\r\n        this._convertItemsToNodes(items);\r\n        this.setChildrenKeys();\r\n        return this._dataStructure\r\n    }\r\n});\r\nexport default DataConverter;\r\n","/**\r\n * DevExtreme (esm/ui/hierarchical_collection/ui.data_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isFunction,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport errors from \"../../ui/widget/ui.errors\";\r\nimport uiSearchBoxMixin from \"../../ui/widget/ui.search_box_mixin\";\r\nimport TextBox from \"../../ui/text_box\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport query from \"../../data/query\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nimport HierarchicalDataConverter from \"./ui.data_converter\";\r\nvar EXPANDED = \"expanded\";\r\nvar SELECTED = \"selected\";\r\nvar DISABLED = \"disabled\";\r\nuiSearchBoxMixin.setEditorClass(TextBox);\r\nvar DataAdapter = Class.inherit({\r\n    ctor: function(options) {\r\n        this.options = {};\r\n        extend(this.options, this._defaultOptions(), options);\r\n        this.options.dataConverter.setDataAccessors(this.options.dataAccessors);\r\n        this._selectedNodesKeys = [];\r\n        this._expandedNodesKeys = [];\r\n        this._dataStructure = [];\r\n        this._createInternalDataStructure();\r\n        this.getTreeNodes()\r\n    },\r\n    setOption: function(name, value) {\r\n        this.options[name] = value;\r\n        if (\"recursiveSelection\" === name) {\r\n            this._updateSelection()\r\n        }\r\n    },\r\n    _defaultOptions: function() {\r\n        return {\r\n            dataAccessors: void 0,\r\n            items: [],\r\n            multipleSelection: true,\r\n            recursiveSelection: false,\r\n            recursiveExpansion: false,\r\n            rootValue: 0,\r\n            searchValue: \"\",\r\n            dataType: \"tree\",\r\n            searchMode: \"contains\",\r\n            dataConverter: new HierarchicalDataConverter,\r\n            onNodeChanged: noop,\r\n            sort: null\r\n        }\r\n    },\r\n    _createInternalDataStructure: function() {\r\n        this._initialDataStructure = this.options.dataConverter.createPlainStructure(this.options.items, this.options.rootValue, this.options.dataType);\r\n        this._dataStructure = this.options.searchValue.length ? this.search(this.options.searchValue) : this._initialDataStructure;\r\n        this.options.dataConverter._dataStructure = this._dataStructure;\r\n        this._updateSelection();\r\n        this._updateExpansion()\r\n    },\r\n    _updateSelection: function() {\r\n        if (this.options.recursiveSelection) {\r\n            this._setChildrenSelection();\r\n            this._setParentSelection()\r\n        }\r\n        this._selectedNodesKeys = this._updateNodesKeysArray(SELECTED)\r\n    },\r\n    _updateExpansion: function(key) {\r\n        if (this.options.recursiveExpansion) {\r\n            key ? this._updateOneBranch(key) : this._setParentExpansion()\r\n        }\r\n        this._expandedNodesKeys = this._updateNodesKeysArray(EXPANDED)\r\n    },\r\n    _updateNodesKeysArray: function(property) {\r\n        var that = this;\r\n        var array = [];\r\n        each(that._getDataBySelectionMode(), (function(_, node) {\r\n            if (!that._isNodeVisible(node)) {\r\n                return\r\n            }\r\n            if (node.internalFields[property]) {\r\n                if (property === EXPANDED || that.options.multipleSelection) {\r\n                    array.push(node.internalFields.key)\r\n                } else {\r\n                    array.length && that.toggleSelection(array[0], false, true);\r\n                    array = [node.internalFields.key]\r\n                }\r\n            }\r\n        }));\r\n        return array\r\n    },\r\n    _getDataBySelectionMode: function() {\r\n        return this.options.multipleSelection ? this.getData() : this.getFullData()\r\n    },\r\n    _isNodeVisible: function(node) {\r\n        return false !== node.internalFields.item.visible\r\n    },\r\n    _getByKey: function(data, key) {\r\n        return data === this._dataStructure ? this.options.dataConverter._getByKey(key) : this.options.dataConverter.getByKey(data, key)\r\n    },\r\n    _setChildrenSelection: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (!node.internalFields.childrenKeys.length) {\r\n                return\r\n            }\r\n            var isSelected = node.internalFields.selected;\r\n            true === isSelected && that._toggleChildrenSelection(node, isSelected)\r\n        }))\r\n    },\r\n    _setParentSelection: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            var parent = that.options.dataConverter.getParentNode(node);\r\n            if (parent && node.internalFields.parentKey !== that.options.rootValue) {\r\n                that._iterateParents(node, (function(parent) {\r\n                    var newParentState = that._calculateSelectedState(parent);\r\n                    that._setFieldState(parent, SELECTED, newParentState)\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _setParentExpansion: function() {\r\n        var that = this;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (!node.internalFields.expanded) {\r\n                return\r\n            }\r\n            that._updateOneBranch(node.internalFields.key)\r\n        }))\r\n    },\r\n    _updateOneBranch: function(key) {\r\n        var that = this;\r\n        var node = this.getNodeByKey(key);\r\n        that._iterateParents(node, (function(parent) {\r\n            that._setFieldState(parent, EXPANDED, true)\r\n        }))\r\n    },\r\n    _iterateChildren: function(node, recursive, callback, processedKeys) {\r\n        if (!isFunction(callback)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var nodeKey = node.internalFields.key;\r\n        processedKeys = processedKeys || [];\r\n        if (-1 === processedKeys.indexOf(nodeKey)) {\r\n            processedKeys.push(nodeKey);\r\n            each(node.internalFields.childrenKeys, (function(_, key) {\r\n                var child = that.getNodeByKey(key);\r\n                callback(child);\r\n                if (child.internalFields.childrenKeys.length && recursive) {\r\n                    that._iterateChildren(child, recursive, callback, processedKeys)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    _iterateParents: function(node, callback, processedKeys) {\r\n        if (node.internalFields.parentKey === this.options.rootValue || !isFunction(callback)) {\r\n            return\r\n        }\r\n        processedKeys = processedKeys || [];\r\n        var key = node.internalFields.key;\r\n        if (-1 === processedKeys.indexOf(key)) {\r\n            processedKeys.push(key);\r\n            var parent = this.options.dataConverter.getParentNode(node);\r\n            if (parent) {\r\n                callback(parent);\r\n                if (parent.internalFields.parentKey !== this.options.rootValue) {\r\n                    this._iterateParents(parent, callback, processedKeys)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _calculateSelectedState: function(node) {\r\n        var itemsCount = node.internalFields.childrenKeys.length;\r\n        var selectedItemsCount = 0;\r\n        var invisibleItemsCount = 0;\r\n        var result = false;\r\n        for (var i = 0; i <= itemsCount - 1; i++) {\r\n            var childNode = this.getNodeByKey(node.internalFields.childrenKeys[i]);\r\n            var isChildInvisible = false === childNode.internalFields.item.visible;\r\n            var childState = childNode.internalFields.selected;\r\n            if (isChildInvisible) {\r\n                invisibleItemsCount++;\r\n                continue\r\n            }\r\n            if (childState) {\r\n                selectedItemsCount++\r\n            } else if (void 0 === childState) {\r\n                selectedItemsCount += .5\r\n            }\r\n        }\r\n        if (selectedItemsCount) {\r\n            result = selectedItemsCount === itemsCount - invisibleItemsCount ? true : void 0\r\n        }\r\n        return result\r\n    },\r\n    _toggleChildrenSelection: function(node, state) {\r\n        var that = this;\r\n        this._iterateChildren(node, true, (function(child) {\r\n            if (that._isNodeVisible(child)) {\r\n                that._setFieldState(child, SELECTED, state)\r\n            }\r\n        }))\r\n    },\r\n    _setFieldState: function(node, field, state) {\r\n        if (node.internalFields[field] === state) {\r\n            return\r\n        }\r\n        node.internalFields[field] = state;\r\n        if (node.internalFields.publicNode) {\r\n            node.internalFields.publicNode[field] = state\r\n        }\r\n        this.options.dataAccessors.setters[field](node.internalFields.item, state);\r\n        this.options.onNodeChanged(node)\r\n    },\r\n    _markChildren: function(keys) {\r\n        var that = this;\r\n        each(keys, (function(_, key) {\r\n            var index = that.getIndexByKey(key);\r\n            var node = that.getNodeByKey(key);\r\n            that._dataStructure[index] = 0;\r\n            node.internalFields.childrenKeys.length && that._markChildren(node.internalFields.childrenKeys)\r\n        }))\r\n    },\r\n    _removeNode: function(key) {\r\n        var node = this.getNodeByKey(key);\r\n        this._dataStructure[this.getIndexByKey(key)] = 0;\r\n        this._markChildren(node.internalFields.childrenKeys);\r\n        var that = this;\r\n        var counter = 0;\r\n        var items = extend([], this._dataStructure);\r\n        each(items, (function(index, item) {\r\n            if (!item) {\r\n                that._dataStructure.splice(index - counter, 1);\r\n                counter++\r\n            }\r\n        }))\r\n    },\r\n    _addNode: function(item) {\r\n        var dataConverter = this.options.dataConverter;\r\n        var node = dataConverter._convertItemToNode(item, this.options.dataAccessors.getters.parentKey(item));\r\n        this._dataStructure = this._dataStructure.concat(node);\r\n        this._initialDataStructure = this._initialDataStructure.concat(node);\r\n        dataConverter._dataStructure = dataConverter._dataStructure.concat(node)\r\n    },\r\n    _updateFields: function() {\r\n        this.options.dataConverter.updateChildrenKeys();\r\n        this._updateSelection();\r\n        this._updateExpansion()\r\n    },\r\n    getSelectedNodesKeys: function() {\r\n        return this._selectedNodesKeys\r\n    },\r\n    getExpandedNodesKeys: function() {\r\n        return this._expandedNodesKeys\r\n    },\r\n    getData: function() {\r\n        return this._dataStructure\r\n    },\r\n    getFullData: function() {\r\n        return this._initialDataStructure\r\n    },\r\n    getNodeByItem: function(item) {\r\n        var result = null;\r\n        each(this._dataStructure, (function(_, node) {\r\n            if (node.internalFields.item === item) {\r\n                result = node;\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    getNodesByItems: function(items) {\r\n        var that = this;\r\n        var nodes = [];\r\n        each(items, (function(_, item) {\r\n            var node = that.getNodeByItem(item);\r\n            node && nodes.push(node)\r\n        }));\r\n        return nodes\r\n    },\r\n    getNodeByKey: function(key, data) {\r\n        return this._getByKey(data || this._getDataBySelectionMode(), key)\r\n    },\r\n    getTreeNodes: function() {\r\n        return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())\r\n    },\r\n    getItemsCount: function() {\r\n        return this.options.dataConverter.getItemsCount()\r\n    },\r\n    getVisibleItemsCount: function() {\r\n        return this.options.dataConverter.getVisibleItemsCount()\r\n    },\r\n    getPublicNode: function(node) {\r\n        return node.internalFields.publicNode\r\n    },\r\n    getRootNodes: function() {\r\n        return this.getChildrenNodes(this.options.rootValue)\r\n    },\r\n    getChildrenNodes: function(parentKey) {\r\n        return query(this._dataStructure).filter([\"internalFields.parentKey\", parentKey]).toArray()\r\n    },\r\n    getIndexByKey: function(key) {\r\n        return this.options.dataConverter.getIndexByKey(key)\r\n    },\r\n    addItem: function(item) {\r\n        this._addNode(item);\r\n        this._updateFields()\r\n    },\r\n    removeItem: function(key) {\r\n        this._removeNode(key);\r\n        this._updateFields()\r\n    },\r\n    toggleSelection: function(key, state, selectRecursive) {\r\n        var isSingleModeUnselect = this._isSingleModeUnselect(state);\r\n        var node = this._getByKey(selectRecursive || isSingleModeUnselect ? this._initialDataStructure : this._dataStructure, key);\r\n        this._setFieldState(node, SELECTED, state);\r\n        if (this.options.recursiveSelection && !selectRecursive) {\r\n            state ? this._setChildrenSelection() : this._toggleChildrenSelection(node, state);\r\n            this._setParentSelection()\r\n        }\r\n        this._selectedNodesKeys = this._updateNodesKeysArray(SELECTED)\r\n    },\r\n    _isSingleModeUnselect: function(selectionState) {\r\n        return !this.options.multipleSelection && !selectionState\r\n    },\r\n    toggleNodeDisabledState: function(key, state) {\r\n        var node = this.getNodeByKey(key);\r\n        this._setFieldState(node, DISABLED, state)\r\n    },\r\n    toggleSelectAll: function(state) {\r\n        if (!isDefined(state)) {\r\n            return\r\n        }\r\n        var that = this;\r\n        var lastSelectedKey = that._selectedNodesKeys[that._selectedNodesKeys.length - 1];\r\n        var dataStructure = that._isSingleModeUnselect(state) ? this._initialDataStructure : this._dataStructure;\r\n        each(dataStructure, (function(index, node) {\r\n            if (!that._isNodeVisible(node)) {\r\n                return\r\n            }\r\n            that._setFieldState(node, SELECTED, state)\r\n        }));\r\n        that._selectedNodesKeys = that._updateNodesKeysArray(SELECTED);\r\n        if (!state && that.options.selectionRequired) {\r\n            that.toggleSelection(lastSelectedKey, true)\r\n        }\r\n    },\r\n    isAllSelected: function() {\r\n        if (this.getSelectedNodesKeys().length) {\r\n            return this.getSelectedNodesKeys().length === this.getVisibleItemsCount() ? true : void 0\r\n        } else {\r\n            return false\r\n        }\r\n    },\r\n    toggleExpansion: function(key, state) {\r\n        var node = this.getNodeByKey(key);\r\n        this._setFieldState(node, EXPANDED, state);\r\n        if (state) {\r\n            this._updateExpansion(key)\r\n        }\r\n        this._expandedNodesKeys = this._updateNodesKeysArray(EXPANDED)\r\n    },\r\n    isFiltered: function(item) {\r\n        return !this.options.searchValue.length || !!this._filterDataStructure(this.options.searchValue, [item]).length\r\n    },\r\n    _createCriteria: function(selector, value, operation) {\r\n        var searchFilter = [];\r\n        if (!Array.isArray(selector)) {\r\n            return [selector, operation, value]\r\n        }\r\n        each(selector, (function(i, item) {\r\n            searchFilter.push([item, operation, value], \"or\")\r\n        }));\r\n        searchFilter.pop();\r\n        return searchFilter\r\n    },\r\n    _filterDataStructure: function(filterValue, dataStructure) {\r\n        var selector = this.options.searchExpr || this.options.dataAccessors.getters.display;\r\n        var operation = uiSearchBoxMixin.getOperationBySearchMode(this.options.searchMode);\r\n        var criteria = this._createCriteria(selector, filterValue, operation);\r\n        dataStructure = dataStructure || this._initialDataStructure;\r\n        return query(dataStructure).filter(criteria).toArray()\r\n    },\r\n    search: function(searchValue) {\r\n        var that = this;\r\n        var matches = this._filterDataStructure(searchValue);\r\n        var dataConverter = this.options.dataConverter;\r\n        ! function lookForParents(matches, index) {\r\n            var length = matches.length;\r\n            while (index < length) {\r\n                var node = matches[index];\r\n                if (node.internalFields.parentKey === that.options.rootValue) {\r\n                    index++;\r\n                    continue\r\n                }\r\n                var parent = dataConverter.getParentNode(node);\r\n                if (!parent) {\r\n                    errors.log(\"W1007\", node.internalFields.parentKey, node.internalFields.key);\r\n                    index++;\r\n                    continue\r\n                }\r\n                if (!parent.internalFields.expanded) {\r\n                    that._setFieldState(parent, EXPANDED, true)\r\n                }\r\n                if (inArray(parent, matches) > -1) {\r\n                    index++;\r\n                    continue\r\n                }\r\n                matches.splice(index, 0, parent);\r\n                lookForParents(matches, index)\r\n            }\r\n        }(matches, 0);\r\n        if (this.options.sort) {\r\n            matches = storeHelper.queryByOptions(query(matches), {\r\n                sort: this.options.sort\r\n            }).toArray()\r\n        }\r\n        dataConverter._indexByKey = {};\r\n        each(matches, (function(index, node) {\r\n            node.internalFields.childrenKeys = [];\r\n            dataConverter._indexByKey[node.internalFields.key] = index\r\n        }));\r\n        dataConverter._dataStructure = matches;\r\n        dataConverter.setChildrenKeys();\r\n        return dataConverter._dataStructure\r\n    }\r\n});\r\nexport default DataAdapter;\r\n","/**\r\n * DevExtreme (esm/ui/hierarchical_collection/ui.hierarchical_collection_widget.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    compileGetter,\r\n    compileSetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    getImageContainer\r\n} from \"../../core/utils/icon\";\r\nimport HierarchicalDataAdapter from \"./ui.data_adapter\";\r\nimport CollectionWidget from \"../collection/ui.collection_widget.edit\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../../core/templates/bindable_template\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar HierarchicalCollectionWidget = CollectionWidget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            keyExpr: \"id\",\r\n            displayExpr: \"text\",\r\n            selectedExpr: \"selected\",\r\n            disabledExpr: \"disabled\",\r\n            itemsExpr: \"items\",\r\n            hoverStateEnabled: true,\r\n            parentIdExpr: \"parentId\",\r\n            expandedExpr: \"expanded\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._initAccessors();\r\n        this._initDataAdapter();\r\n        this._initDynamicTemplates()\r\n    },\r\n    _initDataSource: function() {\r\n        this.callBase();\r\n        this._dataSource && this._dataSource.paginate(false)\r\n    },\r\n    _initDataAdapter: function() {\r\n        var accessors = this._createDataAdapterAccessors();\r\n        this._dataAdapter = new HierarchicalDataAdapter(extend({\r\n            dataAccessors: {\r\n                getters: accessors.getters,\r\n                setters: accessors.setters\r\n            },\r\n            items: this.option(\"items\")\r\n        }, this._getDataAdapterOptions()))\r\n    },\r\n    _getDataAdapterOptions: noop,\r\n    _initDynamicTemplates: function() {\r\n        var that = this;\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, itemData) {\r\n                $container.html(itemData.html).append(this._getIconContainer(itemData)).append(this._getTextContainer(itemData)).append(this._getPopoutContainer(itemData));\r\n                that._addContentClasses(itemData, $container.parent())\r\n            }.bind(this), [\"text\", \"html\", \"items\", \"icon\"], this.option(\"integrationOptions.watchMethod\"), {\r\n                text: this._displayGetter,\r\n                items: this._itemsGetter\r\n            })\r\n        })\r\n    },\r\n    _getIconContainer: function(itemData) {\r\n        return itemData.icon ? getImageContainer(itemData.icon) : void 0\r\n    },\r\n    _getTextContainer: function(itemData) {\r\n        return $(\"<span>\").text(itemData.text)\r\n    },\r\n    _getPopoutContainer: noop,\r\n    _addContentClasses: noop,\r\n    _initAccessors: function() {\r\n        var that = this;\r\n        each(this._getAccessors(), (function(_, accessor) {\r\n            that._compileAccessor(accessor)\r\n        }));\r\n        this._compileDisplayGetter()\r\n    },\r\n    _getAccessors: function() {\r\n        return [\"key\", \"selected\", \"items\", \"disabled\", \"parentId\", \"expanded\"]\r\n    },\r\n    _getChildNodes: function(node) {\r\n        var that = this;\r\n        var arr = [];\r\n        each(node.internalFields.childrenKeys, (function(_, key) {\r\n            var childNode = that._dataAdapter.getNodeByKey(key);\r\n            arr.push(childNode)\r\n        }));\r\n        return arr\r\n    },\r\n    _hasChildren: function(node) {\r\n        return node && node.internalFields.childrenKeys.length\r\n    },\r\n    _compileAccessor: function(optionName) {\r\n        var getter = \"_\" + optionName + \"Getter\";\r\n        var setter = \"_\" + optionName + \"Setter\";\r\n        var optionExpr = this.option(optionName + \"Expr\");\r\n        if (!optionExpr) {\r\n            this[getter] = noop;\r\n            this[setter] = noop;\r\n            return\r\n        } else if (isFunction(optionExpr)) {\r\n            this[setter] = function(obj, value) {\r\n                obj[optionExpr()] = value\r\n            };\r\n            this[getter] = function(obj) {\r\n                return obj[optionExpr()]\r\n            };\r\n            return\r\n        }\r\n        this[getter] = compileGetter(optionExpr);\r\n        this[setter] = compileSetter(optionExpr)\r\n    },\r\n    _createDataAdapterAccessors: function() {\r\n        var that = this;\r\n        var accessors = {\r\n            getters: {},\r\n            setters: {}\r\n        };\r\n        each(this._getAccessors(), (function(_, accessor) {\r\n            var getterName = \"_\" + accessor + \"Getter\";\r\n            var setterName = \"_\" + accessor + \"Setter\";\r\n            var newAccessor = \"parentId\" === accessor ? \"parentKey\" : accessor;\r\n            accessors.getters[newAccessor] = that[getterName];\r\n            accessors.setters[newAccessor] = that[setterName]\r\n        }));\r\n        accessors.getters.display = !this._displayGetter ? itemData => itemData.text : this._displayGetter;\r\n        return accessors\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._addWidgetClass()\r\n    },\r\n    _addWidgetClass: function() {\r\n        this._focusTarget().addClass(this._widgetClass())\r\n    },\r\n    _widgetClass: noop,\r\n    _renderItemFrame: function(index, itemData) {\r\n        var $itemFrame = this.callBase.apply(this, arguments);\r\n        $itemFrame.toggleClass(DISABLED_STATE_CLASS, !!this._disabledGetter(itemData));\r\n        return $itemFrame\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"displayExpr\":\r\n            case \"keyExpr\":\r\n                this._initAccessors();\r\n                this._initDynamicTemplates();\r\n                this.repaint();\r\n                break;\r\n            case \"itemsExpr\":\r\n            case \"selectedExpr\":\r\n            case \"disabledExpr\":\r\n            case \"expandedExpr\":\r\n            case \"parentIdExpr\":\r\n                this._initAccessors();\r\n                this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            case \"items\":\r\n                this._initDataAdapter();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport default HierarchicalCollectionWidget;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu/ui.menu_base.edit.strategy.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport PlainEditStrategy from \"../collection/ui.collection_widget.edit.strategy.plain\";\r\nclass MenuBaseEditStrategy extends PlainEditStrategy {\r\n    _getPlainItems() {\r\n        return map(this._collectionWidget.option(\"items\"), (function getMenuItems(item) {\r\n            return item.items ? [item].concat(map(item.items, getMenuItems)) : item\r\n        }))\r\n    }\r\n    _stringifyItem(item) {\r\n        return JSON.stringify(item, (key, value) => {\r\n            if (\"template\" === key) {\r\n                return this._getTemplateString(value)\r\n            }\r\n            return value\r\n        })\r\n    }\r\n    _getTemplateString(template) {\r\n        var result;\r\n        if (\"object\" === typeof template) {\r\n            result = $(template).text()\r\n        } else {\r\n            result = template.toString()\r\n        }\r\n        return result\r\n    }\r\n}\r\nexport default MenuBaseEditStrategy;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu/ui.menu_base.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop,\r\n    asyncNoop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isPlainObject,\r\n    isObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    render\r\n} from \"../widget/utils.ink_ripple\";\r\nimport HierarchicalCollectionWidget from \"../hierarchical_collection/ui.hierarchical_collection_widget\";\r\nimport MenuBaseEditStrategy from \"./ui.menu_base.edit.strategy\";\r\nimport devices from \"../../core/devices\";\r\nimport MenuItem from \"../collection/item\";\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_NO_ICONS_CLASS = DX_MENU_CLASS + \"-no-icons\";\r\nvar DX_MENU_BASE_CLASS = \"dx-menu-base\";\r\nvar ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_ITEM_CONTENT_CLASS = ITEM_CLASS + \"-content\";\r\nvar DX_MENU_SELECTED_ITEM_CLASS = ITEM_CLASS + \"-selected\";\r\nvar DX_MENU_ITEM_WRAPPER_CLASS = ITEM_CLASS + \"-wrapper\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = ITEM_CLASS + \"-expanded\";\r\nvar DX_MENU_SEPARATOR_CLASS = DX_MENU_CLASS + \"-separator\";\r\nvar DX_MENU_ITEM_LAST_GROUP_ITEM = DX_MENU_CLASS + \"-last-group-item\";\r\nvar DX_ITEM_HAS_TEXT = ITEM_CLASS + \"-has-text\";\r\nvar DX_ITEM_HAS_ICON = ITEM_CLASS + \"-has-icon\";\r\nvar DX_ITEM_HAS_SUBMENU = ITEM_CLASS + \"-has-submenu\";\r\nvar DX_MENU_ITEM_POPOUT_CLASS = ITEM_CLASS + \"-popout\";\r\nvar DX_MENU_ITEM_POPOUT_CONTAINER_CLASS = DX_MENU_ITEM_POPOUT_CLASS + \"-container\";\r\nvar DX_MENU_ITEM_CAPTION_CLASS = ITEM_CLASS + \"-text\";\r\nvar SINGLE_SELECTION_MODE = \"single\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nclass MenuBase extends HierarchicalCollectionWidget {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            items: [],\r\n            cssClass: \"\",\r\n            activeStateEnabled: true,\r\n            showSubmenuMode: {\r\n                name: \"onHover\",\r\n                delay: {\r\n                    show: 50,\r\n                    hide: 300\r\n                }\r\n            },\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    from: 0,\r\n                    to: 1,\r\n                    duration: 100\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    from: 1,\r\n                    to: 0,\r\n                    duration: 100\r\n                }\r\n            },\r\n            selectByClick: false,\r\n            focusOnSelectedItem: false,\r\n            keyExpr: null,\r\n            _itemAttributes: {\r\n                role: \"menuitem\"\r\n            },\r\n            useInkRipple: false\r\n        })\r\n    }\r\n    _itemDataKey() {\r\n        return \"dxMenuItemDataKey\"\r\n    }\r\n    _itemClass() {\r\n        return ITEM_CLASS\r\n    }\r\n    _setAriaSelected() {}\r\n    _selectedItemClass() {\r\n        return DX_MENU_SELECTED_ITEM_CLASS\r\n    }\r\n    _widgetClass() {\r\n        return DX_MENU_BASE_CLASS\r\n    }\r\n    _focusTarget() {\r\n        return this._itemContainer()\r\n    }\r\n    _clean() {\r\n        this.option(\"focusedElement\", null);\r\n        super._clean()\r\n    }\r\n    _supportedKeys() {\r\n        return extend(super._supportedKeys(), {\r\n            space: () => {\r\n                var $item = $(this.option(\"focusedElement\"));\r\n                if (!$item.length || !this._isSelectionEnabled()) {\r\n                    return\r\n                }\r\n                this.selectItem($item[0])\r\n            },\r\n            pageUp: noop,\r\n            pageDown: noop\r\n        })\r\n    }\r\n    _isSelectionEnabled() {\r\n        return this.option(\"selectionMode\") === SINGLE_SELECTION_MODE\r\n    }\r\n    _init() {\r\n        this._activeStateUnit = \".\".concat(ITEM_CLASS);\r\n        super._init();\r\n        this._renderSelectedItem();\r\n        this._initActions()\r\n    }\r\n    _getTextContainer(itemData) {\r\n        var itemText = itemData.text;\r\n        var $itemContainer = $(\"<span>\").addClass(DX_MENU_ITEM_CAPTION_CLASS);\r\n        var itemContent = isPlainObject(itemData) ? itemText : String(itemData);\r\n        return itemText && $itemContainer.text(itemContent)\r\n    }\r\n    _getPopoutContainer(itemData) {\r\n        var items = itemData.items;\r\n        var $popOutContainer;\r\n        if (items && items.length) {\r\n            var $popOutImage = $(\"<div>\").addClass(DX_MENU_ITEM_POPOUT_CLASS);\r\n            $popOutContainer = $(\"<span>\").addClass(DX_MENU_ITEM_POPOUT_CONTAINER_CLASS).append($popOutImage)\r\n        }\r\n        return $popOutContainer\r\n    }\r\n    _getDataAdapterOptions() {\r\n        return {\r\n            rootValue: 0,\r\n            multipleSelection: false,\r\n            recursiveSelection: false,\r\n            recursiveExpansion: false,\r\n            searchValue: \"\"\r\n        }\r\n    }\r\n    _selectByItem(selectedItem) {\r\n        if (!selectedItem) {\r\n            return\r\n        }\r\n        var nodeToSelect = this._dataAdapter.getNodeByItem(selectedItem);\r\n        this._dataAdapter.toggleSelection(nodeToSelect.internalFields.key, true)\r\n    }\r\n    _renderSelectedItem() {\r\n        var selectedKeys = this._dataAdapter.getSelectedNodesKeys();\r\n        var selectedKey = selectedKeys.length && selectedKeys[0];\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        if (!selectedKey) {\r\n            this._selectByItem(selectedItem);\r\n            return\r\n        }\r\n        var node = this._dataAdapter.getNodeByKey(selectedKey);\r\n        if (false === node.selectable) {\r\n            return\r\n        }\r\n        if (!selectedItem) {\r\n            this.option(\"selectedItem\", node.internalFields.item);\r\n            return\r\n        }\r\n        if (selectedItem !== node.internalFields.item) {\r\n            this._dataAdapter.toggleSelection(selectedKey, false);\r\n            this._selectByItem(selectedItem)\r\n        }\r\n    }\r\n    _initActions() {}\r\n    _initMarkup() {\r\n        super._initMarkup();\r\n        this._addCustomCssClass(this.$element());\r\n        this.option(\"useInkRipple\") && this._renderInkRipple()\r\n    }\r\n    _renderInkRipple() {\r\n        this._inkRipple = render()\r\n    }\r\n    _toggleActiveState($element, value, e) {\r\n        super._toggleActiveState.apply(this, arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    }\r\n    _getShowSubmenuMode() {\r\n        var optionValue = this.option(\"showSubmenuMode\");\r\n        optionValue = isObject(optionValue) ? optionValue.name : optionValue;\r\n        return this._isDesktopDevice() ? optionValue : \"onClick\"\r\n    }\r\n    _initSelectedItems() {}\r\n    _isDesktopDevice() {\r\n        return \"desktop\" === devices.real().deviceType\r\n    }\r\n    _initEditStrategy() {\r\n        var Strategy = MenuBaseEditStrategy;\r\n        this._editStrategy = new Strategy(this)\r\n    }\r\n    _addCustomCssClass($element) {\r\n        $element.addClass(this.option(\"cssClass\"))\r\n    }\r\n    _itemWrapperSelector() {\r\n        return \".\".concat(DX_MENU_ITEM_WRAPPER_CLASS)\r\n    }\r\n    _hoverStartHandler(e) {\r\n        var $itemElement = this._getItemElementByEventArgs(e);\r\n        if (!$itemElement || this._isItemDisabled($itemElement)) {\r\n            return\r\n        }\r\n        e.stopPropagation();\r\n        if (\"onHover\" === this._getShowSubmenuMode()) {\r\n            clearTimeout(this._showSubmenusTimeout);\r\n            this._showSubmenusTimeout = setTimeout(this._showSubmenu.bind(this, $itemElement), this._getSubmenuDelay(\"show\"))\r\n        }\r\n    }\r\n    _getAvailableItems($itemElements) {\r\n        return super._getAvailableItems($itemElements).filter((function() {\r\n            return \"hidden\" !== $(this).css(\"visibility\")\r\n        }))\r\n    }\r\n    _isItemDisabled($item) {\r\n        return this._disabledGetter($item.data(this._itemDataKey()))\r\n    }\r\n    _showSubmenu($itemElement) {\r\n        this._addExpandedClass($itemElement)\r\n    }\r\n    _addExpandedClass(itemElement) {\r\n        $(itemElement).addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n    }\r\n    _getSubmenuDelay(action) {\r\n        var {\r\n            delay: delay\r\n        } = this.option(\"showSubmenuMode\");\r\n        if (!isDefined(delay)) {\r\n            return DEFAULT_DELAY[action]\r\n        }\r\n        return isObject(delay) ? delay[action] : delay\r\n    }\r\n    _getItemElementByEventArgs(eventArgs) {\r\n        var $target = $(eventArgs.target);\r\n        if ($target.hasClass(this._itemClass()) || $target.get(0) === eventArgs.currentTarget) {\r\n            return $target\r\n        }\r\n        while (!$target.hasClass(this._itemClass())) {\r\n            $target = $target.parent();\r\n            if ($target.hasClass(\"dx-submenu\")) {\r\n                return null\r\n            }\r\n        }\r\n        return $target\r\n    }\r\n    _hoverEndHandler() {\r\n        clearTimeout(this._showSubmenusTimeout)\r\n    }\r\n    _hasSubmenu(node) {\r\n        return node && node.internalFields.childrenKeys.length\r\n    }\r\n    _renderContentImpl() {\r\n        this._renderItems(this._dataAdapter.getRootNodes())\r\n    }\r\n    _renderItems(nodes, submenuContainer) {\r\n        if (nodes.length) {\r\n            this.hasIcons = false;\r\n            var $nodeContainer = this._renderContainer(this.$element(), submenuContainer);\r\n            var firstVisibleIndex = -1;\r\n            var nextGroupFirstIndex = -1;\r\n            each(nodes, (index, node) => {\r\n                var isVisibleNode = false !== node.visible;\r\n                if (isVisibleNode && firstVisibleIndex < 0) {\r\n                    firstVisibleIndex = index\r\n                }\r\n                var isBeginGroup = firstVisibleIndex < index && (node.beginGroup || index === nextGroupFirstIndex);\r\n                if (isBeginGroup) {\r\n                    nextGroupFirstIndex = isVisibleNode ? index : index + 1\r\n                }\r\n                if (index === nextGroupFirstIndex && firstVisibleIndex < index) {\r\n                    this._renderSeparator($nodeContainer)\r\n                }\r\n                this._renderItem(index, node, $nodeContainer)\r\n            });\r\n            if (!this.hasIcons) {\r\n                $nodeContainer.addClass(DX_MENU_NO_ICONS_CLASS)\r\n            }\r\n        }\r\n    }\r\n    _renderContainer($wrapper) {\r\n        var $container = $(\"<ul>\");\r\n        this.setAria(\"role\", \"none\", $container);\r\n        return $container.appendTo($wrapper).addClass(DX_MENU_ITEMS_CONTAINER_CLASS)\r\n    }\r\n    _createDOMElement($nodeContainer) {\r\n        var $node = $(\"<li>\");\r\n        this.setAria(\"role\", \"none\", $node);\r\n        return $node.appendTo($nodeContainer).addClass(DX_MENU_ITEM_WRAPPER_CLASS)\r\n    }\r\n    _renderItem(index, node, $nodeContainer, $nodeElement) {\r\n        var items = this.option(\"items\");\r\n        var $node = $nodeElement || this._createDOMElement($nodeContainer);\r\n        if (items[index + 1] && items[index + 1].beginGroup) {\r\n            $node.addClass(DX_MENU_ITEM_LAST_GROUP_ITEM)\r\n        }\r\n        var $itemFrame = super._renderItem(index, node.internalFields.item, $node);\r\n        if (node.internalFields.item === this.option(\"selectedItem\")) {\r\n            $itemFrame.addClass(DX_MENU_SELECTED_ITEM_CLASS)\r\n        }\r\n        $itemFrame.attr(\"tabIndex\", -1);\r\n        if (this._hasSubmenu(node)) {\r\n            this.setAria(\"haspopup\", \"true\", $itemFrame)\r\n        }\r\n    }\r\n    _renderItemFrame(index, itemData, $itemContainer) {\r\n        var $itemFrame = $itemContainer.children(\".\".concat(ITEM_CLASS));\r\n        return $itemFrame.length ? $itemFrame : super._renderItemFrame.apply(this, arguments)\r\n    }\r\n    _refreshItem($item, item) {\r\n        var node = this._dataAdapter.getNodeByItem(item);\r\n        var index = $item.data(this._itemIndexKey());\r\n        var $nodeContainer = $item.closest(\"ul\");\r\n        var $nodeElement = $item.closest(\"li\");\r\n        this._renderItem(index, node, $nodeContainer, $nodeElement)\r\n    }\r\n    _addContentClasses(itemData, $itemFrame) {\r\n        var hasText = itemData.text ? !!itemData.text.length : false;\r\n        var hasIcon = !!itemData.icon;\r\n        var hasSubmenu = itemData.items ? !!itemData.items.length : false;\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_TEXT, hasText);\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_ICON, hasIcon);\r\n        if (!this.hasIcons) {\r\n            this.hasIcons = hasIcon\r\n        }\r\n        $itemFrame.toggleClass(DX_ITEM_HAS_SUBMENU, hasSubmenu)\r\n    }\r\n    _getItemContent($itemFrame) {\r\n        var $itemContent = super._getItemContent($itemFrame);\r\n        if (!$itemContent.length) {\r\n            $itemContent = $itemFrame.children(\".\".concat(DX_ITEM_CONTENT_CLASS))\r\n        }\r\n        return $itemContent\r\n    }\r\n    _postprocessRenderItem(args) {\r\n        var $itemElement = $(args.itemElement);\r\n        var selectedIndex = this._dataAdapter.getSelectedNodesKeys();\r\n        if (!selectedIndex.length || !this._selectedGetter(args.itemData) || !this._isItemSelectable(args.itemData)) {\r\n            this._setAriaSelected($itemElement, \"false\");\r\n            return\r\n        }\r\n        var node = this._dataAdapter.getNodeByItem(args.itemData);\r\n        if (node.internalFields.key === selectedIndex[0]) {\r\n            $itemElement.addClass(this._selectedItemClass());\r\n            this._setAriaSelected($itemElement, \"true\")\r\n        } else {\r\n            this._setAriaSelected($itemElement, \"false\")\r\n        }\r\n    }\r\n    _isItemSelectable(item) {\r\n        return false !== item.selectable\r\n    }\r\n    _renderSeparator($itemsContainer) {\r\n        $(\"<li>\").appendTo($itemsContainer).addClass(DX_MENU_SEPARATOR_CLASS)\r\n    }\r\n    _itemClickHandler(e) {\r\n        if (e._skipHandling) {\r\n            return\r\n        }\r\n        var itemClickActionHandler = this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));\r\n        this._itemDXEventHandler(e, \"onItemClick\", {}, {\r\n            afterExecute: itemClickActionHandler.bind(this)\r\n        });\r\n        e._skipHandling = true\r\n    }\r\n    _updateSubmenuVisibilityOnClick(actionArgs) {\r\n        this._updateSelectedItemOnClick(actionArgs);\r\n        if (\"onClick\" === this._getShowSubmenuMode()) {\r\n            this._addExpandedClass(actionArgs.args[0].itemElement)\r\n        }\r\n    }\r\n    _updateSelectedItemOnClick(actionArgs) {\r\n        var args = actionArgs.args ? actionArgs.args[0] : actionArgs;\r\n        if (!this._isItemSelectionAllowed(args.itemData)) {\r\n            return\r\n        }\r\n        var selectedItemKey = this._dataAdapter.getSelectedNodesKeys();\r\n        var selectedNode = selectedItemKey.length && this._dataAdapter.getNodeByKey(selectedItemKey[0]);\r\n        if (selectedNode) {\r\n            this._toggleItemSelection(selectedNode, false)\r\n        }\r\n        if (!selectedNode || selectedNode.internalFields.item !== args.itemData) {\r\n            this.selectItem(args.itemData)\r\n        } else {\r\n            this._fireSelectionChangeEvent(null, this.option(\"selectedItem\"));\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n        }\r\n    }\r\n    _isItemSelectionAllowed(item) {\r\n        var isSelectionByClickEnabled = this._isSelectionEnabled() && this.option(\"selectByClick\");\r\n        return !this._isContainerEmpty() && isSelectionByClickEnabled && this._isItemSelectable(item) && !this._itemsGetter(item)\r\n    }\r\n    _isContainerEmpty() {\r\n        return this._itemContainer().is(\":empty\")\r\n    }\r\n    _syncSelectionOptions() {\r\n        return asyncNoop()\r\n    }\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"showSubmenuMode\":\r\n                break;\r\n            case \"selectedItem\":\r\n                var node = this._dataAdapter.getNodeByItem(args.value);\r\n                var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n                if (node && node.internalFields.key !== selectedKey) {\r\n                    if (false === node.selectable) {\r\n                        break\r\n                    }\r\n                    if (selectedKey) {\r\n                        this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n                    }\r\n                    this._toggleItemSelection(node, true);\r\n                    this._updateSelectedItems()\r\n                }\r\n                break;\r\n            case \"cssClass\":\r\n            case \"position\":\r\n            case \"selectByClick\":\r\n            case \"animation\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _toggleItemSelection(node, value) {\r\n        var itemElement = this._getElementByItem(node.internalFields.item);\r\n        itemElement && $(itemElement).toggleClass(DX_MENU_SELECTED_ITEM_CLASS);\r\n        this._dataAdapter.toggleSelection(node.internalFields.key, value)\r\n    }\r\n    _getElementByItem(itemData) {\r\n        var result;\r\n        each(this._itemElements(), (_, itemElement) => {\r\n            if ($(itemElement).data(this._itemDataKey()) !== itemData) {\r\n                return true\r\n            }\r\n            result = itemElement;\r\n            return false\r\n        });\r\n        return result\r\n    }\r\n    _updateSelectedItems(oldSelection, newSelection) {\r\n        if (oldSelection || newSelection) {\r\n            this._fireSelectionChangeEvent(newSelection, oldSelection)\r\n        }\r\n    }\r\n    _fireSelectionChangeEvent(addedSelection, removedSelection) {\r\n        this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })({\r\n            addedItems: [addedSelection],\r\n            removedItems: [removedSelection]\r\n        })\r\n    }\r\n    selectItem(itemElement) {\r\n        var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n        var selectedKey = this._dataAdapter.getSelectedNodesKeys()[0];\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        if (node.internalFields.key !== selectedKey) {\r\n            if (selectedKey) {\r\n                this._toggleItemSelection(this._dataAdapter.getNodeByKey(selectedKey), false)\r\n            }\r\n            this._toggleItemSelection(node, true);\r\n            this._updateSelectedItems(selectedItem, itemData);\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", itemData)\r\n        }\r\n    }\r\n    unselectItem(itemElement) {\r\n        var itemData = itemElement.nodeType ? this._getItemData(itemElement) : itemElement;\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        var selectedItem = this.option(\"selectedItem\");\r\n        if (node.internalFields.selected) {\r\n            this._toggleItemSelection(node, false);\r\n            this._updateSelectedItems(selectedItem, null);\r\n            this._setOptionWithoutOptionChange(\"selectedItem\", null)\r\n        }\r\n    }\r\n}\r\nMenuBase.ItemClass = MenuItem;\r\nexport default MenuBase;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu/ui.context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isObject,\r\n    isRenderer,\r\n    isWindow,\r\n    isFunction,\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    contains\r\n} from \"../../core/utils/dom\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport fx from \"../../animation/fx\";\r\nimport animationPosition from \"../../animation/position\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport MenuBase from \"./ui.menu_base\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    name as contextMenuEventName\r\n} from \"../../events/contextmenu\";\r\nimport holdEvent from \"../../events/hold\";\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_MENU_PHONE_CLASS = \"dx-menu-phone-overlay\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_WRAPPER_CLASS = DX_MENU_ITEM_CLASS + \"-wrapper\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_HAS_CONTEXT_MENU_CLASS = \"dx-has-context-menu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_FOCUSED_CLASS = \"dx-state-focused\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar FOCUS_FIRST = \"first\";\r\nvar FOCUS_LAST = \"last\";\r\nvar ACTIONS = [\"onShowing\", \"onShown\", \"onSubmenuCreated\", \"onHiding\", \"onHidden\", \"onPositioning\", \"onLeftFirstItem\", \"onLeftLastItem\", \"onCloseRootSubmenu\", \"onExpandLastSubmenu\"];\r\nvar LOCAL_SUBMENU_DIRECTIONS = [FOCUS_UP, FOCUS_DOWN, FOCUS_FIRST, FOCUS_LAST];\r\nvar DEFAULT_SHOW_EVENT = \"dxcontextmenu\";\r\nclass ContextMenu extends MenuBase {\r\n    getShowEvent(showEventOption) {\r\n        var result = null;\r\n        if (isObject(showEventOption)) {\r\n            if (null !== showEventOption.name) {\r\n                result = showEventOption.name || DEFAULT_SHOW_EVENT\r\n            }\r\n        } else {\r\n            result = showEventOption\r\n        }\r\n        return result\r\n    }\r\n    getShowDelay(showEventOption) {\r\n        return isObject(showEventOption) && showEventOption.delay\r\n    }\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            showEvent: DEFAULT_SHOW_EVENT,\r\n            closeOnOutsideClick: true,\r\n            position: {\r\n                at: \"top left\",\r\n                my: \"top left\"\r\n            },\r\n            onShowing: null,\r\n            onShown: null,\r\n            onSubmenuCreated: null,\r\n            onHiding: null,\r\n            onHidden: null,\r\n            onPositioning: null,\r\n            submenuDirection: \"auto\",\r\n            visible: false,\r\n            target: void 0,\r\n            onLeftFirstItem: null,\r\n            onLeftLastItem: null,\r\n            onCloseRootSubmenu: null,\r\n            onExpandLastSubmenu: null\r\n        })\r\n    }\r\n    _defaultOptionsRules() {\r\n        return super._defaultOptionsRules().concat([{\r\n            device: () => !hasWindow(),\r\n            options: {\r\n                animation: null\r\n            }\r\n        }])\r\n    }\r\n    _initActions() {\r\n        this._actions = {};\r\n        each(ACTIONS, (index, action) => {\r\n            this._actions[action] = this._createActionByOption(action) || noop\r\n        })\r\n    }\r\n    _setOptionsByReference() {\r\n        super._setOptionsByReference();\r\n        extend(this._optionsByReference, {\r\n            animation: true,\r\n            selectedItem: true\r\n        })\r\n    }\r\n    _focusInHandler() {}\r\n    _itemContainer() {\r\n        return this._overlay ? this._overlay.$content() : $()\r\n    }\r\n    _eventBindingTarget() {\r\n        return this._itemContainer()\r\n    }\r\n    itemsContainer() {\r\n        return this._overlay ? this._overlay.$content() : void 0\r\n    }\r\n    _supportedKeys() {\r\n        return extend(super._supportedKeys(), {\r\n            space: () => {\r\n                var $item = $(this.option(\"focusedElement\"));\r\n                this.hide();\r\n                if (!$item.length || !this._isSelectionEnabled()) {\r\n                    return\r\n                }\r\n                this.selectItem($item[0])\r\n            },\r\n            escape: this.hide\r\n        })\r\n    }\r\n    _getActiveItem() {\r\n        var $availableItems = this._getAvailableItems();\r\n        var $focusedItem = $availableItems.filter(\".\".concat(DX_STATE_FOCUSED_CLASS));\r\n        var $hoveredItem = $availableItems.filter(\".\".concat(DX_STATE_HOVER_CLASS));\r\n        var $hoveredItemContainer = $hoveredItem.closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS));\r\n        if ($hoveredItemContainer.find(\".\".concat(DX_MENU_ITEM_CLASS)).index($focusedItem) >= 0) {\r\n            return $focusedItem\r\n        }\r\n        if ($hoveredItem.length) {\r\n            return $hoveredItem\r\n        }\r\n        return super._getActiveItem()\r\n    }\r\n    _moveFocus(location) {\r\n        var $items = this._getItemsByLocation(location);\r\n        var $oldTarget = this._getActiveItem(true);\r\n        var $hoveredItem = this.itemsContainer().find(\".\".concat(DX_STATE_HOVER_CLASS));\r\n        var $focusedItem = $(this.option(\"focusedElement\"));\r\n        var $activeItemHighlighted = !!($focusedItem.length || $hoveredItem.length);\r\n        var $newTarget;\r\n        switch (location) {\r\n            case FOCUS_UP:\r\n                $newTarget = $activeItemHighlighted ? this._prevItem($items) : $oldTarget;\r\n                this._setFocusedElement($newTarget);\r\n                if ($oldTarget.is($items.first())) {\r\n                    this._actions.onLeftFirstItem($oldTarget)\r\n                }\r\n                break;\r\n            case FOCUS_DOWN:\r\n                $newTarget = $activeItemHighlighted ? this._nextItem($items) : $oldTarget;\r\n                this._setFocusedElement($newTarget);\r\n                if ($oldTarget.is($items.last())) {\r\n                    this._actions.onLeftLastItem($oldTarget)\r\n                }\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                $newTarget = this.option(\"rtlEnabled\") ? this._hideSubmenuHandler() : this._expandSubmenuHandler($items, location);\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            case FOCUS_LEFT:\r\n                $newTarget = this.option(\"rtlEnabled\") ? this._expandSubmenuHandler($items, location) : this._hideSubmenuHandler();\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            case FOCUS_FIRST:\r\n                $newTarget = $items.first();\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            case FOCUS_LAST:\r\n                $newTarget = $items.last();\r\n                this._setFocusedElement($newTarget);\r\n                break;\r\n            default:\r\n                return super._moveFocus(location)\r\n        }\r\n    }\r\n    _setFocusedElement($element) {\r\n        if ($element && 0 !== $element.length) {\r\n            this.option(\"focusedElement\", getPublicElement($element))\r\n        }\r\n    }\r\n    _getItemsByLocation(location) {\r\n        var $activeItem = this._getActiveItem(true);\r\n        var $items;\r\n        if (inArray(location, LOCAL_SUBMENU_DIRECTIONS) >= 0) {\r\n            $items = $activeItem.closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).children().children()\r\n        }\r\n        $items = this._getAvailableItems($items);\r\n        return $items\r\n    }\r\n    _getAriaTarget() {\r\n        return this.$element()\r\n    }\r\n    _refreshActiveDescendant() {\r\n        if (isDefined(this._overlay)) {\r\n            var $target = this._overlay.$content();\r\n            super._refreshActiveDescendant($target)\r\n        }\r\n    }\r\n    _hideSubmenuHandler() {\r\n        var $curItem = this._getActiveItem(true);\r\n        var $parentItem = $curItem.parents(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).first();\r\n        if ($parentItem.length) {\r\n            this._hideSubmenusOnSameLevel($parentItem);\r\n            this._hideSubmenu($curItem.closest(\".\".concat(DX_SUBMENU_CLASS)));\r\n            return $parentItem\r\n        }\r\n        this._actions.onCloseRootSubmenu($curItem);\r\n        return $curItem\r\n    }\r\n    _expandSubmenuHandler($items, location) {\r\n        var $curItem = this._getActiveItem(true);\r\n        var itemData = this._getItemData($curItem);\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        var isItemHasSubmenu = this._hasSubmenu(node);\r\n        var $submenu = $curItem.children(\".\".concat(DX_SUBMENU_CLASS));\r\n        if (isItemHasSubmenu && !$curItem.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n            if (!$submenu.length || \"hidden\" === $submenu.css(\"visibility\")) {\r\n                this._showSubmenu($curItem)\r\n            }\r\n            return this._nextItem(this._getItemsByLocation(location))\r\n        }\r\n        this._actions.onExpandLastSubmenu($curItem);\r\n        return\r\n    }\r\n    _clean() {\r\n        if (this._overlay) {\r\n            this._overlay.$element().remove();\r\n            this._overlay = null\r\n        }\r\n        this._detachShowContextMenuEvents(this._getTarget());\r\n        super._clean()\r\n    }\r\n    _initMarkup() {\r\n        this.$element().addClass(DX_HAS_CONTEXT_MENU_CLASS);\r\n        super._initMarkup()\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this._renderVisibility(this.option(\"visible\"));\r\n        this._addWidgetClass()\r\n    }\r\n    _renderContentImpl() {\r\n        this._detachShowContextMenuEvents(this._getTarget());\r\n        this._attachShowContextMenuEvents()\r\n    }\r\n    _attachKeyboardEvents() {\r\n        !this._keyboardListenerId && this._focusTarget().length && super._attachKeyboardEvents()\r\n    }\r\n    _renderContextMenuOverlay() {\r\n        if (this._overlay) {\r\n            return\r\n        }\r\n        var overlayOptions = this._getOverlayOptions();\r\n        this._overlay = this._createComponent($(\"<div>\").appendTo(this._$element), Overlay, overlayOptions);\r\n        var $overlayContent = this._overlay.$content();\r\n        $overlayContent.addClass(DX_CONTEXT_MENU_CLASS);\r\n        this._addCustomCssClass($overlayContent);\r\n        this._addPlatformDependentClass($overlayContent);\r\n        this._attachContextMenuEvent()\r\n    }\r\n    preventShowingDefaultContextMenuAboveOverlay() {\r\n        var $itemContainer = this._itemContainer();\r\n        var eventName = addNamespace(contextMenuEventName, this.NAME);\r\n        eventsEngine.off($itemContainer, eventName, \".\".concat(DX_SUBMENU_CLASS));\r\n        eventsEngine.on($itemContainer, eventName, \".\".concat(DX_SUBMENU_CLASS), (e => {\r\n            e.stopPropagation();\r\n            e.preventDefault();\r\n            eventsEngine.off($itemContainer, eventName, \".\".concat(DX_SUBMENU_CLASS))\r\n        }).bind(this))\r\n    }\r\n    _itemContextMenuHandler(e) {\r\n        super._itemContextMenuHandler(e);\r\n        e.stopPropagation()\r\n    }\r\n    _addPlatformDependentClass($element) {\r\n        if (devices.current().phone) {\r\n            $element.addClass(DX_MENU_PHONE_CLASS)\r\n        }\r\n    }\r\n    _detachShowContextMenuEvents(target) {\r\n        var showEvent = this.getShowEvent(this.option(\"showEvent\"));\r\n        if (!showEvent) {\r\n            return\r\n        }\r\n        var eventName = addNamespace(showEvent, this.NAME);\r\n        if (this._showContextMenuEventHandler) {\r\n            eventsEngine.off(domAdapter.getDocument(), eventName, target, this._showContextMenuEventHandler)\r\n        } else {\r\n            eventsEngine.off($(target), eventName)\r\n        }\r\n    }\r\n    _attachShowContextMenuEvents() {\r\n        var target = this._getTarget();\r\n        var showEvent = this.getShowEvent(this.option(\"showEvent\"));\r\n        if (!showEvent) {\r\n            return\r\n        }\r\n        var eventName = addNamespace(showEvent, this.NAME);\r\n        var contextMenuAction = this._createAction(e => {\r\n            var delay = this.getShowDelay(this.option(\"showEvent\"));\r\n            if (delay) {\r\n                setTimeout(() => this._show(e.event), delay)\r\n            } else {\r\n                this._show(e.event)\r\n            }\r\n        }, {\r\n            validatingTargetName: \"target\"\r\n        });\r\n        var handler = e => contextMenuAction({\r\n            event: e,\r\n            target: $(e.currentTarget)\r\n        });\r\n        contextMenuAction = this._createAction(contextMenuAction);\r\n        if (isRenderer(target) || target.nodeType || isWindow(target)) {\r\n            this._showContextMenuEventHandler = void 0;\r\n            eventsEngine.on(target, eventName, handler)\r\n        } else {\r\n            this._showContextMenuEventHandler = handler;\r\n            eventsEngine.on(domAdapter.getDocument(), eventName, target, this._showContextMenuEventHandler)\r\n        }\r\n    }\r\n    _hoverEndHandler(e) {\r\n        super._hoverEndHandler(e);\r\n        e.stopPropagation()\r\n    }\r\n    _renderDimensions() {}\r\n    _renderContainer($wrapper, submenuContainer) {\r\n        var $holder = submenuContainer || this._itemContainer();\r\n        $wrapper = $(\"<div>\");\r\n        $wrapper.appendTo($holder).addClass(DX_SUBMENU_CLASS).css(\"visibility\", submenuContainer ? \"hidden\" : \"visible\");\r\n        var $itemsContainer = super._renderContainer($wrapper);\r\n        if (submenuContainer) {\r\n            return $itemsContainer\r\n        }\r\n        if (this.option(\"width\")) {\r\n            return $itemsContainer.css(\"minWidth\", this.option(\"width\"))\r\n        }\r\n        if (this.option(\"height\")) {\r\n            return $itemsContainer.css(\"minHeight\", this.option(\"height\"))\r\n        }\r\n        return $itemsContainer\r\n    }\r\n    _renderSubmenuItems(node, $itemFrame) {\r\n        this._renderItems(this._getChildNodes(node), $itemFrame);\r\n        this._actions.onSubmenuCreated({\r\n            itemElement: getPublicElement($itemFrame),\r\n            itemData: node.internalFields.item,\r\n            submenuElement: getPublicElement($itemFrame.children(\".\".concat(DX_SUBMENU_CLASS)))\r\n        })\r\n    }\r\n    _getOverlayOptions() {\r\n        var position = this.option(\"position\");\r\n        var overlayOptions = {\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            animation: this.option(\"animation\"),\r\n            innerOverlay: true,\r\n            closeOnOutsideClick: this._closeOnOutsideClickHandler.bind(this),\r\n            propagateOutsideClick: true,\r\n            hideOnParentScroll: true,\r\n            deferRendering: false,\r\n            position: {\r\n                at: position.at,\r\n                my: position.my,\r\n                of: this._getTarget(),\r\n                collision: \"flipfit\"\r\n            },\r\n            shading: false,\r\n            showTitle: false,\r\n            height: \"auto\",\r\n            width: \"auto\",\r\n            onShown: this._overlayShownActionHandler.bind(this),\r\n            onHiding: this._overlayHidingActionHandler.bind(this),\r\n            onHidden: this._overlayHiddenActionHandler.bind(this)\r\n        };\r\n        return overlayOptions\r\n    }\r\n    _overlayShownActionHandler(arg) {\r\n        this._actions.onShown(arg)\r\n    }\r\n    _overlayHidingActionHandler(arg) {\r\n        this._actions.onHiding(arg);\r\n        if (!arg.cancel) {\r\n            this._hideAllShownSubmenus();\r\n            this._setOptionWithoutOptionChange(\"visible\", false)\r\n        }\r\n    }\r\n    _overlayHiddenActionHandler(arg) {\r\n        this._actions.onHidden(arg)\r\n    }\r\n    _closeOnOutsideClickHandler(e) {\r\n        var closeOnOutsideClick = this.option(\"closeOnOutsideClick\");\r\n        if (isFunction(closeOnOutsideClick)) {\r\n            return closeOnOutsideClick(e)\r\n        }\r\n        if (!closeOnOutsideClick) {\r\n            return false\r\n        }\r\n        if (domAdapter.isDocument(e.target)) {\r\n            return true\r\n        }\r\n        var $activeItemContainer = this._getActiveItemsContainer(e.target);\r\n        var $itemContainers = this._getItemsContainers();\r\n        var $clickedItem = this._searchActiveItem(e.target);\r\n        var $rootItem = this.$element().parents(\".\".concat(DX_MENU_ITEM_CLASS));\r\n        var isRootItemClicked = $clickedItem[0] === $rootItem[0] && $clickedItem.length && $rootItem.length;\r\n        var isInnerOverlayClicked = this._isIncludeOverlay($activeItemContainer, $itemContainers) && $clickedItem.length;\r\n        if (isInnerOverlayClicked || isRootItemClicked) {\r\n            if (\"onClick\" === this._getShowSubmenuMode()) {\r\n                this._hideAllShownChildSubmenus($clickedItem)\r\n            }\r\n            return false\r\n        }\r\n        return true\r\n    }\r\n    _getActiveItemsContainer(target) {\r\n        return $(target).closest(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS))\r\n    }\r\n    _getItemsContainers() {\r\n        return this._overlay.$content().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS))\r\n    }\r\n    _searchActiveItem(target) {\r\n        return $(target).closest(\".\".concat(DX_MENU_ITEM_CLASS)).eq(0)\r\n    }\r\n    _isIncludeOverlay($activeOverlay, $allOverlays) {\r\n        var isSame = false;\r\n        each($allOverlays, (index, $overlay) => {\r\n            if ($activeOverlay.is($overlay) && !isSame) {\r\n                isSame = true\r\n            }\r\n        });\r\n        return isSame\r\n    }\r\n    _hideAllShownChildSubmenus($clickedItem) {\r\n        var $submenuElements = $clickedItem.find(\".\".concat(DX_SUBMENU_CLASS));\r\n        var shownSubmenus = extend([], this._shownSubmenus);\r\n        if ($submenuElements.length > 0) {\r\n            each(shownSubmenus, (index, $submenu) => {\r\n                var $context = this._searchActiveItem($submenu.context).parent();\r\n                if ($context.parent().is($clickedItem.parent().parent()) && !$context.is($clickedItem.parent())) {\r\n                    this._hideSubmenu($submenu)\r\n                }\r\n            })\r\n        }\r\n    }\r\n    _showSubmenu($item) {\r\n        var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n        this._hideSubmenusOnSameLevel($item);\r\n        if (!this._hasSubmenu(node)) {\r\n            return\r\n        }\r\n        var $submenu = $item.children(\".\".concat(DX_SUBMENU_CLASS));\r\n        var isSubmenuRendered = $submenu.length;\r\n        super._showSubmenu($item);\r\n        if (!isSubmenuRendered) {\r\n            this._renderSubmenuItems(node, $item)\r\n        }\r\n        if (!this._isSubmenuVisible($submenu)) {\r\n            this._drawSubmenu($item)\r\n        }\r\n    }\r\n    _hideSubmenusOnSameLevel($item) {\r\n        var $expandedItems = $item.parent(\".\".concat(DX_MENU_ITEM_WRAPPER_CLASS)).siblings().find(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS));\r\n        if ($expandedItems.length) {\r\n            $expandedItems.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n            this._hideSubmenu($expandedItems.find(\".\".concat(DX_SUBMENU_CLASS)))\r\n        }\r\n    }\r\n    _hideSubmenuGroup($submenu) {\r\n        if (this._isSubmenuVisible($submenu)) {\r\n            this._hideSubmenuCore($submenu)\r\n        }\r\n    }\r\n    _isSubmenuVisible($submenu) {\r\n        return \"visible\" === $submenu.css(\"visibility\")\r\n    }\r\n    _drawSubmenu($itemElement) {\r\n        var animation = this.option(\"animation\") ? this.option(\"animation\").show : {};\r\n        var $submenu = $itemElement.children(\".\".concat(DX_SUBMENU_CLASS));\r\n        var submenuPosition = this._getSubmenuPosition($itemElement);\r\n        if (this._overlay && this._overlay.option(\"visible\")) {\r\n            if (!isDefined(this._shownSubmenus)) {\r\n                this._shownSubmenus = []\r\n            }\r\n            if (inArray($submenu, this._shownSubmenus)) {\r\n                this._shownSubmenus.push($submenu)\r\n            }\r\n            if (animation) {\r\n                fx.stop($submenu)\r\n            }\r\n            animationPosition.setup($submenu, submenuPosition);\r\n            if (animation) {\r\n                if (isPlainObject(animation.to)) {\r\n                    animation.to.position = submenuPosition\r\n                }\r\n                this._animate($submenu, animation)\r\n            }\r\n            $submenu.css(\"visibility\", \"visible\")\r\n        }\r\n    }\r\n    _animate($container, options) {\r\n        fx.animate($container, options)\r\n    }\r\n    _getSubmenuPosition($rootItem) {\r\n        var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n        var $rootItemWrapper = $rootItem.parent(\".\".concat(DX_MENU_ITEM_WRAPPER_CLASS));\r\n        var position = {\r\n            collision: \"flip\",\r\n            of: $rootItemWrapper,\r\n            offset: {\r\n                h: 0,\r\n                v: -1\r\n            }\r\n        };\r\n        switch (submenuDirection) {\r\n            case \"left\":\r\n                position.at = \"left top\";\r\n                position.my = \"right top\";\r\n                break;\r\n            case \"right\":\r\n                position.at = \"right top\";\r\n                position.my = \"left top\";\r\n                break;\r\n            default:\r\n                if (this.option(\"rtlEnabled\")) {\r\n                    position.at = \"left top\";\r\n                    position.my = \"right top\"\r\n                } else {\r\n                    position.at = \"right top\";\r\n                    position.my = \"left top\"\r\n                }\r\n        }\r\n        return position\r\n    }\r\n    _updateSubmenuVisibilityOnClick(actionArgs) {\r\n        if (!actionArgs.args.length) {\r\n            return\r\n        }\r\n        var itemData = actionArgs.args[0].itemData;\r\n        var node = this._dataAdapter.getNodeByItem(itemData);\r\n        if (!node) {\r\n            return\r\n        }\r\n        var $itemElement = $(actionArgs.args[0].itemElement);\r\n        var $submenu = $itemElement.find(\".\".concat(DX_SUBMENU_CLASS));\r\n        var shouldRenderSubmenu = this._hasSubmenu(node) && !$submenu.length;\r\n        if (shouldRenderSubmenu) {\r\n            this._renderSubmenuItems(node, $itemElement);\r\n            $submenu = $itemElement.find(\".\".concat(DX_SUBMENU_CLASS))\r\n        }\r\n        if ($itemElement.context === $submenu.context && \"visible\" === $submenu.css(\"visibility\")) {\r\n            return\r\n        }\r\n        this._updateSelectedItemOnClick(actionArgs);\r\n        var notCloseMenuOnItemClick = itemData && false === itemData.closeMenuOnClick;\r\n        if (!itemData || itemData.disabled || notCloseMenuOnItemClick) {\r\n            return\r\n        }\r\n        if (0 === $submenu.length) {\r\n            var $prevSubmenu = $($itemElement.parents(\".\".concat(DX_SUBMENU_CLASS))[0]);\r\n            this._hideSubmenu($prevSubmenu);\r\n            if (!actionArgs.canceled && this._overlay && this._overlay.option(\"visible\")) {\r\n                this.option(\"visible\", false)\r\n            }\r\n        } else {\r\n            if (this._shownSubmenus && this._shownSubmenus.length > 0) {\r\n                if (this._shownSubmenus[0].is($submenu)) {\r\n                    this._hideSubmenu($submenu)\r\n                }\r\n            }\r\n            this._showSubmenu($itemElement)\r\n        }\r\n    }\r\n    _hideSubmenu($curSubmenu) {\r\n        var shownSubmenus = extend([], this._shownSubmenus);\r\n        each(shownSubmenus, (index, $submenu) => {\r\n            if ($curSubmenu.is($submenu) || contains($curSubmenu[0], $submenu[0])) {\r\n                $submenu.parent().removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n                this._hideSubmenuCore($submenu)\r\n            }\r\n        })\r\n    }\r\n    _hideSubmenuCore($submenu) {\r\n        var index = inArray($submenu, this._shownSubmenus);\r\n        var animation = this.option(\"animation\") ? this.option(\"animation\").hide : null;\r\n        if (index >= 0) {\r\n            this._shownSubmenus.splice(index, 1)\r\n        }\r\n        this._stopAnimate($submenu);\r\n        animation && this._animate($submenu, animation);\r\n        $submenu.css(\"visibility\", \"hidden\")\r\n    }\r\n    _stopAnimate($container) {\r\n        fx.stop($container, true)\r\n    }\r\n    _hideAllShownSubmenus() {\r\n        var shownSubmenus = extend([], this._shownSubmenus);\r\n        var $expandedItems = this._overlay.$content().find(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS));\r\n        $expandedItems.removeClass(DX_MENU_ITEM_EXPANDED_CLASS);\r\n        each(shownSubmenus, (_, $submenu) => {\r\n            this._hideSubmenu($submenu)\r\n        })\r\n    }\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._renderContentImpl()\r\n        }\r\n    }\r\n    _optionChanged(args) {\r\n        if (inArray(args.name, ACTIONS) > -1) {\r\n            this._initActions();\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"visible\":\r\n                this._renderVisibility(args.value);\r\n                break;\r\n            case \"showEvent\":\r\n            case \"position\":\r\n            case \"submenuDirection\":\r\n                this._invalidate();\r\n                break;\r\n            case \"target\":\r\n                args.previousValue && this._detachShowContextMenuEvents(args.previousValue);\r\n                this._invalidate();\r\n                break;\r\n            case \"closeOnOutsideClick\":\r\n                break;\r\n            default:\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _renderVisibility(showing) {\r\n        return showing ? this._show() : this._hide()\r\n    }\r\n    _toggleVisibility() {}\r\n    _show(event) {\r\n        var args = {\r\n            jQEvent: event\r\n        };\r\n        var promise = (new Deferred).reject().promise();\r\n        this._actions.onShowing(args);\r\n        if (args.cancel) {\r\n            return promise\r\n        }\r\n        var position = this._positionContextMenu(event);\r\n        if (position) {\r\n            var _event$originalEvent;\r\n            if (!this._overlay) {\r\n                this._renderContextMenuOverlay();\r\n                this._overlay.$content().addClass(this._widgetClass());\r\n                this._renderFocusState();\r\n                this._attachHoverEvents();\r\n                this._attachClickEvent();\r\n                this._renderItems(this._dataAdapter.getRootNodes())\r\n            }\r\n            this._setOptionWithoutOptionChange(\"visible\", true);\r\n            this._overlay.option(\"position\", position);\r\n            promise = this._overlay.show();\r\n            event && event.stopPropagation();\r\n            this._setAriaAttributes();\r\n            if ((null === event || void 0 === event ? void 0 : null === (_event$originalEvent = event.originalEvent) || void 0 === _event$originalEvent ? void 0 : _event$originalEvent.type) === holdEvent.name) {\r\n                this.preventShowingDefaultContextMenuAboveOverlay()\r\n            }\r\n        }\r\n        return promise\r\n    }\r\n    _setAriaAttributes() {\r\n        this._overlayContentId = \"dx-\".concat(new Guid);\r\n        this.setAria(\"owns\", this._overlayContentId);\r\n        this.setAria({\r\n            id: this._overlayContentId,\r\n            role: \"menu\"\r\n        }, this._overlay.$content())\r\n    }\r\n    _cleanAriaAttributes() {\r\n        this._overlay && this.setAria(\"id\", null, this._overlay.$content());\r\n        this.setAria(\"owns\", void 0)\r\n    }\r\n    _getTarget() {\r\n        return this.option(\"target\") || this.option(\"position\").of || $(domAdapter.getDocument())\r\n    }\r\n    _getContextMenuPosition() {\r\n        return extend({}, this.option(\"position\"), {\r\n            of: this._getTarget()\r\n        })\r\n    }\r\n    _positionContextMenu(jQEvent) {\r\n        var position = this._getContextMenuPosition();\r\n        var isInitialPosition = this._isInitialOptionValue(\"position\");\r\n        var positioningAction = this._createActionByOption(\"onPositioning\", actionArgs);\r\n        if (jQEvent && jQEvent.preventDefault && isInitialPosition) {\r\n            position.of = jQEvent\r\n        }\r\n        var actionArgs = {\r\n            position: position,\r\n            event: jQEvent\r\n        };\r\n        positioningAction(actionArgs);\r\n        if (actionArgs.cancel) {\r\n            position = null\r\n        } else if (actionArgs.event) {\r\n            actionArgs.event.cancel = true;\r\n            jQEvent.preventDefault()\r\n        }\r\n        return position\r\n    }\r\n    _refresh() {\r\n        if (!hasWindow()) {\r\n            super._refresh()\r\n        } else if (this._overlay) {\r\n            var lastPosition = this._overlay.option(\"position\");\r\n            super._refresh();\r\n            this._overlay && this._overlay.option(\"position\", lastPosition)\r\n        } else {\r\n            super._refresh()\r\n        }\r\n    }\r\n    _hide() {\r\n        var promise;\r\n        if (this._overlay) {\r\n            promise = this._overlay.hide();\r\n            this._setOptionWithoutOptionChange(\"visible\", false)\r\n        }\r\n        this._cleanAriaAttributes();\r\n        this.option(\"focusedElement\", null);\r\n        return promise || (new Deferred).reject().promise()\r\n    }\r\n    toggle(showing) {\r\n        var visible = this.option(\"visible\");\r\n        showing = void 0 === showing ? !visible : showing;\r\n        return this._renderVisibility(showing)\r\n    }\r\n    show() {\r\n        return this.toggle(true)\r\n    }\r\n    hide() {\r\n        return this.toggle(false)\r\n    }\r\n}\r\nregisterComponent(\"dxContextMenu\", ContextMenu);\r\nexport default ContextMenu;\r\n","/**\r\n * DevExtreme (esm/ui/context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport ContextMenu from \"./context_menu/ui.context_menu\";\r\nexport default ContextMenu;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport ContextMenu from \"../context_menu\";\r\nvar CONTEXT_MENU = \"dx-context-menu\";\r\nvar viewName = {\r\n    columnHeadersView: \"header\",\r\n    rowsView: \"content\",\r\n    footerView: \"footer\",\r\n    headerPanel: \"headerPanel\"\r\n};\r\nvar VIEW_NAMES = [\"columnHeadersView\", \"rowsView\", \"footerView\", \"headerPanel\"];\r\nvar ContextMenuController = modules.ViewController.inherit({\r\n    init: function() {\r\n        this.createAction(\"onContextMenuPreparing\")\r\n    },\r\n    getContextMenuItems: function(dxEvent) {\r\n        if (!dxEvent) {\r\n            return false\r\n        }\r\n        var that = this;\r\n        var $targetElement = $(dxEvent.target);\r\n        var $element;\r\n        var $targetRowElement;\r\n        var $targetCellElement;\r\n        var menuItems;\r\n        each(VIEW_NAMES, (function() {\r\n            var view = that.getView(this);\r\n            $element = view && view.element();\r\n            if ($element && ($element.is($targetElement) || $element.find($targetElement).length)) {\r\n                var _rowOptions$cells;\r\n                $targetCellElement = $targetElement.closest(\".dx-row > td, .dx-row > tr\");\r\n                $targetRowElement = $targetCellElement.parent();\r\n                var rowIndex = view.getRowIndex($targetRowElement);\r\n                var columnIndex = $targetCellElement[0] && $targetCellElement[0].cellIndex;\r\n                var rowOptions = $targetRowElement.data(\"options\");\r\n                var options = {\r\n                    event: dxEvent,\r\n                    targetElement: getPublicElement($targetElement),\r\n                    target: viewName[this],\r\n                    rowIndex: rowIndex,\r\n                    row: view._getRows()[rowIndex],\r\n                    columnIndex: columnIndex,\r\n                    column: null === rowOptions || void 0 === rowOptions ? void 0 : null === (_rowOptions$cells = rowOptions.cells) || void 0 === _rowOptions$cells ? void 0 : _rowOptions$cells[columnIndex].column\r\n                };\r\n                options.items = view.getContextMenuItems && view.getContextMenuItems(options);\r\n                that.executeAction(\"onContextMenuPreparing\", options);\r\n                that._contextMenuPrepared(options);\r\n                menuItems = options.items;\r\n                if (menuItems) {\r\n                    return false\r\n                }\r\n            }\r\n        }));\r\n        return menuItems\r\n    },\r\n    _contextMenuPrepared: noop\r\n});\r\nvar ContextMenuView = modules.View.inherit({\r\n    _renderCore: function() {\r\n        var that = this;\r\n        var $element = that.element().addClass(CONTEXT_MENU);\r\n        this.setAria(\"role\", \"presentation\", $element);\r\n        this._createComponent($element, ContextMenu, {\r\n            onPositioning: function(actionArgs) {\r\n                var event = actionArgs.event;\r\n                var contextMenuInstance = actionArgs.component;\r\n                var items = that.getController(\"contextMenu\").getContextMenuItems(event);\r\n                if (items) {\r\n                    contextMenuInstance.option(\"items\", items);\r\n                    event.stopPropagation()\r\n                } else {\r\n                    actionArgs.cancel = true\r\n                }\r\n            },\r\n            onItemClick: function(params) {\r\n                params.itemData.onItemClick && params.itemData.onItemClick(params)\r\n            },\r\n            cssClass: that.getWidgetContainerClass(),\r\n            target: that.component.$element()\r\n        })\r\n    }\r\n});\r\nexport var contextMenuModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            onContextMenuPreparing: null\r\n        }\r\n    },\r\n    controllers: {\r\n        contextMenu: ContextMenuController\r\n    },\r\n    views: {\r\n        contextMenuView: ContextMenuView\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.context_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport treeListCore from \"./ui.data_grid.core\";\r\nimport {\r\n    contextMenuModule\r\n} from \"../grid_core/ui.grid_core.context_menu\";\r\ntreeListCore.registerModule(\"contextMenu\", contextMenuModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.error_handling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nvar ERROR_ROW_CLASS = \"dx-error-row\";\r\nvar ERROR_MESSAGE_CLASS = \"dx-error-message\";\r\nvar ERROR_CLOSEBUTTON_CLASS = \"dx-closebutton\";\r\nvar ACTION_CLASS = \"action\";\r\nvar ErrorHandlingController = modules.ViewController.inherit({\r\n    init: function() {\r\n        this._columnHeadersView = this.getView(\"columnHeadersView\");\r\n        this._rowsView = this.getView(\"rowsView\")\r\n    },\r\n    _createErrorRow: function(error, $tableElements) {\r\n        var that = this;\r\n        var $errorRow;\r\n        var $closeButton;\r\n        var $errorMessage = this._renderErrorMessage(error);\r\n        if ($tableElements) {\r\n            $errorRow = $(\"<tr>\").addClass(ERROR_ROW_CLASS);\r\n            $closeButton = $(\"<div>\").addClass(ERROR_CLOSEBUTTON_CLASS).addClass(that.addWidgetPrefix(ACTION_CLASS));\r\n            eventsEngine.on($closeButton, clickEventName, that.createAction((function(args) {\r\n                var e = args.event;\r\n                var $errorRow;\r\n                var errorRowIndex = $(e.currentTarget).closest(\".\" + ERROR_ROW_CLASS).index();\r\n                e.stopPropagation();\r\n                each($tableElements, (function(_, tableElement) {\r\n                    $errorRow = $(tableElement).children(\"tbody\").children(\"tr\").eq(errorRowIndex);\r\n                    that.removeErrorRow($errorRow)\r\n                }));\r\n                that.getController(\"resizing\") && that.getController(\"resizing\").fireContentReadyAction()\r\n            })));\r\n            $(\"<td>\").attr({\r\n                colSpan: that.getController(\"columns\").getVisibleColumns().length,\r\n                role: \"presentation\"\r\n            }).prepend($closeButton).append($errorMessage).appendTo($errorRow);\r\n            return $errorRow\r\n        }\r\n        return $errorMessage\r\n    },\r\n    _renderErrorMessage: function(error) {\r\n        var message = error.url ? error.message.replace(error.url, \"\") : error.message || error;\r\n        var $message = $(\"<div>\").addClass(ERROR_MESSAGE_CLASS).text(message);\r\n        if (error.url) {\r\n            $(\"<a>\").attr(\"href\", error.url).text(error.url).appendTo($message)\r\n        }\r\n        return $message\r\n    },\r\n    renderErrorRow: function(error, rowIndex, $popupContent) {\r\n        var that = this;\r\n        var $errorMessageElement;\r\n        var $firstErrorRow;\r\n        if ($popupContent) {\r\n            $popupContent.find(\".\" + ERROR_MESSAGE_CLASS).remove();\r\n            $errorMessageElement = that._createErrorRow(error);\r\n            $popupContent.prepend($errorMessageElement);\r\n            return $errorMessageElement\r\n        }\r\n        var viewElement = rowIndex >= 0 || !that._columnHeadersView.isVisible() ? that._rowsView : that._columnHeadersView;\r\n        var $tableElements = viewElement.getTableElements();\r\n        each($tableElements, (function(_, tableElement) {\r\n            $errorMessageElement = that._createErrorRow(error, $tableElements);\r\n            $firstErrorRow = $firstErrorRow || $errorMessageElement;\r\n            if (rowIndex >= 0) {\r\n                var $row = viewElement._getRowElements($(tableElement)).eq(rowIndex);\r\n                that.removeErrorRow($row.next());\r\n                $errorMessageElement.insertAfter($row)\r\n            } else {\r\n                var $tbody = $(tableElement).children(\"tbody\");\r\n                var rowElements = $tbody.children(\"tr\");\r\n                if (that._columnHeadersView.isVisible()) {\r\n                    that.removeErrorRow(rowElements.last());\r\n                    $(tableElement).append($errorMessageElement)\r\n                } else {\r\n                    that.removeErrorRow(rowElements.first());\r\n                    $tbody.first().prepend($errorMessageElement)\r\n                }\r\n            }\r\n        }));\r\n        var resizingController = that.getController(\"resizing\");\r\n        resizingController && resizingController.fireContentReadyAction();\r\n        return $firstErrorRow\r\n    },\r\n    removeErrorRow: function($row) {\r\n        if (!$row) {\r\n            var $columnHeaders = this._columnHeadersView && this._columnHeadersView.element();\r\n            $row = $columnHeaders && $columnHeaders.find(\".\" + ERROR_ROW_CLASS);\r\n            if (!$row || !$row.length) {\r\n                var $rowsViewElement = this._rowsView.element();\r\n                $row = $rowsViewElement && $rowsViewElement.find(\".\" + ERROR_ROW_CLASS)\r\n            }\r\n        }\r\n        $row && $row.hasClass(ERROR_ROW_CLASS) && $row.remove()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"errorRowEnabled\":\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport var errorHandlingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            errorRowEnabled: true\r\n        }\r\n    },\r\n    controllers: {\r\n        errorHandling: ErrorHandlingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    var that = this;\r\n                    var errorHandlingController = that.getController(\"errorHandling\");\r\n                    that.callBase();\r\n                    that.dataErrorOccurred.add((function(error, $popupContent) {\r\n                        if (that.option(\"errorRowEnabled\")) {\r\n                            errorHandlingController.renderErrorRow(error, void 0, $popupContent)\r\n                        }\r\n                    }));\r\n                    that.changed.add((function(e) {\r\n                        if (e && \"loadError\" === e.changeType) {\r\n                            return\r\n                        }\r\n                        var errorHandlingController = that.getController(\"errorHandling\");\r\n                        var editingController = that.getController(\"editing\");\r\n                        if (editingController && !editingController.hasChanges()) {\r\n                            errorHandlingController && errorHandlingController.removeErrorRow()\r\n                        }\r\n                    }))\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.error_handling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    errorHandlingModule\r\n} from \"../grid_core/ui.grid_core.error_handling\";\r\ngridCore.registerModule(\"errorHandling\", errorHandlingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.grid_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getInnerWidth,\r\n    getWidth,\r\n    getHeight,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    deferRender,\r\n    deferUpdate\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    hasWindow,\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isString,\r\n    isDefined,\r\n    isNumeric\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport * as accessibility from \"../shared/accessibility\";\r\nimport browser from \"../../core/utils/browser\";\r\nvar BORDERS_CLASS = \"borders\";\r\nvar TABLE_FIXED_CLASS = \"table-fixed\";\r\nvar IMPORTANT_MARGIN_CLASS = \"important-margin\";\r\nvar GRIDBASE_CONTAINER_CLASS = \"dx-gridbase-container\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"adaptiveHidden\";\r\nvar VIEW_NAMES = [\"columnsSeparatorView\", \"blockSeparatorView\", \"trackerView\", \"headerPanel\", \"columnHeadersView\", \"rowsView\", \"footerView\", \"columnChooserView\", \"filterPanelView\", \"pagerView\", \"draggingHeaderView\", \"contextMenuView\", \"errorView\", \"headerFilterView\", \"filterBuilderView\"];\r\nvar isPercentWidth = function(width) {\r\n    return isString(width) && \"%\" === width.slice(-1)\r\n};\r\nvar isPixelWidth = function(width) {\r\n    return isString(width) && \"px\" === width.slice(-2)\r\n};\r\nvar getContainerHeight = function($container) {\r\n    var clientHeight = $container.get(0).clientHeight;\r\n    var paddingTop = parseFloat($container.css(\"paddingTop\"));\r\n    var paddingBottom = parseFloat($container.css(\"paddingBottom\"));\r\n    return clientHeight - paddingTop - paddingBottom\r\n};\r\nvar calculateFreeWidth = function(that, widths) {\r\n    var contentWidth = that._rowsView.contentWidth();\r\n    var totalWidth = that._getTotalWidth(widths, contentWidth);\r\n    return contentWidth - totalWidth\r\n};\r\nvar calculateFreeWidthWithCurrentMinWidth = function(that, columnIndex, currentMinWidth, widths) {\r\n    return calculateFreeWidth(that, widths.map((function(width, index) {\r\n        return index === columnIndex ? currentMinWidth : width\r\n    })))\r\n};\r\nvar restoreFocus = function(focusedElement, selectionRange) {\r\n    accessibility.hiddenFocus(focusedElement);\r\n    gridCoreUtils.setSelectionRange(focusedElement, selectionRange)\r\n};\r\nvar ResizingController = modules.ViewController.inherit({\r\n    _initPostRenderHandlers: function() {\r\n        var dataController = this._dataController;\r\n        if (!this._refreshSizesHandler) {\r\n            this._refreshSizesHandler = e => {\r\n                dataController.changed.remove(this._refreshSizesHandler);\r\n                var templateDeferreds = e && e.templateDeferreds || [];\r\n                when.apply(this, templateDeferreds).done(() => {\r\n                    this._refreshSizes(e)\r\n                })\r\n            };\r\n            dataController.changed.add(() => {\r\n                dataController.changed.add(this._refreshSizesHandler)\r\n            })\r\n        }\r\n    },\r\n    _refreshSizes: function(e) {\r\n        var resizeDeferred;\r\n        var that = this;\r\n        var changeType = e && e.changeType;\r\n        var isDelayed = e && e.isDelayed;\r\n        var items = that._dataController.items();\r\n        if (!e || \"refresh\" === changeType || \"prepend\" === changeType || \"append\" === changeType) {\r\n            if (!isDelayed) {\r\n                resizeDeferred = that.resize()\r\n            }\r\n        } else if (\"update\" === changeType) {\r\n            var _e$changeTypes;\r\n            if (0 === (null === (_e$changeTypes = e.changeTypes) || void 0 === _e$changeTypes ? void 0 : _e$changeTypes.length)) {\r\n                return\r\n            }\r\n            if ((items.length > 1 || \"insert\" !== e.changeTypes[0]) && !(0 === items.length && \"remove\" === e.changeTypes[0]) && !e.needUpdateDimensions) {\r\n                deferUpdate(() => deferRender(() => deferUpdate(() => {\r\n                    that._setScrollerSpacing(that._hasHeight);\r\n                    that._rowsView.resize()\r\n                })))\r\n            } else {\r\n                resizeDeferred = that.resize()\r\n            }\r\n        }\r\n        if (changeType && \"updateSelection\" !== changeType && \"updateFocusedRow\" !== changeType && \"pageIndex\" !== changeType && !isDelayed) {\r\n            when(resizeDeferred).done((function() {\r\n                that._setAriaRowColCount();\r\n                that.fireContentReadyAction()\r\n            }))\r\n        }\r\n    },\r\n    fireContentReadyAction: function() {\r\n        this.component._fireContentReadyAction()\r\n    },\r\n    _setAriaRowColCount: function() {\r\n        var component = this.component;\r\n        component.setAria({\r\n            rowCount: this._dataController.totalItemsCount(),\r\n            colCount: component.columnCount()\r\n        }, component.$element().children(\".\" + GRIDBASE_CONTAINER_CLASS))\r\n    },\r\n    _getBestFitWidths: function() {\r\n        var _widths;\r\n        var rowsView = this._rowsView;\r\n        var columnHeadersView = this._columnHeadersView;\r\n        var widths = rowsView.getColumnWidths();\r\n        if (!(null !== (_widths = widths) && void 0 !== _widths && _widths.length)) {\r\n            var _rowsView$getTableEle;\r\n            var headersTableElement = columnHeadersView.getTableElement();\r\n            columnHeadersView.setTableElement(null === (_rowsView$getTableEle = rowsView.getTableElement()) || void 0 === _rowsView$getTableEle ? void 0 : _rowsView$getTableEle.children(\".dx-header\"));\r\n            widths = columnHeadersView.getColumnWidths();\r\n            columnHeadersView.setTableElement(headersTableElement)\r\n        }\r\n        return widths\r\n    },\r\n    _setVisibleWidths: function(visibleColumns, widths) {\r\n        var columnsController = this._columnsController;\r\n        columnsController.beginUpdate();\r\n        each(visibleColumns, (function(index, column) {\r\n            var columnId = columnsController.getColumnId(column);\r\n            columnsController.columnOption(columnId, \"visibleWidth\", widths[index])\r\n        }));\r\n        columnsController.endUpdate()\r\n    },\r\n    _toggleBestFitModeForView: function(view, className, isBestFit) {\r\n        if (!view || !view.isVisible()) {\r\n            return\r\n        }\r\n        var $rowsTables = this._rowsView.getTableElements();\r\n        var $viewTables = view.getTableElements();\r\n        each($rowsTables, (index, tableElement) => {\r\n            var $tableBody;\r\n            var $rowsTable = $(tableElement);\r\n            var $viewTable = $viewTables.eq(index);\r\n            if ($viewTable && $viewTable.length) {\r\n                if (isBestFit) {\r\n                    $tableBody = $viewTable.children(\"tbody\").appendTo($rowsTable)\r\n                } else {\r\n                    $tableBody = $rowsTable.children(\".\" + className).appendTo($viewTable)\r\n                }\r\n                $tableBody.toggleClass(className, isBestFit);\r\n                $tableBody.toggleClass(this.addWidgetPrefix(\"best-fit\"), isBestFit)\r\n            }\r\n        })\r\n    },\r\n    _toggleBestFitMode: function(isBestFit) {\r\n        var $rowsTable = this._rowsView.getTableElement();\r\n        var $rowsFixedTable = this._rowsView.getTableElements().eq(1);\r\n        if (!$rowsTable) {\r\n            return\r\n        }\r\n        $rowsTable.css(\"tableLayout\", isBestFit ? \"auto\" : \"fixed\");\r\n        $rowsTable.children(\"colgroup\").css(\"display\", isBestFit ? \"none\" : \"\");\r\n        $rowsFixedTable.toggleClass(this.addWidgetPrefix(TABLE_FIXED_CLASS), !isBestFit);\r\n        this._toggleBestFitModeForView(this._columnHeadersView, \"dx-header\", isBestFit);\r\n        this._toggleBestFitModeForView(this._footerView, \"dx-footer\", isBestFit);\r\n        this._toggleContentMinHeight(isBestFit);\r\n        if (this._needStretch()) {\r\n            $rowsTable.get(0).style.width = isBestFit ? \"auto\" : \"\"\r\n        }\r\n    },\r\n    _toggleContentMinHeight: function(isBestFit) {\r\n        if (this.option(\"wordWrapEnabled\")) {\r\n            var scrollable = this._rowsView.getScrollable();\r\n            var $contentElement = this._rowsView._findContentElement();\r\n            if (false === (null === scrollable || void 0 === scrollable ? void 0 : scrollable.option(\"useNative\"))) {\r\n                $contentElement.css({\r\n                    minHeight: isBestFit ? gridCoreUtils.getContentHeightLimit(browser) : \"\"\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _synchronizeColumns: function() {\r\n        var columnsController = this._columnsController;\r\n        var visibleColumns = columnsController.getVisibleColumns();\r\n        var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n        var needBestFit = this._needBestFit();\r\n        var hasMinWidth = false;\r\n        var resetBestFitMode;\r\n        var isColumnWidthsCorrected = false;\r\n        var resultWidths = [];\r\n        var focusedElement;\r\n        var selectionRange;\r\n        !needBestFit && each(visibleColumns, (function(index, column) {\r\n            if (\"auto\" === column.width) {\r\n                needBestFit = true;\r\n                return false\r\n            }\r\n        }));\r\n        each(visibleColumns, (function(index, column) {\r\n            if (column.minWidth) {\r\n                hasMinWidth = true;\r\n                return false\r\n            }\r\n        }));\r\n        this._setVisibleWidths(visibleColumns, []);\r\n        if (needBestFit) {\r\n            focusedElement = domAdapter.getActiveElement();\r\n            selectionRange = gridCoreUtils.getSelectionRange(focusedElement);\r\n            this._toggleBestFitMode(true);\r\n            resetBestFitMode = true\r\n        }\r\n        var $element = this.component.$element();\r\n        if ($element && $element[0] && this._maxWidth) {\r\n            delete this._maxWidth;\r\n            $element[0].style.maxWidth = \"\"\r\n        }\r\n        deferUpdate(() => {\r\n            if (needBestFit) {\r\n                resultWidths = this._getBestFitWidths();\r\n                each(visibleColumns, (function(index, column) {\r\n                    var columnId = columnsController.getColumnId(column);\r\n                    columnsController.columnOption(columnId, \"bestFitWidth\", resultWidths[index], true)\r\n                }))\r\n            } else if (hasMinWidth) {\r\n                resultWidths = this._getBestFitWidths()\r\n            }\r\n            each(visibleColumns, (function(index) {\r\n                var width = this.width;\r\n                if (\"auto\" !== width) {\r\n                    if (isDefined(width)) {\r\n                        resultWidths[index] = isNumeric(width) || isPixelWidth(width) ? parseFloat(width) : width\r\n                    } else if (!columnAutoWidth) {\r\n                        resultWidths[index] = void 0\r\n                    }\r\n                }\r\n            }));\r\n            if (resetBestFitMode) {\r\n                this._toggleBestFitMode(false);\r\n                resetBestFitMode = false;\r\n                if (focusedElement && focusedElement !== domAdapter.getActiveElement()) {\r\n                    var isFocusOutsideWindow = getBoundingRect(focusedElement).bottom < 0;\r\n                    if (!isFocusOutsideWindow) {\r\n                        restoreFocus(focusedElement, selectionRange)\r\n                    }\r\n                }\r\n            }\r\n            isColumnWidthsCorrected = this._correctColumnWidths(resultWidths, visibleColumns);\r\n            if (columnAutoWidth) {\r\n                ! function() {\r\n                    var expandColumnWidth;\r\n                    each(visibleColumns, (function(index, column) {\r\n                        if (\"groupExpand\" === column.type) {\r\n                            expandColumnWidth = resultWidths[index]\r\n                        }\r\n                    }));\r\n                    each(visibleColumns, (function(index, column) {\r\n                        if (\"groupExpand\" === column.type && expandColumnWidth) {\r\n                            resultWidths[index] = expandColumnWidth\r\n                        }\r\n                    }))\r\n                }();\r\n                if (this._needStretch()) {\r\n                    this._processStretch(resultWidths, visibleColumns)\r\n                }\r\n            }\r\n            deferRender(() => {\r\n                if (needBestFit || isColumnWidthsCorrected) {\r\n                    this._setVisibleWidths(visibleColumns, resultWidths)\r\n                }\r\n            })\r\n        })\r\n    },\r\n    _needBestFit: function() {\r\n        return this.option(\"columnAutoWidth\")\r\n    },\r\n    _needStretch: function() {\r\n        return this._columnsController.getVisibleColumns().some(c => \"auto\" === c.width && !c.command)\r\n    },\r\n    _getAverageColumnsWidth: function(resultWidths) {\r\n        var freeWidth = calculateFreeWidth(this, resultWidths);\r\n        var columnCountWithoutWidth = resultWidths.filter((function(width) {\r\n            return void 0 === width\r\n        })).length;\r\n        return freeWidth / columnCountWithoutWidth\r\n    },\r\n    _correctColumnWidths: function(resultWidths, visibleColumns) {\r\n        var that = this;\r\n        var i;\r\n        var hasPercentWidth = false;\r\n        var hasAutoWidth = false;\r\n        var isColumnWidthsCorrected = false;\r\n        var $element = that.component.$element();\r\n        var hasWidth = that._hasWidth;\r\n        var _loop = function() {\r\n            var index = i;\r\n            var column = visibleColumns[index];\r\n            var isHiddenColumn = resultWidths[index] === HIDDEN_COLUMNS_WIDTH;\r\n            var width = resultWidths[index];\r\n            var minWidth = column.minWidth;\r\n            if (minWidth) {\r\n                if (void 0 === width) {\r\n                    var averageColumnsWidth = that._getAverageColumnsWidth(resultWidths);\r\n                    width = averageColumnsWidth\r\n                } else if (isPercentWidth(width)) {\r\n                    var freeWidth = calculateFreeWidthWithCurrentMinWidth(that, index, minWidth, resultWidths);\r\n                    if (freeWidth < 0) {\r\n                        width = -1\r\n                    }\r\n                }\r\n            }\r\n            var realColumnWidth = that._getRealColumnWidth(index, resultWidths.map((function(columnWidth, columnIndex) {\r\n                return index === columnIndex ? width : columnWidth\r\n            })));\r\n            if (minWidth && !isHiddenColumn && realColumnWidth < minWidth) {\r\n                resultWidths[index] = minWidth;\r\n                isColumnWidthsCorrected = true;\r\n                i = -1\r\n            }\r\n            if (!isDefined(column.width)) {\r\n                hasAutoWidth = true\r\n            }\r\n            if (isPercentWidth(column.width)) {\r\n                hasPercentWidth = true\r\n            }\r\n        };\r\n        for (i = 0; i < visibleColumns.length; i++) {\r\n            _loop()\r\n        }\r\n        if (!hasAutoWidth && resultWidths.length) {\r\n            var $rowsViewElement = that._rowsView.element();\r\n            var contentWidth = that._rowsView.contentWidth();\r\n            var scrollbarWidth = that._rowsView.getScrollbarWidth();\r\n            var totalWidth = that._getTotalWidth(resultWidths, contentWidth);\r\n            if (totalWidth < contentWidth) {\r\n                var lastColumnIndex = gridCoreUtils.getLastResizableColumnIndex(visibleColumns, resultWidths);\r\n                if (lastColumnIndex >= 0) {\r\n                    resultWidths[lastColumnIndex] = \"auto\";\r\n                    isColumnWidthsCorrected = true;\r\n                    if (false === hasWidth && !hasPercentWidth) {\r\n                        var borderWidth = that.option(\"showBorders\") ? Math.ceil(getOuterWidth($rowsViewElement) - getInnerWidth($rowsViewElement)) : 0;\r\n                        that._maxWidth = totalWidth + scrollbarWidth + borderWidth;\r\n                        $element.css(\"maxWidth\", that._maxWidth)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return isColumnWidthsCorrected\r\n    },\r\n    _processStretch: function(resultSizes, visibleColumns) {\r\n        var groupSize = this._rowsView.contentWidth();\r\n        var tableSize = this._getTotalWidth(resultSizes, groupSize);\r\n        var unusedIndexes = {\r\n            length: 0\r\n        };\r\n        if (!resultSizes.length) {\r\n            return\r\n        }\r\n        each(visibleColumns, (function(index) {\r\n            if (this.width || resultSizes[index] === HIDDEN_COLUMNS_WIDTH) {\r\n                unusedIndexes[index] = true;\r\n                unusedIndexes.length++\r\n            }\r\n        }));\r\n        var diff = groupSize - tableSize;\r\n        var diffElement = Math.floor(diff / (resultSizes.length - unusedIndexes.length));\r\n        var onePixelElementsCount = diff - diffElement * (resultSizes.length - unusedIndexes.length);\r\n        if (diff >= 0) {\r\n            for (var i = 0; i < resultSizes.length; i++) {\r\n                if (unusedIndexes[i]) {\r\n                    continue\r\n                }\r\n                resultSizes[i] += diffElement;\r\n                if (onePixelElementsCount > 0) {\r\n                    if (onePixelElementsCount < 1) {\r\n                        resultSizes[i] += onePixelElementsCount;\r\n                        onePixelElementsCount = 0\r\n                    } else {\r\n                        resultSizes[i]++;\r\n                        onePixelElementsCount--\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _getRealColumnWidth: function(columnIndex, columnWidths, groupWidth) {\r\n        var ratio = 1;\r\n        var width = columnWidths[columnIndex];\r\n        if (!isPercentWidth(width)) {\r\n            return parseFloat(width)\r\n        }\r\n        var percentTotalWidth = columnWidths.reduce((sum, width, index) => {\r\n            if (!isPercentWidth(width)) {\r\n                return sum\r\n            }\r\n            return sum + parseFloat(width)\r\n        }, 0);\r\n        var pixelTotalWidth = columnWidths.reduce((sum, width) => {\r\n            if (!width || width === HIDDEN_COLUMNS_WIDTH || isPercentWidth(width)) {\r\n                return sum\r\n            }\r\n            return sum + parseFloat(width)\r\n        }, 0);\r\n        groupWidth = groupWidth || this._rowsView.contentWidth();\r\n        var freeSpace = groupWidth - pixelTotalWidth;\r\n        var percentTotalWidthInPixel = percentTotalWidth * groupWidth / 100;\r\n        if (pixelTotalWidth > 0 && percentTotalWidthInPixel + pixelTotalWidth >= groupWidth) {\r\n            ratio = percentTotalWidthInPixel > freeSpace ? freeSpace / percentTotalWidthInPixel : 1\r\n        }\r\n        return parseFloat(width) * groupWidth * ratio / 100\r\n    },\r\n    _getTotalWidth: function(widths, groupWidth) {\r\n        var result = 0;\r\n        for (var i = 0; i < widths.length; i++) {\r\n            var width = widths[i];\r\n            if (width && width !== HIDDEN_COLUMNS_WIDTH) {\r\n                result += this._getRealColumnWidth(i, widths, groupWidth)\r\n            }\r\n        }\r\n        return Math.ceil(result)\r\n    },\r\n    updateSize: function(rootElement) {\r\n        var $groupElement;\r\n        var width;\r\n        var $rootElement = $(rootElement);\r\n        var importantMarginClass = this.addWidgetPrefix(IMPORTANT_MARGIN_CLASS);\r\n        if (void 0 === this._hasHeight && $rootElement && $rootElement.is(\":visible\") && getWidth($rootElement)) {\r\n            $groupElement = $rootElement.children(\".\" + this.getWidgetContainerClass());\r\n            if ($groupElement.length) {\r\n                $groupElement.detach()\r\n            }\r\n            this._hasHeight = !!getContainerHeight($rootElement);\r\n            width = getWidth($rootElement);\r\n            $rootElement.addClass(importantMarginClass);\r\n            this._hasWidth = getWidth($rootElement) === width;\r\n            $rootElement.removeClass(importantMarginClass);\r\n            if ($groupElement.length) {\r\n                $groupElement.appendTo($rootElement)\r\n            }\r\n        }\r\n    },\r\n    publicMethods: function() {\r\n        return [\"resize\", \"updateDimensions\"]\r\n    },\r\n    resize: function() {\r\n        return !this.component._requireResize && this.updateDimensions()\r\n    },\r\n    updateDimensions: function(checkSize) {\r\n        var that = this;\r\n        that._initPostRenderHandlers();\r\n        if (!that._checkSize(checkSize)) {\r\n            return\r\n        }\r\n        var prevResult = that._resizeDeferred;\r\n        var result = that._resizeDeferred = new Deferred;\r\n        when(prevResult).always((function() {\r\n            deferRender((function() {\r\n                if (that._dataController.isLoaded()) {\r\n                    that._synchronizeColumns()\r\n                }\r\n                that._resetGroupElementHeight();\r\n                deferUpdate((function() {\r\n                    deferRender((function() {\r\n                        deferUpdate((function() {\r\n                            that._updateDimensionsCore()\r\n                        }))\r\n                    }))\r\n                }))\r\n            })).done(result.resolve).fail(result.reject)\r\n        }));\r\n        return result.promise()\r\n    },\r\n    _resetGroupElementHeight: function() {\r\n        var groupElement = this.component.$element().children().get(0);\r\n        var scrollable = this._rowsView.getScrollable();\r\n        if (groupElement && groupElement.style.height && (!scrollable || !scrollable.scrollTop())) {\r\n            groupElement.style.height = \"\"\r\n        }\r\n    },\r\n    _checkSize: function(checkSize) {\r\n        var $rootElement = this.component.$element();\r\n        if (checkSize && (this._lastWidth === getWidth($rootElement) && this._lastHeight === getHeight($rootElement) && this._devicePixelRatio === getWindow().devicePixelRatio || !$rootElement.is(\":visible\"))) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    _setScrollerSpacingCore: function(hasHeight) {\r\n        var that = this;\r\n        var vScrollbarWidth = hasHeight ? that._rowsView.getScrollbarWidth() : 0;\r\n        var hScrollbarWidth = that._rowsView.getScrollbarWidth(true);\r\n        deferRender((function() {\r\n            that._columnHeadersView && that._columnHeadersView.setScrollerSpacing(vScrollbarWidth);\r\n            that._footerView && that._footerView.setScrollerSpacing(vScrollbarWidth);\r\n            that._rowsView.setScrollerSpacing(vScrollbarWidth, hScrollbarWidth)\r\n        }))\r\n    },\r\n    _setScrollerSpacing: function(hasHeight) {\r\n        if (true === this.option(\"scrolling.useNative\")) {\r\n            deferRender(() => {\r\n                deferUpdate(() => {\r\n                    this._setScrollerSpacingCore(hasHeight)\r\n                })\r\n            })\r\n        } else {\r\n            this._setScrollerSpacingCore(hasHeight)\r\n        }\r\n    },\r\n    _updateDimensionsCore: function() {\r\n        var that = this;\r\n        var dataController = that._dataController;\r\n        var rowsView = that._rowsView;\r\n        var $rootElement = that.component.$element();\r\n        var groupElement = $rootElement.children().get(0);\r\n        var rootElementHeight = $rootElement && ($rootElement.get(0).clientHeight || getHeight($rootElement));\r\n        var maxHeight = parseInt($rootElement.css(\"maxHeight\"));\r\n        var maxHeightHappened = maxHeight && rootElementHeight >= maxHeight;\r\n        var height = that.option(\"height\") || $rootElement.get(0).style.height;\r\n        var editorFactory = that.getController(\"editorFactory\");\r\n        var isMaxHeightApplied = maxHeightHappened && groupElement.scrollHeight === groupElement.offsetHeight;\r\n        var $testDiv;\r\n        that.updateSize($rootElement);\r\n        var hasHeight = that._hasHeight || maxHeightHappened;\r\n        if (height && that._hasHeight ^ \"auto\" !== height) {\r\n            $testDiv = $(\"<div>\");\r\n            setHeight($testDiv, height);\r\n            $testDiv.appendTo($rootElement);\r\n            that._hasHeight = !!getHeight($testDiv);\r\n            $testDiv.remove()\r\n        }\r\n        deferRender((function() {\r\n            rowsView.height(null, hasHeight);\r\n            if (maxHeightHappened && !isMaxHeightApplied) {\r\n                $(groupElement).css(\"height\", maxHeight)\r\n            }\r\n            if (!dataController.isLoaded()) {\r\n                rowsView.setLoading(dataController.isLoading());\r\n                return\r\n            }\r\n            deferUpdate((function() {\r\n                that._updateLastSizes($rootElement);\r\n                that._setScrollerSpacing(hasHeight);\r\n                each(VIEW_NAMES, (function(index, viewName) {\r\n                    var view = that.getView(viewName);\r\n                    if (view) {\r\n                        view.resize()\r\n                    }\r\n                }));\r\n                editorFactory && editorFactory.resize()\r\n            }))\r\n        }))\r\n    },\r\n    _updateLastSizes: function($rootElement) {\r\n        this._lastWidth = getWidth($rootElement);\r\n        this._lastHeight = getHeight($rootElement);\r\n        this._devicePixelRatio = getWindow().devicePixelRatio\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"width\":\r\n            case \"height\":\r\n                this.component._renderDimensions();\r\n                this.resize();\r\n            case \"renderAsync\":\r\n                args.handled = true;\r\n                return;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    init: function() {\r\n        this._dataController = this.getController(\"data\");\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._columnHeadersView = this.getView(\"columnHeadersView\");\r\n        this._footerView = this.getView(\"footerView\");\r\n        this._rowsView = this.getView(\"rowsView\")\r\n    }\r\n});\r\nvar SynchronizeScrollingController = modules.ViewController.inherit({\r\n    _scrollChangedHandler: function(views, pos, viewName) {\r\n        for (var j = 0; j < views.length; j++) {\r\n            if (views[j] && views[j].name !== viewName) {\r\n                views[j].scrollTo({\r\n                    left: pos.left,\r\n                    top: pos.top\r\n                })\r\n            }\r\n        }\r\n    },\r\n    init: function() {\r\n        var views = [this.getView(\"columnHeadersView\"), this.getView(\"footerView\"), this.getView(\"rowsView\")];\r\n        for (var i = 0; i < views.length; i++) {\r\n            var view = views[i];\r\n            if (view) {\r\n                view.scrollChanged.add(this._scrollChangedHandler.bind(this, views))\r\n            }\r\n        }\r\n    }\r\n});\r\nvar GridView = modules.View.inherit({\r\n    _endUpdateCore: function() {\r\n        if (this.component._requireResize) {\r\n            this.component._requireResize = false;\r\n            this._resizingController.resize()\r\n        }\r\n    },\r\n    _getWidgetAriaLabel: function() {\r\n        return \"dxDataGrid-ariaDataGrid\"\r\n    },\r\n    init: function() {\r\n        this._resizingController = this.getController(\"resizing\");\r\n        this._dataController = this.getController(\"data\")\r\n    },\r\n    getView: function(name) {\r\n        return this.component._views[name]\r\n    },\r\n    element: function() {\r\n        return this._groupElement\r\n    },\r\n    optionChanged: function(args) {\r\n        if (isDefined(this._groupElement) && \"showBorders\" === args.name) {\r\n            this._groupElement.toggleClass(this.addWidgetPrefix(BORDERS_CLASS), !!args.value);\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    },\r\n    _renderViews: function($groupElement) {\r\n        var that = this;\r\n        each(VIEW_NAMES, (function(index, viewName) {\r\n            var view = that.getView(viewName);\r\n            if (view) {\r\n                view.render($groupElement)\r\n            }\r\n        }))\r\n    },\r\n    _getTableRoleName: function() {\r\n        return \"grid\"\r\n    },\r\n    render: function($rootElement) {\r\n        var isFirstRender = !this._groupElement;\r\n        var $groupElement = this._groupElement || $(\"<div>\").addClass(this.getWidgetContainerClass());\r\n        $groupElement.addClass(GRIDBASE_CONTAINER_CLASS);\r\n        $groupElement.toggleClass(this.addWidgetPrefix(BORDERS_CLASS), !!this.option(\"showBorders\"));\r\n        this.setAria(\"role\", \"presentation\", $rootElement);\r\n        this.component.setAria({\r\n            role: this._getTableRoleName(),\r\n            label: messageLocalization.format(this._getWidgetAriaLabel())\r\n        }, $groupElement);\r\n        this._rootElement = $rootElement || this._rootElement;\r\n        if (isFirstRender) {\r\n            this._groupElement = $groupElement;\r\n            hasWindow() && this.getController(\"resizing\").updateSize($rootElement);\r\n            $groupElement.appendTo($rootElement)\r\n        }\r\n        this._renderViews($groupElement)\r\n    },\r\n    update: function() {\r\n        var $rootElement = this._rootElement;\r\n        var $groupElement = this._groupElement;\r\n        var resizingController = this.getController(\"resizing\");\r\n        if ($rootElement && $groupElement) {\r\n            resizingController.resize();\r\n            if (this._dataController.isLoaded()) {\r\n                this._resizingController.fireContentReadyAction()\r\n            }\r\n        }\r\n    }\r\n});\r\nexport var gridViewModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            showBorders: false,\r\n            renderAsync: false\r\n        }\r\n    },\r\n    controllers: {\r\n        resizing: ResizingController,\r\n        synchronizeScrolling: SynchronizeScrollingController\r\n    },\r\n    views: {\r\n        gridView: GridView\r\n    },\r\n    VIEW_NAMES: VIEW_NAMES\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grid_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    gridViewModule\r\n} from \"../grid_core/ui.grid_core.grid_view\";\r\ngridCore.registerModule(\"gridView\", gridViewModule);\r\n","/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    ListBase\r\n} from \"../list/ui.list.base\";\r\nvar TOOLBAR_MENU_ACTION_CLASS = \"dx-toolbar-menu-action\";\r\nvar TOOLBAR_HIDDEN_BUTTON_CLASS = \"dx-toolbar-hidden-button\";\r\nvar TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS = \"dx-toolbar-hidden-button-group\";\r\nvar TOOLBAR_MENU_SECTION_CLASS = \"dx-toolbar-menu-section\";\r\nvar TOOLBAR_MENU_LAST_SECTION_CLASS = \"dx-toolbar-menu-last-section\";\r\nvar ToolbarMenu = ListBase.inherit({\r\n    _activeStateUnit: \".\" + TOOLBAR_MENU_ACTION_CLASS,\r\n    _initMarkup: function() {\r\n        this._renderSections();\r\n        this.callBase()\r\n    },\r\n    _getSections: function() {\r\n        return this._itemContainer().children()\r\n    },\r\n    _itemElements: function() {\r\n        return this._getSections().children(this._itemSelector())\r\n    },\r\n    _renderSections: function() {\r\n        var that = this;\r\n        var $container = this._itemContainer();\r\n        each([\"before\", \"center\", \"after\", \"menu\"], (function() {\r\n            var sectionName = \"_$\" + this + \"Section\";\r\n            var $section = that[sectionName];\r\n            if (!$section) {\r\n                that[sectionName] = $section = $(\"<div>\").addClass(TOOLBAR_MENU_SECTION_CLASS)\r\n            }\r\n            $section.appendTo($container)\r\n        }))\r\n    },\r\n    _renderItems: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._updateSections()\r\n    },\r\n    _updateSections: function() {\r\n        var $sections = this.$element().find(\".\" + TOOLBAR_MENU_SECTION_CLASS);\r\n        $sections.removeClass(TOOLBAR_MENU_LAST_SECTION_CLASS);\r\n        $sections.not(\":empty\").eq(-1).addClass(TOOLBAR_MENU_LAST_SECTION_CLASS)\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var location = item.location || \"menu\";\r\n        var $container = this[\"_$\" + location + \"Section\"];\r\n        var itemElement = this.callBase(index, item, $container, $after);\r\n        if (this._getItemTemplateName({\r\n                itemData: item\r\n            })) {\r\n            itemElement.addClass(\"dx-toolbar-menu-custom\")\r\n        }\r\n        if (\"menu\" === location || \"dxButton\" === item.widget || \"dxButtonGroup\" === item.widget || item.isAction) {\r\n            itemElement.addClass(TOOLBAR_MENU_ACTION_CLASS)\r\n        }\r\n        if (\"dxButton\" === item.widget) {\r\n            itemElement.addClass(TOOLBAR_HIDDEN_BUTTON_CLASS)\r\n        }\r\n        if (\"dxButtonGroup\" === item.widget) {\r\n            itemElement.addClass(TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS)\r\n        }\r\n        itemElement.addClass(item.cssClass);\r\n        return itemElement\r\n    },\r\n    _getItemTemplateName: function(args) {\r\n        var template = this.callBase(args);\r\n        var data = args.itemData;\r\n        var menuTemplate = data && data.menuItemTemplate;\r\n        return menuTemplate || template\r\n    },\r\n    _itemClickHandler: function(e, args, config) {\r\n        if ($(e.target).closest(\".\" + TOOLBAR_MENU_ACTION_CLASS).length) {\r\n            this.callBase(e, args, config)\r\n        }\r\n    },\r\n    _clean: function() {\r\n        this._getSections().empty();\r\n        this.callBase()\r\n    }\r\n});\r\nregisterComponent(\"dxToolbarMenu\", ToolbarMenu);\r\nexport default ToolbarMenu;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/resizable/utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isWindow\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nimport {\r\n    getOuterWidth,\r\n    getInnerWidth,\r\n    getOuterHeight,\r\n    getInnerHeight,\r\n    getOffset\r\n} from \"../../../core/utils/size\";\r\nexport var borderWidthStyles = {\r\n    left: \"borderLeftWidth\",\r\n    top: \"borderTopWidth\",\r\n    right: \"borderRightWidth\",\r\n    bottom: \"borderBottomWidth\"\r\n};\r\n\r\nfunction getBorderWidth(el, direction) {\r\n    if (!isWindow(el)) {\r\n        var borderWidth = el.style[borderWidthStyles[direction]];\r\n        return parseInt(borderWidth, 10) || 0\r\n    }\r\n    return 0\r\n}\r\nvar correctGeometry = function(area, mainEl) {\r\n    var el = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : void 0;\r\n    var {\r\n        height: height,\r\n        offset: offset,\r\n        width: width\r\n    } = area;\r\n    var {\r\n        left: left,\r\n        top: top\r\n    } = offset;\r\n    var areaBorderLeft = el ? getBorderWidth(el, \"left\") : 0;\r\n    var areaBorderTop = el ? getBorderWidth(el, \"top\") : 0;\r\n    return {\r\n        width: width - getOuterWidth(mainEl) - getInnerWidth(mainEl),\r\n        height: height - getOuterHeight(mainEl) - getInnerHeight(mainEl),\r\n        offset: {\r\n            left: left + areaBorderLeft + getBorderWidth(mainEl, \"left\"),\r\n            top: top + areaBorderTop + getBorderWidth(mainEl, \"top\")\r\n        }\r\n    }\r\n};\r\nexport var getAreaFromElement = (el, mainEl) => correctGeometry({\r\n    width: getInnerWidth(el),\r\n    height: getInnerHeight(el),\r\n    offset: extend({\r\n        top: 0,\r\n        left: 0\r\n    }, isWindow(el) ? {} : getOffset(el))\r\n}, mainEl, el);\r\nexport var getAreaFromObject = (_ref, mainEl) => {\r\n    var {\r\n        bottom: bottom,\r\n        left: left,\r\n        right: right,\r\n        top: top\r\n    } = _ref;\r\n    return correctGeometry({\r\n        width: right - left,\r\n        height: bottom - top,\r\n        offset: {\r\n            left: left,\r\n            top: top\r\n        }\r\n    }, mainEl)\r\n};\r\nexport var getMovingSides = el => {\r\n    var {\r\n        className: className\r\n    } = el;\r\n    var hasCornerTopLeftClass = className.includes(\"dx-resizable-handle-corner-top-left\");\r\n    var hasCornerTopRightClass = className.includes(\"dx-resizable-handle-corner-top-right\");\r\n    var hasCornerBottomLeftClass = className.includes(\"dx-resizable-handle-corner-bottom-left\");\r\n    var hasCornerBottomRightClass = className.includes(\"dx-resizable-handle-corner-bottom-right\");\r\n    return {\r\n        top: className.includes(\"dx-resizable-handle-top\") || hasCornerTopLeftClass || hasCornerTopRightClass,\r\n        left: className.includes(\"dx-resizable-handle-left\") || hasCornerTopLeftClass || hasCornerBottomLeftClass,\r\n        bottom: className.includes(\"dx-resizable-handle-bottom\") || hasCornerBottomLeftClass || hasCornerBottomRightClass,\r\n        right: className.includes(\"dx-resizable-handle-right\") || hasCornerTopRightClass || hasCornerBottomRightClass\r\n    }\r\n};\r\nexport function getDragOffsets(area, handleEl, areaProp) {\r\n    var hWidth = getOuterWidth(handleEl);\r\n    var hHeight = getOuterHeight(handleEl);\r\n    var hOffset = getOffset(handleEl);\r\n    var areaOffset = area.offset;\r\n    var isAreaWindow = isWindow(areaProp);\r\n    var scrollOffset_scrollX = isAreaWindow ? areaProp.pageXOffset : 0,\r\n        scrollOffset_scrollY = isAreaWindow ? areaProp.pageYOffset : 0;\r\n    return {\r\n        maxLeftOffset: hOffset.left - areaOffset.left - scrollOffset_scrollX,\r\n        maxRightOffset: areaOffset.left + area.width - hOffset.left - hWidth + scrollOffset_scrollX,\r\n        maxTopOffset: hOffset.top - areaOffset.top - scrollOffset_scrollY,\r\n        maxBottomOffset: areaOffset.top + area.height - hOffset.top - hHeight + scrollOffset_scrollY\r\n    }\r\n}\r\nexport var filterOffsets = (offset, handleEl) => {\r\n    var sides = getMovingSides(handleEl);\r\n    var offsetX = !sides.left && !sides.right ? 0 : offset.x;\r\n    var offsetY = !sides.top && !sides.bottom ? 0 : offset.y;\r\n    return {\r\n        x: offsetX,\r\n        y: offsetY\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/popover/popover_position_controller.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"shading\", \"$arrow\"];\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    pairToObject\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    borderWidthStyles\r\n} from \"../../renovation/ui/resizable/utils\";\r\nimport {\r\n    getWidth,\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    OverlayPositionController\r\n} from \"../overlay/overlay_position_controller\";\r\nvar WEIGHT_OF_SIDES = {\r\n    left: -1,\r\n    top: -1,\r\n    center: 0,\r\n    right: 1,\r\n    bottom: 1\r\n};\r\nvar POPOVER_POSITION_ALIASES = {\r\n    top: {\r\n        my: \"bottom center\",\r\n        at: \"top center\",\r\n        collision: \"fit flip\"\r\n    },\r\n    bottom: {\r\n        my: \"top center\",\r\n        at: \"bottom center\",\r\n        collision: \"fit flip\"\r\n    },\r\n    right: {\r\n        my: \"left center\",\r\n        at: \"right center\",\r\n        collision: \"flip fit\"\r\n    },\r\n    left: {\r\n        my: \"right center\",\r\n        at: \"left center\",\r\n        collision: \"flip fit\"\r\n    }\r\n};\r\nvar POPOVER_DEFAULT_BOUNDARY_OFFSET = {\r\n    h: 10,\r\n    v: 10\r\n};\r\nclass PopoverPositionController extends OverlayPositionController {\r\n    constructor(_ref) {\r\n        var {\r\n            shading: shading,\r\n            $arrow: $arrow\r\n        } = _ref, args = _objectWithoutPropertiesLoose(_ref, _excluded);\r\n        super(args);\r\n        this._props = _extends({}, this._props, {\r\n            shading: shading\r\n        });\r\n        this._$arrow = $arrow;\r\n        this._positionSide = void 0\r\n    }\r\n    positionWrapper() {\r\n        if (this._props.shading) {\r\n            this._$wrapper.css({\r\n                top: 0,\r\n                left: 0\r\n            })\r\n        }\r\n    }\r\n    _renderBoundaryOffset() {}\r\n    _getContainerPosition() {\r\n        var offset = pairToObject(this._position.offset || \"\");\r\n        var {\r\n            h: hOffset,\r\n            v: vOffset\r\n        } = offset;\r\n        var isVerticalSide = this._isVerticalSide();\r\n        var isHorizontalSide = this._isHorizontalSide();\r\n        if (isVerticalSide || isHorizontalSide) {\r\n            var isPopoverInside = this._isPopoverInside();\r\n            var sign = (isPopoverInside ? -1 : 1) * WEIGHT_OF_SIDES[this._positionSide];\r\n            var arrowSize = isVerticalSide ? getHeight(this._$arrow) : getWidth(this._$arrow);\r\n            var arrowSizeCorrection = this._getContentBorderWidth(this._positionSide);\r\n            var arrowOffset = sign * (arrowSize - arrowSizeCorrection);\r\n            isVerticalSide ? vOffset += arrowOffset : hOffset += arrowOffset\r\n        }\r\n        return extend({}, this._position, {\r\n            offset: hOffset + \" \" + vOffset\r\n        })\r\n    }\r\n    _getContentBorderWidth(side) {\r\n        var borderWidth = this._$content.css(borderWidthStyles[side]);\r\n        return parseInt(borderWidth) || 0\r\n    }\r\n    _isPopoverInside() {\r\n        var my = positionUtils.setup.normalizeAlign(this._position.my);\r\n        var at = positionUtils.setup.normalizeAlign(this._position.at);\r\n        return my.h === at.h && my.v === at.v\r\n    }\r\n    _isVerticalSide() {\r\n        var side = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._positionSide;\r\n        return \"top\" === side || \"bottom\" === side\r\n    }\r\n    _isHorizontalSide() {\r\n        var side = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._positionSide;\r\n        return \"left\" === side || \"right\" === side\r\n    }\r\n    _getDisplaySide(position) {\r\n        var my = positionUtils.setup.normalizeAlign(position.my);\r\n        var at = positionUtils.setup.normalizeAlign(position.at);\r\n        var weightSign = WEIGHT_OF_SIDES[my.h] === WEIGHT_OF_SIDES[at.h] && WEIGHT_OF_SIDES[my.v] === WEIGHT_OF_SIDES[at.v] ? -1 : 1;\r\n        var horizontalWeight = Math.abs(WEIGHT_OF_SIDES[my.h] - weightSign * WEIGHT_OF_SIDES[at.h]);\r\n        var verticalWeight = Math.abs(WEIGHT_OF_SIDES[my.v] - weightSign * WEIGHT_OF_SIDES[at.v]);\r\n        return horizontalWeight > verticalWeight ? at.h : at.v\r\n    }\r\n    _normalizePosition(positionProp, targetProp) {\r\n        var defaultPositionConfig = {\r\n            of: targetProp,\r\n            boundaryOffset: POPOVER_DEFAULT_BOUNDARY_OFFSET\r\n        };\r\n        var resultPosition;\r\n        if (isDefined(positionProp)) {\r\n            resultPosition = extend(true, {}, defaultPositionConfig, this._positionToObject(positionProp))\r\n        } else {\r\n            resultPosition = defaultPositionConfig\r\n        }\r\n        this._positionSide = this._getDisplaySide(resultPosition);\r\n        return resultPosition\r\n    }\r\n    _positionToObject(positionProp) {\r\n        if (isString(positionProp)) {\r\n            return extend({}, POPOVER_POSITION_ALIASES[positionProp])\r\n        }\r\n        return positionProp\r\n    }\r\n}\r\nexport {\r\n    PopoverPositionController,\r\n    POPOVER_POSITION_ALIASES\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/popover/ui.popover.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    setWidth,\r\n    getHeight,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    isObject,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    fitIntoRange\r\n} from \"../../core/utils/math\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    PopoverPositionController,\r\n    POPOVER_POSITION_ALIASES\r\n} from \"./popover_position_controller\";\r\nvar POPOVER_CLASS = \"dx-popover\";\r\nvar POPOVER_WRAPPER_CLASS = \"dx-popover-wrapper\";\r\nvar POPOVER_ARROW_CLASS = \"dx-popover-arrow\";\r\nvar POPOVER_WITHOUT_TITLE_CLASS = \"dx-popover-without-title\";\r\nvar POSITION_FLIP_MAP = {\r\n    left: \"right\",\r\n    top: \"bottom\",\r\n    right: \"left\",\r\n    bottom: \"top\",\r\n    center: \"center\"\r\n};\r\nvar getEventNameByOption = function(optionValue) {\r\n    return isObject(optionValue) ? optionValue.name : optionValue\r\n};\r\nvar getEventName = function(that, optionName) {\r\n    var optionValue = that.option(optionName);\r\n    return getEventNameByOption(optionValue)\r\n};\r\nvar getEventDelay = function(that, optionName) {\r\n    var optionValue = that.option(optionName);\r\n    return isObject(optionValue) && optionValue.delay\r\n};\r\nvar attachEvent = function(that, name) {\r\n    var {\r\n        target: target,\r\n        shading: shading,\r\n        disabled: disabled,\r\n        hideEvent: hideEvent\r\n    } = that.option();\r\n    var isSelector = isString(target);\r\n    var shouldIgnoreHideEvent = shading && \"hide\" === name;\r\n    var event = shouldIgnoreHideEvent ? null : getEventName(that, \"\".concat(name, \"Event\"));\r\n    if (shouldIgnoreHideEvent && hideEvent) {\r\n        errors.log(\"W1020\")\r\n    }\r\n    if (!event || disabled) {\r\n        return\r\n    }\r\n    var eventName = addNamespace(event, that.NAME);\r\n    var action = that._createAction(function() {\r\n        var delay = getEventDelay(that, name + \"Event\");\r\n        this._clearEventsTimeouts();\r\n        if (delay) {\r\n            this._timeouts[name] = setTimeout((function() {\r\n                that[name]()\r\n            }), delay)\r\n        } else {\r\n            that[name]()\r\n        }\r\n    }.bind(that), {\r\n        validatingTargetName: \"target\"\r\n    });\r\n    var handler = function(e) {\r\n        action({\r\n            event: e,\r\n            target: $(e.currentTarget)\r\n        })\r\n    };\r\n    var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\r\n    if (isSelector) {\r\n        that[EVENT_HANDLER_NAME] = handler;\r\n        eventsEngine.on(domAdapter.getDocument(), eventName, target, handler)\r\n    } else {\r\n        var targetElement = getPublicElement($(target));\r\n        that[EVENT_HANDLER_NAME] = void 0;\r\n        eventsEngine.on(targetElement, eventName, handler)\r\n    }\r\n};\r\nvar detachEvent = function(that, target, name, event) {\r\n    var eventName = event || getEventName(that, name + \"Event\");\r\n    if (!eventName) {\r\n        return\r\n    }\r\n    eventName = addNamespace(eventName, that.NAME);\r\n    var EVENT_HANDLER_NAME = \"_\" + name + \"EventHandler\";\r\n    if (that[EVENT_HANDLER_NAME]) {\r\n        eventsEngine.off(domAdapter.getDocument(), eventName, target, that[EVENT_HANDLER_NAME])\r\n    } else {\r\n        eventsEngine.off(getPublicElement($(target)), eventName)\r\n    }\r\n};\r\nvar Popover = Popup.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            target: void 0,\r\n            shading: false,\r\n            position: extend({}, POPOVER_POSITION_ALIASES.bottom),\r\n            closeOnOutsideClick: true,\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    to: 0\r\n                }\r\n            },\r\n            showTitle: false,\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            dragEnabled: false,\r\n            resizeEnabled: false,\r\n            fullScreen: false,\r\n            hideOnParentScroll: true,\r\n            arrowPosition: \"\",\r\n            arrowOffset: 0,\r\n            _fixWrapperPosition: true\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return [{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                arrowPosition: {\r\n                    boundaryOffset: {\r\n                        h: 20,\r\n                        v: -10\r\n                    },\r\n                    collision: \"fit\"\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return !hasWindow()\r\n            },\r\n            options: {\r\n                animation: null\r\n            }\r\n        }]\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._renderArrow();\r\n        this._timeouts = {};\r\n        this.$element().addClass(POPOVER_CLASS);\r\n        this.$wrapper().addClass(POPOVER_WRAPPER_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._detachEvents(this.option(\"target\"));\r\n        this._attachEvents()\r\n    },\r\n    _detachEvents: function(target) {\r\n        detachEvent(this, target, \"show\");\r\n        detachEvent(this, target, \"hide\")\r\n    },\r\n    _attachEvents: function() {\r\n        attachEvent(this, \"show\");\r\n        attachEvent(this, \"hide\")\r\n    },\r\n    _renderArrow: function() {\r\n        this._$arrow = $(\"<div>\").addClass(POPOVER_ARROW_CLASS).prependTo(this.$overlayContent())\r\n    },\r\n    _documentDownHandler: function(e) {\r\n        if (this._isOutsideClick(e)) {\r\n            return this.callBase(e)\r\n        }\r\n        return true\r\n    },\r\n    _isOutsideClick: function(e) {\r\n        return !$(e.target).closest(this.option(\"target\")).length\r\n    },\r\n    _animate: function(animation) {\r\n        if (animation && animation.to && \"object\" === typeof animation.to) {\r\n            extend(animation.to, {\r\n                position: this._getContainerPosition()\r\n            })\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _stopAnimation: function() {\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _renderTitle: function() {\r\n        this.$wrapper().toggleClass(POPOVER_WITHOUT_TITLE_CLASS, !this.option(\"showTitle\"));\r\n        this.callBase()\r\n    },\r\n    _renderPosition: function() {\r\n        this.callBase();\r\n        this._renderOverlayPosition();\r\n        this._actions.onPositioned()\r\n    },\r\n    _renderOverlayPosition: function() {\r\n        this._resetOverlayPosition();\r\n        this._updateContentSize();\r\n        var contentPosition = this._getContainerPosition();\r\n        var resultLocation = positionUtils.setup(this.$overlayContent(), contentPosition);\r\n        var positionSide = this._getSideByLocation(resultLocation);\r\n        this._togglePositionClass(\"dx-position-\" + positionSide);\r\n        this._toggleFlippedClass(resultLocation.h.flip, resultLocation.v.flip);\r\n        var isArrowVisible = this._isHorizontalSide() || this._isVerticalSide();\r\n        if (isArrowVisible) {\r\n            this._renderArrowPosition(positionSide)\r\n        }\r\n    },\r\n    _resetOverlayPosition: function() {\r\n        this._setContentHeight(true);\r\n        this._togglePositionClass(\"dx-position-\" + this._positionController._positionSide);\r\n        move(this.$overlayContent(), {\r\n            left: 0,\r\n            top: 0\r\n        });\r\n        this._$arrow.css({\r\n            top: \"auto\",\r\n            right: \"auto\",\r\n            bottom: \"auto\",\r\n            left: \"auto\"\r\n        })\r\n    },\r\n    _updateContentSize: function() {\r\n        if (!this.$content()) {\r\n            return\r\n        }\r\n        var containerLocation = positionUtils.calculate(this.$overlayContent(), this._getContainerPosition());\r\n        if (containerLocation.h.oversize > 0 && this._isHorizontalSide() && !containerLocation.h.fit) {\r\n            var newContainerWidth = getWidth(this.$overlayContent()) - containerLocation.h.oversize;\r\n            setWidth(this.$overlayContent(), newContainerWidth)\r\n        }\r\n        if (containerLocation.v.oversize > 0 && this._isVerticalSide() && !containerLocation.v.fit) {\r\n            var newOverlayContentHeight = getHeight(this.$overlayContent()) - containerLocation.v.oversize;\r\n            var newPopupContentHeight = getHeight(this.$content()) - containerLocation.v.oversize;\r\n            setHeight(this.$overlayContent(), newOverlayContentHeight);\r\n            setHeight(this.$content(), newPopupContentHeight)\r\n        }\r\n    },\r\n    _getContainerPosition: function() {\r\n        return this._positionController._getContainerPosition()\r\n    },\r\n    _hideOnParentScrollTarget: function() {\r\n        return $(this._positionController._position.of || this.callBase())\r\n    },\r\n    _getSideByLocation: function(location) {\r\n        var isFlippedByVertical = location.v.flip;\r\n        var isFlippedByHorizontal = location.h.flip;\r\n        return this._isVerticalSide() && isFlippedByVertical || this._isHorizontalSide() && isFlippedByHorizontal || this._isPopoverInside() ? POSITION_FLIP_MAP[this._positionController._positionSide] : this._positionController._positionSide\r\n    },\r\n    _togglePositionClass: function(positionClass) {\r\n        this.$wrapper().removeClass(\"dx-position-left dx-position-right dx-position-top dx-position-bottom\").addClass(positionClass)\r\n    },\r\n    _toggleFlippedClass: function(isFlippedHorizontal, isFlippedVertical) {\r\n        this.$wrapper().toggleClass(\"dx-popover-flipped-horizontal\", isFlippedHorizontal).toggleClass(\"dx-popover-flipped-vertical\", isFlippedVertical)\r\n    },\r\n    _renderArrowPosition: function(side) {\r\n        var arrowRect = getBoundingRect(this._$arrow.get(0));\r\n        var arrowFlip = -(this._isVerticalSide(side) ? arrowRect.height : arrowRect.width);\r\n        this._$arrow.css(POSITION_FLIP_MAP[side], arrowFlip);\r\n        var axis = this._isVerticalSide(side) ? \"left\" : \"top\";\r\n        var sizeProperty = this._isVerticalSide(side) ? \"width\" : \"height\";\r\n        var $target = $(this._positionController._position.of);\r\n        var targetOffset = positionUtils.offset($target) || {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n        var contentOffset = positionUtils.offset(this.$overlayContent());\r\n        var arrowSize = arrowRect[sizeProperty];\r\n        var contentLocation = contentOffset[axis];\r\n        var contentSize = getBoundingRect(this.$overlayContent().get(0))[sizeProperty];\r\n        var targetLocation = targetOffset[axis];\r\n        var targetElement = $target.get(0);\r\n        var targetSize = targetElement && !targetElement.preventDefault ? getBoundingRect(targetElement)[sizeProperty] : 0;\r\n        var min = Math.max(contentLocation, targetLocation);\r\n        var max = Math.min(contentLocation + contentSize, targetLocation + targetSize);\r\n        var arrowLocation;\r\n        if (\"start\" === this.option(\"arrowPosition\")) {\r\n            arrowLocation = min - contentLocation\r\n        } else if (\"end\" === this.option(\"arrowPosition\")) {\r\n            arrowLocation = max - contentLocation - arrowSize\r\n        } else {\r\n            arrowLocation = (min + max) / 2 - contentLocation - arrowSize / 2\r\n        }\r\n        var borderWidth = this._positionController._getContentBorderWidth(side);\r\n        var finalArrowLocation = fitIntoRange(arrowLocation - borderWidth + this.option(\"arrowOffset\"), borderWidth, contentSize - arrowSize - 2 * borderWidth);\r\n        this._$arrow.css(axis, finalArrowLocation)\r\n    },\r\n    _isPopoverInside: function() {\r\n        return this._positionController._isPopoverInside()\r\n    },\r\n    _setContentHeight: function(fullUpdate) {\r\n        if (fullUpdate) {\r\n            this.callBase()\r\n        }\r\n    },\r\n    _getPositionControllerConfig() {\r\n        var {\r\n            shading: shading\r\n        } = this.option();\r\n        return extend({}, this.callBase(), {\r\n            shading: shading,\r\n            $arrow: this._$arrow\r\n        })\r\n    },\r\n    _initPositionController() {\r\n        this._positionController = new PopoverPositionController(this._getPositionControllerConfig())\r\n    },\r\n    _renderWrapperDimensions: function() {\r\n        if (this.option(\"shading\")) {\r\n            this.$wrapper().css({\r\n                width: \"100%\",\r\n                height: \"100%\"\r\n            })\r\n        }\r\n    },\r\n    _isVerticalSide: function(side) {\r\n        return this._positionController._isVerticalSide(side)\r\n    },\r\n    _isHorizontalSide: function(side) {\r\n        return this._positionController._isHorizontalSide(side)\r\n    },\r\n    _clearEventTimeout: function(name) {\r\n        clearTimeout(this._timeouts[name])\r\n    },\r\n    _clearEventsTimeouts: function() {\r\n        this._clearEventTimeout(\"show\");\r\n        this._clearEventTimeout(\"hide\")\r\n    },\r\n    _clean: function() {\r\n        this._detachEvents(this.option(\"target\"));\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"arrowPosition\":\r\n            case \"arrowOffset\":\r\n                this._renderGeometry();\r\n                break;\r\n            case \"fullScreen\":\r\n                if (args.value) {\r\n                    this.option(\"fullScreen\", false)\r\n                }\r\n                break;\r\n            case \"target\":\r\n                args.previousValue && this._detachEvents(args.previousValue);\r\n                this.callBase(args);\r\n                break;\r\n            case \"showEvent\":\r\n            case \"hideEvent\":\r\n                var name = args.name.substring(0, 4);\r\n                var event = getEventNameByOption(args.previousValue);\r\n                this.hide();\r\n                detachEvent(this, this.option(\"target\"), name, event);\r\n                attachEvent(this, name);\r\n                break;\r\n            case \"visible\":\r\n                this._clearEventTimeout(args.value ? \"show\" : \"hide\");\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    show: function(target) {\r\n        if (target) {\r\n            this.option(\"target\", target)\r\n        }\r\n        return this.callBase()\r\n    }\r\n});\r\nregisterComponent(\"dxPopover\", Popover);\r\nexport default Popover;\r\n","/**\r\n * DevExtreme (esm/ui/popover.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Popover from \"./popover/ui.popover\";\r\nexport default Popover;\r\n","/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nvar BUTTON_GROUP_CLASS = \"dx-buttongroup\";\r\nvar TOOLBAR_ITEMS = [\"dxAutocomplete\", \"dxButton\", \"dxCheckBox\", \"dxDateBox\", \"dxMenu\", \"dxSelectBox\", \"dxTabs\", \"dxTextBox\", \"dxButtonGroup\", \"dxDropDownButton\"];\r\nvar getItemInstance = function($element) {\r\n    var itemData = $element.data && $element.data();\r\n    var dxComponents = itemData && itemData.dxComponents;\r\n    var widgetName = dxComponents && dxComponents[0];\r\n    return widgetName && itemData[widgetName]\r\n};\r\nexport function toggleItemFocusableElementTabIndex(context, item) {\r\n    var _itemData$options;\r\n    if (!context) {\r\n        return\r\n    }\r\n    var $item = context._findItemElementByItem(item);\r\n    if (!$item.length) {\r\n        return\r\n    }\r\n    var itemData = context._getItemData($item);\r\n    var isItemNotFocusable = !!(null !== (_itemData$options = itemData.options) && void 0 !== _itemData$options && _itemData$options.disabled || itemData.disabled || context.option(\"disabled\"));\r\n    var {\r\n        widget: widget\r\n    } = itemData;\r\n    if (widget && -1 !== TOOLBAR_ITEMS.indexOf(widget)) {\r\n        var $widget = $item.find(widget.toLowerCase().replace(\"dx\", \".dx-\"));\r\n        if ($widget.length) {\r\n            var _itemInstance$_focusT, _itemData$options2;\r\n            var itemInstance = getItemInstance($widget);\r\n            var $focusTarget = \"dxDropDownButton\" === widget ? itemInstance._focusTarget().find(\".\".concat(BUTTON_GROUP_CLASS)) : (null === itemInstance || void 0 === itemInstance ? void 0 : null === (_itemInstance$_focusT = itemInstance._focusTarget) || void 0 === _itemInstance$_focusT ? void 0 : _itemInstance$_focusT.call(itemInstance)) || $(itemInstance.element());\r\n            var tabIndex = null === (_itemData$options2 = itemData.options) || void 0 === _itemData$options2 ? void 0 : _itemData$options2.tabIndex;\r\n            if (isItemNotFocusable) {\r\n                $focusTarget.attr(\"tabIndex\", -1)\r\n            } else {\r\n                $focusTarget.attr(\"tabIndex\", tabIndex ? tabIndex : 0)\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    setHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport Widget from \"./widget/ui.widget\";\r\nimport Button from \"./button\";\r\nimport Popover from \"./popover\";\r\nimport DataHelperMixin from \"../data_helper\";\r\nimport List from \"./list_light\";\r\nimport {\r\n    isMaterial\r\n} from \"./themes\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../core/templates/child_default_template\";\r\nimport {\r\n    toggleItemFocusableElementTabIndex\r\n} from \"./toolbar/ui.toolbar.utils\";\r\nvar DROP_DOWN_MENU_CLASS = \"dx-dropdownmenu\";\r\nvar DROP_DOWN_MENU_POPUP_CLASS = \"dx-dropdownmenu-popup\";\r\nvar DROP_DOWN_MENU_POPUP_WRAPPER_CLASS = \"dx-dropdownmenu-popup-wrapper\";\r\nvar DROP_DOWN_MENU_LIST_CLASS = \"dx-dropdownmenu-list\";\r\nvar DROP_DOWN_MENU_BUTTON_CLASS = \"dx-dropdownmenu-button\";\r\nvar POPUP_OPTION_MAP = {\r\n    popupWidth: \"width\",\r\n    popupHeight: \"height\",\r\n    popupMaxHeight: \"maxHeight\",\r\n    popupAutoResizeEnabled: \"autoResizeEnabled\"\r\n};\r\nvar BUTTON_OPTION_MAP = {\r\n    buttonIcon: \"icon\",\r\n    buttonText: \"text\",\r\n    buttonWidth: \"width\",\r\n    buttonHeight: \"height\",\r\n    buttonTemplate: \"template\"\r\n};\r\nvar DropDownMenu = Widget.inherit({\r\n    _supportedKeys: function() {\r\n        var extension = {};\r\n        if (!this.option(\"opened\") || !this._list.option(\"focusedElement\")) {\r\n            extension = this._button._supportedKeys()\r\n        }\r\n        return extend(this.callBase(), extension, {\r\n            tab: function() {\r\n                this._popup && this._popup.hide()\r\n            }\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            items: [],\r\n            onItemClick: null,\r\n            dataSource: null,\r\n            itemTemplate: \"item\",\r\n            buttonText: \"\",\r\n            buttonIcon: \"overflow\",\r\n            buttonWidth: void 0,\r\n            buttonHeight: void 0,\r\n            buttonTemplate: \"content\",\r\n            onButtonClick: null,\r\n            usePopover: false,\r\n            popupWidth: \"auto\",\r\n            popupHeight: \"auto\",\r\n            activeStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            opened: false,\r\n            selectionMode: \"none\",\r\n            selectedItemKeys: [],\r\n            deferRendering: false,\r\n            popupPosition: {\r\n                my: \"top center\",\r\n                at: \"bottom center\",\r\n                collision: \"fit flip\",\r\n                offset: {\r\n                    v: 1\r\n                }\r\n            },\r\n            popupAnimation: void 0,\r\n            onItemRendered: null,\r\n            menuWidget: List,\r\n            popupMaxHeight: void 0,\r\n            closeOnClick: true,\r\n            useInkRipple: false,\r\n            container: void 0,\r\n            popupAutoResizeEnabled: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                usePopover: true\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    offset: {\r\n                        v: 4\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"android\"\r\n            },\r\n            options: {\r\n                popupPosition: {\r\n                    my: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\r\n                    at: \"top \" + (this.option(\"rtlEnabled\") ? \"left\" : \"right\"),\r\n                    collision: \"flipfit\"\r\n                },\r\n                popupAnimation: {\r\n                    show: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 0\r\n                        },\r\n                        to: {\r\n                            scale: 1\r\n                        }\r\n                    },\r\n                    hide: {\r\n                        type: \"pop\",\r\n                        duration: 200,\r\n                        from: {\r\n                            scale: 1\r\n                        },\r\n                        to: {\r\n                            scale: 0\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                useInkRipple: true\r\n            }\r\n        }])\r\n    },\r\n    _initOptions: function(options) {\r\n        if (\"android\" === devices.current().platform) {\r\n            if (!options.popupPosition) {\r\n                options.popupPosition = {\r\n                    at: (options.usePopover ? \"bottom \" : \"top \") + (options.rtlEnabled ? \"left\" : \"right\")\r\n                }\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    _dataSourceOptions: function() {\r\n        return {\r\n            paginate: false\r\n        }\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(DROP_DOWN_MENU_CLASS);\r\n        this._initDataSource();\r\n        this._initItemClickAction();\r\n        this._initButtonClickAction()\r\n    },\r\n    _initItemClickAction: function() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initButtonClickAction: function() {\r\n        this._buttonClickAction = this._createActionByOption(\"onButtonClick\")\r\n    },\r\n    _initTemplates: function() {\r\n        this._templateManager.addDefaultTemplates({\r\n            content: new ChildDefaultTemplate(\"content\")\r\n        });\r\n        this.callBase()\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderButton();\r\n        this.callBase()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this.setAria({\r\n            role: \"menubar\",\r\n            haspopup: true,\r\n            expanded: this.option(\"opened\")\r\n        })\r\n    },\r\n    _renderContentImpl: function() {\r\n        if (this.option(\"opened\")) {\r\n            this._renderPopup()\r\n        }\r\n    },\r\n    _clean: function() {\r\n        this._cleanFocusState();\r\n        if (this._popup) {\r\n            this._popup.$element().remove();\r\n            delete this._$popup\r\n        }\r\n    },\r\n    _renderButton: function() {\r\n        var $button = this.$element().addClass(DROP_DOWN_MENU_BUTTON_CLASS);\r\n        var config = this._buttonOptions();\r\n        this._button = this._createComponent($button, Button, config)\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this._button._toggleActiveState($element, value, e)\r\n    },\r\n    _buttonOptions: function() {\r\n        return {\r\n            text: this.option(\"buttonText\"),\r\n            icon: this.option(\"buttonIcon\"),\r\n            width: this.option(\"buttonWidth\"),\r\n            height: this.option(\"buttonHeight\"),\r\n            useInkRipple: this.option(\"useInkRipple\"),\r\n            template: this.option(\"buttonTemplate\"),\r\n            hoverStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onClick: function(e) {\r\n                this.option(\"opened\", !this.option(\"opened\"));\r\n                this._buttonClickAction(e)\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _toggleMenuVisibility: function(opened) {\r\n        var state = void 0 === opened ? !this._popup.option(\"visible\") : opened;\r\n        if (opened) {\r\n            this._renderPopup()\r\n        }\r\n        this._popup.toggle(state);\r\n        this.setAria(\"expanded\", state)\r\n    },\r\n    _renderPopup: function() {\r\n        if (this._$popup) {\r\n            return\r\n        }\r\n        var $popup = this._$popup = $(\"<div>\").appendTo(this.$element());\r\n        var config = this._popupOptions();\r\n        this._popup = this._createComponent($popup, Popover, config)\r\n    },\r\n    _popupOptions: function() {\r\n        var usePopup = !this.option(\"usePopover\");\r\n        return {\r\n            onInitialized: function(args) {\r\n                args.component.$wrapper().addClass(DROP_DOWN_MENU_POPUP_WRAPPER_CLASS).toggleClass(DROP_DOWN_MENU_POPUP_CLASS, usePopup)\r\n            },\r\n            visible: this.option(\"opened\"),\r\n            deferRendering: false,\r\n            contentTemplate: function(contentElement) {\r\n                this._renderList(contentElement)\r\n            }.bind(this),\r\n            position: this.option(\"popupPosition\"),\r\n            animation: this.option(\"popupAnimation\"),\r\n            onOptionChanged: function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    this.option(\"opened\", args.value)\r\n                }\r\n            }.bind(this),\r\n            target: this.$element(),\r\n            height: this.option(\"popupHeight\"),\r\n            width: this.option(\"popupWidth\"),\r\n            maxHeight: this.option(\"popupMaxHeight\"),\r\n            container: this.option(\"container\"),\r\n            autoResizeEnabled: this.option(\"popupAutoResizeEnabled\")\r\n        }\r\n    },\r\n    _renderList: function(contentElement) {\r\n        var $content = $(contentElement);\r\n        var listConfig = this._listOptions();\r\n        $content.addClass(DROP_DOWN_MENU_LIST_CLASS);\r\n        this._list = this._createComponent($content, this.option(\"menuWidget\"), listConfig);\r\n        this._list._getAriaTarget = function() {\r\n            return this.$element()\r\n        }.bind(this);\r\n        this._setListDataSource();\r\n        var listMaxHeight = .5 * getHeight(window);\r\n        if (getHeight($content) > listMaxHeight) {\r\n            setHeight($content, listMaxHeight)\r\n        }\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        var _this$_list;\r\n        null === (_this$_list = this._list) || void 0 === _this$_list ? void 0 : _this$_list._itemOptionChanged(item, property, value);\r\n        toggleItemFocusableElementTabIndex(this._list, item)\r\n    },\r\n    _listOptions: function() {\r\n        return {\r\n            pageLoadMode: \"scrollBottom\",\r\n            indicateLoading: false,\r\n            noDataText: \"\",\r\n            selectionMode: this.option(\"selectionMode\"),\r\n            selectedItemKeys: this.option(\"selectedItemKeys\"),\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            onItemClick: function(e) {\r\n                if (this.option(\"closeOnClick\")) {\r\n                    this.option(\"opened\", false)\r\n                }\r\n                this._itemClickAction(e)\r\n            }.bind(this),\r\n            tabIndex: -1,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            onItemRendered: this.option(\"onItemRendered\"),\r\n            _itemAttributes: {\r\n                role: \"menuitem\"\r\n            }\r\n        }\r\n    },\r\n    _setListDataSource: function() {\r\n        if (this._list) {\r\n            this._list.option(\"dataSource\", this._dataSource || this.option(\"items\"))\r\n        }\r\n        delete this._deferRendering\r\n    },\r\n    _getKeyboardListeners() {\r\n        return this.callBase().concat([this._list])\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.callBase(visible);\r\n        this._button.option(\"visible\", visible)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        switch (name) {\r\n            case \"items\":\r\n            case \"dataSource\":\r\n                if (this.option(\"deferRendering\") && !this.option(\"opened\")) {\r\n                    this._deferRendering = true\r\n                } else {\r\n                    this._refreshDataSource();\r\n                    this._setListDataSource()\r\n                }\r\n                break;\r\n            case \"itemTemplate\":\r\n                if (this._list) {\r\n                    this._list.option(name, this._getTemplate(value))\r\n                }\r\n                break;\r\n            case \"onItemClick\":\r\n                this._initItemClickAction();\r\n                break;\r\n            case \"onButtonClick\":\r\n                this._buttonClickAction();\r\n                break;\r\n            case \"buttonIcon\":\r\n            case \"buttonText\":\r\n            case \"buttonWidth\":\r\n            case \"buttonHeight\":\r\n            case \"buttonTemplate\":\r\n                this._button.option(BUTTON_OPTION_MAP[name], value);\r\n                this._renderPopup();\r\n                break;\r\n            case \"popupWidth\":\r\n            case \"popupHeight\":\r\n            case \"popupMaxHeight\":\r\n            case \"popupAutoResizeEnabled\":\r\n                this._popup.option(POPUP_OPTION_MAP[name], value);\r\n                break;\r\n            case \"usePopover\":\r\n            case \"menuWidget\":\r\n            case \"useInkRipple\":\r\n                this._invalidate();\r\n                break;\r\n            case \"focusStateEnabled\":\r\n            case \"activeStateEnabled\":\r\n                if (this._list) {\r\n                    this._list.option(name, value)\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"selectionMode\":\r\n            case \"selectedItemKeys\":\r\n            case \"onItemRendered\":\r\n                if (this._list) {\r\n                    this._list.option(name, value)\r\n                }\r\n                break;\r\n            case \"opened\":\r\n                if (this._deferRendering) {\r\n                    this._refreshDataSource();\r\n                    this._setListDataSource()\r\n                }\r\n                this._toggleMenuVisibility(value);\r\n                this._updateFocusableItemsTabIndex();\r\n                break;\r\n            case \"deferRendering\":\r\n            case \"popupPosition\":\r\n            case \"closeOnClick\":\r\n                break;\r\n            case \"container\":\r\n                this._popup && this._popup.option(args.name, args.value);\r\n                break;\r\n            case \"disabled\":\r\n                if (this._list) {\r\n                    this._updateFocusableItemsTabIndex()\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _updateFocusableItemsTabIndex() {\r\n        this.option(\"items\").forEach(item => toggleItemFocusableElementTabIndex(this._list, item))\r\n    },\r\n    open: function() {\r\n        this.option(\"opened\", true)\r\n    },\r\n    close: function() {\r\n        this.option(\"opened\", false)\r\n    }\r\n}).include(DataHelperMixin);\r\nregisterComponent(\"dxDropDownMenu\", DropDownMenu);\r\nexport default DropDownMenu;\r\n","/**\r\n * DevExtreme (esm/ui/toolbar/ui.toolbar.drop_down_menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport ToolbarMenu from \"./ui.toolbar.menu\";\r\nimport DropDownMenu from \"../drop_down_menu\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nvar MENU_INVISIBLE_CLASS = \"dx-state-invisible\";\r\nvar TOOLBAR_dropDownMenu_CONTAINER_CLASS = \"dx-toolbar-menu-container\";\r\nvar POPOVER_BOUNDARY_OFFSET = 10;\r\nclass ToolbarDropDownMenu {\r\n    constructor(toolbar) {\r\n        this._toolbar = toolbar\r\n    }\r\n    render() {\r\n        if (!this._hasVisibleMenuItems()) {\r\n            return\r\n        }\r\n        this._renderMenuButtonContainer();\r\n        var $menu = $(\"<div>\").appendTo(this._dropDownMenuContainer());\r\n        this._dropDownMenu = this._toolbar._createComponent($menu, DropDownMenu, this._dropDownMenuOptions());\r\n        this.renderMenuItems()\r\n    }\r\n    renderMenuItems() {\r\n        if (!this._dropDownMenu) {\r\n            this.render()\r\n        }\r\n        this._dropDownMenu && this._dropDownMenu.option(\"items\", this._getMenuItems());\r\n        if (this._dropDownMenu && !this._dropDownMenu.option(\"items\").length) {\r\n            this._dropDownMenu.close()\r\n        }\r\n    }\r\n    _renderMenuButtonContainer() {\r\n        var $afterSection = this._toolbar._$afterSection;\r\n        this._$menuButtonContainer = $(\"<div>\").appendTo($afterSection).addClass(this._toolbar._buttonClass()).addClass(TOOLBAR_dropDownMenu_CONTAINER_CLASS)\r\n    }\r\n    _getMenuItemTemplate() {\r\n        return this._toolbar._getTemplateByOption(\"menuItemTemplate\")\r\n    }\r\n    _dropDownMenuOptions() {\r\n        var itemClickAction = this._toolbar._createActionByOption(\"onItemClick\");\r\n        var topAndBottomOffset = 2 * POPOVER_BOUNDARY_OFFSET;\r\n        return {\r\n            disabled: this._toolbar.option(\"disabled\"),\r\n            itemTemplate: this._getMenuItemTemplate.bind(this),\r\n            onItemClick: function(e) {\r\n                itemClickAction(e)\r\n            }.bind(this),\r\n            deferRendering: true,\r\n            container: this._toolbar.option(\"menuContainer\"),\r\n            popupMaxHeight: \"android\" === devices.current().platform ? domAdapter.getDocumentElement().clientHeight - topAndBottomOffset : void 0,\r\n            menuWidget: ToolbarMenu,\r\n            onOptionChanged: _ref => {\r\n                var {\r\n                    name: name,\r\n                    value: value\r\n                } = _ref;\r\n                if (\"opened\" === name) {\r\n                    this._toolbar.option(\"overflowMenuVisible\", value)\r\n                }\r\n                if (\"items\" === name) {\r\n                    this._updateMenuVisibility(value)\r\n                }\r\n            },\r\n            popupPosition: {\r\n                at: \"bottom right\",\r\n                my: \"top right\"\r\n            }\r\n        }\r\n    }\r\n    _updateMenuVisibility(menuItems) {\r\n        var items = menuItems || this._getMenuItems();\r\n        var isMenuVisible = items.length && this._hasVisibleMenuItems(items);\r\n        this._toggleMenuVisibility(isMenuVisible)\r\n    }\r\n    _getMenuItems() {\r\n        return this._toolbar._getMenuItems()\r\n    }\r\n    _hasVisibleMenuItems(items) {\r\n        var menuItems = items || this._toolbar.option(\"items\");\r\n        var result = false;\r\n        var optionGetter = compileGetter(\"visible\");\r\n        var overflowGetter = compileGetter(\"locateInMenu\");\r\n        each(menuItems, (function(index, item) {\r\n            var itemVisible = optionGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            var itemOverflow = overflowGetter(item, {\r\n                functionsAsIs: true\r\n            });\r\n            if (false !== itemVisible && (\"auto\" === itemOverflow || \"always\" === itemOverflow) || \"menu\" === item.location) {\r\n                result = true\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    _toggleMenuVisibility(value) {\r\n        if (!this._dropDownMenuContainer()) {\r\n            return\r\n        }\r\n        this._dropDownMenuContainer().toggleClass(MENU_INVISIBLE_CLASS, !value)\r\n    }\r\n    _dropDownMenuContainer() {\r\n        return this._$menuButtonContainer\r\n    }\r\n    widgetOption(name, value) {\r\n        this._dropDownMenu && this._dropDownMenu.option(name, value)\r\n    }\r\n    itemOption(item, property, value) {\r\n        if (\"disabled\" === property || \"options.disabled\" === property) {\r\n            var _this$_dropDownMenu;\r\n            null === (_this$_dropDownMenu = this._dropDownMenu) || void 0 === _this$_dropDownMenu ? void 0 : _this$_dropDownMenu._itemOptionChanged(item, property, value)\r\n        } else {\r\n            this.renderMenuItems()\r\n        }\r\n    }\r\n}\r\nexport default ToolbarDropDownMenu;\r\n","/**\r\n * DevExtreme (esm/ui/toolbar.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    grep,\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    merge\r\n} from \"../core/utils/array\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport ToolbarDropDownMenu from \"./toolbar/ui.toolbar.drop_down_menu\";\r\nimport ToolbarBase from \"./toolbar/ui.toolbar.base\";\r\nimport {\r\n    ChildDefaultTemplate\r\n} from \"../core/templates/child_default_template\";\r\nimport {\r\n    toggleItemFocusableElementTabIndex\r\n} from \"./toolbar/ui.toolbar.utils\";\r\nvar TOOLBAR_AUTO_HIDE_ITEM_CLASS = \"dx-toolbar-item-auto-hide\";\r\nvar TOOLBAR_AUTO_HIDE_TEXT_CLASS = \"dx-toolbar-text-auto-hide\";\r\nvar TOOLBAR_HIDDEN_ITEM = \"dx-toolbar-item-invisible\";\r\nvar Toolbar = ToolbarBase.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            menuItemTemplate: \"menuItem\",\r\n            menuContainer: void 0,\r\n            overflowMenuVisible: false\r\n        })\r\n    },\r\n    updateDimensions: function() {\r\n        this._dimensionChanged()\r\n    },\r\n    _dimensionChanged: function(dimension) {\r\n        if (\"height\" === dimension) {\r\n            return\r\n        }\r\n        this.callBase();\r\n        this._menu.renderMenuItems()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            actionSheetItem: new ChildDefaultTemplate(\"item\")\r\n        })\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._updateFocusableItemsTabIndex();\r\n        this._renderMenu()\r\n    },\r\n    _postProcessRenderItems: function() {\r\n        this._hideOverflowItems();\r\n        this._menu._updateMenuVisibility();\r\n        this.callBase();\r\n        deferRender(() => {\r\n            this._menu.renderMenuItems()\r\n        })\r\n    },\r\n    _renderItem: function(index, item, itemContainer, $after) {\r\n        var itemElement = this.callBase(index, item, itemContainer, $after);\r\n        if (\"auto\" === item.locateInMenu) {\r\n            itemElement.addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS)\r\n        }\r\n        if (\"dxButton\" === item.widget && \"inMenu\" === item.showText) {\r\n            itemElement.toggleClass(TOOLBAR_AUTO_HIDE_TEXT_CLASS)\r\n        }\r\n        return itemElement\r\n    },\r\n    _getItemsWidth: function() {\r\n        return this._getSummaryItemsWidth([this._$beforeSection, this._$centerSection, this._$afterSection])\r\n    },\r\n    _hideOverflowItems: function(elementWidth) {\r\n        var overflowItems = this.$element().find(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n        if (!overflowItems.length) {\r\n            return\r\n        }\r\n        elementWidth = elementWidth || getWidth(this.$element());\r\n        $(overflowItems).removeClass(TOOLBAR_HIDDEN_ITEM);\r\n        var itemsWidth = this._getItemsWidth();\r\n        while (overflowItems.length && elementWidth < itemsWidth) {\r\n            var $item = overflowItems.eq(-1);\r\n            itemsWidth -= getOuterWidth($item);\r\n            $item.addClass(TOOLBAR_HIDDEN_ITEM);\r\n            overflowItems.splice(-1, 1)\r\n        }\r\n    },\r\n    _getMenuItems: function() {\r\n        var that = this;\r\n        var menuItems = grep(this.option(\"items\") || [], (function(item) {\r\n            return that._isMenuItem(item)\r\n        }));\r\n        var $hiddenItems = this._itemContainer().children(\".\" + TOOLBAR_AUTO_HIDE_ITEM_CLASS + \".\" + TOOLBAR_HIDDEN_ITEM).not(\".dx-state-invisible\");\r\n        this._restoreItems = this._restoreItems || [];\r\n        var overflowItems = [].slice.call($hiddenItems).map(item => {\r\n            var itemData = that._getItemData(item);\r\n            var $itemContainer = $(item).children();\r\n            var $itemMarkup = $itemContainer.children();\r\n            return extend({\r\n                menuItemTemplate: function() {\r\n                    that._restoreItems.push({\r\n                        container: $itemContainer,\r\n                        item: $itemMarkup\r\n                    });\r\n                    var $container = $(\"<div>\").addClass(TOOLBAR_AUTO_HIDE_ITEM_CLASS);\r\n                    return $container.append($itemMarkup)\r\n                }\r\n            }, itemData)\r\n        });\r\n        return merge(overflowItems, menuItems)\r\n    },\r\n    _getToolbarItems: function() {\r\n        var that = this;\r\n        return grep(this.option(\"items\") || [], (function(item) {\r\n            return !that._isMenuItem(item)\r\n        }))\r\n    },\r\n    _renderMenu: function() {\r\n        this._renderMenuStrategy();\r\n        deferRender(() => {\r\n            this._menu.render()\r\n        })\r\n    },\r\n    _renderMenuStrategy: function() {\r\n        if (!this._menu) {\r\n            this._menu = new ToolbarDropDownMenu(this)\r\n        }\r\n    },\r\n    _arrangeItems: function() {\r\n        if (this.$element().is(\":hidden\")) {\r\n            return\r\n        }\r\n        this._$centerSection.css({\r\n            margin: \"0 auto\",\r\n            float: \"none\"\r\n        });\r\n        each(this._restoreItems || [], (function(_, obj) {\r\n            $(obj.container).append(obj.item)\r\n        }));\r\n        this._restoreItems = [];\r\n        var elementWidth = getWidth(this.$element());\r\n        this._hideOverflowItems(elementWidth);\r\n        this.callBase(elementWidth)\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        if (this._isMenuItem(item)) {\r\n            this._menu.itemOption(item, property, value)\r\n        } else if (this._isToolbarItem(item)) {\r\n            this.callBase(item, property, value)\r\n        } else {\r\n            this.callBase(item, property, value);\r\n            this._menu.itemOption(item, property, value)\r\n        }\r\n        if (\"disabled\" === property || \"options.disabled\" === property) {\r\n            toggleItemFocusableElementTabIndex(this, item)\r\n        }\r\n        if (\"location\" === property) {\r\n            this.repaint()\r\n        }\r\n    },\r\n    _updateFocusableItemsTabIndex() {\r\n        this._getToolbarItems().forEach(item => toggleItemFocusableElementTabIndex(this, item))\r\n    },\r\n    _isMenuItem: function(itemData) {\r\n        return \"menu\" === itemData.location || \"always\" === itemData.locateInMenu\r\n    },\r\n    _isToolbarItem: function(itemData) {\r\n        return void 0 === itemData.location || \"never\" === itemData.locateInMenu\r\n    },\r\n    _optionChanged: function(args) {\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = args;\r\n        switch (name) {\r\n            case \"menuItemTemplate\":\r\n                this._changeMenuOption(\"itemTemplate\", this._getTemplate(value));\r\n                break;\r\n            case \"onItemClick\":\r\n                this._changeMenuOption(name, value);\r\n                this.callBase.apply(this, arguments);\r\n                break;\r\n            case \"menuContainer\":\r\n                this._changeMenuOption(\"container\", value);\r\n                break;\r\n            case \"overflowMenuVisible\":\r\n                this._changeMenuOption(\"opened\", value);\r\n                break;\r\n            case \"disabled\":\r\n                this._changeMenuOption(\"disabled\", value);\r\n                this.callBase.apply(this, arguments);\r\n                this._updateFocusableItemsTabIndex();\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _changeMenuOption: function(name, value) {\r\n        this._menu.widgetOption(name, value)\r\n    }\r\n});\r\nregisterComponent(\"dxToolbar\", Toolbar);\r\nexport default Toolbar;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Toolbar from \"../toolbar\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport \"../drop_down_menu\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getPathParts\r\n} from \"../../core/utils/data\";\r\nvar HEADER_PANEL_CLASS = \"header-panel\";\r\nvar TOOLBAR_BUTTON_CLASS = \"toolbar-button\";\r\nvar TOOLBAR_ARIA_LABEL = \"-ariaToolbar\";\r\nvar DEFAULT_TOOLBAR_ITEM_NAMES = [\"addRowButton\", \"applyFilterButton\", \"columnChooserButton\", \"exportButton\", \"groupPanel\", \"revertButton\", \"saveButton\", \"searchPanel\"];\r\nvar HeaderPanel = ColumnsView.inherit({\r\n    _getToolbarItems: function() {\r\n        return []\r\n    },\r\n    _getButtonContainer: function() {\r\n        return $(\"<div>\").addClass(this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS))\r\n    },\r\n    _getToolbarButtonClass: function(specificClass) {\r\n        var secondClass = specificClass ? \" \" + specificClass : \"\";\r\n        return this.addWidgetPrefix(TOOLBAR_BUTTON_CLASS) + secondClass\r\n    },\r\n    _getToolbarOptions: function() {\r\n        var userToolbarOptions = this.option(\"toolbar\");\r\n        var options = {\r\n            toolbarOptions: {\r\n                items: this._getToolbarItems(),\r\n                visible: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.visible,\r\n                disabled: null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.disabled,\r\n                onItemRendered: function(e) {\r\n                    var itemRenderedCallback = e.itemData.onItemRendered;\r\n                    if (itemRenderedCallback) {\r\n                        itemRenderedCallback(e)\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var userItems = null === userToolbarOptions || void 0 === userToolbarOptions ? void 0 : userToolbarOptions.items;\r\n        options.toolbarOptions.items = this._normalizeToolbarItems(options.toolbarOptions.items, userItems);\r\n        this.executeAction(\"onToolbarPreparing\", options);\r\n        if (options.toolbarOptions && !isDefined(options.toolbarOptions.visible)) {\r\n            var toolbarItems = options.toolbarOptions.items;\r\n            options.toolbarOptions.visible = !!(null !== toolbarItems && void 0 !== toolbarItems && toolbarItems.length)\r\n        }\r\n        return options.toolbarOptions\r\n    },\r\n    _normalizeToolbarItems(defaultItems, userItems) {\r\n        defaultItems.forEach(button => {\r\n            if (!DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\r\n                throw new Error(\"Default toolbar item '\".concat(button.name, \"' is not added to DEFAULT_TOOLBAR_ITEM_NAMES\"))\r\n            }\r\n        });\r\n        var defaultProps = {\r\n            location: \"after\"\r\n        };\r\n        var isArray = Array.isArray(userItems);\r\n        if (!isDefined(userItems)) {\r\n            return defaultItems\r\n        }\r\n        if (!isArray) {\r\n            userItems = [userItems]\r\n        }\r\n        var defaultButtonsByNames = {};\r\n        defaultItems.forEach(button => {\r\n            defaultButtonsByNames[button.name] = button\r\n        });\r\n        var normalizedItems = userItems.map(button => {\r\n            if (isString(button)) {\r\n                button = {\r\n                    name: button\r\n                }\r\n            }\r\n            if (isDefined(button.name)) {\r\n                if (isDefined(defaultButtonsByNames[button.name])) {\r\n                    button = extend(true, {}, defaultButtonsByNames[button.name], button)\r\n                } else if (DEFAULT_TOOLBAR_ITEM_NAMES.includes(button.name)) {\r\n                    button.visible = false\r\n                }\r\n            }\r\n            return extend(true, {}, defaultProps, button)\r\n        });\r\n        return isArray ? normalizedItems : normalizedItems[0]\r\n    },\r\n    _renderCore: function() {\r\n        if (!this._toolbar) {\r\n            var $headerPanel = this.element();\r\n            $headerPanel.addClass(this.addWidgetPrefix(HEADER_PANEL_CLASS));\r\n            var label = messageLocalization.format(this.component.NAME + TOOLBAR_ARIA_LABEL);\r\n            var $toolbar = $(\"<div>\").attr(\"aria-label\", label).appendTo($headerPanel);\r\n            this._toolbar = this._createComponent($toolbar, Toolbar, this._toolbarOptions)\r\n        } else {\r\n            this._toolbar.option(this._toolbarOptions)\r\n        }\r\n    },\r\n    _columnOptionChanged: noop,\r\n    _handleDataChanged: function() {\r\n        if (this._requireReady) {\r\n            this.render()\r\n        }\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this.createAction(\"onToolbarPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    render: function() {\r\n        this._toolbarOptions = this._getToolbarOptions();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    setToolbarItemDisabled: function(name, optionValue) {\r\n        var toolbarInstance = this._toolbar;\r\n        if (toolbarInstance) {\r\n            var items = toolbarInstance.option(\"items\") || [];\r\n            var itemIndex = items.indexOf(items.filter((function(item) {\r\n                return item.name === name\r\n            }))[0]);\r\n            if (itemIndex >= 0) {\r\n                var itemOptionPrefix = \"items[\" + itemIndex + \"]\";\r\n                if (toolbarInstance.option(itemOptionPrefix + \".options\")) {\r\n                    toolbarInstance.option(itemOptionPrefix + \".options.disabled\", optionValue)\r\n                } else {\r\n                    toolbarInstance.option(itemOptionPrefix + \".disabled\", optionValue)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateToolbarDimensions: function() {\r\n        var _this$_toolbar;\r\n        null === (_this$_toolbar = this._toolbar) || void 0 === _this$_toolbar ? void 0 : _this$_toolbar.updateDimensions()\r\n    },\r\n    getHeaderPanel: function() {\r\n        return this.element()\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"onToolbarPreparing\" === args.name) {\r\n            this._invalidate();\r\n            args.handled = true\r\n        }\r\n        if (\"toolbar\" === args.name) {\r\n            args.handled = true;\r\n            if (this._toolbar) {\r\n                var parts = getPathParts(args.fullName);\r\n                var optionName = args.fullName.replace(/^toolbar\\./, \"\");\r\n                if (1 === parts.length) {\r\n                    var toolbarOptions = this._getToolbarOptions();\r\n                    this._toolbar.option(toolbarOptions)\r\n                } else if (\"items\" === parts[1]) {\r\n                    if (2 === parts.length) {\r\n                        var _toolbarOptions = this._getToolbarOptions();\r\n                        this._toolbar.option(\"items\", _toolbarOptions.items)\r\n                    } else if (3 === parts.length) {\r\n                        var normalizedItem = this._normalizeToolbarItems(this._getToolbarItems(), args.value);\r\n                        this._toolbar.option(optionName, normalizedItem)\r\n                    } else if (parts.length >= 4) {\r\n                        this._toolbar.option(optionName, args.value)\r\n                    }\r\n                } else {\r\n                    this._toolbar.option(optionName, args.value)\r\n                }\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    isVisible: function() {\r\n        return this._toolbarOptions && this._toolbarOptions.visible\r\n    },\r\n    allowDragging: noop\r\n});\r\nexport var headerPanelModule = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    views: {\r\n        headerPanel: HeaderPanel\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            resizing: {\r\n                _updateDimensionsCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this.getView(\"headerPanel\").updateToolbarDimensions()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.header_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    headerPanelModule\r\n} from \"../grid_core/ui.grid_core.header_panel\";\r\nexport var HeaderPanel = headerPanelModule.views.headerPanel;\r\ngridCore.registerModule(\"headerPanel\", headerPanelModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.base.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    deferRender,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isFunction,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    logger\r\n} from \"../../core/utils/console\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nvar DATAGRID_ROW_SELECTOR = \".dx-row\";\r\nvar DATAGRID_DEPRECATED_TEMPLATE_WARNING = \"Specifying grid templates with the jQuery selector name is now deprecated. Use the DOM Node or the jQuery object that references this selector instead.\";\r\nimport \"./ui.data_grid.column_headers\";\r\nimport \"./ui.data_grid.columns_controller\";\r\nimport \"./ui.data_grid.data_controller\";\r\nimport \"./ui.data_grid.sorting\";\r\nimport \"./ui.data_grid.rows\";\r\nimport \"./ui.data_grid.context_menu\";\r\nimport \"./ui.data_grid.error_handling\";\r\nimport \"./ui.data_grid.grid_view\";\r\nimport \"./ui.data_grid.header_panel\";\r\ngridCore.registerModulesOrder([\"stateStoring\", \"columns\", \"selection\", \"editorFactory\", \"columnChooser\", \"grouping\", \"editing\", \"editingRowBased\", \"editingFormBased\", \"editingCellBased\", \"masterDetail\", \"validating\", \"adaptivity\", \"data\", \"virtualScrolling\", \"columnHeaders\", \"filterRow\", \"headerPanel\", \"headerFilter\", \"sorting\", \"search\", \"rows\", \"pager\", \"columnsResizingReordering\", \"contextMenu\", \"keyboardNavigation\", \"errorHandling\", \"summary\", \"columnFixing\", \"export\", \"gridView\"]);\r\nvar DataGrid = Widget.inherit({\r\n    _activeStateUnit: DATAGRID_ROW_SELECTOR,\r\n    _getDefaultOptions: function() {\r\n        var result = this.callBase();\r\n        each(gridCore.modules, (function() {\r\n            if (isFunction(this.defaultOptions)) {\r\n                extend(true, result, this.defaultOptions())\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    _setDeprecatedOptions: function() {\r\n        this.callBase();\r\n        extend(this._deprecatedOptions, {\r\n            useKeyboard: {\r\n                since: \"19.2\",\r\n                alias: \"keyboardNavigation.enabled\"\r\n            },\r\n            rowTemplate: {\r\n                since: \"21.2\",\r\n                message: 'Use the \"dataRowTemplate\" option instead'\r\n            },\r\n            onToolbarPreparing: {\r\n                since: \"21.2\",\r\n                message: 'Use the \"toolbar\" option instead'\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                showRowLines: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                showRowLines: true,\r\n                showColumnLines: false,\r\n                headerFilter: {\r\n                    height: 315\r\n                },\r\n                editing: {\r\n                    useIcons: true\r\n                },\r\n                selection: {\r\n                    showCheckBoxesMode: \"always\"\r\n                }\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return browser.webkit\r\n            },\r\n            options: {\r\n                loadingTimeout: 30,\r\n                loadPanel: {\r\n                    animation: {\r\n                        show: {\r\n                            easing: \"cubic-bezier(1, 0, 1, 0)\",\r\n                            duration: 500,\r\n                            from: {\r\n                                opacity: 0\r\n                            },\r\n                            to: {\r\n                                opacity: 1\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            device: function(_device) {\r\n                return \"desktop\" !== _device.deviceType\r\n            },\r\n            options: {\r\n                grouping: {\r\n                    expandMode: \"rowClick\"\r\n                }\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        gridCore.processModules(this, gridCore);\r\n        gridCore.callModuleItemsMethod(this, \"init\")\r\n    },\r\n    _clean: noop,\r\n    _optionChanged: function(args) {\r\n        gridCore.callModuleItemsMethod(this, \"optionChanged\", [args]);\r\n        if (!args.handled) {\r\n            this.callBase(args)\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this.updateDimensions(true)\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this.updateDimensions()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this.getView(\"gridView\").render(this.$element())\r\n    },\r\n    _renderContentImpl: function() {\r\n        this.getView(\"gridView\").update()\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        deferRender((function() {\r\n            that._renderContentImpl()\r\n        }))\r\n    },\r\n    _getTemplate: function(templateName) {\r\n        var template = templateName;\r\n        if (isString(template) && \"#\" === template[0]) {\r\n            template = $(templateName);\r\n            logger.warn(DATAGRID_DEPRECATED_TEMPLATE_WARNING)\r\n        }\r\n        return this.callBase(template)\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        gridCore.callModuleItemsMethod(this, \"dispose\")\r\n    },\r\n    isReady: function() {\r\n        return this.getController(\"data\").isReady()\r\n    },\r\n    beginUpdate: function() {\r\n        this.callBase();\r\n        gridCore.callModuleItemsMethod(this, \"beginUpdate\")\r\n    },\r\n    endUpdate: function() {\r\n        gridCore.callModuleItemsMethod(this, \"endUpdate\");\r\n        this.callBase()\r\n    },\r\n    getController: function(name) {\r\n        return this._controllers[name]\r\n    },\r\n    getView: function(name) {\r\n        return this._views[name]\r\n    },\r\n    focus: function(element) {\r\n        this.getController(\"keyboardNavigation\").focus(element)\r\n    }\r\n});\r\nDataGrid.registerModule = gridCore.registerModule.bind(gridCore);\r\nregisterComponent(\"dxDataGrid\", DataGrid);\r\nexport default DataGrid;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.state_storing_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    sessionStorage\r\n} from \"../../core/utils/storage\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    fromPromise\r\n} from \"../../core/utils/deferred\";\r\nvar DATE_REGEX = /^(\\d{4})-(\\d{2})-(\\d{2})T(\\d{2}):(\\d{2}):(\\d{2}(?:\\.\\d*)?)Z$/;\r\nvar parseDates = function parseDates(state) {\r\n    if (!state) {\r\n        return\r\n    }\r\n    each(state, (function(key, value) {\r\n        if (isPlainObject(value) || Array.isArray(value)) {\r\n            parseDates(value)\r\n        } else if (\"string\" === typeof value) {\r\n            var date = DATE_REGEX.exec(value);\r\n            if (date) {\r\n                state[key] = new Date(Date.UTC(+date[1], +date[2] - 1, +date[3], +date[4], +date[5], +date[6]))\r\n            }\r\n        }\r\n    }))\r\n};\r\nexport var StateStoringController = modules.ViewController.inherit(function() {\r\n    var getStorage = function(options) {\r\n        var storage = \"sessionStorage\" === options.type ? sessionStorage() : getWindow().localStorage;\r\n        if (!storage) {\r\n            throw new Error(\"E1007\")\r\n        }\r\n        return storage\r\n    };\r\n    var getUniqueStorageKey = function(options) {\r\n        return isDefined(options.storageKey) ? options.storageKey : \"storage\"\r\n    };\r\n    return {\r\n        _loadState: function() {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                return options.customLoad && options.customLoad()\r\n            }\r\n            try {\r\n                return JSON.parse(getStorage(options).getItem(getUniqueStorageKey(options)))\r\n            } catch (e) {\r\n                errors.log(e.message)\r\n            }\r\n        },\r\n        _saveState: function(state) {\r\n            var options = this.option(\"stateStoring\");\r\n            if (\"custom\" === options.type) {\r\n                options.customSave && options.customSave(state);\r\n                return\r\n            }\r\n            try {\r\n                getStorage(options).setItem(getUniqueStorageKey(options), JSON.stringify(state))\r\n            } catch (e) {\r\n                errors.log(e.message)\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"state\"]\r\n        },\r\n        isEnabled: function() {\r\n            return this.option(\"stateStoring.enabled\")\r\n        },\r\n        init: function() {\r\n            var that = this;\r\n            that._state = {};\r\n            that._isLoaded = false;\r\n            that._isLoading = false;\r\n            that._windowUnloadHandler = function() {\r\n                if (void 0 !== that._savingTimeoutID) {\r\n                    that._saveState(that.state())\r\n                }\r\n            };\r\n            eventsEngine.on(getWindow(), \"unload\", that._windowUnloadHandler);\r\n            return that\r\n        },\r\n        isLoaded: function() {\r\n            return this._isLoaded\r\n        },\r\n        isLoading: function() {\r\n            return this._isLoading\r\n        },\r\n        load: function() {\r\n            this._isLoading = true;\r\n            var loadResult = fromPromise(this._loadState());\r\n            loadResult.always(() => {\r\n                this._isLoaded = true;\r\n                this._isLoading = false\r\n            }).done(state => {\r\n                if (null !== state && !isEmptyObject(state)) {\r\n                    this.state(state)\r\n                }\r\n            });\r\n            return loadResult\r\n        },\r\n        state: function(_state) {\r\n            var that = this;\r\n            if (!arguments.length) {\r\n                return extend(true, {}, that._state)\r\n            } else {\r\n                that._state = extend({}, _state);\r\n                parseDates(that._state)\r\n            }\r\n        },\r\n        save: function() {\r\n            var that = this;\r\n            clearTimeout(that._savingTimeoutID);\r\n            that._savingTimeoutID = setTimeout((function() {\r\n                that._saveState(that.state());\r\n                that._savingTimeoutID = void 0\r\n            }), that.option(\"stateStoring.savingTimeout\"))\r\n        },\r\n        optionChanged: function(args) {\r\n            switch (args.name) {\r\n                case \"stateStoring\":\r\n                    if (this.isEnabled() && !this.isLoading()) {\r\n                        this.load()\r\n                    }\r\n                    args.handled = true;\r\n                    break;\r\n                default:\r\n                    this.callBase(args)\r\n            }\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._savingTimeoutID);\r\n            eventsEngine.off(getWindow(), \"unload\", this._windowUnloadHandler)\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.state_storing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getKeyHash,\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    StateStoringController\r\n} from \"./ui.grid_core.state_storing_core\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar getDataState = that => {\r\n    var pagerView = that.getView(\"pagerView\");\r\n    var dataController = that.getController(\"data\");\r\n    var state = {\r\n        allowedPageSizes: pagerView ? pagerView.getPageSizes() : void 0,\r\n        filterPanel: {\r\n            filterEnabled: that.option(\"filterPanel.filterEnabled\")\r\n        },\r\n        filterValue: that.option(\"filterValue\"),\r\n        focusedRowKey: that.option(\"focusedRowEnabled\") ? that.option(\"focusedRowKey\") : void 0\r\n    };\r\n    return extend(state, dataController.getUserState())\r\n};\r\nvar processLoadState = that => {\r\n    var columnsController = that.getController(\"columns\");\r\n    var selectionController = that.getController(\"selection\");\r\n    var exportController = that.getController(\"export\");\r\n    var dataController = that.getController(\"data\");\r\n    if (columnsController) {\r\n        columnsController.columnsChanged.add((function() {\r\n            that.updateState({\r\n                columns: columnsController.getUserState()\r\n            })\r\n        }))\r\n    }\r\n    if (selectionController) {\r\n        selectionController.selectionChanged.add((function(e) {\r\n            that.updateState({\r\n                selectedRowKeys: e.selectedRowKeys,\r\n                selectionFilter: e.selectionFilter\r\n            })\r\n        }))\r\n    }\r\n    if (dataController) {\r\n        that._initialPageSize = that.option(\"paging.pageSize\");\r\n        that._initialFilterValue = that.option(\"filterValue\");\r\n        dataController.changed.add((function() {\r\n            var state = getDataState(that);\r\n            that.updateState(state)\r\n        }))\r\n    }\r\n    if (exportController) {\r\n        exportController.selectionOnlyChanged.add((function() {\r\n            that.updateState({\r\n                exportSelectionOnly: exportController.selectionOnly()\r\n            })\r\n        }))\r\n    }\r\n};\r\nvar DEFAULT_FILTER_VALUE = null;\r\nvar getFilterValue = (that, state) => {\r\n    var filterSyncController = that.getController(\"filterSync\");\r\n    var columnsController = that.getController(\"columns\");\r\n    var hasFilterState = state.columns || void 0 !== state.filterValue;\r\n    if (filterSyncController) {\r\n        if (hasFilterState) {\r\n            return state.filterValue || filterSyncController.getFilterValueFromColumns(state.columns)\r\n        } else {\r\n            return that._initialFilterValue || filterSyncController.getFilterValueFromColumns(columnsController.getColumns())\r\n        }\r\n    }\r\n    return DEFAULT_FILTER_VALUE\r\n};\r\nexport var stateStoringModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            stateStoring: {\r\n                enabled: false,\r\n                storageKey: null,\r\n                type: \"localStorage\",\r\n                customLoad: null,\r\n                customSave: null,\r\n                savingTimeout: 2e3\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        stateStoring: StateStoringController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                init: function() {\r\n                    var that = this;\r\n                    var dataController = that.getController(\"data\");\r\n                    that.callBase();\r\n                    dataController.stateLoaded.add((function() {\r\n                        if (dataController.isLoaded() && !dataController.getDataSource()) {\r\n                            that.setLoading(false);\r\n                            that.renderNoDataText();\r\n                            var columnHeadersView = that.component.getView(\"columnHeadersView\");\r\n                            columnHeadersView && columnHeadersView.render();\r\n                            that.component._fireContentReadyAction()\r\n                        }\r\n                    }))\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            stateStoring: {\r\n                init: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    processLoadState(this)\r\n                },\r\n                isLoading: function() {\r\n                    return this.callBase() || this.getController(\"data\").isStateLoading()\r\n                },\r\n                state: function(_state) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    if (void 0 !== _state) {\r\n                        this.applyState(extend({}, _state))\r\n                    }\r\n                    return result\r\n                },\r\n                updateState: function(state) {\r\n                    if (this.isEnabled()) {\r\n                        var oldState = this.state();\r\n                        var newState = extend({}, oldState, state);\r\n                        var oldStateHash = getKeyHash(oldState);\r\n                        var newStateHash = getKeyHash(newState);\r\n                        if (!equalByValue(oldStateHash, newStateHash)) {\r\n                            extend(this._state, state);\r\n                            this.save()\r\n                        }\r\n                    } else {\r\n                        extend(this._state, state)\r\n                    }\r\n                },\r\n                applyState: function(state) {\r\n                    var allowedPageSizes = state.allowedPageSizes;\r\n                    var searchText = state.searchText;\r\n                    var selectedRowKeys = state.selectedRowKeys;\r\n                    var selectionFilter = state.selectionFilter;\r\n                    var exportController = this.getController(\"export\");\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var dataController = this.getController(\"data\");\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var isVirtualScrollingMode = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n                    var showPageSizeSelector = true === this.option(\"pager.visible\") && this.option(\"pager.showPageSizeSelector\");\r\n                    this.component.beginUpdate();\r\n                    if (columnsController) {\r\n                        columnsController.setUserState(state.columns)\r\n                    }\r\n                    if (exportController) {\r\n                        exportController.selectionOnly(state.exportSelectionOnly)\r\n                    }\r\n                    if (!this.option(\"selection.deferred\")) {\r\n                        this.option(\"selectedRowKeys\", selectedRowKeys || [])\r\n                    }\r\n                    this.option(\"selectionFilter\", selectionFilter);\r\n                    if (allowedPageSizes && \"auto\" === this.option(\"pager.allowedPageSizes\")) {\r\n                        this.option(\"pager\").allowedPageSizes = allowedPageSizes\r\n                    }\r\n                    if (this.option(\"focusedRowEnabled\")) {\r\n                        this.option(\"focusedRowIndex\", -1);\r\n                        this.option(\"focusedRowKey\", state.focusedRowKey || null)\r\n                    }\r\n                    this.component.endUpdate();\r\n                    this.option(\"searchPanel.text\", searchText || \"\");\r\n                    this.option(\"filterValue\", getFilterValue(this, state));\r\n                    this.option(\"filterPanel.filterEnabled\", state.filterPanel ? state.filterPanel.filterEnabled : true);\r\n                    this.option(\"paging.pageIndex\", state.pageIndex || 0);\r\n                    this.option(\"paging.pageSize\", (!isVirtualScrollingMode || showPageSizeSelector) && isDefined(state.pageSize) ? state.pageSize : this._initialPageSize);\r\n                    dataController && dataController.reset()\r\n                }\r\n            },\r\n            columns: {\r\n                getVisibleColumns: function() {\r\n                    var visibleColumns = this.callBase.apply(this, arguments);\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    return stateStoringController.isEnabled() && !stateStoringController.isLoaded() ? [] : visibleColumns\r\n                }\r\n            },\r\n            data: {\r\n                callbackNames: function() {\r\n                    return this.callBase().concat([\"stateLoaded\"])\r\n                },\r\n                _refreshDataSource: function() {\r\n                    var callBase = this.callBase;\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    if (stateStoringController.isEnabled() && !stateStoringController.isLoaded()) {\r\n                        clearTimeout(this._restoreStateTimeoutID);\r\n                        var deferred = new Deferred;\r\n                        this._restoreStateTimeoutID = setTimeout(() => {\r\n                            stateStoringController.load().always(() => {\r\n                                this._restoreStateTimeoutID = null\r\n                            }).done(() => {\r\n                                callBase.call(this);\r\n                                this.stateLoaded.fire();\r\n                                deferred.resolve()\r\n                            }).fail(error => {\r\n                                this.stateLoaded.fire();\r\n                                this._handleLoadError(error || \"Unknown error\");\r\n                                deferred.reject()\r\n                            })\r\n                        });\r\n                        return deferred.promise()\r\n                    } else if (!this.isStateLoading()) {\r\n                        callBase.call(this)\r\n                    }\r\n                },\r\n                isLoading: function() {\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    return this.callBase() || stateStoringController.isLoading()\r\n                },\r\n                isStateLoading: function() {\r\n                    return isDefined(this._restoreStateTimeoutID)\r\n                },\r\n                isLoaded: function() {\r\n                    return this.callBase() && !this.isStateLoading()\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._restoreStateTimeoutID);\r\n                    this.callBase()\r\n                }\r\n            },\r\n            selection: {\r\n                _fireSelectionChanged: function(options) {\r\n                    var stateStoringController = this.getController(\"stateStoring\");\r\n                    var isDeferredSelection = this.option(\"selection.deferred\");\r\n                    if (stateStoringController.isLoading() && isDeferredSelection) {\r\n                        return\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.state_storing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    stateStoringModule\r\n} from \"../grid_core/ui.grid_core.state_storing\";\r\ngridCore.registerModule(\"stateStoring\", stateStoringModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.selection.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport gridCore from \"../data_grid/ui.data_grid.core\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    touch\r\n} from \"../../core/utils/support\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    addNamespace,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport holdEvent from \"../../events/hold\";\r\nimport Selection from \"../selection/selection\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport errors from \"../widget/ui.errors\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar ROW_SELECTION_CLASS = \"dx-selection\";\r\nvar SELECT_CHECKBOX_CLASS = \"dx-select-checkbox\";\r\nvar CHECKBOXES_HIDDEN_CLASS = \"dx-select-checkboxes-hidden\";\r\nvar COMMAND_SELECT_CLASS = \"dx-command-select\";\r\nvar SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar SHOW_CHECKBOXES_MODE = \"selection.showCheckBoxesMode\";\r\nvar SELECTION_MODE = \"selection.mode\";\r\nvar processLongTap = function(that, dxEvent) {\r\n    var selectionController = that.getController(\"selection\");\r\n    var rowsView = that.getView(\"rowsView\");\r\n    var $row = $(dxEvent.target).closest(\".\" + DATA_ROW_CLASS);\r\n    var rowIndex = rowsView.getRowIndex($row);\r\n    if (rowIndex < 0) {\r\n        return\r\n    }\r\n    if (\"onLongTap\" === that.option(SHOW_CHECKBOXES_MODE)) {\r\n        if (selectionController.isSelectionWithCheckboxes()) {\r\n            selectionController.stopSelectionWithCheckboxes()\r\n        } else {\r\n            selectionController.startSelectionWithCheckboxes()\r\n        }\r\n    } else {\r\n        if (\"onClick\" === that.option(SHOW_CHECKBOXES_MODE)) {\r\n            selectionController.startSelectionWithCheckboxes()\r\n        }\r\n        if (\"always\" !== that.option(SHOW_CHECKBOXES_MODE)) {\r\n            selectionController.changeItemSelection(rowIndex, {\r\n                control: true\r\n            })\r\n        }\r\n    }\r\n};\r\nvar SelectionController = gridCore.Controller.inherit(function() {\r\n    var selectionCellTemplate = (container, options) => {\r\n        var component = options.component;\r\n        var rowsView = component.getView(\"rowsView\");\r\n        if (component.option(\"renderAsync\") && !component.option(\"selection.deferred\")) {\r\n            options.value = component.isRowSelected(options.row.key)\r\n        }\r\n        rowsView.renderSelectCheckBoxContainer($(container), options)\r\n    };\r\n    var selectionHeaderTemplate = (container, options) => {\r\n        var column = options.column;\r\n        var $cellElement = $(container);\r\n        var columnHeadersView = options.component.getView(\"columnHeadersView\");\r\n        $cellElement.addClass(EDITOR_CELL_CLASS);\r\n        columnHeadersView._renderSelectAllCheckBox($cellElement, column);\r\n        columnHeadersView._attachSelectAllCheckBoxClickEvent($cellElement)\r\n    };\r\n    return {\r\n        init: function() {\r\n            var {\r\n                deferred: deferred,\r\n                selectAllMode: selectAllMode,\r\n                mode: mode\r\n            } = this.option(\"selection\") || {};\r\n            if (\"infinite\" === this.option(\"scrolling.mode\") && !deferred && \"multiple\" === mode && \"allPages\" === selectAllMode) {\r\n                errors.log(\"W1018\")\r\n            }\r\n            this._dataController = this.getController(\"data\");\r\n            this._selectionMode = mode;\r\n            this._isSelectionWithCheckboxes = false;\r\n            this._selection = this._createSelection();\r\n            this._updateSelectColumn();\r\n            this.createAction(\"onSelectionChanged\", {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            });\r\n            this._dataController && this._dataController.pushed.add(this._handleDataPushed.bind(this))\r\n        },\r\n        _handleDataPushed: function(changes) {\r\n            var removedKeys = changes.filter(change => \"remove\" === change.type).map(change => change.key);\r\n            removedKeys.length && this.deselectRows(removedKeys)\r\n        },\r\n        _getSelectionConfig: function() {\r\n            var dataController = this._dataController;\r\n            var columnsController = this.getController(\"columns\");\r\n            var selectionOptions = this.option(\"selection\") || {};\r\n            var deferred = selectionOptions.deferred;\r\n            var scrollingMode = this.option(\"scrolling.mode\");\r\n            var virtualPaging = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n            var allowSelectAll = this.option(\"selection.allowSelectAll\");\r\n            var legacyScrollingMode = this.option(\"scrolling.legacyMode\");\r\n            return {\r\n                selectedKeys: this.option(\"selectedRowKeys\"),\r\n                mode: this._selectionMode,\r\n                deferred: deferred,\r\n                maxFilterLengthInRequest: selectionOptions.maxFilterLengthInRequest,\r\n                selectionFilter: this.option(\"selectionFilter\"),\r\n                ignoreDisabledItems: true,\r\n                allowLoadByRange: function() {\r\n                    var hasGroupColumns = columnsController.getGroupColumns().length > 0;\r\n                    return virtualPaging && !legacyScrollingMode && !hasGroupColumns && allowSelectAll && !deferred\r\n                },\r\n                key: function() {\r\n                    return null === dataController || void 0 === dataController ? void 0 : dataController.key()\r\n                },\r\n                keyOf: function(item) {\r\n                    return null === dataController || void 0 === dataController ? void 0 : dataController.keyOf(item)\r\n                },\r\n                dataFields: function() {\r\n                    var _dataController$dataS;\r\n                    return null === (_dataController$dataS = dataController.dataSource()) || void 0 === _dataController$dataS ? void 0 : _dataController$dataS.select()\r\n                },\r\n                load: function(options) {\r\n                    var _dataController$dataS2;\r\n                    return (null === (_dataController$dataS2 = dataController.dataSource()) || void 0 === _dataController$dataS2 ? void 0 : _dataController$dataS2.load(options)) || (new Deferred).resolve([])\r\n                },\r\n                plainItems: function() {\r\n                    return dataController.items(true)\r\n                },\r\n                isItemSelected: function(item) {\r\n                    return item.selected\r\n                },\r\n                isSelectableItem: function(item) {\r\n                    return \"data\" === (null === item || void 0 === item ? void 0 : item.rowType) && !item.isNewRow\r\n                },\r\n                getItemData: function(item) {\r\n                    return (null === item || void 0 === item ? void 0 : item.oldData) || (null === item || void 0 === item ? void 0 : item.data) || item\r\n                },\r\n                filter: function() {\r\n                    return dataController.getCombinedFilter(deferred)\r\n                },\r\n                totalCount: () => dataController.totalCount(),\r\n                getLoadOptions: function(loadItemIndex, focusedItemIndex, shiftItemIndex) {\r\n                    var _dataController$dataS3, _dataController$dataS4;\r\n                    var {\r\n                        sort: sort,\r\n                        filter: filter\r\n                    } = null !== (_dataController$dataS3 = null === (_dataController$dataS4 = dataController.dataSource()) || void 0 === _dataController$dataS4 ? void 0 : _dataController$dataS4.lastLoadOptions()) && void 0 !== _dataController$dataS3 ? _dataController$dataS3 : {};\r\n                    var minIndex = Math.min(loadItemIndex, focusedItemIndex);\r\n                    var maxIndex = Math.max(loadItemIndex, focusedItemIndex);\r\n                    if (isDefined(shiftItemIndex)) {\r\n                        minIndex = Math.min(shiftItemIndex, minIndex);\r\n                        maxIndex = Math.max(shiftItemIndex, maxIndex)\r\n                    }\r\n                    var take = maxIndex - minIndex + 1;\r\n                    return {\r\n                        skip: minIndex,\r\n                        take: take,\r\n                        filter: filter,\r\n                        sort: sort\r\n                    }\r\n                },\r\n                onSelectionChanged: this._updateSelectedItems.bind(this)\r\n            }\r\n        },\r\n        _updateSelectColumn: function() {\r\n            var columnsController = this.getController(\"columns\");\r\n            var isSelectColumnVisible = this.isSelectColumnVisible();\r\n            columnsController.addCommandColumn({\r\n                type: \"selection\",\r\n                command: \"select\",\r\n                visible: isSelectColumnVisible,\r\n                visibleIndex: -1,\r\n                dataType: \"boolean\",\r\n                alignment: \"center\",\r\n                cssClass: COMMAND_SELECT_CLASS,\r\n                width: \"auto\",\r\n                cellTemplate: selectionCellTemplate,\r\n                headerCellTemplate: selectionHeaderTemplate\r\n            });\r\n            columnsController.columnOption(\"command:select\", \"visible\", isSelectColumnVisible)\r\n        },\r\n        _createSelection: function() {\r\n            var options = this._getSelectionConfig();\r\n            return new Selection(options)\r\n        },\r\n        _fireSelectionChanged: function(options) {\r\n            var argument = this.option(\"selection.deferred\") ? {\r\n                selectionFilter: this.option(\"selectionFilter\")\r\n            } : {\r\n                selectedRowKeys: this.option(\"selectedRowKeys\")\r\n            };\r\n            this.selectionChanged.fire(argument);\r\n            if (options) {\r\n                this.executeAction(\"onSelectionChanged\", options)\r\n            }\r\n        },\r\n        _updateCheckboxesState: function(options) {\r\n            var isDeferredMode = options.isDeferredMode;\r\n            var selectionFilter = options.selectionFilter;\r\n            var selectedItemKeys = options.selectedItemKeys;\r\n            var removedItemKeys = options.removedItemKeys;\r\n            if (\"onClick\" === this.option(SHOW_CHECKBOXES_MODE)) {\r\n                if (isDeferredMode ? selectionFilter && function(that, selectionFilter) {\r\n                        var keyIndex = 0;\r\n                        var store = that._dataController.store();\r\n                        var key = store && store.key();\r\n                        var isComplexKey = Array.isArray(key);\r\n                        if (!selectionFilter.length) {\r\n                            return false\r\n                        }\r\n                        if (isComplexKey && Array.isArray(selectionFilter[0]) && \"and\" === selectionFilter[1]) {\r\n                            for (var i = 0; i < selectionFilter.length; i++) {\r\n                                if (Array.isArray(selectionFilter[i])) {\r\n                                    if (selectionFilter[i][0] !== key[keyIndex] || \"=\" !== selectionFilter[i][1]) {\r\n                                        return true\r\n                                    }\r\n                                    keyIndex++\r\n                                }\r\n                            }\r\n                            return false\r\n                        }\r\n                        return key !== selectionFilter[0]\r\n                    }(this, selectionFilter) : selectedItemKeys.length > 1) {\r\n                    this.startSelectionWithCheckboxes()\r\n                } else if (isDeferredMode ? selectionFilter && !selectionFilter.length : 0 === selectedItemKeys.length && removedItemKeys.length) {\r\n                    this.stopSelectionWithCheckboxes()\r\n                }\r\n            }\r\n        },\r\n        _updateSelectedItems: function(args) {\r\n            var selectionChangedOptions;\r\n            var isDeferredMode = this.option(\"selection.deferred\");\r\n            var selectionFilter = this._selection.selectionFilter();\r\n            var dataController = this._dataController;\r\n            var items = dataController.items();\r\n            if (!items) {\r\n                return\r\n            }\r\n            var isSelectionWithCheckboxes = this.isSelectionWithCheckboxes();\r\n            var changedItemIndexes = this.getChangedItemIndexes(items);\r\n            this._updateCheckboxesState({\r\n                selectedItemKeys: args.selectedItemKeys,\r\n                removedItemKeys: args.removedItemKeys,\r\n                selectionFilter: selectionFilter,\r\n                isDeferredMode: isDeferredMode\r\n            });\r\n            if (changedItemIndexes.length || isSelectionWithCheckboxes !== this.isSelectionWithCheckboxes()) {\r\n                dataController.updateItems({\r\n                    changeType: \"updateSelection\",\r\n                    itemIndexes: changedItemIndexes\r\n                })\r\n            }\r\n            if (isDeferredMode) {\r\n                this.option(\"selectionFilter\", selectionFilter);\r\n                selectionChangedOptions = {}\r\n            } else if (args.addedItemKeys.length || args.removedItemKeys.length) {\r\n                this._selectedItemsInternalChange = true;\r\n                this.option(\"selectedRowKeys\", args.selectedItemKeys.slice(0));\r\n                this._selectedItemsInternalChange = false;\r\n                selectionChangedOptions = {\r\n                    selectedRowsData: args.selectedItems.slice(0),\r\n                    selectedRowKeys: args.selectedItemKeys.slice(0),\r\n                    currentSelectedRowKeys: args.addedItemKeys.slice(0),\r\n                    currentDeselectedRowKeys: args.removedItemKeys.slice(0)\r\n                }\r\n            }\r\n            this._fireSelectionChanged(selectionChangedOptions)\r\n        },\r\n        getChangedItemIndexes: function(items) {\r\n            var itemIndexes = [];\r\n            var isDeferredSelection = this.option(\"selection.deferred\");\r\n            for (var i = 0, length = items.length; i < length; i++) {\r\n                var row = items[i];\r\n                var isItemSelected = this.isRowSelected(isDeferredSelection ? row.data : row.key);\r\n                if (this._selection.isDataItem(row) && row.isSelected !== isItemSelected) {\r\n                    itemIndexes.push(i)\r\n                }\r\n            }\r\n            return itemIndexes\r\n        },\r\n        callbackNames: function() {\r\n            return [\"selectionChanged\"]\r\n        },\r\n        optionChanged: function(args) {\r\n            this.callBase(args);\r\n            switch (args.name) {\r\n                case \"selection\":\r\n                    var oldSelectionMode = this._selectionMode;\r\n                    this.init();\r\n                    if (\"selection.showCheckBoxesMode\" !== args.fullName) {\r\n                        var selectionMode = this._selectionMode;\r\n                        var selectedRowKeys = this.option(\"selectedRowKeys\");\r\n                        if (oldSelectionMode !== selectionMode) {\r\n                            if (\"single\" === selectionMode) {\r\n                                if (selectedRowKeys.length > 1) {\r\n                                    selectedRowKeys = [selectedRowKeys[0]]\r\n                                }\r\n                            } else if (\"multiple\" !== selectionMode) {\r\n                                selectedRowKeys = []\r\n                            }\r\n                        }\r\n                        this.selectRows(selectedRowKeys).always(() => {\r\n                            this._fireSelectionChanged()\r\n                        })\r\n                    }\r\n                    this.getController(\"columns\").updateColumns();\r\n                    args.handled = true;\r\n                    break;\r\n                case \"selectionFilter\":\r\n                    this._selection.selectionFilter(args.value);\r\n                    args.handled = true;\r\n                    break;\r\n                case \"selectedRowKeys\":\r\n                    var value = args.value || [];\r\n                    if (Array.isArray(value) && !this._selectedItemsInternalChange && (this.component.getDataSource() || !value.length)) {\r\n                        this.selectRows(value)\r\n                    }\r\n                    args.handled = true\r\n            }\r\n        },\r\n        publicMethods: function() {\r\n            return [\"selectRows\", \"deselectRows\", \"selectRowsByIndexes\", \"getSelectedRowKeys\", \"getSelectedRowsData\", \"clearSelection\", \"selectAll\", \"deselectAll\", \"startSelectionWithCheckboxes\", \"stopSelectionWithCheckboxes\", \"isRowSelected\"]\r\n        },\r\n        isRowSelected: function(arg) {\r\n            return this._selection.isItemSelected(arg)\r\n        },\r\n        isSelectColumnVisible: function() {\r\n            return \"multiple\" === this.option(SELECTION_MODE) && (\"always\" === this.option(SHOW_CHECKBOXES_MODE) || \"onClick\" === this.option(SHOW_CHECKBOXES_MODE) || this._isSelectionWithCheckboxes)\r\n        },\r\n        _isOnePageSelectAll: function() {\r\n            return \"page\" === this.option(\"selection.selectAllMode\")\r\n        },\r\n        isSelectAll: function() {\r\n            return this._selection.getSelectAllState(this._isOnePageSelectAll())\r\n        },\r\n        selectAll: function() {\r\n            if (\"onClick\" === this.option(SHOW_CHECKBOXES_MODE)) {\r\n                this.startSelectionWithCheckboxes()\r\n            }\r\n            return this._selection.selectAll(this._isOnePageSelectAll())\r\n        },\r\n        deselectAll: function() {\r\n            return this._selection.deselectAll(this._isOnePageSelectAll())\r\n        },\r\n        clearSelection: function() {\r\n            return this.selectedItemKeys([])\r\n        },\r\n        refresh: function() {\r\n            var selectedRowKeys = this.option(\"selectedRowKeys\") || [];\r\n            if (!this.option(\"selection.deferred\") && selectedRowKeys.length) {\r\n                return this.selectedItemKeys(selectedRowKeys)\r\n            }\r\n            return (new Deferred).resolve().promise()\r\n        },\r\n        selectedItemKeys: function(value, preserve, isDeselect, isSelectAll) {\r\n            return this._selection.selectedItemKeys(value, preserve, isDeselect, isSelectAll)\r\n        },\r\n        getSelectedRowKeys: function() {\r\n            return this._selection.getSelectedItemKeys()\r\n        },\r\n        selectRows: function(keys, preserve) {\r\n            return this.selectedItemKeys(keys, preserve)\r\n        },\r\n        deselectRows: function(keys) {\r\n            return this.selectedItemKeys(keys, true, true)\r\n        },\r\n        selectRowsByIndexes: function(indexes) {\r\n            var items = this._dataController.items();\r\n            var keys = [];\r\n            if (!Array.isArray(indexes)) {\r\n                indexes = Array.prototype.slice.call(arguments, 0)\r\n            }\r\n            each(indexes, (function() {\r\n                var item = items[this];\r\n                if (item && \"data\" === item.rowType) {\r\n                    keys.push(item.key)\r\n                }\r\n            }));\r\n            return this.selectRows(keys)\r\n        },\r\n        getSelectedRowsData: function() {\r\n            return this._selection.getSelectedItems()\r\n        },\r\n        changeItemSelection: function(visibleItemIndex, keys, setFocusOnly) {\r\n            keys = keys || {};\r\n            if (this.isSelectionWithCheckboxes()) {\r\n                keys.control = true\r\n            }\r\n            var loadedItemIndex = visibleItemIndex + this._dataController.getRowIndexOffset() - this._dataController.getRowIndexOffset(true);\r\n            return this._selection.changeItemSelection(loadedItemIndex, keys, setFocusOnly)\r\n        },\r\n        focusedItemIndex: function(itemIndex) {\r\n            if (isDefined(itemIndex)) {\r\n                this._selection._focusedItemIndex = itemIndex\r\n            } else {\r\n                return this._selection._focusedItemIndex\r\n            }\r\n        },\r\n        isSelectionWithCheckboxes: function() {\r\n            return \"multiple\" === this.option(SELECTION_MODE) && (\"always\" === this.option(SHOW_CHECKBOXES_MODE) || this._isSelectionWithCheckboxes)\r\n        },\r\n        startSelectionWithCheckboxes: function() {\r\n            if (\"multiple\" === this.option(SELECTION_MODE) && !this.isSelectionWithCheckboxes()) {\r\n                this._isSelectionWithCheckboxes = true;\r\n                this._updateSelectColumn();\r\n                return true\r\n            }\r\n            return false\r\n        },\r\n        stopSelectionWithCheckboxes: function() {\r\n            if (this._isSelectionWithCheckboxes) {\r\n                this._isSelectionWithCheckboxes = false;\r\n                this._updateSelectColumn();\r\n                return true\r\n            }\r\n            return false\r\n        }\r\n    }\r\n}());\r\nexport var selectionModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            selection: {\r\n                mode: \"none\",\r\n                showCheckBoxesMode: \"onClick\",\r\n                allowSelectAll: true,\r\n                selectAllMode: \"allPages\",\r\n                maxFilterLengthInRequest: 1500,\r\n                deferred: false\r\n            },\r\n            selectionFilter: [],\r\n            selectedRowKeys: []\r\n        }\r\n    },\r\n    controllers: {\r\n        selection: SelectionController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    var selectionController = this.getController(\"selection\");\r\n                    var isDeferredMode = this.option(\"selection.deferred\");\r\n                    this.callBase.apply(this, arguments);\r\n                    if (isDeferredMode) {\r\n                        selectionController._updateCheckboxesState({\r\n                            isDeferredMode: true,\r\n                            selectionFilter: this.option(\"selectionFilter\")\r\n                        })\r\n                    }\r\n                },\r\n                _loadDataSource: function() {\r\n                    var that = this;\r\n                    return that.callBase().done((function() {\r\n                        that.getController(\"selection\").refresh()\r\n                    }))\r\n                },\r\n                _processDataItem: function(item, options) {\r\n                    var that = this;\r\n                    var selectionController = that.getController(\"selection\");\r\n                    var hasSelectColumn = selectionController.isSelectColumnVisible();\r\n                    var isDeferredSelection = options.isDeferredSelection = void 0 === options.isDeferredSelection ? this.option(\"selection.deferred\") : options.isDeferredSelection;\r\n                    var dataItem = this.callBase.apply(this, arguments);\r\n                    dataItem.isSelected = selectionController.isRowSelected(isDeferredSelection ? dataItem.data : dataItem.key);\r\n                    if (hasSelectColumn && dataItem.values) {\r\n                        for (var i = 0; i < options.visibleColumns.length; i++) {\r\n                            if (\"select\" === options.visibleColumns[i].command) {\r\n                                dataItem.values[i] = dataItem.isSelected;\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                    return dataItem\r\n                },\r\n                refresh: function(options) {\r\n                    var that = this;\r\n                    var d = new Deferred;\r\n                    this.callBase.apply(this, arguments).done((function() {\r\n                        if (!options || options.selection) {\r\n                            that.getController(\"selection\").refresh().done(d.resolve).fail(d.reject)\r\n                        } else {\r\n                            d.resolve()\r\n                        }\r\n                    })).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if ((!e || \"refresh\" === e.changeType) && !this._repaintChangesOnly) {\r\n                        this.getController(\"selection\").focusedItemIndex(-1)\r\n                    }\r\n                },\r\n                _applyChange: function(change) {\r\n                    if (change && \"updateSelection\" === change.changeType) {\r\n                        change.items.forEach((item, index) => {\r\n                            var currentItem = this._items[index];\r\n                            if (currentItem) {\r\n                                currentItem.isSelected = item.isSelected;\r\n                                currentItem.values = item.values\r\n                            }\r\n                        });\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var changes = this._changes;\r\n                    var isUpdateSelection = changes.length > 1 && changes.every(change => \"updateSelection\" === change.changeType);\r\n                    if (isUpdateSelection) {\r\n                        var itemIndexes = changes.map(change => change.itemIndexes || []).reduce((a, b) => a.concat(b));\r\n                        this._changes = [{\r\n                            changeType: \"updateSelection\",\r\n                            itemIndexes: itemIndexes\r\n                        }]\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                }\r\n            },\r\n            contextMenu: {\r\n                _contextMenuPrepared: function(options) {\r\n                    var dxEvent = options.event;\r\n                    if (dxEvent.originalEvent && \"dxhold\" !== dxEvent.originalEvent.type || options.items && options.items.length > 0) {\r\n                        return\r\n                    }\r\n                    processLongTap(this, dxEvent)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            columnHeadersView: {\r\n                init: function() {\r\n                    this.callBase();\r\n                    this.getController(\"selection\").selectionChanged.add(this._updateSelectAllValue.bind(this))\r\n                },\r\n                _updateSelectAllValue: function() {\r\n                    var $element = this.element();\r\n                    var $editor = $element && $element.find(\".\" + SELECT_CHECKBOX_CLASS);\r\n                    if ($element && $editor.length && \"multiple\" === this.option(\"selection.mode\")) {\r\n                        var selectAllValue = this.getController(\"selection\").isSelectAll();\r\n                        var hasSelection = false !== selectAllValue;\r\n                        var isVisible = this.option(\"selection.allowSelectAll\") ? !this.getController(\"data\").isEmpty() : hasSelection;\r\n                        $editor.dxCheckBox(\"instance\").option({\r\n                            visible: isVisible,\r\n                            value: selectAllValue\r\n                        })\r\n                    }\r\n                },\r\n                _handleDataChanged: function(e) {\r\n                    this.callBase(e);\r\n                    if (!e || \"refresh\" === e.changeType) {\r\n                        this._updateSelectAllValue()\r\n                    }\r\n                },\r\n                _renderSelectAllCheckBox: function($container, column) {\r\n                    var that = this;\r\n                    var selectionController = that.getController(\"selection\");\r\n                    var isEmptyData = that.getController(\"data\").isEmpty();\r\n                    var groupElement = $(\"<div>\").appendTo($container).addClass(SELECT_CHECKBOX_CLASS);\r\n                    that.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaSelectAll\"), $container);\r\n                    that.getController(\"editorFactory\").createEditor(groupElement, extend({}, column, {\r\n                        parentType: \"headerRow\",\r\n                        dataType: \"boolean\",\r\n                        value: selectionController.isSelectAll(),\r\n                        editorOptions: {\r\n                            visible: !isEmptyData && (that.option(\"selection.allowSelectAll\") || false !== selectionController.isSelectAll())\r\n                        },\r\n                        tabIndex: that.option(\"useLegacyKeyboardNavigation\") ? -1 : that.option(\"tabIndex\") || 0,\r\n                        setValue: function(value, e) {\r\n                            var allowSelectAll = that.option(\"selection.allowSelectAll\");\r\n                            e.component.option(\"visible\", allowSelectAll || false !== e.component.option(\"value\"));\r\n                            if (!e.event || selectionController.isSelectAll() === value) {\r\n                                return\r\n                            }\r\n                            if (e.value && !allowSelectAll) {\r\n                                e.component.option(\"value\", false)\r\n                            } else {\r\n                                e.value ? selectionController.selectAll() : selectionController.deselectAll()\r\n                            }\r\n                            e.event.preventDefault()\r\n                        }\r\n                    }));\r\n                    return groupElement\r\n                },\r\n                _attachSelectAllCheckBoxClickEvent: function($element) {\r\n                    eventsEngine.on($element, clickEventName, this.createAction((function(e) {\r\n                        var event = e.event;\r\n                        if (!$(event.target).closest(\".\" + SELECT_CHECKBOX_CLASS).length) {\r\n                            eventsEngine.trigger($(event.currentTarget).children(\".\" + SELECT_CHECKBOX_CLASS), clickEventName)\r\n                        }\r\n                        event.preventDefault()\r\n                    })))\r\n                }\r\n            },\r\n            rowsView: {\r\n                renderSelectCheckBoxContainer: function($container, options) {\r\n                    if (\"data\" === options.rowType && !options.row.isNewRow) {\r\n                        $container.addClass(EDITOR_CELL_CLASS);\r\n                        this._attachCheckBoxClickEvent($container);\r\n                        this.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaSelectRow\"), $container);\r\n                        this._renderSelectCheckBox($container, options)\r\n                    } else {\r\n                        gridCoreUtils.setEmptyText($container)\r\n                    }\r\n                },\r\n                _renderSelectCheckBox: function(container, options) {\r\n                    var groupElement = $(\"<div>\").addClass(SELECT_CHECKBOX_CLASS).appendTo(container);\r\n                    this.getController(\"editorFactory\").createEditor(groupElement, extend({}, options.column, {\r\n                        parentType: \"dataRow\",\r\n                        dataType: \"boolean\",\r\n                        lookup: null,\r\n                        value: options.value,\r\n                        setValue: function(value, e) {\r\n                            var _e$event;\r\n                            if (\"keydown\" === (null === e || void 0 === e ? void 0 : null === (_e$event = e.event) || void 0 === _e$event ? void 0 : _e$event.type)) {\r\n                                eventsEngine.trigger(e.element, clickEventName, e)\r\n                            }\r\n                        },\r\n                        row: options.row\r\n                    }));\r\n                    return groupElement\r\n                },\r\n                _attachCheckBoxClickEvent: function($element) {\r\n                    eventsEngine.on($element, clickEventName, this.createAction((function(e) {\r\n                        var selectionController = this.getController(\"selection\");\r\n                        var event = e.event;\r\n                        var rowIndex = this.getRowIndex($(event.currentTarget).closest(\".\" + ROW_CLASS));\r\n                        if (rowIndex >= 0) {\r\n                            selectionController.startSelectionWithCheckboxes();\r\n                            selectionController.changeItemSelection(rowIndex, {\r\n                                shift: event.shiftKey\r\n                            });\r\n                            if ($(event.target).closest(\".\" + SELECT_CHECKBOX_CLASS).length) {\r\n                                this.getController(\"data\").updateItems({\r\n                                    changeType: \"updateSelection\",\r\n                                    itemIndexes: [rowIndex]\r\n                                })\r\n                            }\r\n                        }\r\n                    })))\r\n                },\r\n                _update: function(change) {\r\n                    var that = this;\r\n                    var tableElements = that.getTableElements();\r\n                    if (\"updateSelection\" === change.changeType) {\r\n                        if (tableElements.length > 0) {\r\n                            each(tableElements, (function(_, tableElement) {\r\n                                each(change.itemIndexes || [], (function(_, index) {\r\n                                    var $row;\r\n                                    if (change.items[index]) {\r\n                                        $row = that._getRowElements($(tableElement)).eq(index);\r\n                                        if ($row.length) {\r\n                                            var isSelected = change.items[index].isSelected;\r\n                                            $row.toggleClass(ROW_SELECTION_CLASS, void 0 === isSelected ? false : isSelected).find(\".\" + SELECT_CHECKBOX_CLASS).dxCheckBox(\"option\", \"value\", isSelected);\r\n                                            that.setAria(\"selected\", isSelected, $row)\r\n                                        }\r\n                                    }\r\n                                }))\r\n                            }));\r\n                            that._updateCheckboxesClass()\r\n                        }\r\n                    } else {\r\n                        that.callBase(change)\r\n                    }\r\n                },\r\n                _createTable: function() {\r\n                    var that = this;\r\n                    var selectionMode = that.option(\"selection.mode\");\r\n                    var $table = that.callBase.apply(that, arguments);\r\n                    if (\"none\" !== selectionMode) {\r\n                        if (\"onLongTap\" === that.option(SHOW_CHECKBOXES_MODE) || !touch) {\r\n                            eventsEngine.on($table, addNamespace(holdEvent.name, \"dxDataGridRowsView\"), \".\" + DATA_ROW_CLASS, that.createAction((function(e) {\r\n                                processLongTap(that.component, e.event);\r\n                                e.event.stopPropagation()\r\n                            })))\r\n                        }\r\n                        eventsEngine.on($table, \"mousedown selectstart\", that.createAction((function(e) {\r\n                            var event = e.event;\r\n                            if (event.shiftKey) {\r\n                                event.preventDefault()\r\n                            }\r\n                        })))\r\n                    }\r\n                    return $table\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var isSelected = !!row.isSelected;\r\n                        if (isSelected) {\r\n                            $row.addClass(ROW_SELECTION_CLASS)\r\n                        }\r\n                        this.setAria(\"selected\", isSelected, $row)\r\n                    }\r\n                    return $row\r\n                },\r\n                _rowClick: function(e) {\r\n                    var dxEvent = e.event;\r\n                    var isSelectionDisabled = $(dxEvent.target).closest(\".\" + SELECTION_DISABLED_CLASS).length;\r\n                    if (!this.isClickableElement($(dxEvent.target))) {\r\n                        if (!isSelectionDisabled && (\"multiple\" !== this.option(SELECTION_MODE) || \"always\" !== this.option(SHOW_CHECKBOXES_MODE))) {\r\n                            if (this.getController(\"selection\").changeItemSelection(e.rowIndex, {\r\n                                    control: isCommandKeyPressed(dxEvent),\r\n                                    shift: dxEvent.shiftKey\r\n                                })) {\r\n                                dxEvent.preventDefault();\r\n                                e.handled = true\r\n                            }\r\n                        }\r\n                        this.callBase(e)\r\n                    }\r\n                },\r\n                isClickableElement: function($target) {\r\n                    var isCommandSelect = $target.closest(\".\" + COMMAND_SELECT_CLASS).length;\r\n                    return !!isCommandSelect\r\n                },\r\n                _renderCore: function(change) {\r\n                    this.callBase(change);\r\n                    this._updateCheckboxesClass()\r\n                },\r\n                _updateCheckboxesClass: function() {\r\n                    var tableElements = this.getTableElements();\r\n                    var selectionController = this.getController(\"selection\");\r\n                    var isCheckBoxesHidden = selectionController.isSelectColumnVisible() && !selectionController.isSelectionWithCheckboxes();\r\n                    each(tableElements, (function(_, tableElement) {\r\n                        $(tableElement).toggleClass(CHECKBOXES_HIDDEN_CLASS, isCheckBoxesHidden)\r\n                    }))\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.selection.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    selectionModule\r\n} from \"../grid_core/ui.grid_core.selection\";\r\ngridCore.registerModule(\"selection\", selectionModule);\r\n","/**\r\n * DevExtreme (esm/ui/tree_view/ui.tree_view.base.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    asyncNoop,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    isDefined,\r\n    isPrimitive,\r\n    isFunction,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport CheckBox from \"../check_box\";\r\nimport HierarchicalCollectionWidget from \"../hierarchical_collection/ui.hierarchical_collection_widget\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    name as dblclickEvent\r\n} from \"../../events/double_click\";\r\nimport fx from \"../../animation/fx\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport LoadIndicator from \"../load_indicator\";\r\nimport {\r\n    fromPromise,\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    nativeScrolling\r\n} from \"../../core/utils/support\";\r\nimport {\r\n    getRelativeOffset\r\n} from \"../../renovation/ui/scroll_view/utils/get_relative_offset\";\r\nimport {\r\n    SCROLLABLE_CONTENT_CLASS,\r\n    DIRECTION_HORIZONTAL,\r\n    DIRECTION_VERTICAL\r\n} from \"../../renovation/ui/scroll_view/common/consts\";\r\nvar WIDGET_CLASS = \"dx-treeview\";\r\nvar NODE_CLASS = \"\".concat(WIDGET_CLASS, \"-node\");\r\nvar NODE_CONTAINER_CLASS = \"\".concat(NODE_CLASS, \"-container\");\r\nvar NODE_LOAD_INDICATOR_CLASS = \"\".concat(NODE_CLASS, \"-loadindicator\");\r\nvar OPENED_NODE_CONTAINER_CLASS = \"\".concat(NODE_CLASS, \"-container-opened\");\r\nvar IS_LEAF = \"\".concat(NODE_CLASS, \"-is-leaf\");\r\nvar ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-item\");\r\nvar ITEM_WITH_CHECKBOX_CLASS = \"\".concat(ITEM_CLASS, \"-with-checkbox\");\r\nvar ITEM_WITHOUT_CHECKBOX_CLASS = \"\".concat(ITEM_CLASS, \"-without-checkbox\");\r\nvar ITEM_DATA_KEY = \"\".concat(ITEM_CLASS, \"-data\");\r\nvar TOGGLE_ITEM_VISIBILITY_CLASS = \"\".concat(WIDGET_CLASS, \"-toggle-item-visibility\");\r\nvar LOAD_INDICATOR_CLASS = \"\".concat(WIDGET_CLASS, \"-loadindicator\");\r\nvar LOAD_INDICATOR_WRAPPER_CLASS = \"\".concat(WIDGET_CLASS, \"-loadindicator-wrapper\");\r\nvar TOGGLE_ITEM_VISIBILITY_OPENED_CLASS = \"\".concat(WIDGET_CLASS, \"-toggle-item-visibility-opened\");\r\nvar SELECT_ALL_ITEM_CLASS = \"\".concat(WIDGET_CLASS, \"-select-all-item\");\r\nvar INVISIBLE_STATE_CLASS = \"dx-state-invisible\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar SELECTED_ITEM_CLASS = \"dx-state-selected\";\r\nvar EXPAND_EVENT_NAMESPACE = \"dxTreeView_expand\";\r\nvar DATA_ITEM_ID = \"data-item-id\";\r\nvar TreeViewBase = HierarchicalCollectionWidget.inherit({\r\n    _supportedKeys: function(e) {\r\n        var click = e => {\r\n            var $itemElement = $(this.option(\"focusedElement\"));\r\n            if (!$itemElement.length) {\r\n                return\r\n            }\r\n            e.target = $itemElement;\r\n            e.currentTarget = $itemElement;\r\n            this._itemClickHandler(e, $itemElement.children(\".\" + ITEM_CLASS));\r\n            var expandEventName = this._getEventNameByOption(this.option(\"expandEvent\"));\r\n            var expandByClick = expandEventName === addNamespace(clickEventName, EXPAND_EVENT_NAMESPACE);\r\n            if (expandByClick) {\r\n                this._expandEventHandler(e)\r\n            }\r\n        };\r\n        var select = e => {\r\n            e.preventDefault();\r\n            var $focusedElement = $(this.option(\"focusedElement\"));\r\n            var checkboxInstance = this._getCheckBoxInstance($focusedElement);\r\n            if (!checkboxInstance.option(\"disabled\")) {\r\n                var currentState = checkboxInstance.option(\"value\");\r\n                this._updateItemSelection(!currentState, $focusedElement.find(\".\" + ITEM_CLASS).get(0), true)\r\n            }\r\n        };\r\n        var toggleExpandedNestedItems = function(state, e) {\r\n            if (!this.option(\"expandAllEnabled\")) {\r\n                return\r\n            }\r\n            e.preventDefault();\r\n            var $rootElement = $(this.option(\"focusedElement\"));\r\n            if (!$rootElement.length) {\r\n                return\r\n            }\r\n            var rootItem = this._getItemData($rootElement.find(\".\".concat(ITEM_CLASS)));\r\n            this._toggleExpandedNestedItems([rootItem], state)\r\n        };\r\n        return extend(this.callBase(), {\r\n            enter: this._showCheckboxes() ? select : click,\r\n            space: this._showCheckboxes() ? select : click,\r\n            asterisk: toggleExpandedNestedItems.bind(this, true),\r\n            minus: toggleExpandedNestedItems.bind(this, false)\r\n        })\r\n    },\r\n    _toggleExpandedNestedItems: function(items, state) {\r\n        if (!items) {\r\n            return\r\n        }\r\n        for (var i = 0, len = items.length; i < len; i++) {\r\n            var item = items[i];\r\n            var node = this._dataAdapter.getNodeByItem(item);\r\n            this._toggleExpandedState(node, state);\r\n            this._toggleExpandedNestedItems(item.items, state)\r\n        }\r\n    },\r\n    _getNodeElement: function(node, cache) {\r\n        var key = this._encodeString(node.internalFields.key);\r\n        if (cache) {\r\n            if (!cache.$nodeByKey) {\r\n                cache.$nodeByKey = {};\r\n                this.$element().find(\".\".concat(NODE_CLASS)).each((function() {\r\n                    var $node = $(this);\r\n                    var key = $node.attr(DATA_ITEM_ID);\r\n                    cache.$nodeByKey[key] = $node\r\n                }))\r\n            }\r\n            return cache.$nodeByKey[key] || $()\r\n        }\r\n        var element = this.$element().get(0).querySelector(\"[\".concat(DATA_ITEM_ID, '=\"').concat(key, '\"]'));\r\n        return $(element)\r\n    },\r\n    _activeStateUnit: \".\" + ITEM_CLASS,\r\n    _widgetClass: function() {\r\n        return WIDGET_CLASS\r\n    },\r\n    _getDefaultOptions: function() {\r\n        var defaultOptions = extend(this.callBase(), {\r\n            animationEnabled: true,\r\n            dataStructure: \"tree\",\r\n            deferRendering: true,\r\n            expandAllEnabled: false,\r\n            hasItemsExpr: \"hasItems\",\r\n            selectNodesRecursive: true,\r\n            expandNodesRecursive: true,\r\n            showCheckBoxesMode: \"none\",\r\n            selectAllText: messageLocalization.format(\"dxList-selectAll\"),\r\n            onItemSelectionChanged: null,\r\n            onItemExpanded: null,\r\n            onItemCollapsed: null,\r\n            scrollDirection: \"vertical\",\r\n            useNativeScrolling: true,\r\n            virtualModeEnabled: false,\r\n            rootValue: 0,\r\n            focusStateEnabled: false,\r\n            selectionMode: \"multiple\",\r\n            expandEvent: \"dblclick\",\r\n            selectByClick: false,\r\n            createChildren: null,\r\n            onSelectAllValueChanged: null\r\n        });\r\n        return extend(true, defaultOptions, {\r\n            integrationOptions: {\r\n                useDeferUpdateForTemplates: false\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return !nativeScrolling\r\n            },\r\n            options: {\r\n                useNativeScrolling: false\r\n            }\r\n        }])\r\n    },\r\n    _initSelectedItems: noop,\r\n    _syncSelectionOptions: asyncNoop,\r\n    _fireSelectionChanged: function() {\r\n        var selectionChangePromise = this._selectionChangePromise;\r\n        when(selectionChangePromise).done(function() {\r\n            this._createActionByOption(\"onSelectionChanged\", {\r\n                excludeValidators: [\"disabled\", \"readOnly\"]\r\n            })()\r\n        }.bind(this))\r\n    },\r\n    _createSelectAllValueChangedAction: function() {\r\n        this._selectAllValueChangedAction = this._createActionByOption(\"onSelectAllValueChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    _fireSelectAllValueChanged: function(value) {\r\n        this._selectAllValueChangedAction({\r\n            value: value\r\n        })\r\n    },\r\n    _checkBoxModeChange: function(value, previousValue) {\r\n        if (\"none\" === previousValue || \"none\" === value) {\r\n            this.repaint();\r\n            return\r\n        }\r\n        var selectAllExists = this._$selectAllItem && this._$selectAllItem.length;\r\n        switch (value) {\r\n            case \"selectAll\":\r\n                if (!selectAllExists) {\r\n                    this._createSelectAllValueChangedAction();\r\n                    this._renderSelectAllItem()\r\n                }\r\n                break;\r\n            case \"normal\":\r\n                if (selectAllExists) {\r\n                    this._$selectAllItem.remove();\r\n                    delete this._$selectAllItem\r\n                }\r\n        }\r\n    },\r\n    _removeSelection: function() {\r\n        var that = this;\r\n        each(this._dataAdapter.getFullData(), (function(_, node) {\r\n            if (!that._hasChildren(node)) {\r\n                return\r\n            }\r\n            that._dataAdapter.toggleSelection(node.internalFields.key, false, true)\r\n        }))\r\n    },\r\n    _optionChanged: function(args) {\r\n        var {\r\n            name: name,\r\n            value: value,\r\n            previousValue: previousValue\r\n        } = args;\r\n        switch (name) {\r\n            case \"selectAllText\":\r\n                if (this._$selectAllItem) {\r\n                    this._$selectAllItem.dxCheckBox(\"instance\").option(\"text\", value)\r\n                }\r\n                break;\r\n            case \"showCheckBoxesMode\":\r\n                this._checkBoxModeChange(value, previousValue);\r\n                break;\r\n            case \"scrollDirection\":\r\n                this.getScrollable().option(\"direction\", value);\r\n                break;\r\n            case \"useNativeScrolling\":\r\n                this.getScrollable().option(\"useNative\", value);\r\n                break;\r\n            case \"items\":\r\n                delete this._$selectAllItem;\r\n                this.callBase(args);\r\n                break;\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                this._initDataAdapter();\r\n                this._filter = {};\r\n                break;\r\n            case \"hasItemsExpr\":\r\n                this._initAccessors();\r\n                this.repaint();\r\n                break;\r\n            case \"expandEvent\":\r\n                this._initExpandEvent();\r\n                break;\r\n            case \"deferRendering\":\r\n            case \"dataStructure\":\r\n            case \"rootValue\":\r\n            case \"createChildren\":\r\n            case \"expandNodesRecursive\":\r\n            case \"onItemSelectionChanged\":\r\n            case \"onItemExpanded\":\r\n            case \"onItemCollapsed\":\r\n            case \"expandAllEnabled\":\r\n            case \"animationEnabled\":\r\n            case \"virtualModeEnabled\":\r\n            case \"selectByClick\":\r\n                break;\r\n            case \"selectionMode\":\r\n                this._initDataAdapter();\r\n                this.callBase(args);\r\n                break;\r\n            case \"onSelectAllValueChanged\":\r\n                this._createSelectAllValueChangedAction();\r\n                break;\r\n            case \"selectNodesRecursive\":\r\n                this._dataAdapter.setOption(\"recursiveSelection\", args.value);\r\n                this.repaint();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _initDataSource: function() {\r\n        if (this._useCustomChildrenLoader()) {\r\n            this._loadChildrenByCustomLoader(null).done(function(newItems) {\r\n                if (newItems && newItems.length) {\r\n                    this.option(\"items\", newItems)\r\n                }\r\n            }.bind(this))\r\n        } else {\r\n            this.callBase();\r\n            this._isVirtualMode() && this._initVirtualMode()\r\n        }\r\n    },\r\n    _initVirtualMode: function() {\r\n        var filter = this._filter;\r\n        if (!filter.custom) {\r\n            filter.custom = this._dataSource.filter()\r\n        }\r\n        if (!filter.internal) {\r\n            filter.internal = [this.option(\"parentIdExpr\"), this.option(\"rootValue\")]\r\n        }\r\n    },\r\n    _useCustomChildrenLoader: function() {\r\n        return isFunction(this.option(\"createChildren\")) && this._isDataStructurePlain()\r\n    },\r\n    _loadChildrenByCustomLoader: function(parentNode) {\r\n        var invocationResult = this.option(\"createChildren\").call(this, parentNode);\r\n        if (Array.isArray(invocationResult)) {\r\n            return (new Deferred).resolve(invocationResult).promise()\r\n        }\r\n        if (invocationResult && isFunction(invocationResult.then)) {\r\n            return fromPromise(invocationResult)\r\n        }\r\n        return (new Deferred).resolve([]).promise()\r\n    },\r\n    _combineFilter: function() {\r\n        if (!this._filter.custom || !this._filter.custom.length) {\r\n            return this._filter.internal\r\n        }\r\n        return [this._filter.custom, this._filter.internal]\r\n    },\r\n    _dataSourceLoadErrorHandler: function() {\r\n        this._renderEmptyMessage()\r\n    },\r\n    _init: function() {\r\n        this._filter = {};\r\n        this.callBase();\r\n        this._initStoreChangeHandlers()\r\n    },\r\n    _dataSourceChangedHandler: function(newItems) {\r\n        var items = this.option(\"items\");\r\n        if (this._initialized && this._isVirtualMode() && items.length) {\r\n            return\r\n        }\r\n        this.option(\"items\", newItems)\r\n    },\r\n    _removeTreeViewLoadIndicator: function() {\r\n        if (!this._treeViewLoadIndicator) {\r\n            return\r\n        }\r\n        this._treeViewLoadIndicator.remove();\r\n        this._treeViewLoadIndicator = null\r\n    },\r\n    _createTreeViewLoadIndicator: function() {\r\n        this._treeViewLoadIndicator = $(\"<div>\").addClass(LOAD_INDICATOR_CLASS);\r\n        this._createComponent(this._treeViewLoadIndicator, LoadIndicator, {});\r\n        return this._treeViewLoadIndicator\r\n    },\r\n    _dataSourceLoadingChangedHandler: function(isLoading) {\r\n        var resultFilter;\r\n        if (this._isVirtualMode()) {\r\n            resultFilter = this._combineFilter();\r\n            this._dataSource.filter(resultFilter)\r\n        }\r\n        if (isLoading && !this._dataSource.isLoaded()) {\r\n            this.option(\"items\", []);\r\n            var $wrapper = $(\"<div>\").addClass(LOAD_INDICATOR_WRAPPER_CLASS);\r\n            this._createTreeViewLoadIndicator().appendTo($wrapper);\r\n            this.itemsContainer().append($wrapper);\r\n            if (this._isVirtualMode() && this._dataSource.filter() !== resultFilter) {\r\n                this._dataSource.filter([])\r\n            }\r\n        } else {\r\n            this._removeTreeViewLoadIndicator()\r\n        }\r\n    },\r\n    _initStoreChangeHandlers: function() {\r\n        if (\"plain\" !== this.option(\"dataStructure\")) {\r\n            return\r\n        }\r\n        this._dataSource && this._dataSource.store().on(\"inserted\", newItem => {\r\n            this.option().items = this.option(\"items\").concat(newItem);\r\n            this._dataAdapter.addItem(newItem);\r\n            if (!this._dataAdapter.isFiltered(newItem)) {\r\n                return\r\n            }\r\n            this._updateLevel(this._parentIdGetter(newItem))\r\n        }).on(\"removed\", removedKey => {\r\n            var node = this._dataAdapter.getNodeByKey(removedKey);\r\n            if (isDefined(node)) {\r\n                this.option(\"items\")[this._dataAdapter.getIndexByKey(node.internalFields.key)] = 0;\r\n                this._markChildrenItemsToRemove(node);\r\n                this._removeItems();\r\n                this._dataAdapter.removeItem(removedKey);\r\n                this._updateLevel(this._parentIdGetter(node))\r\n            }\r\n        })\r\n    },\r\n    _markChildrenItemsToRemove: function(node) {\r\n        var keys = node.internalFields.childrenKeys;\r\n        each(keys, (_, key) => {\r\n            this.option(\"items\")[this._dataAdapter.getIndexByKey(key)] = 0;\r\n            this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(key))\r\n        })\r\n    },\r\n    _removeItems: function() {\r\n        var items = extend(true, [], this.option(\"items\"));\r\n        var counter = 0;\r\n        each(items, (index, item) => {\r\n            if (!item) {\r\n                this.option(\"items\").splice(index - counter, 1);\r\n                counter++\r\n            }\r\n        })\r\n    },\r\n    _updateLevel: function(parentId) {\r\n        var $container = this._getContainerByParentKey(parentId);\r\n        this._renderItems($container, this._dataAdapter.getChildrenNodes(parentId))\r\n    },\r\n    _getOldContainer: function($itemElement) {\r\n        if ($itemElement.length) {\r\n            return $itemElement.children(\".\".concat(NODE_CONTAINER_CLASS))\r\n        }\r\n        var scrollable = this.getScrollable();\r\n        if (scrollable) {\r\n            return $(scrollable.content()).children()\r\n        }\r\n        return $()\r\n    },\r\n    _getContainerByParentKey: function(parentId) {\r\n        var node = this._dataAdapter.getNodeByKey(parentId);\r\n        var $itemElement = node ? this._getNodeElement(node) : [];\r\n        this._getOldContainer($itemElement).remove();\r\n        var $container = this._renderNodeContainer($itemElement);\r\n        if (this._isRootLevel(parentId)) {\r\n            var scrollable = this.getScrollable();\r\n            if (!scrollable) {\r\n                this._renderScrollableContainer()\r\n            }\r\n            $(scrollable.content()).append($container)\r\n        }\r\n        return $container\r\n    },\r\n    _isRootLevel: function(parentId) {\r\n        return parentId === this.option(\"rootValue\")\r\n    },\r\n    _getAccessors: function() {\r\n        var accessors = this.callBase();\r\n        accessors.push(\"hasItems\");\r\n        return accessors\r\n    },\r\n    _getDataAdapterOptions: function() {\r\n        return {\r\n            rootValue: this.option(\"rootValue\"),\r\n            multipleSelection: !this._isSingleSelection(),\r\n            recursiveSelection: this._isRecursiveSelection(),\r\n            recursiveExpansion: this.option(\"expandNodesRecursive\"),\r\n            selectionRequired: this.option(\"selectionRequired\"),\r\n            dataType: this.option(\"dataStructure\"),\r\n            sort: this._dataSource && this._dataSource.sort()\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        this._renderScrollableContainer();\r\n        this._renderEmptyMessage(this._dataAdapter.getRootNodes());\r\n        this.callBase();\r\n        this.setAria(\"role\", \"tree\")\r\n    },\r\n    _renderContentImpl: function() {\r\n        var $nodeContainer = this._renderNodeContainer();\r\n        $(this.getScrollable().content()).append($nodeContainer);\r\n        if (!this.option(\"items\") || !this.option(\"items\").length) {\r\n            return\r\n        }\r\n        this._renderItems($nodeContainer, this._dataAdapter.getRootNodes());\r\n        this._initExpandEvent();\r\n        if (this._selectAllEnabled()) {\r\n            this._createSelectAllValueChangedAction();\r\n            this._renderSelectAllItem($nodeContainer)\r\n        }\r\n    },\r\n    _isVirtualMode: function() {\r\n        return this.option(\"virtualModeEnabled\") && this._isDataStructurePlain() && !!this.option(\"dataSource\")\r\n    },\r\n    _isDataStructurePlain: function() {\r\n        return \"plain\" === this.option(\"dataStructure\")\r\n    },\r\n    _fireContentReadyAction: function() {\r\n        var dataSource = this.getDataSource();\r\n        var skipContentReadyAction = dataSource && !dataSource.isLoaded();\r\n        var scrollable = this.getScrollable();\r\n        if (scrollable && hasWindow()) {\r\n            scrollable.update()\r\n        }\r\n        if (!skipContentReadyAction) {\r\n            this.callBase()\r\n        }\r\n        if (scrollable && hasWindow()) {\r\n            scrollable.update()\r\n        }\r\n    },\r\n    _renderScrollableContainer: function() {\r\n        this._scrollable = this._createComponent($(\"<div>\").appendTo(this.$element()), Scrollable, {\r\n            useNative: this.option(\"useNativeScrolling\"),\r\n            direction: this.option(\"scrollDirection\"),\r\n            useKeyboard: false\r\n        })\r\n    },\r\n    _renderNodeContainer: function($parent) {\r\n        var $container = $(\"<ul>\").addClass(NODE_CONTAINER_CLASS);\r\n        this.setAria(\"role\", \"group\", $container);\r\n        if ($parent && $parent.length) {\r\n            var itemData = this._getItemData($parent.children(\".\" + ITEM_CLASS));\r\n            if (this._expandedGetter(itemData)) {\r\n                $container.addClass(OPENED_NODE_CONTAINER_CLASS)\r\n            }\r\n            $container.appendTo($parent)\r\n        }\r\n        return $container\r\n    },\r\n    _createDOMElement: function($nodeContainer, node) {\r\n        var $node = $(\"<li>\").addClass(NODE_CLASS).attr(DATA_ITEM_ID, this._encodeString(node.internalFields.key)).prependTo($nodeContainer);\r\n        this.setAria({\r\n            role: \"treeitem\",\r\n            label: this._displayGetter(node.internalFields.item) || \"\",\r\n            expanded: node.internalFields.expanded || false,\r\n            level: this._getLevel($nodeContainer)\r\n        }, $node);\r\n        return $node\r\n    },\r\n    _getLevel: function($nodeContainer) {\r\n        var parent = $nodeContainer.parent();\r\n        return parent.hasClass(\"dx-scrollable-content\") ? 1 : parseInt(parent.attr(\"aria-level\")) + 1\r\n    },\r\n    _showCheckboxes: function() {\r\n        return \"none\" !== this.option(\"showCheckBoxesMode\")\r\n    },\r\n    _selectAllEnabled: function() {\r\n        return \"selectAll\" === this.option(\"showCheckBoxesMode\") && !this._isSingleSelection()\r\n    },\r\n    _renderItems: function($nodeContainer, nodes) {\r\n        var length = nodes.length - 1;\r\n        for (var i = length; i >= 0; i--) {\r\n            this._renderItem(i, nodes[i], $nodeContainer)\r\n        }\r\n        this._renderedItemsCount += nodes.length\r\n    },\r\n    _renderItem: function(nodeIndex, node, $nodeContainer) {\r\n        var $node = this._createDOMElement($nodeContainer, node);\r\n        var nodeData = node.internalFields;\r\n        var showCheckBox = this._showCheckboxes();\r\n        $node.addClass(showCheckBox ? ITEM_WITH_CHECKBOX_CLASS : ITEM_WITHOUT_CHECKBOX_CLASS);\r\n        $node.toggleClass(INVISIBLE_STATE_CLASS, false === nodeData.item.visible);\r\n        showCheckBox && this._renderCheckBox($node, node);\r\n        this.setAria(\"selected\", nodeData.selected, $node);\r\n        this._toggleSelectedClass($node, nodeData.selected);\r\n        this.callBase(this._renderedItemsCount + nodeIndex, nodeData.item, $node);\r\n        if (false !== nodeData.item.visible) {\r\n            this._renderChildren($node, node)\r\n        }\r\n    },\r\n    _setAriaSelected: function() {},\r\n    _renderChildren: function($node, node) {\r\n        if (!this._hasChildren(node)) {\r\n            this._addLeafClass($node);\r\n            return\r\n        }\r\n        this._renderToggleItemVisibilityIcon($node, node);\r\n        if (this.option(\"deferRendering\") && !node.internalFields.expanded) {\r\n            return\r\n        }\r\n        this._loadSublevel(node).done(childNodes => {\r\n            this._renderSublevel($node, this._getActualNode(node), childNodes)\r\n        })\r\n    },\r\n    _getActualNode: function(cachedNode) {\r\n        return this._dataAdapter.getNodeByKey(cachedNode.internalFields.key)\r\n    },\r\n    _hasChildren: function(node) {\r\n        if (this._isVirtualMode() || this._useCustomChildrenLoader()) {\r\n            return false !== this._hasItemsGetter(node.internalFields.item)\r\n        }\r\n        return this.callBase(node)\r\n    },\r\n    _loadSublevel: function(node) {\r\n        var deferred = new Deferred;\r\n        var childrenNodes = this._getChildNodes(node);\r\n        if (childrenNodes.length) {\r\n            deferred.resolve(childrenNodes)\r\n        } else {\r\n            this._loadNestedItems(node).done(items => {\r\n                deferred.resolve(this._dataAdapter.getNodesByItems(items))\r\n            })\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    _renderSublevel: function($node, node, childNodes) {\r\n        var $nestedNodeContainer = this._renderNodeContainer($node, node);\r\n        var childNodesByChildrenKeys = childNodes.filter(childNode => -1 !== node.internalFields.childrenKeys.indexOf(childNode.internalFields.key));\r\n        this._renderItems($nestedNodeContainer, childNodesByChildrenKeys);\r\n        if (childNodesByChildrenKeys.length && !node.internalFields.selected) {\r\n            var firstChild = childNodesByChildrenKeys[0];\r\n            this._updateParentsState(firstChild, this._getNodeElement(firstChild))\r\n        }\r\n        this._normalizeIconState($node, childNodesByChildrenKeys.length);\r\n        if (node.internalFields.expanded) {\r\n            $nestedNodeContainer.addClass(OPENED_NODE_CONTAINER_CLASS)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(itemIndex, itemData, itemElement) {\r\n        var node = this._getNode(itemElement);\r\n        this._getItemRenderAction()({\r\n            itemElement: itemElement,\r\n            itemIndex: itemIndex,\r\n            itemData: itemData,\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    _addLeafClass: function($node) {\r\n        $node.addClass(IS_LEAF)\r\n    },\r\n    _expandEventHandler: function(e) {\r\n        var $nodeElement = $(e.currentTarget.parentNode);\r\n        if (!$nodeElement.hasClass(IS_LEAF)) {\r\n            this._toggleExpandedState(e.currentTarget, void 0, e)\r\n        }\r\n    },\r\n    _initExpandEvent: function() {\r\n        var expandedEventName = this._getEventNameByOption(this.option(\"expandEvent\"));\r\n        var $itemsContainer = this._itemContainer();\r\n        var itemSelector = this._itemSelector();\r\n        eventsEngine.off($itemsContainer, \".\" + EXPAND_EVENT_NAMESPACE, itemSelector);\r\n        eventsEngine.on($itemsContainer, expandedEventName, itemSelector, this._expandEventHandler.bind(this))\r\n    },\r\n    _getEventNameByOption: function(name) {\r\n        var event = \"click\" === name ? clickEventName : dblclickEvent;\r\n        return addNamespace(event, EXPAND_EVENT_NAMESPACE)\r\n    },\r\n    _getNode: function(identifier) {\r\n        if (!isDefined(identifier)) {\r\n            return null\r\n        }\r\n        if (identifier.internalFields) {\r\n            return identifier\r\n        }\r\n        if (isPrimitive(identifier)) {\r\n            return this._dataAdapter.getNodeByKey(identifier)\r\n        }\r\n        var itemElement = $(identifier).get(0);\r\n        if (!itemElement) {\r\n            return null\r\n        }\r\n        if (domAdapter.isElementNode(itemElement)) {\r\n            return this._getNodeByElement(itemElement)\r\n        }\r\n        return this._dataAdapter.getNodeByItem(itemElement)\r\n    },\r\n    _getNodeByElement: function(itemElement) {\r\n        var $node = $(itemElement).closest(\".\" + NODE_CLASS);\r\n        var key = this._decodeString($node.attr(DATA_ITEM_ID));\r\n        return this._dataAdapter.getNodeByKey(key)\r\n    },\r\n    _toggleExpandedState: function(itemElement, state, e) {\r\n        var node = this._getNode(itemElement);\r\n        if (!node) {\r\n            return (new Deferred).reject().promise()\r\n        }\r\n        if (node.internalFields.disabled) {\r\n            return (new Deferred).reject().promise()\r\n        }\r\n        var currentState = node.internalFields.expanded;\r\n        if (currentState === state) {\r\n            return (new Deferred).resolve().promise()\r\n        }\r\n        if (this._hasChildren(node)) {\r\n            var $node = this._getNodeElement(node);\r\n            if ($node.find(\".\".concat(NODE_LOAD_INDICATOR_CLASS, \":not(.\").concat(INVISIBLE_STATE_CLASS, \")\")).length) {\r\n                return (new Deferred).reject().promise()\r\n            }\r\n            this._createLoadIndicator($node)\r\n        }\r\n        if (!isDefined(state)) {\r\n            state = !currentState\r\n        }\r\n        this._dataAdapter.toggleExpansion(node.internalFields.key, state);\r\n        return this._updateExpandedItemsUI(node, state, e)\r\n    },\r\n    _createLoadIndicator: function($node) {\r\n        var $icon = $node.children(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        if ($icon.hasClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS) || $nodeContainer.not(\":empty\").length) {\r\n            return\r\n        }\r\n        this._createComponent($(\"<div>\").addClass(NODE_LOAD_INDICATOR_CLASS), LoadIndicator, {}).$element().appendTo($node);\r\n        $icon.hide()\r\n    },\r\n    _renderToggleItemVisibilityIcon: function($node, node) {\r\n        var $icon = $(\"<div>\").addClass(TOGGLE_ITEM_VISIBILITY_CLASS).appendTo($node);\r\n        if (node.internalFields.expanded) {\r\n            $icon.addClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS);\r\n            $node.parent().addClass(OPENED_NODE_CONTAINER_CLASS)\r\n        }\r\n        if (node.internalFields.disabled) {\r\n            $icon.addClass(DISABLED_STATE_CLASS)\r\n        }\r\n        this._renderToggleItemVisibilityIconClick($icon, node)\r\n    },\r\n    _renderToggleItemVisibilityIconClick: function($icon, node) {\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        eventsEngine.off($icon, eventName);\r\n        eventsEngine.on($icon, eventName, e => {\r\n            this._toggleExpandedState(node.internalFields.key, void 0, e)\r\n        })\r\n    },\r\n    _updateExpandedItemsUI: function(node, state, e) {\r\n        var $node = this._getNodeElement(node);\r\n        var isHiddenNode = !$node.length || state && $node.is(\":hidden\");\r\n        if (this.option(\"expandNodesRecursive\") && isHiddenNode) {\r\n            var parentNode = this._getNode(node.internalFields.parentKey);\r\n            if (parentNode) {\r\n                this._updateExpandedItemsUI(parentNode, state, e)\r\n            }\r\n        }\r\n        var $icon = $node.children(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        $icon.toggleClass(TOGGLE_ITEM_VISIBILITY_OPENED_CLASS, state);\r\n        var nodeContainerExists = $nodeContainer.length > 0;\r\n        var completionCallback = new Deferred;\r\n        if (!state || nodeContainerExists && !$nodeContainer.is(\":empty\")) {\r\n            this._animateNodeContainer(node, state, e, completionCallback);\r\n            return completionCallback.promise()\r\n        }\r\n        if (0 === node.internalFields.childrenKeys.length && (this._isVirtualMode() || this._useCustomChildrenLoader())) {\r\n            this._loadNestedItemsWithUpdate(node, state, e, completionCallback);\r\n            return completionCallback.promise()\r\n        }\r\n        this._renderSublevel($node, node, this._getChildNodes(node));\r\n        this._fireContentReadyAction();\r\n        this._animateNodeContainer(node, state, e, completionCallback);\r\n        return completionCallback.promise()\r\n    },\r\n    _loadNestedItemsWithUpdate: function(node, state, e, completionCallback) {\r\n        var $node = this._getNodeElement(node);\r\n        this._loadNestedItems(node).done(items => {\r\n            var actualNodeData = this._getActualNode(node);\r\n            this._renderSublevel($node, actualNodeData, this._dataAdapter.getNodesByItems(items));\r\n            if (!items || !items.length) {\r\n                return\r\n            }\r\n            this._fireContentReadyAction();\r\n            this._animateNodeContainer(actualNodeData, state, e, completionCallback)\r\n        })\r\n    },\r\n    _loadNestedItems: function(node) {\r\n        if (this._useCustomChildrenLoader()) {\r\n            var publicNode = this._dataAdapter.getPublicNode(node);\r\n            return this._loadChildrenByCustomLoader(publicNode).done(newItems => {\r\n                if (!this._areNodesExists(newItems)) {\r\n                    this._appendItems(newItems)\r\n                }\r\n            })\r\n        }\r\n        if (!this._isVirtualMode()) {\r\n            return (new Deferred).resolve([]).promise()\r\n        }\r\n        this._filter.internal = [this.option(\"parentIdExpr\"), node.internalFields.key];\r\n        this._dataSource.filter(this._combineFilter());\r\n        return this._dataSource.load().done(newItems => {\r\n            if (!this._areNodesExists(newItems)) {\r\n                this._appendItems(newItems)\r\n            }\r\n        })\r\n    },\r\n    _areNodesExists: function(newItems, items) {\r\n        var keyOfRootItem = this.keyOf(newItems[0]);\r\n        var fullData = this._dataAdapter.getFullData();\r\n        return !!this._dataAdapter.getNodeByKey(keyOfRootItem, fullData)\r\n    },\r\n    _appendItems: function(newItems) {\r\n        this.option().items = this.option(\"items\").concat(newItems);\r\n        this._initDataAdapter()\r\n    },\r\n    _animateNodeContainer: function(node, state, e, completionCallback) {\r\n        var $node = this._getNodeElement(node);\r\n        var $nodeContainer = $node.children(\".\".concat(NODE_CONTAINER_CLASS));\r\n        if (node && completionCallback && 0 === $nodeContainer.length) {\r\n            completionCallback.resolve()\r\n        }\r\n        $nodeContainer.addClass(OPENED_NODE_CONTAINER_CLASS);\r\n        var nodeHeight = getHeight($nodeContainer);\r\n        fx.stop($nodeContainer, true);\r\n        fx.animate($nodeContainer, {\r\n            type: \"custom\",\r\n            duration: this.option(\"animationEnabled\") ? 400 : 0,\r\n            from: {\r\n                maxHeight: state ? 0 : nodeHeight\r\n            },\r\n            to: {\r\n                maxHeight: state ? nodeHeight : 0\r\n            },\r\n            complete: function() {\r\n                $nodeContainer.css(\"maxHeight\", \"none\");\r\n                $nodeContainer.toggleClass(OPENED_NODE_CONTAINER_CLASS, state);\r\n                this.setAria(\"expanded\", state, $node);\r\n                this.getScrollable().update();\r\n                this._fireExpandedStateUpdatedEvent(state, node, e);\r\n                if (completionCallback) {\r\n                    completionCallback.resolve()\r\n                }\r\n            }.bind(this)\r\n        })\r\n    },\r\n    _fireExpandedStateUpdatedEvent: function(isExpanded, node, e) {\r\n        if (!this._hasChildren(node)) {\r\n            return\r\n        }\r\n        var optionName = isExpanded ? \"onItemExpanded\" : \"onItemCollapsed\";\r\n        if (isDefined(e)) {\r\n            this._itemDXEventHandler(e, optionName, {\r\n                node: this._dataAdapter.getPublicNode(node)\r\n            })\r\n        } else {\r\n            var target = this._getNodeElement(node);\r\n            this._itemEventHandler(target, optionName, {\r\n                event: e,\r\n                node: this._dataAdapter.getPublicNode(node)\r\n            })\r\n        }\r\n    },\r\n    _normalizeIconState: function($node, hasNewItems) {\r\n        var $loadIndicator = $node.find(\".\".concat(NODE_LOAD_INDICATOR_CLASS));\r\n        $loadIndicator.length && LoadIndicator.getInstance($loadIndicator).option(\"visible\", false);\r\n        if (hasNewItems) {\r\n            var $icon = $node.find(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS);\r\n            $icon.show();\r\n            return\r\n        }\r\n        $node.find(\".\" + TOGGLE_ITEM_VISIBILITY_CLASS).removeClass(TOGGLE_ITEM_VISIBILITY_CLASS);\r\n        $node.addClass(IS_LEAF)\r\n    },\r\n    _emptyMessageContainer: function() {\r\n        var scrollable = this.getScrollable();\r\n        return scrollable ? $(scrollable.content()) : this.callBase()\r\n    },\r\n    _renderContent: function() {\r\n        var items = this.option(\"items\");\r\n        if (items && items.length) {\r\n            this._contentAlreadyRendered = true\r\n        }\r\n        this.callBase()\r\n    },\r\n    _renderSelectAllItem: function($container) {\r\n        $container = $container || this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).first();\r\n        this._$selectAllItem = $(\"<div>\").addClass(SELECT_ALL_ITEM_CLASS);\r\n        var value = this._dataAdapter.isAllSelected();\r\n        this._createComponent(this._$selectAllItem, CheckBox, {\r\n            value: value,\r\n            text: this.option(\"selectAllText\"),\r\n            onValueChanged: this._onSelectAllCheckboxValueChanged.bind(this)\r\n        });\r\n        this._toggleSelectedClass(this._$selectAllItem, value);\r\n        $container.before(this._$selectAllItem)\r\n    },\r\n    _onSelectAllCheckboxValueChanged: function(args) {\r\n        this._toggleSelectAll(args);\r\n        this._fireSelectAllValueChanged(args.value)\r\n    },\r\n    _toggleSelectAll: function(args) {\r\n        this._dataAdapter.toggleSelectAll(args.value);\r\n        this._updateItemsUI();\r\n        this._fireSelectionChanged()\r\n    },\r\n    _renderCheckBox: function($node, node) {\r\n        var $checkbox = $(\"<div>\").appendTo($node);\r\n        this._createComponent($checkbox, CheckBox, {\r\n            value: node.internalFields.selected,\r\n            onValueChanged: this._changeCheckboxValue.bind(this),\r\n            focusStateEnabled: false,\r\n            disabled: this._disabledGetter(node)\r\n        })\r\n    },\r\n    _toggleSelectedClass: function($node, value) {\r\n        $node.toggleClass(SELECTED_ITEM_CLASS, !!value)\r\n    },\r\n    _toggleNodeDisabledState: function(node, state) {\r\n        var $node = this._getNodeElement(node);\r\n        var $item = $node.find(\".\" + ITEM_CLASS).eq(0);\r\n        this._dataAdapter.toggleNodeDisabledState(node.internalFields.key, state);\r\n        $item.toggleClass(DISABLED_STATE_CLASS, !!state);\r\n        if (this._showCheckboxes()) {\r\n            var checkbox = this._getCheckBoxInstance($node);\r\n            checkbox.option(\"disabled\", !!state)\r\n        }\r\n    },\r\n    _itemOptionChanged: function(item, property, value) {\r\n        var node = this._dataAdapter.getNodeByItem(item);\r\n        if (property === this.option(\"disabledExpr\")) {\r\n            this._toggleNodeDisabledState(node, value)\r\n        }\r\n    },\r\n    _changeCheckboxValue: function(e) {\r\n        var $node = $(e.element).parent(\".\" + NODE_CLASS);\r\n        var $item = $node.children(\".\" + ITEM_CLASS);\r\n        var item = this._getItemData($item);\r\n        var node = this._getNodeByElement($item);\r\n        var value = e.value;\r\n        if (node && node.internalFields.selected === value) {\r\n            return\r\n        }\r\n        this._updateItemSelection(value, item, e.event)\r\n    },\r\n    _isSingleSelection: function() {\r\n        return \"single\" === this.option(\"selectionMode\")\r\n    },\r\n    _isRecursiveSelection: function() {\r\n        return this.option(\"selectNodesRecursive\") && \"single\" !== this.option(\"selectionMode\")\r\n    },\r\n    _isLastSelectedBranch: function(publicNode, selectedNodesKeys, deep) {\r\n        var keyIndex = selectedNodesKeys.indexOf(publicNode.key);\r\n        if (keyIndex >= 0) {\r\n            selectedNodesKeys.splice(keyIndex, 1)\r\n        }\r\n        if (deep) {\r\n            each(publicNode.children, function(_, childNode) {\r\n                this._isLastSelectedBranch(childNode, selectedNodesKeys, true)\r\n            }.bind(this))\r\n        }\r\n        if (publicNode.parent) {\r\n            this._isLastSelectedBranch(publicNode.parent, selectedNodesKeys)\r\n        }\r\n        return 0 === selectedNodesKeys.length\r\n    },\r\n    _isLastRequired: function(node) {\r\n        var selectionRequired = this.option(\"selectionRequired\");\r\n        var isSingleMode = this._isSingleSelection();\r\n        var selectedNodesKeys = this.getSelectedNodeKeys();\r\n        if (!selectionRequired) {\r\n            return\r\n        }\r\n        if (isSingleMode) {\r\n            return 1 === selectedNodesKeys.length\r\n        } else {\r\n            return this._isLastSelectedBranch(node.internalFields.publicNode, selectedNodesKeys.slice(), true)\r\n        }\r\n    },\r\n    _updateItemSelection: function(value, itemElement, dxEvent) {\r\n        var node = this._getNode(itemElement);\r\n        if (!node || false === node.visible) {\r\n            return false\r\n        }\r\n        if (node.internalFields.selected === value) {\r\n            return true\r\n        }\r\n        if (!value && this._isLastRequired(node)) {\r\n            if (this._showCheckboxes()) {\r\n                var $node = this._getNodeElement(node);\r\n                this._getCheckBoxInstance($node).option(\"value\", true)\r\n            }\r\n            return false\r\n        }\r\n        if (value && this._isSingleSelection()) {\r\n            var selectedKeys = this.getSelectedNodeKeys();\r\n            each(selectedKeys, (index, key) => {\r\n                this._dataAdapter.toggleSelection(key, false);\r\n                this._updateItemsUI();\r\n                this._fireItemSelectionChanged(this._getNode(key))\r\n            })\r\n        }\r\n        this._dataAdapter.toggleSelection(node.internalFields.key, value);\r\n        var isAllSelected = this._dataAdapter.isAllSelected();\r\n        var needFireSelectAllChanged = this._selectAllEnabled() && this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\") !== isAllSelected;\r\n        this._updateItemsUI();\r\n        this._fireItemSelectionChanged(node, dxEvent);\r\n        this._fireSelectionChanged();\r\n        if (needFireSelectAllChanged) {\r\n            this._fireSelectAllValueChanged(isAllSelected)\r\n        }\r\n        return true\r\n    },\r\n    _fireItemSelectionChanged: function(node, dxEvent) {\r\n        var initiator = dxEvent || this._findItemElementByItem(node.internalFields.item);\r\n        var handler = dxEvent ? this._itemDXEventHandler : this._itemEventHandler;\r\n        handler.call(this, initiator, \"onItemSelectionChanged\", {\r\n            node: this._dataAdapter.getPublicNode(node),\r\n            itemData: node.internalFields.item\r\n        })\r\n    },\r\n    _getCheckBoxInstance: function($node) {\r\n        return $node.children(\".dx-checkbox\").dxCheckBox(\"instance\")\r\n    },\r\n    _updateItemsUI: function() {\r\n        var cache = {};\r\n        each(this._dataAdapter.getData(), (_, node) => {\r\n            var $node = this._getNodeElement(node, cache);\r\n            var nodeSelection = node.internalFields.selected;\r\n            if (!$node.length) {\r\n                return\r\n            }\r\n            this._toggleSelectedClass($node, nodeSelection);\r\n            this.setAria(\"selected\", nodeSelection, $node);\r\n            if (this._showCheckboxes()) {\r\n                this._getCheckBoxInstance($node).option(\"value\", nodeSelection)\r\n            }\r\n        });\r\n        if (this._selectAllEnabled()) {\r\n            var selectAllCheckbox = this._$selectAllItem.dxCheckBox(\"instance\");\r\n            selectAllCheckbox.option(\"onValueChanged\", void 0);\r\n            selectAllCheckbox.option(\"value\", this._dataAdapter.isAllSelected());\r\n            selectAllCheckbox.option(\"onValueChanged\", this._onSelectAllCheckboxValueChanged.bind(this))\r\n        }\r\n    },\r\n    _updateParentsState: function(node, $node) {\r\n        if (!$node) {\r\n            return\r\n        }\r\n        var parentNode = this._dataAdapter.getNodeByKey(node.internalFields.parentKey);\r\n        var $parentNode = $($node.parents(\".\" + NODE_CLASS)[0]);\r\n        if (this._showCheckboxes()) {\r\n            var parentValue = parentNode.internalFields.selected;\r\n            this._getCheckBoxInstance($parentNode).option(\"value\", parentValue);\r\n            this._toggleSelectedClass($parentNode, parentValue)\r\n        }\r\n        if (parentNode.internalFields.parentKey !== this.option(\"rootValue\")) {\r\n            this._updateParentsState(parentNode, $parentNode)\r\n        }\r\n    },\r\n    _itemEventHandlerImpl: function(initiator, action, actionArgs) {\r\n        var $itemElement = $(initiator).closest(\".\" + NODE_CLASS).children(\".\" + ITEM_CLASS);\r\n        return action(extend(this._extendActionArgs($itemElement), actionArgs))\r\n    },\r\n    _itemContextMenuHandler: function(e) {\r\n        this._createEventHandler(\"onItemContextMenu\", e)\r\n    },\r\n    _itemHoldHandler: function(e) {\r\n        this._createEventHandler(\"onItemHold\", e)\r\n    },\r\n    _createEventHandler: function(eventName, e) {\r\n        var node = this._getNodeByElement(e.currentTarget);\r\n        this._itemDXEventHandler(e, eventName, {\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return ITEM_DATA_KEY\r\n    },\r\n    _attachClickEvent: function() {\r\n        var clickSelector = \".\" + this._itemClass();\r\n        var pointerDownSelector = \".\" + NODE_CLASS + \", .\" + SELECT_ALL_ITEM_CLASS;\r\n        var eventName = addNamespace(clickEventName, this.NAME);\r\n        var pointerDownEvent = addNamespace(pointerEvents.down, this.NAME);\r\n        var $itemContainer = this._itemContainer();\r\n        var that = this;\r\n        eventsEngine.off($itemContainer, eventName, clickSelector);\r\n        eventsEngine.off($itemContainer, pointerDownEvent, pointerDownSelector);\r\n        eventsEngine.on($itemContainer, eventName, clickSelector, (function(e) {\r\n            that._itemClickHandler(e, $(this))\r\n        }));\r\n        eventsEngine.on($itemContainer, pointerDownEvent, pointerDownSelector, (function(e) {\r\n            that._itemPointerDownHandler(e)\r\n        }))\r\n    },\r\n    _itemClickHandler: function(e, $item) {\r\n        var itemData = this._getItemData($item);\r\n        var node = this._getNodeByElement($item);\r\n        this._itemDXEventHandler(e, \"onItemClick\", {\r\n            node: this._dataAdapter.getPublicNode(node)\r\n        });\r\n        if (this.option(\"selectByClick\") && !e.isDefaultPrevented()) {\r\n            this._updateItemSelection(!node.internalFields.selected, itemData, e)\r\n        }\r\n    },\r\n    _updateSelectionToFirstItem: function($items, startIndex) {\r\n        var itemIndex = startIndex;\r\n        while (itemIndex >= 0) {\r\n            var $item = $($items[itemIndex]);\r\n            this._updateItemSelection(true, $item.find(\".\" + ITEM_CLASS).get(0));\r\n            itemIndex--\r\n        }\r\n    },\r\n    _updateSelectionToLastItem: function($items, startIndex) {\r\n        var length = $items.length;\r\n        var itemIndex = startIndex;\r\n        while (itemIndex < length) {\r\n            var $item = $($items[itemIndex]);\r\n            this._updateItemSelection(true, $item.find(\".\" + ITEM_CLASS).get(0));\r\n            itemIndex++\r\n        }\r\n    },\r\n    _focusInHandler: function(e) {\r\n        this._updateFocusState(e, true);\r\n        if (this.option(\"focusedElement\")) {\r\n            clearTimeout(this._setFocusedItemTimeout);\r\n            this._setFocusedItemTimeout = setTimeout(() => {\r\n                this._setFocusedItem($(this.option(\"focusedElement\")))\r\n            });\r\n            return\r\n        }\r\n        var $activeItem = this._getActiveItem();\r\n        this.option(\"focusedElement\", getPublicElement($activeItem.closest(\".\" + NODE_CLASS)))\r\n    },\r\n    _setFocusedItem: function($target) {\r\n        if (!$target || !$target.length) {\r\n            return\r\n        }\r\n        if (!$target.children().hasClass(DISABLED_STATE_CLASS)) {\r\n            this.callBase($target)\r\n        }\r\n    },\r\n    _itemPointerDownHandler: function(e) {\r\n        if (!this.option(\"focusStateEnabled\")) {\r\n            return\r\n        }\r\n        var $target = $(e.target).closest(\".\" + NODE_CLASS + \", .\" + SELECT_ALL_ITEM_CLASS);\r\n        if (!$target.length) {\r\n            return\r\n        }\r\n        var itemElement = $target.hasClass(DISABLED_STATE_CLASS) ? null : $target;\r\n        this.option(\"focusedElement\", getPublicElement(itemElement))\r\n    },\r\n    _findNonDisabledNodes: function($nodes) {\r\n        return $nodes.not((function() {\r\n            return $(this).children(\".\" + ITEM_CLASS).hasClass(DISABLED_STATE_CLASS)\r\n        }))\r\n    },\r\n    _moveFocus: function(location, e) {\r\n        var FOCUS_UP = \"up\";\r\n        var FOCUS_DOWN = \"down\";\r\n        var FOCUS_FIRST = \"first\";\r\n        var FOCUS_LAST = \"last\";\r\n        var FOCUS_LEFT = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        var FOCUS_RIGHT = this.option(\"rtlEnabled\") ? \"left\" : \"right\";\r\n        this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).each((function() {\r\n            fx.stop(this, true)\r\n        }));\r\n        var $items = this._findNonDisabledNodes(this._nodeElements());\r\n        if (!$items || !$items.length) {\r\n            return\r\n        }\r\n        switch (location) {\r\n            case FOCUS_UP:\r\n                var $prevItem = this._prevItem($items);\r\n                this.option(\"focusedElement\", getPublicElement($prevItem));\r\n                var prevItemElement = this._getNodeItemElement($prevItem);\r\n                this.getScrollable().scrollToElement(prevItemElement);\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateItemSelection(true, prevItemElement)\r\n                }\r\n                break;\r\n            case FOCUS_DOWN:\r\n                var $nextItem = this._nextItem($items);\r\n                this.option(\"focusedElement\", getPublicElement($nextItem));\r\n                var nextItemElement = this._getNodeItemElement($nextItem);\r\n                this.getScrollable().scrollToElement(nextItemElement);\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateItemSelection(true, nextItemElement)\r\n                }\r\n                break;\r\n            case FOCUS_FIRST:\r\n                var $firstItem = $items.first();\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateSelectionToFirstItem($items, $items.index(this._prevItem($items)))\r\n                }\r\n                this.option(\"focusedElement\", getPublicElement($firstItem));\r\n                this.getScrollable().scrollToElement(this._getNodeItemElement($firstItem));\r\n                break;\r\n            case FOCUS_LAST:\r\n                var $lastItem = $items.last();\r\n                if (e.shiftKey && this._showCheckboxes()) {\r\n                    this._updateSelectionToLastItem($items, $items.index(this._nextItem($items)))\r\n                }\r\n                this.option(\"focusedElement\", getPublicElement($lastItem));\r\n                this.getScrollable().scrollToElement(this._getNodeItemElement($lastItem));\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                this._expandFocusedContainer();\r\n                break;\r\n            case FOCUS_LEFT:\r\n                this._collapseFocusedContainer();\r\n                break;\r\n            default:\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n        }\r\n    },\r\n    _getNodeItemElement: function($node) {\r\n        return $node.find(\".\" + ITEM_CLASS).get(0)\r\n    },\r\n    _nodeElements: function() {\r\n        return this.$element().find(\".\" + NODE_CLASS).not(\":hidden\")\r\n    },\r\n    _expandFocusedContainer: function() {\r\n        var $focusedNode = $(this.option(\"focusedElement\"));\r\n        if (!$focusedNode.length || $focusedNode.hasClass(IS_LEAF)) {\r\n            return\r\n        }\r\n        var $node = $focusedNode.find(\".\".concat(NODE_CONTAINER_CLASS)).eq(0);\r\n        if ($node.hasClass(OPENED_NODE_CONTAINER_CLASS)) {\r\n            var $nextItem = this._nextItem(this._findNonDisabledNodes(this._nodeElements()));\r\n            this.option(\"focusedElement\", getPublicElement($nextItem));\r\n            this.getScrollable().scrollToElement(this._getNodeItemElement($nextItem));\r\n            return\r\n        }\r\n        var node = this._getNodeByElement($focusedNode.children(\".\" + ITEM_CLASS));\r\n        this._toggleExpandedState(node, true)\r\n    },\r\n    _getClosestNonDisabledNode: function($node) {\r\n        do {\r\n            $node = $node.parent().closest(\".\" + NODE_CLASS)\r\n        } while ($node.children(\".dx-treeview-item.dx-state-disabled\").length);\r\n        return $node\r\n    },\r\n    _collapseFocusedContainer: function() {\r\n        var $focusedNode = $(this.option(\"focusedElement\"));\r\n        if (!$focusedNode.length) {\r\n            return\r\n        }\r\n        var nodeElement = $focusedNode.find(\".\".concat(NODE_CONTAINER_CLASS)).eq(0);\r\n        if (!$focusedNode.hasClass(IS_LEAF) && nodeElement.hasClass(OPENED_NODE_CONTAINER_CLASS)) {\r\n            var node = this._getNodeByElement($focusedNode.children(\".\" + ITEM_CLASS));\r\n            this._toggleExpandedState(node, false)\r\n        } else {\r\n            var collapsedNode = this._getClosestNonDisabledNode($focusedNode);\r\n            collapsedNode.length && this.option(\"focusedElement\", getPublicElement(collapsedNode));\r\n            this.getScrollable().scrollToElement(this._getNodeItemElement(collapsedNode))\r\n        }\r\n    },\r\n    _encodeString: function(value) {\r\n        return isString(value) ? encodeURI(value) : value\r\n    },\r\n    _decodeString: function(value) {\r\n        return isString(value) ? decodeURI(value) : value\r\n    },\r\n    getScrollable: function() {\r\n        return this._scrollable\r\n    },\r\n    updateDimensions: function() {\r\n        var deferred = new Deferred;\r\n        var scrollable = this.getScrollable();\r\n        if (scrollable) {\r\n            scrollable.update().done(() => {\r\n                deferred.resolveWith(this)\r\n            })\r\n        } else {\r\n            deferred.resolveWith(this)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    selectItem: function(itemElement) {\r\n        return this._updateItemSelection(true, itemElement)\r\n    },\r\n    unselectItem: function(itemElement) {\r\n        return this._updateItemSelection(false, itemElement)\r\n    },\r\n    expandItem: function(itemElement) {\r\n        return this._toggleExpandedState(itemElement, true)\r\n    },\r\n    collapseItem: function(itemElement) {\r\n        return this._toggleExpandedState(itemElement, false)\r\n    },\r\n    getNodes: function() {\r\n        return this._dataAdapter.getTreeNodes()\r\n    },\r\n    getSelectedNodes: function() {\r\n        return this.getSelectedNodeKeys().map(key => {\r\n            var node = this._dataAdapter.getNodeByKey(key);\r\n            return this._dataAdapter.getPublicNode(node)\r\n        })\r\n    },\r\n    getSelectedNodesKeys: function() {\r\n        errors.log(\"W0002\", \"dxTreeView\", \"getSelectedNodesKeys\", \"20.1\", \"Use the 'getSelectedNodeKeys' method instead\");\r\n        return this.getSelectedNodeKeys()\r\n    },\r\n    getSelectedNodeKeys: function() {\r\n        return this._dataAdapter.getSelectedNodesKeys()\r\n    },\r\n    selectAll: function() {\r\n        if (this._selectAllEnabled()) {\r\n            this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\", true)\r\n        } else {\r\n            this._toggleSelectAll({\r\n                value: true\r\n            })\r\n        }\r\n    },\r\n    unselectAll: function() {\r\n        if (this._selectAllEnabled()) {\r\n            this._$selectAllItem.dxCheckBox(\"instance\").option(\"value\", false)\r\n        } else {\r\n            this._toggleSelectAll({\r\n                value: false\r\n            })\r\n        }\r\n    },\r\n    expandAll: function() {\r\n        var dataAdapter = this._dataAdapter;\r\n        each(dataAdapter.getData(), (_, node) => dataAdapter.toggleExpansion(node.internalFields.key, true));\r\n        this.repaint()\r\n    },\r\n    collapseAll: function() {\r\n        each(this._dataAdapter.getExpandedNodesKeys(), function(_, key) {\r\n            this._toggleExpandedState(key, false)\r\n        }.bind(this))\r\n    },\r\n    scrollToItem: function(keyOrItemOrElement) {\r\n        var node = this._getNode(keyOrItemOrElement);\r\n        if (!node) {\r\n            return (new Deferred).reject().promise()\r\n        }\r\n        var nodeKeysToExpand = [];\r\n        var parentNode = node.internalFields.publicNode.parent;\r\n        while (null != parentNode) {\r\n            if (!parentNode.expanded) {\r\n                nodeKeysToExpand.push(parentNode.key)\r\n            }\r\n            parentNode = parentNode.parent\r\n        }\r\n        var scrollCallback = new Deferred;\r\n        this._expandNodes(nodeKeysToExpand.reverse()).always(() => {\r\n            var $element = this._getNodeElement(node);\r\n            if ($element && $element.length) {\r\n                this.scrollToElementTopLeft($element.get(0));\r\n                scrollCallback.resolve()\r\n            } else {\r\n                scrollCallback.reject()\r\n            }\r\n        });\r\n        return scrollCallback.promise()\r\n    },\r\n    scrollToElementTopLeft: function(targetElement) {\r\n        var scrollable = this.getScrollable();\r\n        var {\r\n            scrollDirection: scrollDirection,\r\n            rtlEnabled: rtlEnabled\r\n        } = this.option();\r\n        var targetLocation = {\r\n            top: 0,\r\n            left: 0\r\n        };\r\n        var relativeOffset = getRelativeOffset(SCROLLABLE_CONTENT_CLASS, targetElement);\r\n        if (scrollDirection !== DIRECTION_VERTICAL) {\r\n            var containerElement = $(scrollable.container()).get(0);\r\n            targetLocation.left = rtlEnabled ? relativeOffset.left + targetElement.offsetWidth - containerElement.clientWidth : relativeOffset.left\r\n        }\r\n        if (scrollDirection !== DIRECTION_HORIZONTAL) {\r\n            targetLocation.top = relativeOffset.top\r\n        }\r\n        scrollable.scrollTo(targetLocation)\r\n    },\r\n    _expandNodes: function(keysToExpand) {\r\n        if (!keysToExpand || 0 === keysToExpand.length) {\r\n            return (new Deferred).resolve().promise()\r\n        }\r\n        var resultCallback = new Deferred;\r\n        var callbacksByNodes = keysToExpand.map(key => this.expandItem(key));\r\n        when.apply($, callbacksByNodes).done(() => resultCallback.resolve()).fail(() => resultCallback.reject());\r\n        return resultCallback.promise()\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        clearTimeout(this._setFocusedItemTimeout)\r\n    }\r\n});\r\nexport default TreeViewBase;\r\n","/**\r\n * DevExtreme (esm/ui/tree_view/ui.tree_view.search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport searchBoxMixin from \"../widget/ui.search_box_mixin\";\r\nimport TextBox from \"../text_box\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport TreeViewBase from \"./ui.tree_view.base\";\r\nsearchBoxMixin.setEditorClass(TextBox);\r\nvar WIDGET_CLASS = \"dx-treeview\";\r\nvar NODE_CONTAINER_CLASS = \"\".concat(WIDGET_CLASS, \"-node-container\");\r\nvar TreeViewSearch = TreeViewBase.inherit(searchBoxMixin).inherit({\r\n    _addWidgetPrefix: function(className) {\r\n        return \"\".concat(WIDGET_CLASS, \"-\").concat(className)\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"searchValue\":\r\n                if (this._showCheckboxes() && this._isRecursiveSelection()) {\r\n                    this._removeSelection()\r\n                }\r\n                this._initDataAdapter();\r\n                this._updateSearch();\r\n                this._repaintContainer();\r\n                this.option(\"focusedElement\", null);\r\n                break;\r\n            case \"searchExpr\":\r\n                this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            case \"searchMode\":\r\n                this.option(\"expandNodesRecursive\") ? this._updateDataAdapter() : this._initDataAdapter();\r\n                this.repaint();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _updateDataAdapter: function() {\r\n        this._setOptionWithoutOptionChange(\"expandNodesRecursive\", false);\r\n        this._initDataAdapter();\r\n        this._setOptionWithoutOptionChange(\"expandNodesRecursive\", true)\r\n    },\r\n    _getDataAdapterOptions: function() {\r\n        return extend(this.callBase(), {\r\n            searchValue: this.option(\"searchValue\"),\r\n            searchMode: this.option(\"searchMode\") || \"contains\",\r\n            searchExpr: this.option(\"searchExpr\")\r\n        })\r\n    },\r\n    _updateSearch: function() {\r\n        if (this._searchEditor) {\r\n            var editorOptions = this._getSearchEditorOptions();\r\n            this._searchEditor.option(editorOptions)\r\n        }\r\n    },\r\n    _repaintContainer: function() {\r\n        var $container = this.$element().find(\".\".concat(NODE_CONTAINER_CLASS)).first();\r\n        var rootNodes;\r\n        if ($container.length) {\r\n            $container.empty();\r\n            rootNodes = this._dataAdapter.getRootNodes();\r\n            this._renderEmptyMessage(rootNodes);\r\n            this._renderItems($container, rootNodes);\r\n            this._fireContentReadyAction()\r\n        }\r\n    },\r\n    _itemContainer: function(isSearchMode) {\r\n        if (this._scrollable && isSearchMode) {\r\n            return $(this._scrollable.content())\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _addWidgetClass: function() {\r\n        this.$element().addClass(this._widgetClass())\r\n    },\r\n    _clean: function() {\r\n        this.callBase();\r\n        this._removeSearchBox()\r\n    }\r\n});\r\nregisterComponent(\"dxTreeView\", TreeViewSearch);\r\nexport default TreeViewSearch;\r\n","/**\r\n * DevExtreme (esm/ui/tree_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport TreeView from \"./tree_view/ui.tree_view.search\";\r\nexport default TreeView;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_chooser.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    deferUpdate,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    ColumnsView\r\n} from \"./ui.grid_core.columns_view\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    isMaterial as isMaterialTheme,\r\n    isGeneric,\r\n    current\r\n} from \"../themes\";\r\nimport Button from \"../button\";\r\nimport TreeView from \"../tree_view\";\r\nimport devices from \"../../core/devices\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nvar COLUMN_CHOOSER_CLASS = \"column-chooser\";\r\nvar COLUMN_CHOOSER_BUTTON_CLASS = \"column-chooser-button\";\r\nvar NOTOUCH_ACTION_CLASS = \"notouch-action\";\r\nvar COLUMN_CHOOSER_LIST_CLASS = \"column-chooser-list\";\r\nvar COLUMN_CHOOSER_PLAIN_CLASS = \"column-chooser-plain\";\r\nvar COLUMN_CHOOSER_DRAG_CLASS = \"column-chooser-mode-drag\";\r\nvar COLUMN_CHOOSER_SELECT_CLASS = \"column-chooser-mode-select\";\r\nvar COLUMN_CHOOSER_ICON_NAME = \"column-chooser\";\r\nvar COLUMN_CHOOSER_ITEM_CLASS = \"dx-column-chooser-item\";\r\nvar TREEVIEW_NODE_SELECTOR = \".dx-treeview-node\";\r\nvar CHECKBOX_SELECTOR = \".dx-checkbox\";\r\nvar CLICK_TIMEOUT = 300;\r\nvar processItems = function(that, chooserColumns) {\r\n    var items = [];\r\n    var isSelectMode = \"select\" === that.option(\"columnChooser.mode\");\r\n    if (chooserColumns.length) {\r\n        each(chooserColumns, (function(index, column) {\r\n            var item = {\r\n                text: column.caption,\r\n                cssClass: column.cssClass,\r\n                allowHiding: column.allowHiding,\r\n                expanded: true,\r\n                id: column.index,\r\n                disabled: false,\r\n                disableCheckBox: false === column.allowHiding,\r\n                parentId: isDefined(column.ownerBand) ? column.ownerBand : null\r\n            };\r\n            if (isSelectMode) {\r\n                item.selected = column.visible\r\n            }\r\n            items.push(item)\r\n        }))\r\n    }\r\n    return items\r\n};\r\nvar ColumnChooserController = modules.ViewController.inherit({\r\n    renderShowColumnChooserButton: function($element) {\r\n        var that = this;\r\n        var columnChooserButtonClass = that.addWidgetPrefix(COLUMN_CHOOSER_BUTTON_CLASS);\r\n        var columnChooserEnabled = that.option(\"columnChooser.enabled\");\r\n        var $showColumnChooserButton = $element.find(\".\" + columnChooserButtonClass);\r\n        var $columnChooserButton;\r\n        if (columnChooserEnabled) {\r\n            if (!$showColumnChooserButton.length) {\r\n                $columnChooserButton = $(\"<div>\").addClass(columnChooserButtonClass).appendTo($element);\r\n                that._createComponent($columnChooserButton, Button, {\r\n                    icon: COLUMN_CHOOSER_ICON_NAME,\r\n                    onClick: function() {\r\n                        that.getView(\"columnChooserView\").showColumnChooser()\r\n                    },\r\n                    hint: that.option(\"columnChooser.title\"),\r\n                    integrationOptions: {}\r\n                })\r\n            } else {\r\n                $showColumnChooserButton.show()\r\n            }\r\n        } else {\r\n            $showColumnChooserButton.hide()\r\n        }\r\n    },\r\n    getPosition: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        return {\r\n            my: \"right bottom\",\r\n            at: \"right bottom\",\r\n            of: rowsView && rowsView.element(),\r\n            collision: \"fit\",\r\n            offset: \"-2 -2\",\r\n            boundaryOffset: \"2 2\"\r\n        }\r\n    }\r\n});\r\nvar ColumnChooserView = ColumnsView.inherit({\r\n    _resizeCore: noop,\r\n    _isWinDevice: function() {\r\n        return !!devices.real().win\r\n    },\r\n    _updateList: function(change) {\r\n        var items;\r\n        var $popupContent = this._popupContainer.$content();\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        var columnChooserList = this._columnChooserList;\r\n        var chooserColumns = this._columnsController.getChooserColumns(isSelectMode);\r\n        if (isSelectMode && columnChooserList && change && \"selection\" === change.changeType) {\r\n            items = processItems(this, chooserColumns);\r\n            for (var i = 0; i < items.length; i++) {\r\n                var selected = items[i].selected;\r\n                var id = items[i].id;\r\n                if (id === change.columnIndex) {\r\n                    if (selected) {\r\n                        columnChooserList.selectItem(id, selected)\r\n                    } else {\r\n                        columnChooserList.unselectItem(id, selected)\r\n                    }\r\n                }\r\n            }\r\n        } else if (!isSelectMode || !columnChooserList || \"full\" === change) {\r\n            this._popupContainer.$wrapper().toggleClass(this.addWidgetPrefix(COLUMN_CHOOSER_DRAG_CLASS), !isSelectMode).toggleClass(this.addWidgetPrefix(COLUMN_CHOOSER_SELECT_CLASS), isSelectMode);\r\n            items = processItems(this, chooserColumns);\r\n            this._renderTreeView($popupContent, items)\r\n        }\r\n    },\r\n    _initializePopupContainer: function() {\r\n        var that = this;\r\n        var $element = that.element().addClass(that.addWidgetPrefix(COLUMN_CHOOSER_CLASS));\r\n        var columnChooserOptions = that.option(\"columnChooser\");\r\n        var themeName = current();\r\n        var isGenericTheme = isGeneric(themeName);\r\n        var isMaterial = isMaterialTheme(themeName);\r\n        var dxPopupOptions = {\r\n            visible: false,\r\n            shading: false,\r\n            showCloseButton: false,\r\n            dragEnabled: true,\r\n            resizeEnabled: true,\r\n            copyRootClassesToWrapper: true,\r\n            _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n            toolbarItems: [{\r\n                text: columnChooserOptions.title,\r\n                toolbar: \"top\",\r\n                location: isGenericTheme || isMaterial ? \"before\" : \"center\"\r\n            }],\r\n            position: that.getController(\"columnChooser\").getPosition(),\r\n            width: columnChooserOptions.width,\r\n            height: columnChooserOptions.height,\r\n            rtlEnabled: that.option(\"rtlEnabled\"),\r\n            onHidden: function() {\r\n                if (that._isWinDevice()) {\r\n                    $(\"body\").removeClass(that.addWidgetPrefix(NOTOUCH_ACTION_CLASS))\r\n                }\r\n            },\r\n            container: columnChooserOptions.container\r\n        };\r\n        if (isGenericTheme || isMaterial) {\r\n            extend(dxPopupOptions, {\r\n                showCloseButton: true\r\n            })\r\n        } else {\r\n            dxPopupOptions.toolbarItems[dxPopupOptions.toolbarItems.length] = {\r\n                shortcut: \"cancel\"\r\n            }\r\n        }\r\n        if (!isDefined(this._popupContainer)) {\r\n            that._popupContainer = that._createComponent($element, Popup, dxPopupOptions);\r\n            that._popupContainer.on(\"optionChanged\", (function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    that.renderCompleted.fire()\r\n                }\r\n            }))\r\n        } else {\r\n            this._popupContainer.option(dxPopupOptions)\r\n        }\r\n    },\r\n    _renderCore: function(change) {\r\n        if (this._popupContainer) {\r\n            this._updateList(change)\r\n        }\r\n    },\r\n    _renderTreeView: function($container, items) {\r\n        var that = this;\r\n        var columnChooser = this.option(\"columnChooser\");\r\n        var isSelectMode = \"select\" === columnChooser.mode;\r\n        var treeViewConfig = {\r\n            items: items,\r\n            dataStructure: \"plain\",\r\n            activeStateEnabled: true,\r\n            focusStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            itemTemplate: \"item\",\r\n            showCheckBoxesMode: \"none\",\r\n            rootValue: null,\r\n            searchEnabled: columnChooser.allowSearch,\r\n            searchTimeout: columnChooser.searchTimeout,\r\n            onItemRendered: function(e) {\r\n                if (e.itemData.disableCheckBox) {\r\n                    var $treeViewNode = $(e.itemElement).closest(TREEVIEW_NODE_SELECTOR);\r\n                    var $checkBox;\r\n                    if ($treeViewNode.length) {\r\n                        $checkBox = $treeViewNode.find(CHECKBOX_SELECTOR);\r\n                        if ($checkBox.length) {\r\n                            var checkBoxInstance = $checkBox.data(\"dxCheckBox\");\r\n                            checkBoxInstance && checkBoxInstance.option(\"disabled\", true)\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        };\r\n        var scrollableInstance = $container.find(\".dx-scrollable\").data(\"dxScrollable\");\r\n        var scrollTop = scrollableInstance && scrollableInstance.scrollTop();\r\n        if (isSelectMode && !this._columnsController.isBandColumnsUsed()) {\r\n            $container.addClass(this.addWidgetPrefix(COLUMN_CHOOSER_PLAIN_CLASS))\r\n        }\r\n        treeViewConfig.onContentReady = function(e) {\r\n            deferUpdate((function() {\r\n                if (scrollTop) {\r\n                    var scrollable = $(e.element).find(\".dx-scrollable\").data(\"dxScrollable\");\r\n                    scrollable && scrollable.scrollTo({\r\n                        y: scrollTop\r\n                    })\r\n                }\r\n                that.renderCompleted.fire()\r\n            }))\r\n        };\r\n        if (this._isWinDevice()) {\r\n            treeViewConfig.useNativeScrolling = false\r\n        }\r\n        extend(treeViewConfig, isSelectMode ? this._prepareSelectModeConfig() : this._prepareDragModeConfig());\r\n        if (this._columnChooserList) {\r\n            if (!treeViewConfig.searchEnabled) {\r\n                treeViewConfig.searchValue = \"\"\r\n            }\r\n            this._columnChooserList.option(treeViewConfig)\r\n        } else {\r\n            this._columnChooserList = this._createComponent($container, TreeView, treeViewConfig);\r\n            $container.addClass(this.addWidgetPrefix(COLUMN_CHOOSER_LIST_CLASS))\r\n        }\r\n    },\r\n    _prepareDragModeConfig: function() {\r\n        var columnChooserOptions = this.option(\"columnChooser\");\r\n        return {\r\n            noDataText: columnChooserOptions.emptyPanelText,\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            hoverStateEnabled: false,\r\n            itemTemplate: function(data, index, item) {\r\n                $(item).text(data.text).parent().addClass(data.cssClass).addClass(COLUMN_CHOOSER_ITEM_CLASS)\r\n            }\r\n        }\r\n    },\r\n    _prepareSelectModeConfig: function() {\r\n        var that = this;\r\n        return {\r\n            selectNodesRecursive: false,\r\n            showCheckBoxesMode: \"normal\",\r\n            onItemSelectionChanged: function(e) {\r\n                var visibleColumns = that._columnsController.getVisibleColumns().filter((function(item) {\r\n                    return !item.command\r\n                }));\r\n                var isLastColumnUnselected = 1 === visibleColumns.length && !e.itemData.selected;\r\n                if (isLastColumnUnselected) {\r\n                    e.component.selectItem(e.itemElement)\r\n                } else {\r\n                    setTimeout((function() {\r\n                        that._columnsController.columnOption(e.itemData.id, \"visible\", e.itemData.selected)\r\n                    }), CLICK_TIMEOUT)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var changeTypes = e.changeTypes;\r\n        var optionNames = e.optionNames;\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        this.callBase(e);\r\n        if (isSelectMode) {\r\n            var needPartialRender = optionNames.visible && 1 === optionNames.length && void 0 !== e.columnIndex;\r\n            var needFullRender = optionNames.showInColumnChooser || optionNames.caption || optionNames.visible || changeTypes.columns && optionNames.all;\r\n            if (needPartialRender) {\r\n                this.render(null, {\r\n                    changeType: \"selection\",\r\n                    columnIndex: e.columnIndex\r\n                })\r\n            } else if (needFullRender) {\r\n                this.render(null, \"full\")\r\n            }\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"columnChooser\":\r\n                this._initializePopupContainer();\r\n                this.render(null, \"full\");\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getColumnElements: function() {\r\n        var result = [];\r\n        var $node;\r\n        var isSelectMode = \"select\" === this.option(\"columnChooser.mode\");\r\n        var chooserColumns = this._columnsController.getChooserColumns(isSelectMode);\r\n        var $content = this._popupContainer && this._popupContainer.$content();\r\n        var $nodes = $content && $content.find(\".dx-treeview-node\");\r\n        if ($nodes) {\r\n            chooserColumns.forEach((function(column) {\r\n                $node = $nodes.filter(\"[data-item-id = '\" + column.index + \"']\");\r\n                var item = $node.length ? $node.children(\".\" + COLUMN_CHOOSER_ITEM_CLASS).get(0) : null;\r\n                result.push(item)\r\n            }))\r\n        }\r\n        return $(result)\r\n    },\r\n    getName: function() {\r\n        return \"columnChooser\"\r\n    },\r\n    getColumns: function() {\r\n        return this._columnsController.getChooserColumns()\r\n    },\r\n    allowDragging: function(column, sourceLocation) {\r\n        var columnVisible = column && column.allowHiding && (\"columnChooser\" !== sourceLocation || !column.visible && this._columnsController.isParentColumnVisible(column.index));\r\n        return this.isColumnChooserVisible() && columnVisible\r\n    },\r\n    getBoundingRect: function() {\r\n        var container = this._popupContainer && this._popupContainer.$overlayContent();\r\n        if (container && container.is(\":visible\")) {\r\n            var offset = container.offset();\r\n            return {\r\n                left: offset.left,\r\n                top: offset.top,\r\n                right: offset.left + getOuterWidth(container),\r\n                bottom: offset.top + getOuterHeight(container)\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    showColumnChooser: function() {\r\n        if (!this._popupContainer) {\r\n            this._initializePopupContainer();\r\n            this.render()\r\n        }\r\n        this._popupContainer.show();\r\n        if (this._isWinDevice()) {\r\n            $(\"body\").addClass(this.addWidgetPrefix(NOTOUCH_ACTION_CLASS))\r\n        }\r\n    },\r\n    hideColumnChooser: function() {\r\n        if (this._popupContainer) {\r\n            this._popupContainer.hide()\r\n        }\r\n    },\r\n    isColumnChooserVisible: function() {\r\n        var popupContainer = this._popupContainer;\r\n        return popupContainer && popupContainer.option(\"visible\")\r\n    },\r\n    publicMethods: function() {\r\n        return [\"showColumnChooser\", \"hideColumnChooser\"]\r\n    }\r\n});\r\nexport var columnChooserModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnChooser: {\r\n                enabled: false,\r\n                allowSearch: false,\r\n                searchTimeout: 500,\r\n                mode: \"dragAndDrop\",\r\n                width: 250,\r\n                height: 260,\r\n                title: messageLocalization.format(\"dxDataGrid-columnChooserTitle\"),\r\n                emptyPanelText: messageLocalization.format(\"dxDataGrid-columnChooserEmptyText\"),\r\n                container: void 0\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        columnChooser: ColumnChooserController\r\n    },\r\n    views: {\r\n        columnChooserView: ColumnChooserView\r\n    },\r\n    extenders: {\r\n        views: {\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    return this._appendColumnChooserItem(items)\r\n                },\r\n                _appendColumnChooserItem: function(items) {\r\n                    var that = this;\r\n                    var columnChooserEnabled = that.option(\"columnChooser.enabled\");\r\n                    if (columnChooserEnabled) {\r\n                        var hintText = that.option(\"columnChooser.title\");\r\n                        var toolbarItem = {\r\n                            widget: \"dxButton\",\r\n                            options: {\r\n                                icon: COLUMN_CHOOSER_ICON_NAME,\r\n                                onClick: function() {\r\n                                    that.component.getView(\"columnChooserView\").showColumnChooser()\r\n                                },\r\n                                hint: hintText,\r\n                                text: hintText,\r\n                                onInitialized: function(e) {\r\n                                    $(e.element).addClass(that._getToolbarButtonClass(that.addWidgetPrefix(COLUMN_CHOOSER_BUTTON_CLASS)))\r\n                                }\r\n                            },\r\n                            showText: \"inMenu\",\r\n                            location: \"after\",\r\n                            name: \"columnChooserButton\",\r\n                            locateInMenu: \"auto\",\r\n                            sortIndex: 40\r\n                        };\r\n                        items.push(toolbarItem)\r\n                    }\r\n                    return items\r\n                },\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"columnChooser\":\r\n                            this._invalidate();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                isVisible: function() {\r\n                    var columnChooserEnabled = this.option(\"columnChooser.enabled\");\r\n                    return this.callBase() || columnChooserEnabled\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            columns: {\r\n                allowMoveColumn: function(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation) {\r\n                    var columnChooserMode = this.option(\"columnChooser.mode\");\r\n                    var isMoveColumnDisallowed = \"select\" === columnChooserMode && \"columnChooser\" === targetLocation;\r\n                    return isMoveColumnDisallowed ? false : this.callBase(fromVisibleIndex, toVisibleIndex, sourceLocation, targetLocation)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.column_chooser.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnChooserModule\r\n} from \"../grid_core/ui.grid_core.column_chooser\";\r\nexport var ColumnChooserController = columnChooserModule.controllers.columnChooser;\r\nexport var ColumnChooserView = columnChooserModule.views.columnChooserView;\r\ngridCore.registerModule(\"columnChooser\", columnChooserModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport Class from \"../../core/class\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    normalizeSortingInfo\r\n} from \"../../data/utils\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nexport function createOffsetFilter(path, storeLoadOptions, lastLevelOnly) {\r\n    var groups = normalizeSortingInfo(storeLoadOptions.group);\r\n    var filter = [];\r\n    for (var i = lastLevelOnly ? path.length - 1 : 0; i < path.length; i++) {\r\n        var filterElement = [];\r\n        for (var j = 0; j <= i; j++) {\r\n            var selector = groups[j].selector;\r\n            if (i === j && (null === path[j] || false === path[j] || true === path[j])) {\r\n                if (false === path[j]) {\r\n                    filterElement.push([selector, \"=\", groups[j].desc ? true : null])\r\n                } else if (path[j] ? !groups[j].desc : groups[j].desc) {\r\n                    filterElement.push([selector, \"<>\", path[j]])\r\n                } else {\r\n                    filterElement.push([selector, \"<>\", null]);\r\n                    filterElement.push([selector, \"=\", null])\r\n                }\r\n            } else {\r\n                var currentFilter = [selector, i === j ? groups[j].desc ? \">\" : \"<\" : \"=\", path[j]];\r\n                if (\"<\" === currentFilter[1]) {\r\n                    filterElement.push([currentFilter, \"or\", [selector, \"=\", null]])\r\n                } else {\r\n                    filterElement.push(currentFilter)\r\n                }\r\n            }\r\n        }\r\n        filter.push(gridCore.combineFilters(filterElement))\r\n    }\r\n    filter = gridCore.combineFilters(filter, \"or\");\r\n    return gridCore.combineFilters([filter, storeLoadOptions.filter])\r\n}\r\nexport var GroupingHelper = Class.inherit(function() {\r\n    var findGroupInfoByKey = function(groupsInfo, key) {\r\n        var hash = groupsInfo.hash;\r\n        return hash && hash[JSON.stringify(key)]\r\n    };\r\n    var getGroupInfoIndexByOffset = function(groupsInfo, offset) {\r\n        var leftIndex = 0;\r\n        var rightIndex = groupsInfo.length - 1;\r\n        if (!groupsInfo.length) {\r\n            return 0\r\n        }\r\n        do {\r\n            var middleIndex = rightIndex + leftIndex >> 1;\r\n            if (groupsInfo[middleIndex].offset > offset) {\r\n                rightIndex = middleIndex\r\n            } else {\r\n                leftIndex = middleIndex\r\n            }\r\n        } while (rightIndex - leftIndex > 1);\r\n        var index;\r\n        for (index = leftIndex; index <= rightIndex; index++) {\r\n            if (groupsInfo[index].offset > offset) {\r\n                break\r\n            }\r\n        }\r\n        return index\r\n    };\r\n    return {\r\n        ctor: function(dataSourceAdapter) {\r\n            this._dataSource = dataSourceAdapter;\r\n            this.reset()\r\n        },\r\n        reset: function() {\r\n            this._groupsInfo = [];\r\n            this._totalCountCorrection = 0\r\n        },\r\n        totalCountCorrection: function() {\r\n            return this._totalCountCorrection\r\n        },\r\n        updateTotalItemsCount: function(totalCountCorrection) {\r\n            this._totalCountCorrection = totalCountCorrection || 0\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return !this._isVirtualPaging() || !item.isContinuation\r\n        },\r\n        _isVirtualPaging: function() {\r\n            var scrollingMode = this._dataSource.option(\"scrolling.mode\");\r\n            return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n        },\r\n        itemsCount: function() {\r\n            var dataSourceAdapter = this._dataSource;\r\n            var dataSource = dataSourceAdapter._dataSource;\r\n            var groupCount = gridCore.normalizeSortingInfo(dataSource.group() || []).length;\r\n            var itemsCount = function calculateItemsCount(that, items, groupsCount) {\r\n                var result = 0;\r\n                if (items) {\r\n                    if (!groupsCount) {\r\n                        result = items.length\r\n                    } else {\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            if (that.isGroupItemCountable(items[i])) {\r\n                                result++\r\n                            }\r\n                            result += calculateItemsCount(that, items[i].items, groupsCount - 1)\r\n                        }\r\n                    }\r\n                }\r\n                return result\r\n            }(this, dataSource.items(), groupCount);\r\n            return itemsCount\r\n        },\r\n        foreachGroups: function(callback, childrenAtFirst, foreachCollapsedGroups, updateOffsets, updateParentOffsets) {\r\n            var that = this;\r\n            return function foreachGroupsCore(groupsInfo, callback, childrenAtFirst, parents) {\r\n                var callbackResults = [];\r\n\r\n                function executeCallback(callback, data, parents, callbackResults) {\r\n                    var callbackResult = data && callback(data, parents);\r\n                    callbackResult && callbackResults.push(callbackResult);\r\n                    return callbackResult\r\n                }\r\n                for (var i = 0; i < groupsInfo.length; i++) {\r\n                    parents.push(groupsInfo[i].data);\r\n                    if (!childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.isExpanded || foreachCollapsedGroups) {\r\n                        var children = groupsInfo[i].children;\r\n                        var callbackResult = children.length && foreachGroupsCore(children, callback, childrenAtFirst, parents);\r\n                        callbackResult && callbackResults.push(callbackResult);\r\n                        if (false === callbackResult) {\r\n                            return false\r\n                        }\r\n                    }\r\n                    if (childrenAtFirst && false === executeCallback(callback, groupsInfo[i].data, parents, callbackResults)) {\r\n                        return false\r\n                    }\r\n                    if (!groupsInfo[i].data || groupsInfo[i].data.offset !== groupsInfo[i].offset) {\r\n                        updateOffsets = true\r\n                    }\r\n                    parents.pop()\r\n                }\r\n                var currentParents = updateParentOffsets && parents.slice(0);\r\n                return updateOffsets && when.apply($, callbackResults).always((function() {\r\n                    that._updateGroupInfoOffsets(groupsInfo, currentParents)\r\n                }))\r\n            }(that._groupsInfo, callback, childrenAtFirst, [])\r\n        },\r\n        _updateGroupInfoOffsets: function(groupsInfo, parents) {\r\n            parents = parents || [];\r\n            for (var index = 0; index < groupsInfo.length; index++) {\r\n                var groupInfo = groupsInfo[index];\r\n                if (groupInfo.data && groupInfo.data.offset !== groupInfo.offset) {\r\n                    groupInfo.offset = groupInfo.data.offset;\r\n                    for (var parentIndex = 0; parentIndex < parents.length; parentIndex++) {\r\n                        parents[parentIndex].offset = groupInfo.offset\r\n                    }\r\n                }\r\n            }\r\n            groupsInfo.sort((function(a, b) {\r\n                return a.offset - b.offset\r\n            }))\r\n        },\r\n        findGroupInfo: function(path) {\r\n            var groupInfo;\r\n            var groupsInfo = this._groupsInfo;\r\n            for (var pathIndex = 0; groupsInfo && pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                groupsInfo = groupInfo && groupInfo.children\r\n            }\r\n            return groupInfo && groupInfo.data\r\n        },\r\n        addGroupInfo: function(groupInfoData) {\r\n            var groupInfo;\r\n            var path = groupInfoData.path;\r\n            var groupsInfo = this._groupsInfo;\r\n            for (var pathIndex = 0; pathIndex < path.length; pathIndex++) {\r\n                groupInfo = findGroupInfoByKey(groupsInfo, path[pathIndex]);\r\n                if (!groupInfo) {\r\n                    groupInfo = {\r\n                        key: path[pathIndex],\r\n                        offset: groupInfoData.offset,\r\n                        data: {\r\n                            offset: groupInfoData.offset,\r\n                            isExpanded: true,\r\n                            path: path.slice(0, pathIndex + 1)\r\n                        },\r\n                        children: []\r\n                    };\r\n                    var index = getGroupInfoIndexByOffset(groupsInfo, groupInfoData.offset);\r\n                    groupsInfo.splice(index, 0, groupInfo);\r\n                    groupsInfo.hash = groupsInfo.hash || {};\r\n                    groupsInfo.hash[JSON.stringify(groupInfo.key)] = groupInfo\r\n                }\r\n                if (pathIndex === path.length - 1) {\r\n                    groupInfo.data = groupInfoData;\r\n                    if (groupInfo.offset !== groupInfoData.offset) {\r\n                        this._updateGroupInfoOffsets(groupsInfo)\r\n                    }\r\n                }\r\n                groupsInfo = groupInfo.children\r\n            }\r\n        },\r\n        allowCollapseAll: function() {\r\n            return true\r\n        },\r\n        refresh: function(options) {\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = normalizeSortingInfo(storeLoadOptions.group || []);\r\n            var oldGroups = \"_group\" in this ? normalizeSortingInfo(this._group || []) : groups;\r\n            var groupsCount = Math.min(oldGroups.length, groups.length);\r\n            this._group = storeLoadOptions.group;\r\n            for (var groupIndex = 0; groupIndex < groupsCount; groupIndex++) {\r\n                if (oldGroups[groupIndex].selector !== groups[groupIndex].selector) {\r\n                    groupsCount = groupIndex;\r\n                    break\r\n                }\r\n            }\r\n            if (!groupsCount) {\r\n                this.reset()\r\n            } else {\r\n                ! function cleanGroupsInfo(groupsInfo, groupIndex, groupsCount) {\r\n                    for (var i = 0; i < groupsInfo.length; i++) {\r\n                        if (groupIndex + 1 >= groupsCount) {\r\n                            groupsInfo[i].children = []\r\n                        } else {\r\n                            cleanGroupsInfo(groupsInfo[i].children, groupIndex + 1, groupsCount)\r\n                        }\r\n                    }\r\n                }(this._groupsInfo, 0, groupsCount)\r\n            }\r\n        },\r\n        handleDataLoading: function() {},\r\n        handleDataLoaded: function(options, callBase) {\r\n            callBase(options)\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            callBase(options)\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCoreUtils from \"../grid_core/ui.grid_core.utils\";\r\nimport {\r\n    normalizeSortingInfo\r\n} from \"../../data/utils\";\r\nexport function createGroupFilter(path, storeLoadOptions) {\r\n    var groups = normalizeSortingInfo(storeLoadOptions.group);\r\n    var filter = [];\r\n    for (var i = 0; i < path.length; i++) {\r\n        filter.push([groups[i].selector, \"=\", path[i]])\r\n    }\r\n    if (storeLoadOptions.filter) {\r\n        filter.push(storeLoadOptions.filter)\r\n    }\r\n    return gridCoreUtils.combineFilters(filter)\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.expanded.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    toComparable\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    keysEqual\r\n} from \"../../data/utils\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nimport dataGridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    GroupingHelper as GroupingHelperCore,\r\n    createOffsetFilter\r\n} from \"./ui.data_grid.grouping.core\";\r\nimport {\r\n    createGroupFilter\r\n} from \"./ui.data_grid.utils\";\r\nimport dataQuery from \"../../data/query\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar loadTotalCount = function(dataSource, options) {\r\n    var d = new Deferred;\r\n    var loadOptions = extend({\r\n        skip: 0,\r\n        take: 1,\r\n        requireTotalCount: true\r\n    }, options);\r\n    dataSource.load(loadOptions).done((function(data, extra) {\r\n        d.resolve(extra && extra.totalCount)\r\n    })).fail(d.reject.bind(d));\r\n    return d\r\n};\r\nexport var GroupingHelper = GroupingHelperCore.inherit(function() {\r\n    var foreachCollapsedGroups = function(that, callback, updateOffsets) {\r\n        return that.foreachGroups((function(groupInfo) {\r\n            if (!groupInfo.isExpanded) {\r\n                return callback(groupInfo)\r\n            }\r\n        }), false, false, updateOffsets, true)\r\n    };\r\n    var correctSkipLoadOption = function(that, skip) {\r\n        var skipCorrection = 0;\r\n        var resultSkip = skip || 0;\r\n        if (skip) {\r\n            foreachCollapsedGroups(that, (function(groupInfo) {\r\n                if (groupInfo.offset - skipCorrection >= skip) {\r\n                    return false\r\n                }\r\n                skipCorrection += groupInfo.count - 1\r\n            }));\r\n            resultSkip += skipCorrection\r\n        }\r\n        return resultSkip\r\n    };\r\n    var pathEquals = function(path1, path2) {\r\n        if (path1.length !== path2.length) {\r\n            return false\r\n        }\r\n        for (var i = 0; i < path1.length; i++) {\r\n            if (!keysEqual(null, path1[i], path2[i])) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    };\r\n    var updateGroupOffsets = function updateGroupOffsets(that, items, path, offset, additionalGroupInfo) {\r\n        if (!items) {\r\n            return\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (\"key\" in item && void 0 !== item.items) {\r\n                path.push(item.key);\r\n                if (additionalGroupInfo && pathEquals(additionalGroupInfo.path, path) && !item.isContinuation) {\r\n                    additionalGroupInfo.offset = offset\r\n                }\r\n                var groupInfo = that.findGroupInfo(path);\r\n                if (groupInfo && !item.isContinuation) {\r\n                    groupInfo.offset = offset\r\n                }\r\n                if (groupInfo && !groupInfo.isExpanded) {\r\n                    offset += groupInfo.count\r\n                } else {\r\n                    offset = updateGroupOffsets(that, item.items, path, offset, additionalGroupInfo)\r\n                }\r\n                path.pop()\r\n            } else {\r\n                offset++\r\n            }\r\n        }\r\n        return offset\r\n    };\r\n    var getGroupCount = function getGroupCount(item, groupCount) {\r\n        var count = item.count || item.items.length;\r\n        if (!item.count && groupCount > 1) {\r\n            count = 0;\r\n            for (var i = 0; i < item.items.length; i++) {\r\n                count += getGroupCount(item.items[i], groupCount - 1)\r\n            }\r\n        }\r\n        return count\r\n    };\r\n    return {\r\n        handleDataLoading: function(options) {\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var collapsedGroups = [];\r\n            var collapsedItemsCount = 0;\r\n            var skipFirstItem = false;\r\n            var take;\r\n            var group = options.loadOptions.group;\r\n            var skipCorrection = 0;\r\n            ! function(storeLoadOptions, loadOptions) {\r\n                if (loadOptions.group) {\r\n                    var groups = dataGridCore.normalizeSortingInfo(loadOptions.group);\r\n                    var sorts = dataGridCore.normalizeSortingInfo(storeLoadOptions.sort);\r\n                    storeLoadOptions.sort = storeHelper.arrangeSortingInfo(groups, sorts);\r\n                    delete loadOptions.group\r\n                }\r\n            }(storeLoadOptions, options.loadOptions);\r\n            options.group = options.group || group;\r\n            if (options.isCustomLoading) {\r\n                return\r\n            }\r\n            var loadOptions = extend({}, storeLoadOptions);\r\n            loadOptions.skip = correctSkipLoadOption(this, storeLoadOptions.skip);\r\n            if (loadOptions.skip && loadOptions.take && group) {\r\n                loadOptions.skip--;\r\n                loadOptions.take++;\r\n                skipFirstItem = true\r\n            }\r\n            if (loadOptions.take && group) {\r\n                take = loadOptions.take;\r\n                loadOptions.take++\r\n            }\r\n            foreachCollapsedGroups(this, (function(groupInfo) {\r\n                if (groupInfo.offset >= loadOptions.skip + loadOptions.take + skipCorrection) {\r\n                    return false\r\n                } else if (groupInfo.offset >= loadOptions.skip + skipCorrection && groupInfo.count) {\r\n                    skipCorrection += groupInfo.count - 1;\r\n                    collapsedGroups.push(groupInfo);\r\n                    collapsedItemsCount += groupInfo.count\r\n                }\r\n            }));\r\n            each(collapsedGroups, (function() {\r\n                loadOptions.filter = function(path, storeLoadOptions, group) {\r\n                    var groups = dataGridCore.normalizeSortingInfo(group || storeLoadOptions.group);\r\n                    var filter = [];\r\n                    for (var i = 0; i < path.length; i++) {\r\n                        var filterElement = [];\r\n                        for (var j = 0; j <= i; j++) {\r\n                            filterElement.push([groups[j].selector, i === j ? \"<>\" : \"=\", path[j]])\r\n                        }\r\n                        filter.push(dataGridCore.combineFilters(filterElement))\r\n                    }\r\n                    filter = dataGridCore.combineFilters(filter, \"or\");\r\n                    return dataGridCore.combineFilters([filter, storeLoadOptions.filter])\r\n                }(this.path, loadOptions, group)\r\n            }));\r\n            options.storeLoadOptions = loadOptions;\r\n            options.collapsedGroups = collapsedGroups;\r\n            options.collapsedItemsCount = collapsedItemsCount;\r\n            options.skip = loadOptions.skip || 0;\r\n            options.skipFirstItem = skipFirstItem;\r\n            options.take = take\r\n        },\r\n        handleDataLoaded: function(options, callBase) {\r\n            var collapsedGroups = options.collapsedGroups;\r\n            var groups = dataGridCore.normalizeSortingInfo(options.group);\r\n            var groupCount = groups.length;\r\n\r\n            function appendCollapsedPath(data, path, groups, collapsedGroup, offset) {\r\n                if (!data || !path.length || !groups.length) {\r\n                    return\r\n                }\r\n                var keyValue;\r\n                var i;\r\n                var pathValue = toComparable(path[0], true);\r\n                for (i = 0; i < data.length; i++) {\r\n                    keyValue = toComparable(data[i].key, true);\r\n                    if (offset >= collapsedGroup.offset || pathValue === keyValue) {\r\n                        break\r\n                    } else {\r\n                        offset += getGroupCount(data[i], groups.length)\r\n                    }\r\n                }\r\n                if (!data.length || pathValue !== keyValue) {\r\n                    data.splice(i, 0, {\r\n                        key: path[0],\r\n                        items: [],\r\n                        count: 1 === path.length ? collapsedGroup.count : void 0\r\n                    })\r\n                }\r\n                appendCollapsedPath(data[i].items, path.slice(1), groups.slice(1), collapsedGroup, offset)\r\n            }\r\n            if (options.collapsedItemsCount && options.extra && options.extra.totalCount >= 0) {\r\n                options.extra.totalCount += options.collapsedItemsCount\r\n            }\r\n            callBase(options);\r\n            if (groupCount) {\r\n                var data = options.data;\r\n                var query = dataQuery(data);\r\n                storeHelper.multiLevelGroup(query, groups).enumerate().done((function(groupedData) {\r\n                    data = groupedData\r\n                }));\r\n                if (collapsedGroups) {\r\n                    for (var pathIndex = 0; pathIndex < collapsedGroups.length; pathIndex++) {\r\n                        appendCollapsedPath(data, collapsedGroups[pathIndex].path, groups, collapsedGroups[pathIndex], options.skip)\r\n                    }\r\n                }\r\n                if (!options.isCustomLoading) {\r\n                    ! function processGroupItems(that, items, path, offset, skipFirstItem, take) {\r\n                        var removeLastItemsCount = 0;\r\n                        var needRemoveFirstItem = false;\r\n                        for (var i = 0; i < items.length; i++) {\r\n                            var item = items[i];\r\n                            if (void 0 !== item.items) {\r\n                                path.push(item.key);\r\n                                var groupInfo = that.findGroupInfo(path);\r\n                                if (groupInfo && !groupInfo.isExpanded) {\r\n                                    item.collapsedItems = item.items;\r\n                                    item.items = null;\r\n                                    offset += groupInfo.count;\r\n                                    take--;\r\n                                    if (take < 0) {\r\n                                        removeLastItemsCount++\r\n                                    }\r\n                                    if (skipFirstItem) {\r\n                                        needRemoveFirstItem = true\r\n                                    }\r\n                                } else if (item.items) {\r\n                                    var offsetInfo = processGroupItems(that, item.items, path, offset, skipFirstItem, take);\r\n                                    if (skipFirstItem) {\r\n                                        if (offsetInfo.offset - offset > 1) {\r\n                                            item.isContinuation = true\r\n                                        } else {\r\n                                            needRemoveFirstItem = true\r\n                                        }\r\n                                    }\r\n                                    offset = offsetInfo.offset;\r\n                                    take = offsetInfo.take;\r\n                                    if (take < 0) {\r\n                                        if (item.items.length) {\r\n                                            item.isContinuationOnNextPage = true\r\n                                        } else {\r\n                                            removeLastItemsCount++\r\n                                        }\r\n                                    }\r\n                                }\r\n                                path.pop()\r\n                            } else {\r\n                                if (skipFirstItem) {\r\n                                    needRemoveFirstItem = true\r\n                                }\r\n                                offset++;\r\n                                take--;\r\n                                if (take < 0) {\r\n                                    removeLastItemsCount++\r\n                                }\r\n                            }\r\n                            skipFirstItem = false\r\n                        }\r\n                        if (needRemoveFirstItem) {\r\n                            items.splice(0, 1)\r\n                        }\r\n                        if (removeLastItemsCount) {\r\n                            items.splice(-removeLastItemsCount, removeLastItemsCount)\r\n                        }\r\n                        return {\r\n                            offset: offset,\r\n                            take: take\r\n                        }\r\n                    }(this, data, [], options.skip, options.skipFirstItem, options.take)\r\n                }\r\n                options.data = data\r\n            }\r\n        },\r\n        isGroupItemCountable: function(item) {\r\n            return null === item.items\r\n        },\r\n        updateTotalItemsCount: function() {\r\n            var itemsCountCorrection = 0;\r\n            foreachCollapsedGroups(this, (function(groupInfo) {\r\n                if (groupInfo.count) {\r\n                    itemsCountCorrection -= groupInfo.count - 1\r\n                }\r\n            }));\r\n            this.callBase(itemsCountCorrection)\r\n        },\r\n        changeRowExpand: function(path) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var beginPageIndex = dataSource.beginPageIndex ? dataSource.beginPageIndex() : dataSource.pageIndex();\r\n            var dataSourceItems = dataSource.items();\r\n            var offset = correctSkipLoadOption(that, beginPageIndex * dataSource.pageSize());\r\n            var groupInfo = that.findGroupInfo(path);\r\n            var groupCountQuery;\r\n            if (groupInfo && !groupInfo.isExpanded) {\r\n                groupCountQuery = (new Deferred).resolve(groupInfo.count)\r\n            } else {\r\n                groupCountQuery = loadTotalCount(dataSource, {\r\n                    filter: createGroupFilter(path, {\r\n                        filter: dataSource.filter(),\r\n                        group: dataSource.group()\r\n                    })\r\n                })\r\n            }\r\n            return when(groupCountQuery).done((function(count) {\r\n                count = parseInt(count.length ? count[0] : count);\r\n                if (groupInfo) {\r\n                    updateGroupOffsets(that, dataSourceItems, [], offset);\r\n                    groupInfo.isExpanded = !groupInfo.isExpanded;\r\n                    groupInfo.count = count\r\n                } else {\r\n                    groupInfo = {\r\n                        offset: -1,\r\n                        count: count,\r\n                        path: path,\r\n                        isExpanded: false\r\n                    };\r\n                    updateGroupOffsets(that, dataSourceItems, [], offset, groupInfo);\r\n                    if (groupInfo.offset >= 0) {\r\n                        that.addGroupInfo(groupInfo)\r\n                    }\r\n                }\r\n                that.updateTotalItemsCount()\r\n            })).fail((function() {\r\n                dataSource._eventsStrategy.fireEvent(\"loadError\", arguments)\r\n            }))\r\n        },\r\n        allowCollapseAll: function() {\r\n            return false\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var dataSource = that._dataSource;\r\n            this.callBase.apply(this, arguments);\r\n            if (operationTypes.reload) {\r\n                return foreachCollapsedGroups(that, (function(groupInfo) {\r\n                    var groupCountQuery = loadTotalCount(dataSource, {\r\n                        filter: createGroupFilter(groupInfo.path, storeLoadOptions)\r\n                    });\r\n                    var groupOffsetQuery = loadTotalCount(dataSource, {\r\n                        filter: createOffsetFilter(groupInfo.path, storeLoadOptions)\r\n                    });\r\n                    return when(groupOffsetQuery, groupCountQuery).done((function(offset, count) {\r\n                        offset = parseInt(offset.length ? offset[0] : offset);\r\n                        count = parseInt(count.length ? count[0] : count);\r\n                        groupInfo.offset = offset;\r\n                        if (groupInfo.count !== count) {\r\n                            groupInfo.count = count;\r\n                            that.updateTotalItemsCount()\r\n                        }\r\n                    }))\r\n                }), true)\r\n            }\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.collapsed.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport dataGridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    GroupingHelper as GroupingHelperCore,\r\n    createOffsetFilter\r\n} from \"./ui.data_grid.grouping.core\";\r\nimport {\r\n    createGroupFilter\r\n} from \"./ui.data_grid.utils\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    errors as dataErrors\r\n} from \"../../data/errors\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\n\r\nfunction getContinuationGroupCount(groupOffset, pageSize, groupSize, groupIndex) {\r\n    groupIndex = groupIndex || 0;\r\n    if (pageSize > 1 && groupSize > 0) {\r\n        var pageOffset = groupOffset - Math.floor(groupOffset / pageSize) * pageSize || pageSize;\r\n        pageOffset += groupSize - groupIndex - 2;\r\n        if (pageOffset < 0) {\r\n            pageOffset += pageSize\r\n        }\r\n        return Math.floor(pageOffset / (pageSize - groupIndex - 1))\r\n    }\r\n    return 0\r\n}\r\nexport var GroupingHelper = GroupingHelperCore.inherit(function() {\r\n    var foreachExpandedGroups = function(that, callback, updateGroups) {\r\n        return that.foreachGroups((function(groupInfo, parents) {\r\n            if (groupInfo.isExpanded) {\r\n                return callback(groupInfo, parents)\r\n            }\r\n        }), true, false, updateGroups, updateGroups)\r\n    };\r\n    var processGroupItems = function processGroupItems(that, items, groupsCount, expandedInfo, path, isCustomLoading, isLastGroupExpanded) {\r\n        var isExpanded;\r\n        expandedInfo.items = expandedInfo.items || [];\r\n        expandedInfo.paths = expandedInfo.paths || [];\r\n        expandedInfo.count = expandedInfo.count || 0;\r\n        expandedInfo.lastCount = expandedInfo.lastCount || 0;\r\n        if (!groupsCount) {\r\n            return\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (void 0 !== item.items) {\r\n                path.push(item.key);\r\n                if (isCustomLoading) {\r\n                    isExpanded = true\r\n                } else {\r\n                    var groupInfo = that.findGroupInfo(path);\r\n                    isExpanded = groupInfo && groupInfo.isExpanded\r\n                }\r\n                if (!isExpanded) {\r\n                    item.collapsedItems = item.items;\r\n                    item.items = null\r\n                } else if (item.items) {\r\n                    processGroupItems(that, item.items, groupsCount - 1, expandedInfo, path, isCustomLoading, isLastGroupExpanded)\r\n                } else if (1 === groupsCount && item.count && (!isCustomLoading || isLastGroupExpanded)) {\r\n                    expandedInfo.items.push(item);\r\n                    expandedInfo.paths.push(path.slice(0));\r\n                    expandedInfo.count += expandedInfo.lastCount;\r\n                    expandedInfo.lastCount = item.count\r\n                }\r\n                path.pop()\r\n            }\r\n        }\r\n    };\r\n    var updateGroupInfoItem = function(that, item, isLastGroupLevel, path, offset) {\r\n        var groupInfo = that.findGroupInfo(path);\r\n        var count;\r\n        if (!groupInfo) {\r\n            if (isLastGroupLevel) {\r\n                count = item.count > 0 ? item.count : item.items.length\r\n            }\r\n            that.addGroupInfo({\r\n                isExpanded: that._isGroupExpanded(path.length - 1),\r\n                path: path.slice(0),\r\n                offset: offset,\r\n                count: count || 0\r\n            })\r\n        } else {\r\n            if (isLastGroupLevel) {\r\n                groupInfo.count = item.count > 0 ? item.count : item.items && item.items.length || 0\r\n            } else {\r\n                item.count = groupInfo.count || item.count\r\n            }\r\n            groupInfo.offset = offset\r\n        }\r\n    };\r\n    var updateGroupInfos = function updateGroupInfos(that, options, items, loadedGroupCount, groupIndex, path, parentIndex) {\r\n        var groupCount = options.group ? options.group.length : 0;\r\n        var isLastGroupLevel = groupCount === loadedGroupCount;\r\n        var remotePaging = options.remoteOperations.paging;\r\n        var offset = 0;\r\n        var totalCount = 0;\r\n        var count;\r\n        groupIndex = groupIndex || 0;\r\n        path = path || [];\r\n        if (remotePaging && !parentIndex) {\r\n            offset = 0 === groupIndex ? options.skip || 0 : options.skips[groupIndex - 1] || 0\r\n        }\r\n        if (groupIndex >= loadedGroupCount) {\r\n            return items.length\r\n        }\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            if (item) {\r\n                path.push(item.key);\r\n                if (!item.count && !item.items || void 0 === item.items) {\r\n                    return -1\r\n                }\r\n                updateGroupInfoItem(that, item, isLastGroupLevel, path, offset + i);\r\n                count = item.items ? updateGroupInfos(that, options, item.items, loadedGroupCount, groupIndex + 1, path, i) : item.count || -1;\r\n                if (count < 0) {\r\n                    return -1\r\n                }\r\n                totalCount += count;\r\n                path.pop()\r\n            }\r\n        }\r\n        return totalCount\r\n    };\r\n    var isGroupExpanded = function(groups, groupIndex) {\r\n        return groups && groups.length && groups[groupIndex] && !!groups[groupIndex].isExpanded\r\n    };\r\n    var getTotalOffset = function(groupInfos, pageSize, offset) {\r\n        var groupSize;\r\n        var totalOffset = offset;\r\n        for (var groupIndex = 0; groupIndex < groupInfos.length; groupIndex++) {\r\n            groupSize = groupInfos[groupIndex].offset + 1;\r\n            if (groupIndex > 0) {\r\n                groupSize += groupInfos[groupIndex - 1].childrenTotalCount;\r\n                if (pageSize) {\r\n                    groupSize += getContinuationGroupCount(totalOffset, pageSize, groupSize, groupIndex - 1) * groupIndex\r\n                }\r\n            }\r\n            totalOffset += groupSize\r\n        }\r\n        return totalOffset\r\n    };\r\n\r\n    function applyContinuationToGroupItem(options, expandedInfo, groupLevel, expandedItemIndex) {\r\n        var item = expandedInfo.items[expandedItemIndex];\r\n        var skip = options.skips && options.skips[groupLevel];\r\n        var take = options.takes && options.takes[groupLevel];\r\n        var isLastExpandedItem = expandedItemIndex === expandedInfo.items.length - 1;\r\n        var isFirstExpandedItem = 0 === expandedItemIndex;\r\n        var lastExpandedItemSkip = isFirstExpandedItem && skip || 0;\r\n        var isItemsTruncatedByTake = item.count > take + lastExpandedItemSkip;\r\n        if (isFirstExpandedItem && void 0 !== skip) {\r\n            item.isContinuation = true\r\n        }\r\n        if (isLastExpandedItem && void 0 !== take && isItemsTruncatedByTake) {\r\n            item.isContinuationOnNextPage = true\r\n        }\r\n    }\r\n\r\n    function isDataDeferred(data) {\r\n        return !Array.isArray(data)\r\n    }\r\n\r\n    function makeDataDeferred(options) {\r\n        if (!isDataDeferred(options.data)) {\r\n            options.data = new Deferred\r\n        }\r\n    }\r\n\r\n    function loadGroupItems(that, options, loadedGroupCount, expandedInfo, groupLevel, data) {\r\n        if (!options.isCustomLoading) {\r\n            expandedInfo = {};\r\n            processGroupItems(that, data, loadedGroupCount, expandedInfo, []);\r\n            ! function(options, expandedInfo, currentGroupCount) {\r\n                var currentGroupIndex = currentGroupCount - 1;\r\n                var groupCount = options.group ? options.group.length : 0;\r\n                expandedInfo.skip = options.skips && options.skips[currentGroupIndex];\r\n                if (options.takes && void 0 !== options.takes[currentGroupIndex]) {\r\n                    if (groupCount === currentGroupCount) {\r\n                        expandedInfo.take = expandedInfo.count ? expandedInfo.count - (expandedInfo.skip || 0) : 0\r\n                    } else {\r\n                        expandedInfo.take = 0\r\n                    }\r\n                    expandedInfo.take += options.takes[currentGroupIndex]\r\n                }\r\n            }(options, expandedInfo, loadedGroupCount)\r\n        }\r\n        var groupCount = options.group ? options.group.length : 0;\r\n        if (expandedInfo.paths.length && groupCount - loadedGroupCount > 0) {\r\n            makeDataDeferred(options);\r\n            ! function(that, options, expandedInfo, loadedGroupCount, groupLevel, data) {\r\n                var groups = options.group || [];\r\n                var currentGroup = groups[groupLevel + 1];\r\n                var deferreds = [];\r\n                each(expandedInfo.paths, (function(expandedItemIndex) {\r\n                    var loadOptions = {\r\n                        requireTotalCount: false,\r\n                        requireGroupCount: true,\r\n                        group: [currentGroup],\r\n                        groupSummary: options.storeLoadOptions.groupSummary,\r\n                        filter: createGroupFilter(expandedInfo.paths[expandedItemIndex], {\r\n                            filter: options.storeLoadOptions.filter,\r\n                            group: groups\r\n                        }),\r\n                        select: options.storeLoadOptions.select\r\n                    };\r\n                    if (0 === expandedItemIndex) {\r\n                        loadOptions.skip = expandedInfo.skip || 0\r\n                    }\r\n                    if (expandedItemIndex === expandedInfo.paths.length - 1) {\r\n                        loadOptions.take = expandedInfo.take\r\n                    }\r\n                    var loadResult = 0 === loadOptions.take ? [] : that._dataSource.loadFromStore(loadOptions);\r\n                    when(loadResult).done((function(data) {\r\n                        var item = expandedInfo.items[expandedItemIndex];\r\n                        applyContinuationToGroupItem(options, expandedInfo, groupLevel, expandedItemIndex);\r\n                        item.items = data\r\n                    }));\r\n                    deferreds.push(loadResult)\r\n                }));\r\n                when.apply(null, deferreds).done((function() {\r\n                    updateGroupInfos(that, options, data, loadedGroupCount + 1);\r\n                    loadGroupItems(that, options, loadedGroupCount + 1, expandedInfo, groupLevel + 1, data)\r\n                }))\r\n            }(that, options, expandedInfo, loadedGroupCount, groupLevel, data)\r\n        } else if (expandedInfo.paths.length && options.storeLoadOptions.group) {\r\n            makeDataDeferred(options);\r\n            ! function(that, options, expandedInfo, data) {\r\n                var expandedFilters = [];\r\n                var groups = options.group || [];\r\n                each(expandedInfo.paths, (function(_, expandedPath) {\r\n                    expandedFilters.push(createGroupFilter(expandedPath, {\r\n                        group: options.isCustomLoading ? options.storeLoadOptions.group : groups\r\n                    }))\r\n                }));\r\n                var filter = options.storeLoadOptions.filter;\r\n                if (!options.storeLoadOptions.isLoadingAll) {\r\n                    filter = dataGridCore.combineFilters([filter, dataGridCore.combineFilters(expandedFilters, \"or\")])\r\n                }\r\n                var loadOptions = extend({}, options.storeLoadOptions, {\r\n                    requireTotalCount: false,\r\n                    requireGroupCount: false,\r\n                    group: null,\r\n                    sort: groups.concat(dataGridCore.normalizeSortingInfo(options.storeLoadOptions.sort || [])),\r\n                    filter: filter\r\n                });\r\n                var isPagingLocal = that._dataSource.isLastLevelGroupItemsPagingLocal();\r\n                if (!isPagingLocal) {\r\n                    loadOptions.skip = expandedInfo.skip;\r\n                    loadOptions.take = expandedInfo.take\r\n                }\r\n                when(0 === expandedInfo.take ? [] : that._dataSource.loadFromStore(loadOptions)).done((function(items, extra) {\r\n                    if (isPagingLocal) {\r\n                        items = that._dataSource.sortLastLevelGroupItems(items, groups, expandedInfo.paths);\r\n                        items = expandedInfo.skip ? items.slice(expandedInfo.skip) : items;\r\n                        items = expandedInfo.take ? items.slice(0, expandedInfo.take) : items\r\n                    }\r\n                    each(expandedInfo.items, (function(index, item) {\r\n                        var itemCount = item.count - (0 === index && expandedInfo.skip || 0);\r\n                        var expandedItems = items.splice(0, itemCount);\r\n                        applyContinuationToGroupItem(options, expandedInfo, groups.length - 1, index);\r\n                        item.items = expandedItems\r\n                    }));\r\n                    options.data.resolve(data)\r\n                })).fail(options.data.reject)\r\n            }(that, options, expandedInfo, data)\r\n        } else if (isDataDeferred(options.data)) {\r\n            options.data.resolve(data)\r\n        }\r\n    }\r\n    var loadGroupTotalCount = function(dataSource, options) {\r\n        var d = new Deferred;\r\n        var isGrouping = !!(options.group && options.group.length);\r\n        var loadOptions = extend({\r\n            skip: 0,\r\n            take: 1,\r\n            requireGroupCount: isGrouping,\r\n            requireTotalCount: !isGrouping\r\n        }, options, {\r\n            group: isGrouping ? options.group : null\r\n        });\r\n        dataSource.load(loadOptions).done((function(data, extra) {\r\n            var count = extra && (isGrouping ? extra.groupCount : extra.totalCount);\r\n            if (!isFinite(count)) {\r\n                d.reject(dataErrors.Error(isGrouping ? \"E4022\" : \"E4021\"));\r\n                return\r\n            }\r\n            d.resolve(count)\r\n        })).fail(d.reject.bind(d));\r\n        return d\r\n    };\r\n    return {\r\n        updateTotalItemsCount: function(options) {\r\n            var totalItemsCount = 0;\r\n            var totalCount = options.extra && options.extra.totalCount || 0;\r\n            var groupCount = options.extra && options.extra.groupCount || 0;\r\n            var pageSize = this._dataSource.pageSize();\r\n            var isVirtualPaging = this._isVirtualPaging();\r\n            foreachExpandedGroups(this, (function(groupInfo) {\r\n                groupInfo.childrenTotalCount = 0\r\n            }));\r\n            foreachExpandedGroups(this, (function(groupInfo, parents) {\r\n                var totalOffset = getTotalOffset(parents, isVirtualPaging ? 0 : pageSize, totalItemsCount);\r\n                var count = groupInfo.count + groupInfo.childrenTotalCount;\r\n                if (!isVirtualPaging) {\r\n                    count += getContinuationGroupCount(totalOffset, pageSize, count, parents.length - 1)\r\n                }\r\n                if (parents[parents.length - 2]) {\r\n                    parents[parents.length - 2].childrenTotalCount += count\r\n                } else {\r\n                    totalItemsCount += count\r\n                }\r\n            }));\r\n            this.callBase(totalItemsCount - totalCount + groupCount)\r\n        },\r\n        _isGroupExpanded: function(groupIndex) {\r\n            var groups = this._dataSource.group();\r\n            return isGroupExpanded(groups, groupIndex)\r\n        },\r\n        _updatePagingOptions: function(options, callback) {\r\n            var isVirtualPaging = this._isVirtualPaging();\r\n            var pageSize = this._dataSource.pageSize();\r\n            var skips = [];\r\n            var takes = [];\r\n            var skipChildrenTotalCount = 0;\r\n            var childrenTotalCount = 0;\r\n            if (options.take) {\r\n                foreachExpandedGroups(this, (function(groupInfo) {\r\n                    groupInfo.childrenTotalCount = 0;\r\n                    groupInfo.skipChildrenTotalCount = 0\r\n                }));\r\n                foreachExpandedGroups(this, (function(groupInfo, parents) {\r\n                    var take;\r\n                    var takeCorrection = 0;\r\n                    var parentTakeCorrection = 0;\r\n                    var totalOffset = getTotalOffset(parents, isVirtualPaging ? 0 : pageSize, childrenTotalCount);\r\n                    var continuationGroupCount = 0;\r\n                    var skipContinuationGroupCount = 0;\r\n                    var groupInfoCount = groupInfo.count + groupInfo.childrenTotalCount;\r\n                    var childrenGroupInfoCount = groupInfoCount;\r\n                    callback && callback(groupInfo, totalOffset);\r\n                    var skip = options.skip - totalOffset;\r\n                    if (totalOffset <= options.skip + options.take && groupInfoCount) {\r\n                        take = options.take;\r\n                        if (!isVirtualPaging) {\r\n                            continuationGroupCount = getContinuationGroupCount(totalOffset, pageSize, groupInfoCount, parents.length - 1);\r\n                            groupInfoCount += continuationGroupCount * parents.length;\r\n                            childrenGroupInfoCount += continuationGroupCount;\r\n                            if (pageSize && skip >= 0) {\r\n                                takeCorrection = parents.length;\r\n                                parentTakeCorrection = parents.length - 1;\r\n                                skipContinuationGroupCount = Math.floor(skip / pageSize)\r\n                            }\r\n                        }\r\n                        if (skip >= 0) {\r\n                            if (totalOffset + groupInfoCount > options.skip) {\r\n                                skips.unshift(skip - skipContinuationGroupCount * takeCorrection - groupInfo.skipChildrenTotalCount)\r\n                            }\r\n                            if (totalOffset + groupInfoCount >= options.skip + take) {\r\n                                takes.unshift(take - takeCorrection - groupInfo.childrenTotalCount + groupInfo.skipChildrenTotalCount)\r\n                            }\r\n                        } else if (totalOffset + groupInfoCount >= options.skip + take) {\r\n                            takes.unshift(take + skip - groupInfo.childrenTotalCount)\r\n                        }\r\n                    }\r\n                    if (totalOffset <= options.skip) {\r\n                        if (parents[parents.length - 2]) {\r\n                            parents[parents.length - 2].skipChildrenTotalCount += Math.min(childrenGroupInfoCount, skip + 1 - skipContinuationGroupCount * parentTakeCorrection)\r\n                        } else {\r\n                            skipChildrenTotalCount += Math.min(childrenGroupInfoCount, skip + 1)\r\n                        }\r\n                    }\r\n                    if (totalOffset <= options.skip + take) {\r\n                        groupInfoCount = Math.min(childrenGroupInfoCount, skip + take - (skipContinuationGroupCount + 1) * parentTakeCorrection);\r\n                        if (parents[parents.length - 2]) {\r\n                            parents[parents.length - 2].childrenTotalCount += groupInfoCount\r\n                        } else {\r\n                            childrenTotalCount += groupInfoCount\r\n                        }\r\n                    }\r\n                }));\r\n                options.skip -= skipChildrenTotalCount;\r\n                options.take -= childrenTotalCount - skipChildrenTotalCount\r\n            }\r\n            options.skips = skips;\r\n            options.takes = takes\r\n        },\r\n        changeRowExpand: function(path) {\r\n            var groupInfo = this.findGroupInfo(path);\r\n            var dataSource = this._dataSource;\r\n            var remoteGroupPaging = dataSource.remoteOperations().groupPaging;\r\n            var groups = dataGridCore.normalizeSortingInfo(dataSource.group());\r\n            if (groupInfo) {\r\n                groupInfo.isExpanded = !groupInfo.isExpanded;\r\n                if (remoteGroupPaging && groupInfo.isExpanded && path.length < groups.length) {\r\n                    return loadGroupTotalCount(dataSource, {\r\n                        filter: createGroupFilter(path, {\r\n                            filter: dataSource.lastLoadOptions().filter,\r\n                            group: dataSource.group()\r\n                        }),\r\n                        group: [groups[path.length]],\r\n                        select: dataSource.select()\r\n                    }).done((function(groupCount) {\r\n                        groupInfo.count = groupCount\r\n                    }))\r\n                }\r\n                return (new Deferred).resolve()\r\n            }\r\n            return (new Deferred).reject()\r\n        },\r\n        handleDataLoading: function(options) {\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var groups = dataGridCore.normalizeSortingInfo(storeLoadOptions.group || options.loadOptions.group);\r\n            if (options.isCustomLoading || !groups.length) {\r\n                return\r\n            }\r\n            if (options.remoteOperations.grouping) {\r\n                var remotePaging = this._dataSource.remoteOperations().paging;\r\n                storeLoadOptions.group = dataGridCore.normalizeSortingInfo(storeLoadOptions.group);\r\n                storeLoadOptions.group.forEach((function(group, index) {\r\n                    var isLastGroup = index === storeLoadOptions.group.length - 1;\r\n                    group.isExpanded = !remotePaging || !isLastGroup\r\n                }))\r\n            }\r\n            options.group = options.group || groups;\r\n            if (options.remoteOperations.paging) {\r\n                options.skip = storeLoadOptions.skip;\r\n                options.take = storeLoadOptions.take;\r\n                storeLoadOptions.requireGroupCount = true;\r\n                storeLoadOptions.group = groups.slice(0, 1);\r\n                this._updatePagingOptions(options);\r\n                storeLoadOptions.skip = options.skip;\r\n                storeLoadOptions.take = options.take\r\n            } else {\r\n                options.skip = options.loadOptions.skip;\r\n                options.take = options.loadOptions.take;\r\n                this._updatePagingOptions(options)\r\n            }\r\n        },\r\n        handleDataLoadedCore: function(options, callBase) {\r\n            var loadedGroupCount = dataGridCore.normalizeSortingInfo(options.storeLoadOptions.group || options.loadOptions.group).length;\r\n            var groupCount = options.group ? options.group.length : 0;\r\n            var totalCount;\r\n            var expandedInfo = {};\r\n            if (options.isCustomLoading) {\r\n                callBase(options);\r\n                processGroupItems(this, options.data, loadedGroupCount, expandedInfo, [], options.isCustomLoading, options.storeLoadOptions.isLoadingAll)\r\n            } else {\r\n                if (!options.remoteOperations.paging) {\r\n                    this.foreachGroups((function(groupInfo) {\r\n                        groupInfo.count = 0\r\n                    }))\r\n                }\r\n                totalCount = updateGroupInfos(this, options, options.data, loadedGroupCount);\r\n                if (totalCount < 0) {\r\n                    options.data = (new Deferred).reject(errors.Error(\"E1037\"));\r\n                    return\r\n                }\r\n                if (!options.remoteOperations.paging) {\r\n                    if (loadedGroupCount && options.extra && options.loadOptions.requireTotalCount) {\r\n                        options.extra.totalCount = totalCount;\r\n                        options.extra.groupCount = options.data.length\r\n                    }\r\n                }\r\n                if (groupCount && options.storeLoadOptions.requireGroupCount && !isFinite(options.extra.groupCount)) {\r\n                    options.data = (new Deferred).reject(dataErrors.Error(\"E4022\"));\r\n                    return\r\n                }\r\n                this.updateTotalItemsCount(options);\r\n                if (!options.remoteOperations.paging) {\r\n                    this._updatePagingOptions(options)\r\n                }\r\n                callBase(options);\r\n                if (!options.remoteOperations.paging) {\r\n                    this._processPaging(options, loadedGroupCount)\r\n                }\r\n            }\r\n            loadGroupItems(this, options, loadedGroupCount, expandedInfo, 0, options.data)\r\n        },\r\n        _processSkips: function(items, skips, groupCount) {\r\n            if (!groupCount) {\r\n                return\r\n            }\r\n            var firstItem = items[0];\r\n            var skip = skips[0];\r\n            var children = firstItem && firstItem.items;\r\n            if (void 0 !== skip) {\r\n                firstItem.isContinuation = true;\r\n                if (children) {\r\n                    firstItem.items = children.slice(skip);\r\n                    this._processSkips(firstItem.items, skips.slice(1), groupCount - 1)\r\n                }\r\n            }\r\n        },\r\n        _processTakes: function(items, skips, takes, groupCount, parents) {\r\n            if (!groupCount || !items) {\r\n                return\r\n            }\r\n            parents = parents || [];\r\n            var lastItem = items[items.length - 1];\r\n            var children = lastItem && lastItem.items;\r\n            var take = takes[0];\r\n            var skip = skips[0];\r\n            if (lastItem) {\r\n                var maxTakeCount = lastItem.count - (lastItem.isContinuation && skip || 0) || children.length;\r\n                if (void 0 !== take && maxTakeCount > take) {\r\n                    lastItem.isContinuationOnNextPage = true;\r\n                    parents.forEach((function(parent) {\r\n                        parent.isContinuationOnNextPage = true\r\n                    }));\r\n                    if (children) {\r\n                        children = children.slice(0, take);\r\n                        lastItem.items = children\r\n                    }\r\n                }\r\n                parents.push(lastItem);\r\n                this._processTakes(children, skips.slice(1), takes.slice(1), groupCount - 1, parents)\r\n            }\r\n        },\r\n        _processPaging: function(options, groupCount) {\r\n            this._processSkips(options.data, options.skips, groupCount);\r\n            this._processTakes(options.data, options.skips, options.takes, groupCount)\r\n        },\r\n        isLastLevelGroupItemsPagingLocal: function() {\r\n            return false\r\n        },\r\n        sortLastLevelGroupItems: function(items) {\r\n            return items\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            var that = this;\r\n            var dataSource = that._dataSource;\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var group = options.group || options.storeLoadOptions.group;\r\n            var oldGroups = dataGridCore.normalizeSortingInfo(that._group);\r\n            var isExpanded;\r\n            var groupIndex;\r\n\r\n            function handleGroup(groupInfo, parents) {\r\n                if (parents.length === groupIndex + 1) {\r\n                    groupInfo.isExpanded = isExpanded\r\n                }\r\n            }\r\n            for (groupIndex = 0; groupIndex < oldGroups.length; groupIndex++) {\r\n                isExpanded = isGroupExpanded(group, groupIndex);\r\n                if (isGroupExpanded(that._group, groupIndex) !== isExpanded) {\r\n                    that.foreachGroups(handleGroup)\r\n                }\r\n            }\r\n            that.callBase.apply(this, arguments);\r\n            if (group && options.remoteOperations.paging && operationTypes.reload) {\r\n                return foreachExpandedGroups(that, (function(groupInfo) {\r\n                    var groupCountQuery = loadGroupTotalCount(dataSource, {\r\n                        filter: createGroupFilter(groupInfo.path, {\r\n                            filter: storeLoadOptions.filter,\r\n                            group: group\r\n                        }),\r\n                        group: group.slice(groupInfo.path.length),\r\n                        select: storeLoadOptions.select\r\n                    });\r\n                    var groupOffsetQuery = loadGroupTotalCount(dataSource, {\r\n                        filter: createOffsetFilter(groupInfo.path, {\r\n                            filter: storeLoadOptions.filter,\r\n                            group: group\r\n                        }, true),\r\n                        group: group.slice(groupInfo.path.length - 1, groupInfo.path.length),\r\n                        select: storeLoadOptions.select\r\n                    });\r\n                    return when(groupOffsetQuery, groupCountQuery).done((function(offset, count) {\r\n                        offset = parseInt(offset.length ? offset[0] : offset);\r\n                        count = parseInt(count.length ? count[0] : count);\r\n                        groupInfo.offset = offset;\r\n                        if (groupInfo.count !== count) {\r\n                            groupInfo.count = count;\r\n                            that.updateTotalItemsCount(options)\r\n                        }\r\n                    }))\r\n                }), true)\r\n            }\r\n        }\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.grouping.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    GroupingHelper as ExpandedGroupingHelper\r\n} from \"./ui.data_grid.grouping.expanded\";\r\nimport {\r\n    GroupingHelper as CollapsedGroupingHelper\r\n} from \"./ui.data_grid.grouping.collapsed\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport dataSourceAdapter from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    registerKeyboardAction\r\n} from \"../grid_core/ui.grid_core.accessibility\";\r\nimport {\r\n    setTabIndex,\r\n    restoreFocus\r\n} from \"../shared/accessibility\";\r\nvar DATAGRID_GROUP_PANEL_CLASS = \"dx-datagrid-group-panel\";\r\nvar DATAGRID_GROUP_PANEL_MESSAGE_CLASS = \"dx-group-panel-message\";\r\nvar DATAGRID_GROUP_PANEL_ITEM_CLASS = \"dx-group-panel-item\";\r\nvar DATAGRID_GROUP_PANEL_LABEL_CLASS = \"dx-toolbar-label\";\r\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\r\nvar DATAGRID_GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar HEADER_FILTER_CLASS_SELECTOR = \".dx-header-filter\";\r\nvar GroupingDataSourceAdapterExtender = {\r\n    init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._initGroupingHelper()\r\n    },\r\n    _initGroupingHelper: function(options) {\r\n        var grouping = this._grouping;\r\n        var isAutoExpandAll = this.option(\"grouping.autoExpandAll\");\r\n        var isFocusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n        var remoteOperations = options ? options.remoteOperations : this.remoteOperations();\r\n        var isODataRemoteOperations = remoteOperations.filtering && remoteOperations.sorting && remoteOperations.paging;\r\n        if (isODataRemoteOperations && !remoteOperations.grouping && (isAutoExpandAll || !isFocusedRowEnabled)) {\r\n            if (!grouping || grouping instanceof CollapsedGroupingHelper) {\r\n                this._grouping = new ExpandedGroupingHelper(this)\r\n            }\r\n        } else if (!grouping || grouping instanceof ExpandedGroupingHelper) {\r\n            this._grouping = new CollapsedGroupingHelper(this)\r\n        }\r\n    },\r\n    totalItemsCount: function() {\r\n        var totalCount = this.callBase();\r\n        return totalCount > 0 && this._dataSource.group() && this._dataSource.requireTotalCount() ? totalCount + this._grouping.totalCountCorrection() : totalCount\r\n    },\r\n    itemsCount: function() {\r\n        return this._dataSource.group() ? this._grouping.itemsCount() || 0 : this.callBase.apply(this, arguments)\r\n    },\r\n    allowCollapseAll: function() {\r\n        return this._grouping.allowCollapseAll()\r\n    },\r\n    isGroupItemCountable: function(item) {\r\n        return this._grouping.isGroupItemCountable(item)\r\n    },\r\n    isRowExpanded: function(key) {\r\n        var groupInfo = this._grouping.findGroupInfo(key);\r\n        return groupInfo ? groupInfo.isExpanded : !this._grouping.allowCollapseAll()\r\n    },\r\n    collapseAll: function(groupIndex) {\r\n        return this._collapseExpandAll(groupIndex, false)\r\n    },\r\n    expandAll: function(groupIndex) {\r\n        return this._collapseExpandAll(groupIndex, true)\r\n    },\r\n    _collapseExpandAll: function(groupIndex, isExpand) {\r\n        var dataSource = this._dataSource;\r\n        var group = dataSource.group();\r\n        var groups = gridCore.normalizeSortingInfo(group || []);\r\n        if (groups.length) {\r\n            for (var i = 0; i < groups.length; i++) {\r\n                if (void 0 === groupIndex || groupIndex === i) {\r\n                    groups[i].isExpanded = isExpand\r\n                } else if (group && group[i]) {\r\n                    groups[i].isExpanded = group[i].isExpanded\r\n                }\r\n            }\r\n            dataSource.group(groups);\r\n            this._grouping.foreachGroups((function(groupInfo, parents) {\r\n                if (void 0 === groupIndex || groupIndex === parents.length - 1) {\r\n                    groupInfo.isExpanded = isExpand\r\n                }\r\n            }), false, true);\r\n            this.resetPagesCache()\r\n        }\r\n        return true\r\n    },\r\n    refresh: function() {\r\n        this.callBase.apply(this, arguments);\r\n        return this._grouping.refresh.apply(this._grouping, arguments)\r\n    },\r\n    changeRowExpand: function(path) {\r\n        var dataSource = this._dataSource;\r\n        if (dataSource.group()) {\r\n            dataSource.beginLoading();\r\n            if (this._lastLoadOptions) {\r\n                this._lastLoadOptions.groupExpand = true\r\n            }\r\n            return this._changeRowExpandCore(path).always((function() {\r\n                dataSource.endLoading()\r\n            }))\r\n        }\r\n    },\r\n    _changeRowExpandCore: function(path) {\r\n        return this._grouping.changeRowExpand(path)\r\n    },\r\n    _hasGroupLevelsExpandState: function(group, isExpanded) {\r\n        if (group && Array.isArray(group)) {\r\n            for (var i = 0; i < group.length; i++) {\r\n                if (group[i].isExpanded === isExpanded) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _customizeRemoteOperations: function(options, operationTypes) {\r\n        var remoteOperations = options.remoteOperations;\r\n        if (options.storeLoadOptions.group) {\r\n            if (remoteOperations.grouping && !options.isCustomLoading) {\r\n                if (!remoteOperations.groupPaging || this._hasGroupLevelsExpandState(options.storeLoadOptions.group, true)) {\r\n                    remoteOperations.paging = false\r\n                }\r\n            }\r\n            if (!remoteOperations.grouping && (!remoteOperations.sorting || !remoteOperations.filtering || options.isCustomLoading || this._hasGroupLevelsExpandState(options.storeLoadOptions.group, false))) {\r\n                remoteOperations.paging = false\r\n            }\r\n        } else if (!options.isCustomLoading && remoteOperations.paging && operationTypes.grouping) {\r\n            this.resetCache()\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _handleDataLoading: function(options) {\r\n        this.callBase(options);\r\n        this._initGroupingHelper(options);\r\n        return this._grouping.handleDataLoading(options)\r\n    },\r\n    _handleDataLoaded: function(options) {\r\n        return this._grouping.handleDataLoaded(options, this.callBase.bind(this))\r\n    },\r\n    _handleDataLoadedCore: function(options) {\r\n        return this._grouping.handleDataLoadedCore(options, this.callBase.bind(this))\r\n    }\r\n};\r\ndataSourceAdapter.extend(GroupingDataSourceAdapterExtender);\r\nvar GroupingDataControllerExtender = {\r\n    init: function() {\r\n        this.callBase();\r\n        this.createAction(\"onRowExpanding\");\r\n        this.createAction(\"onRowExpanded\");\r\n        this.createAction(\"onRowCollapsing\");\r\n        this.createAction(\"onRowCollapsed\")\r\n    },\r\n    _beforeProcessItems: function(items) {\r\n        var groupColumns = this._columnsController.getGroupColumns();\r\n        items = this.callBase(items);\r\n        if (items.length && groupColumns.length) {\r\n            items = this._processGroupItems(items, groupColumns.length)\r\n        }\r\n        return items\r\n    },\r\n    _processItem: function(item, options) {\r\n        if (isDefined(item.groupIndex) && isString(item.rowType) && 0 === item.rowType.indexOf(\"group\")) {\r\n            item = this._processGroupItem(item, options);\r\n            options.dataIndex = 0\r\n        } else {\r\n            item = this.callBase.apply(this, arguments)\r\n        }\r\n        return item\r\n    },\r\n    _processGroupItem: function(item) {\r\n        return item\r\n    },\r\n    _processGroupItems: function(items, groupsCount, options) {\r\n        var groupedColumns = this._columnsController.getGroupColumns();\r\n        var column = groupedColumns[groupedColumns.length - groupsCount];\r\n        if (!options) {\r\n            var scrollingMode = this.option(\"scrolling.mode\");\r\n            options = {\r\n                collectContinuationItems: \"virtual\" !== scrollingMode && \"infinite\" !== scrollingMode,\r\n                resultItems: [],\r\n                path: [],\r\n                values: []\r\n            }\r\n        }\r\n        var resultItems = options.resultItems;\r\n        if (options.data) {\r\n            if (options.collectContinuationItems || !options.data.isContinuation) {\r\n                resultItems.push({\r\n                    rowType: \"group\",\r\n                    data: options.data,\r\n                    groupIndex: options.path.length - 1,\r\n                    isExpanded: !!options.data.items,\r\n                    key: options.path.slice(0),\r\n                    values: options.values.slice(0)\r\n                })\r\n            }\r\n        }\r\n        if (items) {\r\n            if (0 === groupsCount) {\r\n                resultItems.push.apply(resultItems, items)\r\n            } else {\r\n                for (var i = 0; i < items.length; i++) {\r\n                    var item = items[i];\r\n                    if (item && \"items\" in item) {\r\n                        options.data = item;\r\n                        options.path.push(item.key);\r\n                        options.values.push(column && column.deserializeValue && !column.calculateDisplayValue ? column.deserializeValue(item.key) : item.key);\r\n                        this._processGroupItems(item.items, groupsCount - 1, options);\r\n                        options.data = void 0;\r\n                        options.path.pop();\r\n                        options.values.pop()\r\n                    } else {\r\n                        resultItems.push(item)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        return resultItems\r\n    },\r\n    publicMethods: function() {\r\n        return this.callBase().concat([\"collapseAll\", \"expandAll\", \"isRowExpanded\", \"expandRow\", \"collapseRow\"])\r\n    },\r\n    collapseAll: function(groupIndex) {\r\n        var dataSource = this._dataSource;\r\n        if (dataSource && dataSource.collapseAll(groupIndex)) {\r\n            dataSource.pageIndex(0);\r\n            dataSource.reload()\r\n        }\r\n    },\r\n    expandAll: function(groupIndex) {\r\n        var dataSource = this._dataSource;\r\n        if (dataSource && dataSource.expandAll(groupIndex)) {\r\n            dataSource.pageIndex(0);\r\n            dataSource.reload()\r\n        }\r\n    },\r\n    changeRowExpand: function(key) {\r\n        var that = this;\r\n        var expanded = that.isRowExpanded(key);\r\n        var args = {\r\n            key: key,\r\n            expanded: expanded\r\n        };\r\n        that.executeAction(expanded ? \"onRowCollapsing\" : \"onRowExpanding\", args);\r\n        if (!args.cancel) {\r\n            return when(that._changeRowExpandCore(key)).done((function() {\r\n                args.expanded = !expanded;\r\n                that.executeAction(expanded ? \"onRowCollapsed\" : \"onRowExpanded\", args)\r\n            }))\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    _changeRowExpandCore: function(key) {\r\n        var that = this;\r\n        var dataSource = this._dataSource;\r\n        var d = new Deferred;\r\n        if (!dataSource) {\r\n            d.resolve()\r\n        } else {\r\n            when(dataSource.changeRowExpand(key)).done((function() {\r\n                that.load().done(d.resolve).fail(d.reject)\r\n            })).fail(d.reject)\r\n        }\r\n        return d\r\n    },\r\n    isRowExpanded: function(key) {\r\n        var dataSource = this._dataSource;\r\n        return dataSource && dataSource.isRowExpanded(key)\r\n    },\r\n    expandRow: function(key) {\r\n        if (!this.isRowExpanded(key)) {\r\n            return this.changeRowExpand(key)\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    collapseRow: function(key) {\r\n        if (this.isRowExpanded(key)) {\r\n            return this.changeRowExpand(key)\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"grouping\" === args.name) {\r\n            args.name = \"dataSource\"\r\n        }\r\n        this.callBase(args)\r\n    }\r\n};\r\nvar onGroupingMenuItemClick = function(column, params) {\r\n    var columnsController = this._columnsController;\r\n    switch (params.itemData.value) {\r\n        case \"group\":\r\n            var groups = columnsController._dataSource.group() || [];\r\n            columnsController.columnOption(column.dataField, \"groupIndex\", groups.length);\r\n            break;\r\n        case \"ungroup\":\r\n            columnsController.columnOption(column.dataField, \"groupIndex\", -1);\r\n            break;\r\n        case \"ungroupAll\":\r\n            this.component.clearGrouping()\r\n    }\r\n};\r\nexport var GroupingHeaderPanelExtender = {\r\n    _getToolbarItems: function() {\r\n        var items = this.callBase();\r\n        return this._appendGroupingItem(items)\r\n    },\r\n    _appendGroupingItem: function(items) {\r\n        if (this._isGroupPanelVisible()) {\r\n            var isRendered = false;\r\n            var toolbarItem = {\r\n                template: () => {\r\n                    var $groupPanel = $(\"<div>\").addClass(DATAGRID_GROUP_PANEL_CLASS);\r\n                    this._updateGroupPanelContent($groupPanel);\r\n                    registerKeyboardAction(\"groupPanel\", this, $groupPanel, void 0, this._handleActionKeyDown.bind(this));\r\n                    return $groupPanel\r\n                },\r\n                name: \"groupPanel\",\r\n                onItemRendered: () => {\r\n                    isRendered && this.renderCompleted.fire();\r\n                    isRendered = true\r\n                },\r\n                location: \"before\",\r\n                locateInMenu: \"never\",\r\n                sortIndex: 1\r\n            };\r\n            items.push(toolbarItem)\r\n        }\r\n        return items\r\n    },\r\n    _handleActionKeyDown: function(args) {\r\n        var event = args.event;\r\n        var $target = $(event.target);\r\n        var groupColumnIndex = $target.closest(\".\".concat(DATAGRID_GROUP_PANEL_ITEM_CLASS)).index();\r\n        var column = this._columnsController.getGroupColumns()[groupColumnIndex];\r\n        var columnIndex = column && column.index;\r\n        if ($target.is(HEADER_FILTER_CLASS_SELECTOR)) {\r\n            this.getController(\"headerFilter\").showHeaderFilterMenu(columnIndex, true)\r\n        } else {\r\n            this._processGroupItemAction(columnIndex)\r\n        }\r\n        event.preventDefault()\r\n    },\r\n    _isGroupPanelVisible: function() {\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        var isVisible;\r\n        if (groupPanelOptions) {\r\n            isVisible = groupPanelOptions.visible;\r\n            if (\"auto\" === isVisible) {\r\n                isVisible = \"desktop\" === devices.current().deviceType ? true : false\r\n            }\r\n        }\r\n        return isVisible\r\n    },\r\n    _renderGroupPanelItems: function($groupPanel, groupColumns) {\r\n        var that = this;\r\n        $groupPanel.empty();\r\n        each(groupColumns, (function(index, groupColumn) {\r\n            that._createGroupPanelItem($groupPanel, groupColumn)\r\n        }));\r\n        restoreFocus(this)\r\n    },\r\n    _createGroupPanelItem: function($rootElement, groupColumn) {\r\n        var $groupPanelItem = $(\"<div>\").addClass(groupColumn.cssClass).addClass(DATAGRID_GROUP_PANEL_ITEM_CLASS).data(\"columnData\", groupColumn).appendTo($rootElement).text(groupColumn.caption);\r\n        setTabIndex(this, $groupPanelItem);\r\n        return $groupPanelItem\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        if (!this._requireReady && !gridCore.checkChanges(e.optionNames, [\"width\", \"visibleWidth\"])) {\r\n            var $toolbarElement = this.element();\r\n            var $groupPanel = $toolbarElement && $toolbarElement.find(\".\" + DATAGRID_GROUP_PANEL_CLASS);\r\n            if ($groupPanel && $groupPanel.length) {\r\n                this._updateGroupPanelContent($groupPanel);\r\n                this.renderCompleted.fire()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    _updateGroupPanelContent: function($groupPanel) {\r\n        var groupColumns = this.getController(\"columns\").getGroupColumns();\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        this._renderGroupPanelItems($groupPanel, groupColumns);\r\n        if (groupPanelOptions.allowColumnDragging && !groupColumns.length) {\r\n            $(\"<div>\").addClass(DATAGRID_GROUP_PANEL_MESSAGE_CLASS).text(groupPanelOptions.emptyPanelText).appendTo($groupPanel);\r\n            $groupPanel.closest(\".\" + DATAGRID_GROUP_PANEL_LABEL_CLASS).css(\"maxWidth\", \"none\");\r\n            this.updateToolbarDimensions()\r\n        }\r\n    },\r\n    allowDragging: function(column) {\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        return this._isGroupPanelVisible() && groupPanelOptions.allowColumnDragging && column && column.allowGrouping\r\n    },\r\n    getColumnElements: function() {\r\n        var $element = this.element();\r\n        return $element && $element.find(\".\" + DATAGRID_GROUP_PANEL_ITEM_CLASS)\r\n    },\r\n    getColumns: function() {\r\n        return this.getController(\"columns\").getGroupColumns()\r\n    },\r\n    getBoundingRect: function() {\r\n        var $element = this.element();\r\n        if ($element && $element.find(\".\" + DATAGRID_GROUP_PANEL_CLASS).length) {\r\n            var offset = $element.offset();\r\n            return {\r\n                top: offset.top,\r\n                bottom: offset.top + getHeight($element)\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    getName: function() {\r\n        return \"group\"\r\n    },\r\n    getContextMenuItems: function(options) {\r\n        var contextMenuEnabled = this.option(\"grouping.contextMenuEnabled\");\r\n        var $groupedColumnElement = $(options.targetElement).closest(\".\" + DATAGRID_GROUP_PANEL_ITEM_CLASS);\r\n        var items;\r\n        if ($groupedColumnElement.length) {\r\n            options.column = $groupedColumnElement.data(\"columnData\")\r\n        }\r\n        if (contextMenuEnabled && options.column) {\r\n            var column = options.column;\r\n            var isGroupingAllowed = isDefined(column.allowGrouping) ? column.allowGrouping : true;\r\n            if (isGroupingAllowed) {\r\n                var isColumnGrouped = isDefined(column.groupIndex) && column.groupIndex > -1;\r\n                var groupingTexts = this.option(\"grouping.texts\");\r\n                var onItemClick = onGroupingMenuItemClick.bind(this, column);\r\n                items = [{\r\n                    text: groupingTexts.ungroup,\r\n                    value: \"ungroup\",\r\n                    disabled: !isColumnGrouped,\r\n                    onItemClick: onItemClick\r\n                }, {\r\n                    text: groupingTexts.ungroupAll,\r\n                    value: \"ungroupAll\",\r\n                    onItemClick: onItemClick\r\n                }]\r\n            }\r\n        }\r\n        return items\r\n    },\r\n    isVisible: function() {\r\n        return this.callBase() || this._isGroupPanelVisible()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"groupPanel\" === args.name) {\r\n            this._invalidate();\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\nvar GroupingRowsViewExtender = {\r\n    getContextMenuItems: function(options) {\r\n        var contextMenuEnabled = this.option(\"grouping.contextMenuEnabled\");\r\n        var items;\r\n        if (contextMenuEnabled && options.row && \"group\" === options.row.rowType) {\r\n            var columnsController = this._columnsController;\r\n            var column = columnsController.columnOption(\"groupIndex:\" + options.row.groupIndex);\r\n            if (column && column.allowGrouping) {\r\n                var groupingTexts = this.option(\"grouping.texts\");\r\n                var onItemClick = onGroupingMenuItemClick.bind(this, column);\r\n                items = [];\r\n                items.push({\r\n                    text: groupingTexts.ungroup,\r\n                    value: \"ungroup\",\r\n                    onItemClick: onItemClick\r\n                }, {\r\n                    text: groupingTexts.ungroupAll,\r\n                    value: \"ungroupAll\",\r\n                    onItemClick: onItemClick\r\n                })\r\n            }\r\n        }\r\n        return items\r\n    },\r\n    _rowClick: function(e) {\r\n        var expandMode = this.option(\"grouping.expandMode\");\r\n        var scrollingMode = this.option(\"scrolling.mode\");\r\n        var isGroupRowStateChanged = \"infinite\" !== scrollingMode && \"rowClick\" === expandMode && $(e.event.target).closest(\".\" + DATAGRID_GROUP_ROW_CLASS).length;\r\n        var isExpandButtonClicked = $(e.event.target).closest(\".\" + DATAGRID_EXPAND_CLASS).length;\r\n        if (isGroupRowStateChanged || isExpandButtonClicked) {\r\n            this._changeGroupRowState(e)\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _changeGroupRowState: function(e) {\r\n        var dataController = this.getController(\"data\");\r\n        var row = dataController.items()[e.rowIndex];\r\n        var allowCollapsing = this._columnsController.columnOption(\"groupIndex:\" + row.groupIndex, \"allowCollapsing\");\r\n        if (\"data\" === row.rowType || \"group\" === row.rowType && false !== allowCollapsing) {\r\n            dataController.changeRowExpand(row.key, true);\r\n            e.event.preventDefault();\r\n            e.handled = true\r\n        }\r\n    }\r\n};\r\nvar columnHeadersViewExtender = {\r\n    getContextMenuItems: function(options) {\r\n        var contextMenuEnabled = this.option(\"grouping.contextMenuEnabled\");\r\n        var items = this.callBase(options);\r\n        if (contextMenuEnabled && options.row && (\"header\" === options.row.rowType || \"detailAdaptive\" === options.row.rowType)) {\r\n            var column = options.column;\r\n            if (!column.command && (!isDefined(column.allowGrouping) || column.allowGrouping)) {\r\n                var groupingTexts = this.option(\"grouping.texts\");\r\n                var isColumnGrouped = isDefined(column.groupIndex) && column.groupIndex > -1;\r\n                var onItemClick = onGroupingMenuItemClick.bind(this, column);\r\n                items = items || [];\r\n                items.push({\r\n                    text: groupingTexts.groupByThisColumn,\r\n                    value: \"group\",\r\n                    beginGroup: true,\r\n                    disabled: isColumnGrouped,\r\n                    onItemClick: onItemClick\r\n                });\r\n                if (column.showWhenGrouped) {\r\n                    items.push({\r\n                        text: groupingTexts.ungroup,\r\n                        value: \"ungroup\",\r\n                        disabled: !isColumnGrouped,\r\n                        onItemClick: onItemClick\r\n                    })\r\n                }\r\n                items.push({\r\n                    text: groupingTexts.ungroupAll,\r\n                    value: \"ungroupAll\",\r\n                    onItemClick: onItemClick\r\n                })\r\n            }\r\n        }\r\n        return items\r\n    }\r\n};\r\ngridCore.registerModule(\"grouping\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            grouping: {\r\n                autoExpandAll: true,\r\n                allowCollapsing: true,\r\n                contextMenuEnabled: false,\r\n                expandMode: \"buttonClick\",\r\n                texts: {\r\n                    groupContinuesMessage: messageLocalization.format(\"dxDataGrid-groupContinuesMessage\"),\r\n                    groupContinuedMessage: messageLocalization.format(\"dxDataGrid-groupContinuedMessage\"),\r\n                    groupByThisColumn: messageLocalization.format(\"dxDataGrid-groupHeaderText\"),\r\n                    ungroup: messageLocalization.format(\"dxDataGrid-ungroupHeaderText\"),\r\n                    ungroupAll: messageLocalization.format(\"dxDataGrid-ungroupAllText\")\r\n                }\r\n            },\r\n            groupPanel: {\r\n                visible: false,\r\n                emptyPanelText: messageLocalization.format(\"dxDataGrid-groupPanelEmptyText\"),\r\n                allowColumnDragging: true\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: GroupingDataControllerExtender,\r\n            columns: {\r\n                _getExpandColumnOptions: function() {\r\n                    var options = this.callBase.apply(this, arguments);\r\n                    options.cellTemplate = gridCore.getExpandCellTemplate();\r\n                    return options\r\n                }\r\n            },\r\n            editing: {\r\n                _isProcessedItem: function(item) {\r\n                    return isDefined(item.groupIndex) && isString(item.rowType) && 0 === item.rowType.indexOf(\"group\")\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: GroupingHeaderPanelExtender,\r\n            rowsView: GroupingRowsViewExtender,\r\n            columnHeadersView: columnHeadersViewExtender\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.master_detail.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    grep\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar ROW_LINES_CLASS = \"dx-row-lines\";\r\nexport var masterDetailModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            masterDetail: {\r\n                enabled: false,\r\n                autoExpandAll: false,\r\n                template: null\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: {\r\n                _getExpandColumnsCore: function() {\r\n                    var expandColumns = this.callBase();\r\n                    if (this.option(\"masterDetail.enabled\")) {\r\n                        expandColumns.push({\r\n                            type: \"detailExpand\",\r\n                            cellTemplate: gridCoreUtils.getExpandCellTemplate()\r\n                        })\r\n                    }\r\n                    return expandColumns\r\n                }\r\n            },\r\n            data: function() {\r\n                var initMasterDetail = function(that) {\r\n                    that._expandedItems = [];\r\n                    that._isExpandAll = that.option(\"masterDetail.autoExpandAll\")\r\n                };\r\n                return {\r\n                    init: function() {\r\n                        initMasterDetail(this);\r\n                        this.callBase()\r\n                    },\r\n                    expandAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = true;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    collapseAll: function(groupIndex) {\r\n                        var that = this;\r\n                        if (groupIndex < 0) {\r\n                            that._isExpandAll = false;\r\n                            that._expandedItems = [];\r\n                            that.updateItems()\r\n                        } else {\r\n                            that.callBase.apply(that, arguments)\r\n                        }\r\n                    },\r\n                    isRowExpanded: function(key) {\r\n                        var that = this;\r\n                        var expandIndex = gridCoreUtils.getIndexByKey(key, that._expandedItems);\r\n                        if (Array.isArray(key)) {\r\n                            return that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            return !!(that._isExpandAll ^ (expandIndex >= 0 && that._expandedItems[expandIndex].visible))\r\n                        }\r\n                    },\r\n                    _getRowIndicesForExpand: function(key) {\r\n                        var rowIndex = this.getRowIndexByKey(key);\r\n                        return [rowIndex, rowIndex + 1]\r\n                    },\r\n                    _changeRowExpandCore: function(key) {\r\n                        var that = this;\r\n                        var result;\r\n                        if (Array.isArray(key)) {\r\n                            result = that.callBase.apply(that, arguments)\r\n                        } else {\r\n                            var expandIndex = gridCoreUtils.getIndexByKey(key, that._expandedItems);\r\n                            if (expandIndex >= 0) {\r\n                                var visible = that._expandedItems[expandIndex].visible;\r\n                                that._expandedItems[expandIndex].visible = !visible\r\n                            } else {\r\n                                that._expandedItems.push({\r\n                                    key: key,\r\n                                    visible: true\r\n                                })\r\n                            }\r\n                            that.updateItems({\r\n                                changeType: \"update\",\r\n                                rowIndices: that._getRowIndicesForExpand(key)\r\n                            });\r\n                            result = (new Deferred).resolve()\r\n                        }\r\n                        return result\r\n                    },\r\n                    _processDataItem: function(data, options) {\r\n                        var that = this;\r\n                        var dataItem = that.callBase.apply(that, arguments);\r\n                        dataItem.isExpanded = that.isRowExpanded(dataItem.key);\r\n                        if (void 0 === options.detailColumnIndex) {\r\n                            options.detailColumnIndex = -1;\r\n                            each(options.visibleColumns, (function(index, column) {\r\n                                if (\"expand\" === column.command && !isDefined(column.groupIndex)) {\r\n                                    options.detailColumnIndex = index;\r\n                                    return false\r\n                                }\r\n                            }))\r\n                        }\r\n                        if (options.detailColumnIndex >= 0) {\r\n                            dataItem.values[options.detailColumnIndex] = dataItem.isExpanded\r\n                        }\r\n                        return dataItem\r\n                    },\r\n                    _processItems: function(items, change) {\r\n                        var that = this;\r\n                        var changeType = change.changeType;\r\n                        var result = [];\r\n                        items = that.callBase.apply(that, arguments);\r\n                        if (\"loadingAll\" === changeType) {\r\n                            return items\r\n                        }\r\n                        if (\"refresh\" === changeType) {\r\n                            that._expandedItems = grep(that._expandedItems, (function(item) {\r\n                                return item.visible\r\n                            }))\r\n                        }\r\n                        each(items, (function(index, item) {\r\n                            result.push(item);\r\n                            var expandIndex = gridCoreUtils.getIndexByKey(item.key, that._expandedItems);\r\n                            if (\"data\" === item.rowType && (item.isExpanded || expandIndex >= 0) && !item.isNewRow) {\r\n                                result.push({\r\n                                    visible: item.isExpanded,\r\n                                    rowType: \"detail\",\r\n                                    key: item.key,\r\n                                    data: item.data,\r\n                                    values: []\r\n                                })\r\n                            }\r\n                        }));\r\n                        return result\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        var isEnabledChanged;\r\n                        var isAutoExpandAllChanged;\r\n                        if (\"masterDetail\" === args.name) {\r\n                            args.name = \"dataSource\";\r\n                            switch (args.fullName) {\r\n                                case \"masterDetail\":\r\n                                    var value = args.value || {};\r\n                                    var previousValue = args.previousValue || {};\r\n                                    isEnabledChanged = value.enabled !== previousValue.enabled;\r\n                                    isAutoExpandAllChanged = value.autoExpandAll !== previousValue.autoExpandAll;\r\n                                    break;\r\n                                case \"masterDetail.template\":\r\n                                    initMasterDetail(this);\r\n                                    break;\r\n                                case \"masterDetail.enabled\":\r\n                                    isEnabledChanged = true;\r\n                                    break;\r\n                                case \"masterDetail.autoExpandAll\":\r\n                                    isAutoExpandAllChanged = true\r\n                            }\r\n                            if (isEnabledChanged || isAutoExpandAllChanged) {\r\n                                initMasterDetail(this)\r\n                            }\r\n                        }\r\n                        this.callBase(args)\r\n                    }\r\n                }\r\n            }(),\r\n            resizing: {\r\n                fireContentReadyAction: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._updateParentDataGrids(this.component.$element())\r\n                },\r\n                _updateParentDataGrids: function($element) {\r\n                    var $masterDetailRow = $element.closest(\".\" + MASTER_DETAIL_ROW_CLASS);\r\n                    if ($masterDetailRow.length) {\r\n                        when(this._updateMasterDataGrid($masterDetailRow, $element)).done(() => {\r\n                            this._updateParentDataGrids($masterDetailRow.parent())\r\n                        })\r\n                    }\r\n                },\r\n                _updateMasterDataGrid: function($masterDetailRow, $detailElement) {\r\n                    var masterRowOptions = $($masterDetailRow).data(\"options\");\r\n                    var masterDataGrid = $($masterDetailRow).closest(\".\" + this.getWidgetContainerClass()).parent().data(\"dxDataGrid\");\r\n                    if (masterRowOptions && masterDataGrid) {\r\n                        if (masterDataGrid.getView(\"rowsView\").isFixedColumns()) {\r\n                            return this._updateFixedMasterDetailGrids(masterDataGrid, masterRowOptions.rowIndex, $detailElement)\r\n                        } else {\r\n                            if (true === masterDataGrid.option(\"scrolling.useNative\")) {\r\n                                return masterDataGrid.updateDimensions()\r\n                            }\r\n                            var scrollable = masterDataGrid.getScrollable();\r\n                            return null === scrollable || void 0 === scrollable ? void 0 : scrollable.update()\r\n                        }\r\n                    }\r\n                },\r\n                _updateFixedMasterDetailGrids: function(masterDataGrid, masterRowIndex, $detailElement) {\r\n                    var $rows = $(masterDataGrid.getRowElement(masterRowIndex));\r\n                    var $tables = $(masterDataGrid.getView(\"rowsView\").getTableElements());\r\n                    var rowsNotEqual = 2 === (null === $rows || void 0 === $rows ? void 0 : $rows.length) && getHeight($rows.eq(0)) !== getHeight($rows.eq(1));\r\n                    var tablesNotEqual = 2 === (null === $tables || void 0 === $tables ? void 0 : $tables.length) && getHeight($tables.eq(0)) !== getHeight($tables.eq(1));\r\n                    if (rowsNotEqual || tablesNotEqual) {\r\n                        var detailElementWidth = getWidth($detailElement);\r\n                        return masterDataGrid.updateDimensions().done(() => {\r\n                            var isDetailHorizontalScrollCanBeShown = this.option(\"columnAutoWidth\") && true === masterDataGrid.option(\"scrolling.useNative\");\r\n                            var isDetailGridWidthChanged = isDetailHorizontalScrollCanBeShown && detailElementWidth !== getWidth($detailElement);\r\n                            if (isDetailHorizontalScrollCanBeShown && isDetailGridWidthChanged) {\r\n                                this.updateDimensions()\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                _toggleBestFitMode: function(isBestFit) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option(\"masterDetail.template\")) {\r\n                        var $rowsTable = this._rowsView.getTableElement();\r\n                        if ($rowsTable) {\r\n                            $rowsTable.find(\".dx-master-detail-cell\").css(\"maxWidth\", isBestFit ? 0 : \"\")\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    var editingController = that.getController(\"editing\");\r\n                    var isEditRow = editingController && editingController.isEditRow(options.rowIndex);\r\n                    var template;\r\n                    if (\"detail\" === column.command && !isEditRow) {\r\n                        template = that.option(\"masterDetail.template\") || {\r\n                            allowRenderToDetachedContainer: false,\r\n                            render: that._getDefaultTemplate(column)\r\n                        }\r\n                    } else {\r\n                        template = that.callBase.apply(that, arguments)\r\n                    }\r\n                    return template\r\n                },\r\n                _isDetailRow: function(row) {\r\n                    return row && row.rowType && 0 === row.rowType.indexOf(\"detail\")\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row && this._isDetailRow(row)) {\r\n                        this.option(\"showRowLines\") && $row.addClass(ROW_LINES_CLASS);\r\n                        $row.addClass(MASTER_DETAIL_ROW_CLASS);\r\n                        if (isDefined(row.visible)) {\r\n                            $row.toggle(row.visible)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    var row = options.row;\r\n                    var $detailCell;\r\n                    var visibleColumns = this._columnsController.getVisibleColumns();\r\n                    if (row.rowType && this._isDetailRow(row)) {\r\n                        if (this._needRenderCell(0, options.columnIndices)) {\r\n                            $detailCell = this._renderCell($row, {\r\n                                value: null,\r\n                                row: row,\r\n                                rowIndex: row.rowIndex,\r\n                                column: {\r\n                                    command: \"detail\"\r\n                                },\r\n                                columnIndex: 0\r\n                            });\r\n                            $detailCell.addClass(CELL_FOCUS_DISABLED_CLASS).addClass(MASTER_DETAIL_CELL_CLASS).attr(\"colSpan\", visibleColumns.length)\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.master_detail.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    masterDetailModule\r\n} from \"../grid_core/ui.grid_core.master_detail\";\r\ngridCore.registerModule(\"masterDetail\", masterDetailModule);\r\n","/**\r\n * DevExtreme (esm/ui/shared/ui.editor_factory_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    isDefined,\r\n    isObject,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"../../data/data_source/utils\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nvar {\r\n    isWrapped: isWrapped\r\n} = variableWrapper;\r\nimport \"../text_box\";\r\nimport \"../number_box\";\r\nimport \"../check_box\";\r\nimport \"../select_box\";\r\nimport \"../date_box\";\r\nvar CHECKBOX_SIZE_CLASS = \"checkbox-size\";\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar EditorFactoryMixin = function() {\r\n    var getResultConfig = function(config, options) {\r\n        return extend(config, {\r\n            readOnly: options.readOnly,\r\n            placeholder: options.placeholder,\r\n            inputAttr: {\r\n                id: options.id\r\n            },\r\n            tabIndex: options.tabIndex\r\n        }, options.editorOptions)\r\n    };\r\n    var checkEnterBug = function() {\r\n        return browser.mozilla || devices.real().ios\r\n    };\r\n    var getTextEditorConfig = function(options) {\r\n        var data = {};\r\n        var isEnterBug = checkEnterBug();\r\n        var sharedData = options.sharedData || data;\r\n        return getResultConfig({\r\n            placeholder: options.placeholder,\r\n            width: options.width,\r\n            value: options.value,\r\n            onValueChanged: function(e) {\r\n                var needDelayedUpdate = \"filterRow\" === options.parentType || \"searchPanel\" === options.parentType;\r\n                var isInputOrKeyUpEvent = e.event && (\"input\" === e.event.type || \"keyup\" === e.event.type);\r\n                var updateValue = function(e, notFireEvent) {\r\n                    options && options.setValue(e.value, notFireEvent)\r\n                };\r\n                clearTimeout(data.valueChangeTimeout);\r\n                if (isInputOrKeyUpEvent && needDelayedUpdate) {\r\n                    sharedData.valueChangeTimeout = data.valueChangeTimeout = setTimeout((function() {\r\n                        updateValue(e, data.valueChangeTimeout !== sharedData.valueChangeTimeout)\r\n                    }), isDefined(options.updateValueTimeout) ? options.updateValueTimeout : 0)\r\n                } else {\r\n                    updateValue(e)\r\n                }\r\n            },\r\n            onKeyDown: function(e) {\r\n                if (isEnterBug && \"enter\" === normalizeKeyName(e.event)) {\r\n                    eventsEngine.trigger($(e.component._input()), \"change\")\r\n                }\r\n            },\r\n            valueChangeEvent: \"change\" + (\"filterRow\" === options.parentType ? \" keyup input\" : \"\")\r\n        }, options)\r\n    };\r\n    var prepareBooleanEditor = function(options) {\r\n        if (\"filterRow\" === options.parentType || \"filterBuilder\" === options.parentType) {\r\n            prepareSelectBox(extend(options, {\r\n                lookup: {\r\n                    displayExpr: function(data) {\r\n                        if (true === data) {\r\n                            return options.trueText || \"true\"\r\n                        } else if (false === data) {\r\n                            return options.falseText || \"false\"\r\n                        }\r\n                    },\r\n                    dataSource: [true, false]\r\n                }\r\n            }))\r\n        } else {\r\n            ! function(options) {\r\n                options.editorName = \"dxCheckBox\";\r\n                options.editorOptions = getResultConfig({\r\n                    elementAttr: {\r\n                        id: options.id\r\n                    },\r\n                    value: isDefined(options.value) ? options.value : void 0,\r\n                    hoverStateEnabled: !options.readOnly,\r\n                    focusStateEnabled: !options.readOnly,\r\n                    activeStateEnabled: false,\r\n                    onValueChanged: function(e) {\r\n                        options.setValue && options.setValue(e.value, e)\r\n                    }\r\n                }, options)\r\n            }(options)\r\n        }\r\n    };\r\n\r\n    function prepareSelectBox(options) {\r\n        var lookup = options.lookup;\r\n        var displayGetter;\r\n        var dataSource;\r\n        var postProcess;\r\n        var isFilterRow = \"filterRow\" === options.parentType;\r\n        if (lookup) {\r\n            displayGetter = compileGetter(lookup.displayExpr);\r\n            dataSource = lookup.dataSource;\r\n            if (isFunction(dataSource) && !isWrapped(dataSource)) {\r\n                dataSource = dataSource(options.row || {});\r\n                ! function(options) {\r\n                    if (options.row && options.row.watch && \"dataRow\" === options.parentType) {\r\n                        var editorOptions = options.editorOptions || {};\r\n                        options.editorOptions = editorOptions;\r\n                        var selectBox;\r\n                        var onInitialized = editorOptions.onInitialized;\r\n                        editorOptions.onInitialized = function(e) {\r\n                            onInitialized && onInitialized.apply(this, arguments);\r\n                            selectBox = e.component;\r\n                            selectBox.on(\"disposing\", stopWatch)\r\n                        };\r\n                        var dataSource;\r\n                        var stopWatch = options.row.watch(() => {\r\n                            dataSource = options.lookup.dataSource(options.row);\r\n                            return dataSource && dataSource.filter\r\n                        }, () => {\r\n                            selectBox.option(\"dataSource\", dataSource)\r\n                        }, row => {\r\n                            options.row = row\r\n                        })\r\n                    }\r\n                }(options)\r\n            }\r\n            if (isObject(dataSource) || Array.isArray(dataSource)) {\r\n                dataSource = normalizeDataSourceOptions(dataSource);\r\n                if (isFilterRow) {\r\n                    postProcess = dataSource.postProcess;\r\n                    dataSource.postProcess = function(items) {\r\n                        if (0 === this.pageIndex()) {\r\n                            items = items.slice(0);\r\n                            items.unshift(null)\r\n                        }\r\n                        if (postProcess) {\r\n                            return postProcess.call(this, items)\r\n                        }\r\n                        return items\r\n                    }\r\n                }\r\n            }\r\n            var allowClearing = Boolean(lookup.allowClearing && !isFilterRow);\r\n            options.editorName = \"dxSelectBox\";\r\n            options.editorOptions = getResultConfig({\r\n                searchEnabled: true,\r\n                value: options.value,\r\n                valueExpr: options.lookup.valueExpr,\r\n                searchExpr: options.lookup.searchExpr || options.lookup.displayExpr,\r\n                allowClearing: allowClearing,\r\n                showClearButton: allowClearing,\r\n                displayExpr: function(data) {\r\n                    if (null === data) {\r\n                        return options.showAllText\r\n                    }\r\n                    return displayGetter(data)\r\n                },\r\n                dataSource: dataSource,\r\n                onValueChanged: function(e) {\r\n                    var params = [e.value];\r\n                    !isFilterRow && params.push(e.component.option(\"text\"));\r\n                    options.setValue.apply(this, params)\r\n                }\r\n            }, options)\r\n        }\r\n    }\r\n    return {\r\n        createEditor: function($container, options) {\r\n            options.cancel = false;\r\n            options.editorElement = getPublicElement($container);\r\n            if (!isDefined(options.tabIndex)) {\r\n                options.tabIndex = this.option(\"tabIndex\")\r\n            }\r\n            if (options.lookup) {\r\n                prepareSelectBox(options)\r\n            } else {\r\n                switch (options.dataType) {\r\n                    case \"date\":\r\n                    case \"datetime\":\r\n                        ! function(options) {\r\n                            options.editorName = \"dxDateBox\";\r\n                            options.editorOptions = getResultConfig({\r\n                                value: options.value,\r\n                                onValueChanged: function(args) {\r\n                                    options.setValue(args.value)\r\n                                },\r\n                                onKeyDown: function(_ref) {\r\n                                    var {\r\n                                        component: component,\r\n                                        event: event\r\n                                    } = _ref;\r\n                                    var useMaskBehavior = component.option(\"useMaskBehavior\");\r\n                                    if ((checkEnterBug() || useMaskBehavior) && \"enter\" === normalizeKeyName(event)) {\r\n                                        component.blur();\r\n                                        component.focus()\r\n                                    }\r\n                                },\r\n                                displayFormat: options.format,\r\n                                type: options.dataType,\r\n                                dateSerializationFormat: null,\r\n                                width: \"filterBuilder\" === options.parentType ? void 0 : \"auto\"\r\n                            }, options)\r\n                        }(options);\r\n                        break;\r\n                    case \"boolean\":\r\n                        prepareBooleanEditor(options);\r\n                        break;\r\n                    case \"number\":\r\n                        ! function(options) {\r\n                            var config = getTextEditorConfig(options);\r\n                            config.value = isDefined(options.value) ? options.value : null;\r\n                            options.editorName = \"dxNumberBox\";\r\n                            options.editorOptions = config\r\n                        }(options);\r\n                        break;\r\n                    default:\r\n                        ! function(options) {\r\n                            var config = getTextEditorConfig(options);\r\n                            var isSearching = \"searchPanel\" === options.parentType;\r\n                            if (options.editorType && \"dxTextBox\" !== options.editorType) {\r\n                                config.value = options.value\r\n                            } else {\r\n                                config.value = (value = options.value, isDefined(value) ? value.toString() : \"\")\r\n                            }\r\n                            var value;\r\n                            config.valueChangeEvent += isSearching ? \" keyup input search\" : \"\";\r\n                            config.mode = config.mode || (isSearching ? \"search\" : \"text\");\r\n                            options.editorName = \"dxTextBox\";\r\n                            options.editorOptions = config\r\n                        }(options)\r\n                }\r\n            }\r\n            if (\"dataRow\" === options.parentType && options.editorType) {\r\n                options.editorName = options.editorType\r\n            }\r\n            this.executeAction(\"onEditorPreparing\", options);\r\n            if (options.cancel) {\r\n                return\r\n            }\r\n            if (\"dataRow\" === options.parentType && !options.isOnForm && !isDefined(options.editorOptions.showValidationMark)) {\r\n                options.editorOptions.showValidationMark = false\r\n            }! function(that, options) {\r\n                var $editorElement = $(options.editorElement);\r\n                if (options.editorName && options.editorOptions && $editorElement[options.editorName]) {\r\n                    if (\"dxCheckBox\" === options.editorName || \"dxSwitch\" === options.editorName) {\r\n                        if (!options.isOnForm) {\r\n                            $editorElement.addClass(that.addWidgetPrefix(CHECKBOX_SIZE_CLASS));\r\n                            $editorElement.parent().addClass(EDITOR_INLINE_BLOCK)\r\n                        }\r\n                    }\r\n                    that._createComponent($editorElement, options.editorName, options.editorOptions);\r\n                    if (\"dxDateBox\" === options.editorName) {\r\n                        var dateBox = $editorElement.dxDateBox(\"instance\");\r\n                        var defaultEnterKeyHandler = dateBox._supportedKeys().enter;\r\n                        dateBox.registerKeyHandler(\"enter\", e => {\r\n                            if (dateBox.option(\"opened\")) {\r\n                                defaultEnterKeyHandler(e)\r\n                            }\r\n                            return true\r\n                        })\r\n                    }\r\n                    if (\"dxTextArea\" === options.editorName) {\r\n                        $editorElement.dxTextArea(\"instance\").registerKeyHandler(\"enter\", (function(event) {\r\n                            if (\"enter\" === normalizeKeyName(event) && !event.ctrlKey && !event.shiftKey) {\r\n                                event.stopPropagation()\r\n                            }\r\n                        }))\r\n                    }\r\n                }\r\n            }(this, options);\r\n            this.executeAction(\"onEditorPrepared\", options)\r\n        }\r\n    }\r\n}();\r\nexport default EditorFactoryMixin;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editor_factory.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setOuterWidth,\r\n    getOuterWidth,\r\n    setOuterHeight,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    addNamespace,\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport EditorFactoryMixin from \"../shared/ui.editor_factory_mixin\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nvar EDITOR_INLINE_BLOCK = \"dx-editor-inline-block\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar FOCUSED_ELEMENT_CLASS = \"dx-focused\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar MODULE_NAMESPACE = \"dxDataGridEditorFactory\";\r\nvar UPDATE_FOCUS_EVENTS = addNamespace([pointerEvents.down, \"focusin\", clickEventName].join(\" \"), MODULE_NAMESPACE);\r\nvar DX_HIDDEN = \"dx-hidden\";\r\nvar EditorFactory = modules.ViewController.inherit({\r\n    _getFocusedElement: function($dataGridElement) {\r\n        var rowSelector = this.option(\"focusedRowEnabled\") ? \"tr[tabindex]:focus\" : \"tr[tabindex]:not(.dx-data-row):focus\";\r\n        var focusedElementSelector = \"td[tabindex]:focus, \".concat(rowSelector, \", input:focus, textarea:focus, .dx-lookup-field:focus, .dx-checkbox:focus, .dx-switch:focus, .dx-dropdownbutton .dx-buttongroup:focus\");\r\n        return $dataGridElement.find(focusedElementSelector)\r\n    },\r\n    _getFocusCellSelector: function() {\r\n        return \".dx-row > td\"\r\n    },\r\n    _updateFocusCore: function() {\r\n        var $focus = this._$focusedElement;\r\n        var $dataGridElement = this.component && this.component.$element();\r\n        var $focusCell;\r\n        var hideBorders;\r\n        if ($dataGridElement) {\r\n            $focus = this._getFocusedElement($dataGridElement);\r\n            if ($focus.length) {\r\n                if (!$focus.hasClass(CELL_FOCUS_DISABLED_CLASS) && !$focus.hasClass(ROW_CLASS)) {\r\n                    $focusCell = $focus.closest(this._getFocusCellSelector() + \", .\" + CELL_FOCUS_DISABLED_CLASS);\r\n                    hideBorders = $focusCell.get(0) !== $focus.get(0) && $focusCell.hasClass(EDITOR_INLINE_BLOCK);\r\n                    $focus = $focusCell\r\n                }\r\n                if ($focus.length && !$focus.hasClass(CELL_FOCUS_DISABLED_CLASS)) {\r\n                    this.focus($focus, hideBorders);\r\n                    return\r\n                }\r\n            }\r\n        }\r\n        this.loseFocus()\r\n    },\r\n    _updateFocus: function(e) {\r\n        var that = this;\r\n        var isFocusOverlay = e && e.event && $(e.event.target).hasClass(that.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\r\n        that._isFocusOverlay = that._isFocusOverlay || isFocusOverlay;\r\n        clearTimeout(that._updateFocusTimeoutID);\r\n        that._updateFocusTimeoutID = setTimeout((function() {\r\n            delete that._updateFocusTimeoutID;\r\n            if (!that._isFocusOverlay) {\r\n                that._updateFocusCore()\r\n            }\r\n            that._isFocusOverlay = false\r\n        }))\r\n    },\r\n    _updateFocusOverlaySize: function($element, position) {\r\n        $element.hide();\r\n        var location = positionUtils.calculate($element, extend({\r\n            collision: \"fit\"\r\n        }, position));\r\n        if (location.h.oversize > 0) {\r\n            setOuterWidth($element, getOuterWidth($element) - location.h.oversize)\r\n        }\r\n        if (location.v.oversize > 0) {\r\n            setOuterHeight($element, getOuterHeight($element) - location.v.oversize)\r\n        }\r\n        $element.show()\r\n    },\r\n    callbackNames: function() {\r\n        return [\"focused\"]\r\n    },\r\n    focus: function($element, hideBorder) {\r\n        var that = this;\r\n        if (void 0 === $element) {\r\n            return that._$focusedElement\r\n        } else if ($element) {\r\n            if (!$element.is(that._$focusedElement)) {\r\n                that._$focusedElement && that._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS)\r\n            }\r\n            that._$focusedElement = $element;\r\n            clearTimeout(that._focusTimeoutID);\r\n            that._focusTimeoutID = setTimeout((function() {\r\n                delete that._focusTimeoutID;\r\n                that.renderFocusOverlay($element, hideBorder);\r\n                $element.addClass(FOCUSED_ELEMENT_CLASS);\r\n                that.focused.fire($element)\r\n            }))\r\n        }\r\n    },\r\n    refocus: function() {\r\n        var $focus = this.focus();\r\n        this.focus($focus)\r\n    },\r\n    renderFocusOverlay: function($element, hideBorder) {\r\n        if (!gridCoreUtils.isElementInCurrentGrid(this, $element)) {\r\n            return\r\n        }\r\n        if (!this._$focusOverlay) {\r\n            this._$focusOverlay = $(\"<div>\").addClass(this.addWidgetPrefix(FOCUS_OVERLAY_CLASS))\r\n        }\r\n        if (hideBorder) {\r\n            this._$focusOverlay.addClass(DX_HIDDEN)\r\n        } else if ($element.length) {\r\n            var align = browser.mozilla ? \"right bottom\" : \"left top\";\r\n            var $content = $element.closest(\".\" + this.addWidgetPrefix(CONTENT_CLASS));\r\n            var elemCoord = getBoundingRect($element.get(0));\r\n            this._$focusOverlay.removeClass(DX_HIDDEN).appendTo($content);\r\n            setOuterHeight(this._$focusOverlay, elemCoord.bottom - elemCoord.top + 1);\r\n            setOuterWidth(this._$focusOverlay, elemCoord.right - elemCoord.left + 1);\r\n            var focusOverlayPosition = {\r\n                precise: true,\r\n                my: align,\r\n                at: align,\r\n                of: $element,\r\n                boundary: $content.length && $content\r\n            };\r\n            this._updateFocusOverlaySize(this._$focusOverlay, focusOverlayPosition);\r\n            positionUtils.setup(this._$focusOverlay, focusOverlayPosition);\r\n            this._$focusOverlay.css(\"visibility\", \"visible\")\r\n        }\r\n    },\r\n    resize: function() {\r\n        var $focusedElement = this._$focusedElement;\r\n        if ($focusedElement) {\r\n            this.focus($focusedElement)\r\n        }\r\n    },\r\n    loseFocus: function() {\r\n        this._$focusedElement && this._$focusedElement.removeClass(FOCUSED_ELEMENT_CLASS);\r\n        this._$focusedElement = null;\r\n        this._$focusOverlay && this._$focusOverlay.addClass(DX_HIDDEN)\r\n    },\r\n    init: function() {\r\n        this.createAction(\"onEditorPreparing\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this.createAction(\"onEditorPrepared\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"],\r\n            category: \"rendering\"\r\n        });\r\n        this._updateFocusHandler = this._updateFocusHandler || this.createAction(this._updateFocus.bind(this));\r\n        eventsEngine.on(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler);\r\n        this._attachContainerEventHandlers()\r\n    },\r\n    _attachContainerEventHandlers: function() {\r\n        var that = this;\r\n        var $container = that.component && that.component.$element();\r\n        if ($container) {\r\n            eventsEngine.on($container, addNamespace(\"keydown\", MODULE_NAMESPACE), (function(e) {\r\n                if (\"tab\" === normalizeKeyName(e)) {\r\n                    that._updateFocusHandler(e)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    dispose: function() {\r\n        clearTimeout(this._focusTimeoutID);\r\n        clearTimeout(this._updateFocusTimeoutID);\r\n        eventsEngine.off(domAdapter.getDocument(), UPDATE_FOCUS_EVENTS, this._updateFocusHandler)\r\n    }\r\n}).include(EditorFactoryMixin);\r\nexport var editorFactoryModule = {\r\n    defaultOptions: function() {\r\n        return {}\r\n    },\r\n    controllers: {\r\n        editorFactory: EditorFactory\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editor_factory.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editorFactoryModule\r\n} from \"../grid_core/ui.grid_core.editor_factory\";\r\ngridCore.registerModule(\"editorFactory\", editorFactoryModule);\r\n","/**\r\n * DevExtreme (esm/ui/dialog.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    Component\r\n} from \"../core/component\";\r\nimport Action from \"../core/action\";\r\nimport devices from \"../core/devices\";\r\nimport config from \"../core/config\";\r\nimport {\r\n    resetActiveElement\r\n} from \"../core/utils/dom\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isPlainObject\r\n} from \"../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    value as getViewport\r\n} from \"../core/utils/view_port\";\r\nimport messageLocalization from \"../localization/message\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport Popup from \"./popup\";\r\nimport {\r\n    ensureDefined\r\n} from \"../core/utils/common\";\r\nvar window = getWindow();\r\nvar DEFAULT_BUTTON = {\r\n    text: \"OK\",\r\n    onClick: function() {\r\n        return true\r\n    }\r\n};\r\nvar DX_DIALOG_CLASSNAME = \"dx-dialog\";\r\nvar DX_DIALOG_WRAPPER_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-wrapper\");\r\nvar DX_DIALOG_ROOT_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-root\");\r\nvar DX_DIALOG_CONTENT_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-content\");\r\nvar DX_DIALOG_MESSAGE_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-message\");\r\nvar DX_DIALOG_BUTTONS_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-buttons\");\r\nvar DX_DIALOG_BUTTON_CLASSNAME = \"\".concat(DX_DIALOG_CLASSNAME, \"-button\");\r\nvar DX_BUTTON_CLASSNAME = \"dx-button\";\r\nexport var FakeDialogComponent = Component.inherit({\r\n    ctor: function(element, options) {\r\n        this.callBase(options)\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: {\r\n                platform: \"ios\"\r\n            },\r\n            options: {\r\n                width: 276\r\n            }\r\n        }])\r\n    }\r\n});\r\nexport var custom = function(options) {\r\n    var _options$title;\r\n    var deferred = new Deferred;\r\n    var defaultOptions = (new FakeDialogComponent).option();\r\n    options = extend(defaultOptions, options);\r\n    var $element = $(\"<div>\").addClass(DX_DIALOG_CLASSNAME).appendTo(getViewport());\r\n    var isMessageDefined = \"message\" in options;\r\n    var isMessageHtmlDefined = \"messageHtml\" in options;\r\n    if (isMessageDefined) {\r\n        errors.log(\"W1013\")\r\n    }\r\n    var messageHtml = String(isMessageHtmlDefined ? options.messageHtml : options.message);\r\n    var $message = $(\"<div>\").addClass(DX_DIALOG_MESSAGE_CLASSNAME).html(messageHtml);\r\n    var popupToolbarItems = [];\r\n    each(options.buttons || [DEFAULT_BUTTON], (function() {\r\n        var action = new Action(this.onClick, {\r\n            context: popupInstance\r\n        });\r\n        popupToolbarItems.push({\r\n            toolbar: \"bottom\",\r\n            location: devices.current().android ? \"after\" : \"center\",\r\n            widget: \"dxButton\",\r\n            options: extend({}, this, {\r\n                onClick: function() {\r\n                    var result = action.execute(...arguments);\r\n                    hide(result)\r\n                }\r\n            })\r\n        })\r\n    }));\r\n    var popupInstance = new Popup($element, extend({\r\n        title: null !== (_options$title = options.title) && void 0 !== _options$title ? _options$title : \"\",\r\n        showTitle: ensureDefined(options.showTitle, true),\r\n        dragEnabled: ensureDefined(options.dragEnabled, true),\r\n        height: \"auto\",\r\n        width: options.width,\r\n        showCloseButton: options.showCloseButton || false,\r\n        ignoreChildEvents: false,\r\n        onContentReady: function(args) {\r\n            args.component.$content().addClass(DX_DIALOG_CONTENT_CLASSNAME).append($message)\r\n        },\r\n        onShowing: function(e) {\r\n            e.component.bottomToolbar().addClass(DX_DIALOG_BUTTONS_CLASSNAME).find(\".\".concat(DX_BUTTON_CLASSNAME)).addClass(DX_DIALOG_BUTTON_CLASSNAME);\r\n            resetActiveElement()\r\n        },\r\n        onShown: function(e) {\r\n            var $firstButton = e.component.bottomToolbar().find(\".\".concat(DX_BUTTON_CLASSNAME)).first();\r\n            eventsEngine.trigger($firstButton, \"focus\")\r\n        },\r\n        onHiding: function() {\r\n            deferred.reject()\r\n        },\r\n        toolbarItems: popupToolbarItems,\r\n        animation: {\r\n            show: {\r\n                type: \"pop\",\r\n                duration: 400\r\n            },\r\n            hide: {\r\n                type: \"pop\",\r\n                duration: 400,\r\n                to: {\r\n                    opacity: 0,\r\n                    scale: 0\r\n                },\r\n                from: {\r\n                    opacity: 1,\r\n                    scale: 1\r\n                }\r\n            }\r\n        },\r\n        rtlEnabled: config().rtlEnabled,\r\n        position: {\r\n            boundaryOffset: {\r\n                h: 10,\r\n                v: 0\r\n            }\r\n        }\r\n    }, options.popupOptions));\r\n    popupInstance.$wrapper().addClass(DX_DIALOG_WRAPPER_CLASSNAME);\r\n    if (options.position) {\r\n        popupInstance.option(\"position\", options.position)\r\n    }\r\n    popupInstance.$wrapper().addClass(DX_DIALOG_ROOT_CLASSNAME);\r\n\r\n    function hide(value) {\r\n        deferred.resolve(value);\r\n        popupInstance.hide().done((function() {\r\n            popupInstance.$element().remove()\r\n        }))\r\n    }\r\n    return {\r\n        show: function() {\r\n            if (\"android\" === devices.real().platform) {\r\n                var isPortrait = getHeight(window) > getWidth(window);\r\n                var width = isPortrait ? \"80%\" : \"60%\";\r\n                popupInstance.option({\r\n                    width: width\r\n                })\r\n            }\r\n            popupInstance.show();\r\n            return deferred.promise()\r\n        },\r\n        hide: hide\r\n    }\r\n};\r\nexport var alert = function(messageHtml) {\r\n    var title = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\r\n    var showTitle = arguments.length > 2 ? arguments[2] : void 0;\r\n    var options = isPlainObject(messageHtml) ? messageHtml : {\r\n        title: title,\r\n        messageHtml: messageHtml,\r\n        showTitle: showTitle,\r\n        dragEnabled: showTitle\r\n    };\r\n    return custom(options).show()\r\n};\r\nexport var confirm = function(messageHtml) {\r\n    var title = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : \"\";\r\n    var showTitle = arguments.length > 2 ? arguments[2] : void 0;\r\n    var options = isPlainObject(messageHtml) ? messageHtml : {\r\n        title: title,\r\n        messageHtml: messageHtml,\r\n        showTitle: showTitle,\r\n        buttons: [{\r\n            text: messageLocalization.format(\"Yes\"),\r\n            onClick: function() {\r\n                return true\r\n            }\r\n        }, {\r\n            text: messageLocalization.format(\"No\"),\r\n            onClick: function() {\r\n                return false\r\n            }\r\n        }],\r\n        dragEnabled: showTitle\r\n    };\r\n    return custom(options).show()\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_constants.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nexport var ROW_CLASS = \"dx-row\";\r\nexport var CELL_MODIFIED_CLASS = \"dx-cell-modified\";\r\nexport var ROW_SELECTED_CLASS = \"dx-selection\";\r\nexport var EDIT_FORM_CLASS = \"edit-form\";\r\nexport var DATA_EDIT_DATA_INSERT_TYPE = \"insert\";\r\nexport var DATA_EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nexport var EDITING_POPUP_OPTION_NAME = \"editing.popup\";\r\nexport var EDITING_FORM_OPTION_NAME = \"editing.form\";\r\nexport var EDITING_EDITROWKEY_OPTION_NAME = \"editing.editRowKey\";\r\nexport var EDITING_EDITCOLUMNNAME_OPTION_NAME = \"editing.editColumnName\";\r\nexport var TARGET_COMPONENT_NAME = \"targetComponent\";\r\nexport var EDITORS_INPUT_SELECTOR = \"input:not([type='hidden'])\";\r\nexport var FOCUSABLE_ELEMENT_SELECTOR = \"[tabindex], \" + EDITORS_INPUT_SELECTOR;\r\nexport var EDIT_MODE_BATCH = \"batch\";\r\nexport var EDIT_MODE_ROW = \"row\";\r\nexport var EDIT_MODE_CELL = \"cell\";\r\nexport var EDIT_MODE_FORM = \"form\";\r\nexport var EDIT_MODE_POPUP = \"popup\";\r\nexport var FIRST_NEW_ROW_POSITION = \"first\";\r\nexport var LAST_NEW_ROW_POSITION = \"last\";\r\nexport var PAGE_BOTTOM_NEW_ROW_POSITION = \"pageBottom\";\r\nexport var PAGE_TOP_NEW_ROW_POSITION = \"pageTop\";\r\nexport var VIEWPORT_BOTTOM_NEW_ROW_POSITION = \"viewportBottom\";\r\nexport var VIEWPORT_TOP_NEW_ROW_POSITION = \"viewportTop\";\r\nexport var EDIT_MODES = [EDIT_MODE_BATCH, EDIT_MODE_ROW, EDIT_MODE_CELL, EDIT_MODE_FORM, EDIT_MODE_POPUP];\r\nexport var ROW_BASED_MODES = [EDIT_MODE_ROW, EDIT_MODE_FORM, EDIT_MODE_POPUP];\r\nexport var MODES_WITH_DELAYED_FOCUS = [EDIT_MODE_ROW, EDIT_MODE_FORM];\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    resetActiveElement\r\n} from \"../../core/utils/dom\";\r\nimport {\r\n    isDefined,\r\n    isObject,\r\n    isFunction,\r\n    isEmptyObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    createObjectWithChanges\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    confirm\r\n} from \"../dialog\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport devices from \"../../core/devices\";\r\nimport {\r\n    when,\r\n    Deferred,\r\n    fromPromise\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    equalByValue,\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport * as iconUtils from \"../../core/utils/icon\";\r\nimport {\r\n    EDITOR_CELL_CLASS,\r\n    ROW_CLASS,\r\n    EDIT_FORM_CLASS,\r\n    DATA_EDIT_DATA_INSERT_TYPE,\r\n    DATA_EDIT_DATA_REMOVE_TYPE,\r\n    EDITING_POPUP_OPTION_NAME,\r\n    EDITING_EDITROWKEY_OPTION_NAME,\r\n    EDITING_EDITCOLUMNNAME_OPTION_NAME,\r\n    TARGET_COMPONENT_NAME,\r\n    EDITORS_INPUT_SELECTOR,\r\n    FOCUSABLE_ELEMENT_SELECTOR,\r\n    EDIT_MODE_ROW,\r\n    EDIT_MODES,\r\n    ROW_BASED_MODES,\r\n    FIRST_NEW_ROW_POSITION,\r\n    LAST_NEW_ROW_POSITION,\r\n    PAGE_BOTTOM_NEW_ROW_POSITION,\r\n    PAGE_TOP_NEW_ROW_POSITION,\r\n    VIEWPORT_BOTTOM_NEW_ROW_POSITION,\r\n    VIEWPORT_TOP_NEW_ROW_POSITION\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar READONLY_CLASS = \"readonly\";\r\nvar LINK_CLASS = \"dx-link\";\r\nvar ROW_SELECTED = \"dx-selection\";\r\nvar EDIT_BUTTON_CLASS = \"dx-edit-button\";\r\nvar COMMAND_EDIT_CLASS = \"dx-command-edit\";\r\nvar COMMAND_EDIT_WITH_ICONS_CLASS = COMMAND_EDIT_CLASS + \"-with-icons\";\r\nvar INSERT_INDEX = \"__DX_INSERT_INDEX__\";\r\nvar ROW_INSERTED = \"dx-row-inserted\";\r\nvar ROW_MODIFIED = \"dx-row-modified\";\r\nvar CELL_MODIFIED = \"dx-cell-modified\";\r\nvar EDITING_NAMESPACE = \"dxDataGridEditing\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar DATA_EDIT_DATA_UPDATE_TYPE = \"update\";\r\nvar DEFAULT_START_EDIT_ACTION = \"click\";\r\nvar EDIT_LINK_CLASS = {\r\n    save: \"dx-link-save\",\r\n    cancel: \"dx-link-cancel\",\r\n    edit: \"dx-link-edit\",\r\n    undelete: \"dx-link-undelete\",\r\n    delete: \"dx-link-delete\",\r\n    add: \"dx-link-add\"\r\n};\r\nvar EDIT_ICON_CLASS = {\r\n    save: \"save\",\r\n    cancel: \"revert\",\r\n    edit: \"edit\",\r\n    undelete: \"revert\",\r\n    delete: \"trash\",\r\n    add: \"add\"\r\n};\r\nvar METHOD_NAMES = {\r\n    edit: \"editRow\",\r\n    delete: \"deleteRow\",\r\n    undelete: \"undeleteRow\",\r\n    save: \"saveEditData\",\r\n    cancel: \"cancelEditData\",\r\n    add: \"addRowByRowIndex\"\r\n};\r\nvar ACTION_OPTION_NAMES = {\r\n    add: \"allowAdding\",\r\n    edit: \"allowUpdating\",\r\n    delete: \"allowDeleting\"\r\n};\r\nvar BUTTON_NAMES = [\"edit\", \"save\", \"cancel\", \"delete\", \"undelete\"];\r\nvar EDITING_CHANGES_OPTION_NAME = \"editing.changes\";\r\nvar createFailureHandler = function(deferred) {\r\n    return function(arg) {\r\n        var error = arg instanceof Error ? arg : new Error(arg && String(arg) || \"Unknown error\");\r\n        deferred.reject(error)\r\n    }\r\n};\r\nvar isEditingCell = function(isEditRow, cellOptions) {\r\n    return cellOptions.isEditing || isEditRow && cellOptions.column.allowEditing\r\n};\r\nvar isEditingOrShowEditorAlwaysDataCell = function(isEditRow, cellOptions) {\r\n    var isCommandCell = !!cellOptions.column.command;\r\n    var isEditing = isEditingCell(isEditRow, cellOptions);\r\n    var isEditorCell = !isCommandCell && (isEditing || cellOptions.column.showEditorAlways);\r\n    return \"data\" === cellOptions.rowType && isEditorCell\r\n};\r\nvar EditingController = modules.ViewController.inherit(function() {\r\n    var getButtonIndex = (buttons, name) => {\r\n        var result = -1;\r\n        buttons.some((button, index) => {\r\n            if (getButtonName(button) === name) {\r\n                result = index;\r\n                return true\r\n            }\r\n        });\r\n        return result\r\n    };\r\n\r\n    function getButtonName(button) {\r\n        return isObject(button) ? button.name : button\r\n    }\r\n    return {\r\n        init: function() {\r\n            this._columnsController = this.getController(\"columns\");\r\n            this._dataController = this.getController(\"data\");\r\n            this._rowsView = this.getView(\"rowsView\");\r\n            this._lastOperation = null;\r\n            if (this._deferreds) {\r\n                this._deferreds.forEach(d => d.reject(\"cancel\"))\r\n            }\r\n            this._deferreds = [];\r\n            if (!this._dataChangedHandler) {\r\n                this._dataChangedHandler = this._handleDataChanged.bind(this);\r\n                this._dataController.changed.add(this._dataChangedHandler)\r\n            }\r\n            if (!this._saveEditorHandler) {\r\n                this.createAction(\"onInitNewRow\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowInserting\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowInserted\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onEditingStart\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowUpdating\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowUpdated\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowRemoving\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onRowRemoved\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onSaved\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onSaving\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onEditCanceling\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                });\r\n                this.createAction(\"onEditCanceled\", {\r\n                    excludeValidators: [\"disabled\", \"readOnly\"]\r\n                })\r\n            }\r\n            this._updateEditColumn();\r\n            this._updateEditButtons();\r\n            if (!this._internalState) {\r\n                this._internalState = []\r\n            }\r\n            this.component._optionsByReference[EDITING_EDITROWKEY_OPTION_NAME] = true;\r\n            this.component._optionsByReference[EDITING_CHANGES_OPTION_NAME] = true\r\n        },\r\n        getEditMode: function() {\r\n            var editMode = this.option(\"editing.mode\");\r\n            if (-1 !== EDIT_MODES.indexOf(editMode)) {\r\n                return editMode\r\n            }\r\n            return EDIT_MODE_ROW\r\n        },\r\n        _getDefaultEditorTemplate: function() {\r\n            return (container, options) => {\r\n                var $editor = $(\"<div>\").appendTo(container);\r\n                this.getController(\"editorFactory\").createEditor($editor, extend({}, options.column, {\r\n                    value: options.value,\r\n                    setValue: options.setValue,\r\n                    row: options.row,\r\n                    parentType: \"dataRow\",\r\n                    width: null,\r\n                    readOnly: !options.setValue,\r\n                    isOnForm: options.isOnForm,\r\n                    id: options.id\r\n                }))\r\n            }\r\n        },\r\n        _getNewRowPosition: function() {\r\n            var newRowPosition = this.option(\"editing.newRowPosition\");\r\n            var scrollingMode = this.option(\"scrolling.mode\");\r\n            if (\"virtual\" === scrollingMode) {\r\n                switch (newRowPosition) {\r\n                    case PAGE_TOP_NEW_ROW_POSITION:\r\n                        return VIEWPORT_TOP_NEW_ROW_POSITION;\r\n                    case PAGE_BOTTOM_NEW_ROW_POSITION:\r\n                        return VIEWPORT_BOTTOM_NEW_ROW_POSITION;\r\n                    default:\r\n                        return newRowPosition\r\n                }\r\n            }\r\n            return newRowPosition\r\n        },\r\n        getChanges: function() {\r\n            return this.option(EDITING_CHANGES_OPTION_NAME)\r\n        },\r\n        getInsertRowCount: function() {\r\n            var changes = this.option(EDITING_CHANGES_OPTION_NAME);\r\n            return changes.filter(change => \"insert\" === change.type).length\r\n        },\r\n        resetChanges: function() {\r\n            var changes = this.getChanges();\r\n            var needReset = null === changes || void 0 === changes ? void 0 : changes.length;\r\n            if (needReset) {\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, [])\r\n            }\r\n        },\r\n        _getInternalData: function(key) {\r\n            return this._internalState.filter(item => equalByValue(item.key, key))[0]\r\n        },\r\n        _addInternalData: function(params) {\r\n            var internalData = this._getInternalData(params.key);\r\n            if (internalData) {\r\n                return extend(internalData, params)\r\n            }\r\n            this._internalState.push(params);\r\n            return params\r\n        },\r\n        _getOldData: function(key) {\r\n            var _this$_getInternalDat;\r\n            return null === (_this$_getInternalDat = this._getInternalData(key)) || void 0 === _this$_getInternalDat ? void 0 : _this$_getInternalDat.oldData\r\n        },\r\n        getUpdatedData: function(data) {\r\n            var key = this._dataController.keyOf(data);\r\n            var changes = this.getChanges();\r\n            var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n            if (changes[editIndex]) {\r\n                return createObjectWithChanges(data, changes[editIndex].data)\r\n            }\r\n            return data\r\n        },\r\n        getInsertedData: function() {\r\n            return this.getChanges().filter(change => change.data && change.type === DATA_EDIT_DATA_INSERT_TYPE).map(change => change.data)\r\n        },\r\n        getRemovedData: function() {\r\n            return this.getChanges().filter(change => this._getOldData(change.key) && change.type === DATA_EDIT_DATA_REMOVE_TYPE).map(change => this._getOldData(change.key))\r\n        },\r\n        _fireDataErrorOccurred: function(arg) {\r\n            if (\"cancel\" === arg) {\r\n                return\r\n            }\r\n            var $popupContent = this.getPopupContent();\r\n            this._dataController.dataErrorOccurred.fire(arg, $popupContent)\r\n        },\r\n        _needToCloseEditableCell: noop,\r\n        _closeEditItem: noop,\r\n        _handleDataChanged: noop,\r\n        _isDefaultButtonVisible: function(button, options) {\r\n            var result = true;\r\n            switch (button.name) {\r\n                case \"delete\":\r\n                    result = this.allowDeleting(options);\r\n                    break;\r\n                case \"undelete\":\r\n                    result = false\r\n            }\r\n            return result\r\n        },\r\n        _isButtonVisible: function(button, options) {\r\n            var visible = button.visible;\r\n            if (!isDefined(visible)) {\r\n                return this._isDefaultButtonVisible(button, options)\r\n            }\r\n            return isFunction(visible) ? visible.call(button, {\r\n                component: options.component,\r\n                row: options.row,\r\n                column: options.column\r\n            }) : visible\r\n        },\r\n        _isButtonDisabled: function(button, options) {\r\n            var disabled = button.disabled;\r\n            return isFunction(disabled) ? disabled.call(button, {\r\n                component: options.component,\r\n                row: options.row,\r\n                column: options.column\r\n            }) : !!disabled\r\n        },\r\n        _getButtonConfig: function(button, options) {\r\n            var config = isObject(button) ? button : {};\r\n            var buttonName = getButtonName(button);\r\n            var editingTexts = (options => {\r\n                var editingTexts = options.component.option(\"editing.texts\") || {};\r\n                return {\r\n                    save: editingTexts.saveRowChanges,\r\n                    cancel: editingTexts.cancelRowChanges,\r\n                    edit: editingTexts.editRow,\r\n                    undelete: editingTexts.undeleteRow,\r\n                    delete: editingTexts.deleteRow,\r\n                    add: editingTexts.addRowToNode\r\n                }\r\n            })(options);\r\n            var methodName = METHOD_NAMES[buttonName];\r\n            var editingOptions = this.option(\"editing\");\r\n            var actionName = ACTION_OPTION_NAMES[buttonName];\r\n            var allowAction = actionName ? editingOptions[actionName] : true;\r\n            return extend({\r\n                name: buttonName,\r\n                text: editingTexts[buttonName],\r\n                cssClass: EDIT_LINK_CLASS[buttonName]\r\n            }, {\r\n                onClick: methodName && (e => {\r\n                    var event = e.event;\r\n                    event.stopPropagation();\r\n                    event.preventDefault();\r\n                    setTimeout(() => {\r\n                        options.row && allowAction && this[methodName] && this[methodName](options.row.rowIndex)\r\n                    })\r\n                })\r\n            }, config)\r\n        },\r\n        _getEditingButtons: function(options) {\r\n            var buttonIndex;\r\n            var haveCustomButtons = !!options.column.buttons;\r\n            var buttons = (options.column.buttons || []).slice();\r\n            if (haveCustomButtons) {\r\n                buttonIndex = getButtonIndex(buttons, \"edit\");\r\n                if (buttonIndex >= 0) {\r\n                    if (getButtonIndex(buttons, \"save\") < 0) {\r\n                        buttons.splice(buttonIndex + 1, 0, \"save\")\r\n                    }\r\n                    if (getButtonIndex(buttons, \"cancel\") < 0) {\r\n                        buttons.splice(getButtonIndex(buttons, \"save\") + 1, 0, \"cancel\")\r\n                    }\r\n                }\r\n                buttonIndex = getButtonIndex(buttons, \"delete\");\r\n                if (buttonIndex >= 0 && getButtonIndex(buttons, \"undelete\") < 0) {\r\n                    buttons.splice(buttonIndex + 1, 0, \"undelete\")\r\n                }\r\n            } else {\r\n                buttons = BUTTON_NAMES.slice()\r\n            }\r\n            return buttons.map(button => this._getButtonConfig(button, options))\r\n        },\r\n        _renderEditingButtons: function($container, buttons, options, change) {\r\n            buttons.forEach(button => {\r\n                if (this._isButtonVisible(button, options)) {\r\n                    this._createButton($container, button, options, change)\r\n                }\r\n            })\r\n        },\r\n        _getEditCommandCellTemplate: function() {\r\n            return (container, options, change) => {\r\n                var $container = $(container);\r\n                if (\"data\" === options.rowType) {\r\n                    var buttons = this._getEditingButtons(options);\r\n                    this._renderEditingButtons($container, buttons, options, change);\r\n                    options.watch && options.watch(() => buttons.map(button => this._isButtonVisible(button, options)), () => {\r\n                        $container.empty();\r\n                        this._renderEditingButtons($container, buttons, options)\r\n                    })\r\n                } else {\r\n                    gridCoreUtils.setEmptyText($container)\r\n                }\r\n            }\r\n        },\r\n        isRowBasedEditMode: function() {\r\n            var editMode = this.getEditMode();\r\n            return -1 !== ROW_BASED_MODES.indexOf(editMode)\r\n        },\r\n        getFirstEditableColumnIndex: function() {\r\n            var columnsController = this.getController(\"columns\");\r\n            var columnIndex;\r\n            var visibleColumns = columnsController.getVisibleColumns();\r\n            each(visibleColumns, (function(index, column) {\r\n                if (column.allowEditing) {\r\n                    columnIndex = index;\r\n                    return false\r\n                }\r\n            }));\r\n            return columnIndex\r\n        },\r\n        getFirstEditableCellInRow: function(rowIndex) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            return rowsView && rowsView._getCellElement(rowIndex ? rowIndex : 0, this.getFirstEditableColumnIndex())\r\n        },\r\n        getFocusedCellInRow: function(rowIndex) {\r\n            return this.getFirstEditableCellInRow(rowIndex)\r\n        },\r\n        getIndexByKey: function(key, items) {\r\n            return gridCoreUtils.getIndexByKey(key, items)\r\n        },\r\n        hasChanges: function(rowIndex) {\r\n            var changes = this.getChanges();\r\n            var result = false;\r\n            for (var i = 0; i < (null === changes || void 0 === changes ? void 0 : changes.length); i++) {\r\n                if (changes[i].type && (!isDefined(rowIndex) || this._dataController.getRowIndexByKey(changes[i].key) === rowIndex)) {\r\n                    result = true;\r\n                    break\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        dispose: function() {\r\n            this.callBase();\r\n            clearTimeout(this._inputFocusTimeoutID);\r\n            eventsEngine.off(domAdapter.getDocument(), pointerEvents.up, this._pointerUpEditorHandler);\r\n            eventsEngine.off(domAdapter.getDocument(), pointerEvents.down, this._pointerDownEditorHandler);\r\n            eventsEngine.off(domAdapter.getDocument(), clickEventName, this._saveEditorHandler)\r\n        },\r\n        optionChanged: function(args) {\r\n            if (\"editing\" === args.name) {\r\n                var fullName = args.fullName;\r\n                if (fullName === EDITING_EDITROWKEY_OPTION_NAME) {\r\n                    this._handleEditRowKeyChange(args)\r\n                } else if (fullName === EDITING_CHANGES_OPTION_NAME) {\r\n                    this._handleChangesChange(args)\r\n                } else if (!args.handled) {\r\n                    this._columnsController.reinit();\r\n                    this.init();\r\n                    this.resetChanges();\r\n                    this._resetEditColumnName();\r\n                    this._resetEditRowKey()\r\n                }\r\n                args.handled = true\r\n            } else {\r\n                this.callBase(args)\r\n            }\r\n        },\r\n        _handleEditRowKeyChange: function(args) {\r\n            var rowIndex = this._dataController.getRowIndexByKey(args.value);\r\n            var oldRowIndexCorrection = this._getEditRowIndexCorrection();\r\n            var oldRowIndex = this._dataController.getRowIndexByKey(args.previousValue) + oldRowIndexCorrection;\r\n            if (isDefined(args.value)) {\r\n                if (args.value !== args.previousValue) {\r\n                    this._editRowFromOptionChanged(rowIndex, oldRowIndex)\r\n                }\r\n            } else {\r\n                this.cancelEditData()\r\n            }\r\n        },\r\n        _handleChangesChange: function(args) {\r\n            var dataController = this._dataController;\r\n            if (!args.value.length && !args.previousValue.length) {\r\n                return\r\n            }\r\n            this._processInsertChanges(args.value);\r\n            dataController.updateItems({\r\n                repaintChangesOnly: true\r\n            })\r\n        },\r\n        _processInsertChanges: function(changes) {\r\n            changes.forEach(change => {\r\n                if (\"insert\" === change.type) {\r\n                    this._addInsertInfo(change)\r\n                }\r\n            })\r\n        },\r\n        publicMethods: function() {\r\n            return [\"addRow\", \"deleteRow\", \"undeleteRow\", \"editRow\", \"saveEditData\", \"cancelEditData\", \"hasEditData\"]\r\n        },\r\n        refresh: function() {\r\n            if (!isDefined(this._pageIndex)) {\r\n                return\r\n            }\r\n            this._refreshCore.apply(this, arguments)\r\n        },\r\n        _refreshCore: noop,\r\n        isEditing: function() {\r\n            var isEditRowKeyDefined = isDefined(this.option(EDITING_EDITROWKEY_OPTION_NAME));\r\n            return isEditRowKeyDefined\r\n        },\r\n        isEditRow: function() {\r\n            return false\r\n        },\r\n        _setEditRowKey: function(value, silent) {\r\n            if (silent) {\r\n                this._silentOption(EDITING_EDITROWKEY_OPTION_NAME, value)\r\n            } else {\r\n                this.option(EDITING_EDITROWKEY_OPTION_NAME, value)\r\n            }\r\n        },\r\n        _setEditRowKeyByIndex: function(rowIndex, silent) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            if (void 0 === key) {\r\n                this._dataController.fireError(\"E1043\");\r\n                return\r\n            }\r\n            this._setEditRowKey(key, silent)\r\n        },\r\n        getEditRowIndex: function() {\r\n            return this._getVisibleEditRowIndex()\r\n        },\r\n        getEditFormRowIndex: function() {\r\n            return -1\r\n        },\r\n        _isEditRowByIndex(rowIndex) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            var isKeyEqual = isDefined(key) && equalByValue(this.option(EDITING_EDITROWKEY_OPTION_NAME), key);\r\n            if (isKeyEqual) {\r\n                return this._getVisibleEditRowIndex() === rowIndex\r\n            }\r\n            return isKeyEqual\r\n        },\r\n        isEditCell: function(visibleRowIndex, columnIndex) {\r\n            return this._isEditRowByIndex(visibleRowIndex) && this._getVisibleEditColumnIndex() === columnIndex\r\n        },\r\n        getPopupContent: noop,\r\n        _isProcessedItem: function(item) {\r\n            return false\r\n        },\r\n        _getInsertRowIndex: function(items, change, isProcessedItems) {\r\n            var result = -1;\r\n            var dataController = this._dataController;\r\n            var key = this._getInsertAfterOrBeforeKey(change);\r\n            if (!isDefined(key) && 0 === items.length) {\r\n                result = 0\r\n            } else if (isDefined(key)) {\r\n                items.some((item, index) => {\r\n                    var isProcessedItem = isProcessedItems || this._isProcessedItem(item);\r\n                    if (isObject(item)) {\r\n                        if (isProcessedItem || isDefined(item[INSERT_INDEX])) {\r\n                            if (equalByValue(item.key, key)) {\r\n                                result = index\r\n                            }\r\n                        } else if (equalByValue(dataController.keyOf(item), key)) {\r\n                            result = index\r\n                        }\r\n                    }\r\n                    if (result >= 0) {\r\n                        var nextItem = items[result + 1];\r\n                        if (nextItem && (\"detail\" === nextItem.rowType || \"detailAdaptive\" === nextItem.rowType) && isDefined(change.insertAfterKey)) {\r\n                            return\r\n                        }\r\n                        if (isDefined(change.insertAfterKey)) {\r\n                            result += 1\r\n                        }\r\n                        return true\r\n                    }\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        _generateNewItem: function(key) {\r\n            var _this$_getInternalDat2;\r\n            var item = {\r\n                key: key\r\n            };\r\n            var insertInfo = null === (_this$_getInternalDat2 = this._getInternalData(key)) || void 0 === _this$_getInternalDat2 ? void 0 : _this$_getInternalDat2.insertInfo;\r\n            if (null !== insertInfo && void 0 !== insertInfo && insertInfo[INSERT_INDEX]) {\r\n                item[INSERT_INDEX] = insertInfo[INSERT_INDEX]\r\n            }\r\n            return item\r\n        },\r\n        _getLoadedRowIndex: function(items, change, isProcessedItems) {\r\n            var loadedRowIndex = this._getInsertRowIndex(items, change, isProcessedItems);\r\n            var dataController = this._dataController;\r\n            if (loadedRowIndex < 0) {\r\n                var newRowPosition = this._getNewRowPosition();\r\n                var pageIndex = dataController.pageIndex();\r\n                var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n                if (newRowPosition !== LAST_NEW_ROW_POSITION && 0 === pageIndex && !isDefined(insertAfterOrBeforeKey)) {\r\n                    loadedRowIndex = 0\r\n                } else if (newRowPosition === LAST_NEW_ROW_POSITION && dataController.isLastPageLoaded()) {\r\n                    loadedRowIndex = items.length\r\n                }\r\n            }\r\n            return loadedRowIndex\r\n        },\r\n        processItems: function(items, e) {\r\n            var changeType = e.changeType;\r\n            this.update(changeType);\r\n            var changes = this.getChanges();\r\n            changes.forEach(change => {\r\n                var _this$_getInternalDat3;\r\n                var isInsert = change.type === DATA_EDIT_DATA_INSERT_TYPE;\r\n                if (!isInsert) {\r\n                    return\r\n                }\r\n                var key = change.key;\r\n                var insertInfo = null === (_this$_getInternalDat3 = this._getInternalData(key)) || void 0 === _this$_getInternalDat3 ? void 0 : _this$_getInternalDat3.insertInfo;\r\n                if (!isDefined(key) || !isDefined(insertInfo)) {\r\n                    insertInfo = this._addInsertInfo(change);\r\n                    key = insertInfo.key\r\n                }\r\n                var loadedRowIndex = this._getLoadedRowIndex(items, change);\r\n                var item = this._generateNewItem(key);\r\n                if (loadedRowIndex >= 0) {\r\n                    items.splice(loadedRowIndex, 0, item)\r\n                }\r\n            });\r\n            return items\r\n        },\r\n        processDataItem: function(item, options, generateDataValues) {\r\n            var columns = options.visibleColumns;\r\n            var key = item.data[INSERT_INDEX] ? item.data.key : item.key;\r\n            var changes = this.getChanges();\r\n            var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n            item.isEditing = false;\r\n            if (editIndex >= 0) {\r\n                this._processDataItemCore(item, changes[editIndex], key, columns, generateDataValues)\r\n            }\r\n        },\r\n        _processDataItemCore: function(item, change, key, columns, generateDataValues) {\r\n            var {\r\n                data: data,\r\n                type: type\r\n            } = change;\r\n            switch (type) {\r\n                case DATA_EDIT_DATA_INSERT_TYPE:\r\n                    item.isNewRow = true;\r\n                    item.key = key;\r\n                    item.data = data;\r\n                    break;\r\n                case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                    item.modified = true;\r\n                    item.oldData = item.data;\r\n                    item.data = createObjectWithChanges(item.data, data);\r\n                    item.modifiedValues = generateDataValues(data, columns, true);\r\n                    break;\r\n                case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                    item.removed = true\r\n            }\r\n        },\r\n        _initNewRow: function(options) {\r\n            this.executeAction(\"onInitNewRow\", options);\r\n            if (options.promise) {\r\n                var deferred = new Deferred;\r\n                when(fromPromise(options.promise)).done(deferred.resolve).fail(createFailureHandler(deferred)).fail(arg => this._fireDataErrorOccurred(arg));\r\n                return deferred\r\n            }\r\n        },\r\n        _createInsertInfo: function() {\r\n            var insertInfo = {};\r\n            insertInfo[INSERT_INDEX] = this._getInsertIndex();\r\n            return insertInfo\r\n        },\r\n        _addInsertInfo: function(change, parentKey) {\r\n            var _this$_getInternalDat4;\r\n            var insertInfo;\r\n            var {\r\n                key: key\r\n            } = change;\r\n            if (!isDefined(key)) {\r\n                key = String(new Guid);\r\n                change.key = key\r\n            }\r\n            insertInfo = null === (_this$_getInternalDat4 = this._getInternalData(key)) || void 0 === _this$_getInternalDat4 ? void 0 : _this$_getInternalDat4.insertInfo;\r\n            if (!isDefined(insertInfo)) {\r\n                var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n                insertInfo = this._createInsertInfo();\r\n                if (!isDefined(insertAfterOrBeforeKey)) {\r\n                    this._setInsertAfterOrBeforeKey(change, parentKey)\r\n                }\r\n            }\r\n            this._addInternalData({\r\n                insertInfo: insertInfo,\r\n                key: key\r\n            });\r\n            return {\r\n                insertInfo: insertInfo,\r\n                key: key\r\n            }\r\n        },\r\n        _setInsertAfterOrBeforeKey: function(change, parentKey) {\r\n            var dataController = this._dataController;\r\n            var allItems = dataController.items(true);\r\n            var rowsView = this.getView(\"rowsView\");\r\n            var newRowPosition = this._getNewRowPosition();\r\n            switch (newRowPosition) {\r\n                case FIRST_NEW_ROW_POSITION:\r\n                case LAST_NEW_ROW_POSITION:\r\n                    break;\r\n                case PAGE_TOP_NEW_ROW_POSITION:\r\n                case PAGE_BOTTOM_NEW_ROW_POSITION:\r\n                    if (allItems.length) {\r\n                        var itemIndex = newRowPosition === PAGE_TOP_NEW_ROW_POSITION ? 0 : allItems.length - 1;\r\n                        change[0 === itemIndex ? \"insertBeforeKey\" : \"insertAfterKey\"] = allItems[itemIndex].key\r\n                    }\r\n                    break;\r\n                default:\r\n                    var isViewportBottom = newRowPosition === VIEWPORT_BOTTOM_NEW_ROW_POSITION;\r\n                    var visibleItemIndex = isViewportBottom ? null === rowsView || void 0 === rowsView ? void 0 : rowsView.getBottomVisibleItemIndex() : null === rowsView || void 0 === rowsView ? void 0 : rowsView.getTopVisibleItemIndex();\r\n                    var row = dataController.getVisibleRows()[visibleItemIndex];\r\n                    if (row && (!row.isEditing && \"detail\" === row.rowType || \"detailAdaptive\" === row.rowType)) {\r\n                        visibleItemIndex++\r\n                    }\r\n                    var insertKey = dataController.getKeyByRowIndex(visibleItemIndex);\r\n                    if (isDefined(insertKey)) {\r\n                        change.insertBeforeKey = insertKey\r\n                    }\r\n            }\r\n        },\r\n        _getInsertIndex: function() {\r\n            var maxInsertIndex = 0;\r\n            this.getChanges().forEach(editItem => {\r\n                var _this$_getInternalDat5;\r\n                var insertInfo = null === (_this$_getInternalDat5 = this._getInternalData(editItem.key)) || void 0 === _this$_getInternalDat5 ? void 0 : _this$_getInternalDat5.insertInfo;\r\n                if (isDefined(insertInfo) && editItem.type === DATA_EDIT_DATA_INSERT_TYPE && insertInfo[INSERT_INDEX] > maxInsertIndex) {\r\n                    maxInsertIndex = insertInfo[INSERT_INDEX]\r\n                }\r\n            });\r\n            return maxInsertIndex + 1\r\n        },\r\n        _getInsertAfterOrBeforeKey: function(insertChange) {\r\n            var _insertChange$insertA;\r\n            return null !== (_insertChange$insertA = insertChange.insertAfterKey) && void 0 !== _insertChange$insertA ? _insertChange$insertA : insertChange.insertBeforeKey\r\n        },\r\n        _getPageIndexToInsertRow: function() {\r\n            var newRowPosition = this._getNewRowPosition();\r\n            var dataController = this._dataController;\r\n            var pageIndex = dataController.pageIndex();\r\n            var lastPageIndex = dataController.pageCount() - 1;\r\n            if (newRowPosition === FIRST_NEW_ROW_POSITION && 0 !== pageIndex) {\r\n                return 0\r\n            } else if (newRowPosition === LAST_NEW_ROW_POSITION && pageIndex !== lastPageIndex) {\r\n                return lastPageIndex\r\n            }\r\n            return -1\r\n        },\r\n        addRow: function(parentKey) {\r\n            var dataController = this._dataController;\r\n            var store = dataController.store();\r\n            if (!store) {\r\n                dataController.fireError(\"E1052\", this.component.NAME);\r\n                return (new Deferred).reject()\r\n            }\r\n            return this._addRow(parentKey)\r\n        },\r\n        _addRow: function(parentKey) {\r\n            var dataController = this._dataController;\r\n            var store = dataController.store();\r\n            var key = store && store.key();\r\n            var param = {\r\n                data: {}\r\n            };\r\n            var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n            var deferred = new Deferred;\r\n            this.refresh({\r\n                allowCancelEditing: true\r\n            });\r\n            if (!this._allowRowAdding()) {\r\n                when(this._navigateToNewRow(oldEditRowIndex)).done(deferred.resolve).fail(deferred.reject);\r\n                return deferred.promise()\r\n            }\r\n            if (!key) {\r\n                param.data.__KEY__ = String(new Guid)\r\n            }\r\n            when(this._initNewRow(param, parentKey)).done(() => {\r\n                if (this._allowRowAdding()) {\r\n                    when(this._addRowCore(param.data, parentKey, oldEditRowIndex)).done(deferred.resolve).fail(deferred.reject)\r\n                } else {\r\n                    deferred.reject(\"cancel\")\r\n                }\r\n            }).fail(deferred.reject);\r\n            return deferred.promise()\r\n        },\r\n        _allowRowAdding: function() {\r\n            var insertIndex = this._getInsertIndex();\r\n            if (insertIndex > 1) {\r\n                return false\r\n            }\r\n            return true\r\n        },\r\n        _addRowCore: function(data, parentKey, initialOldEditRowIndex) {\r\n            var change = {\r\n                data: data,\r\n                type: DATA_EDIT_DATA_INSERT_TYPE\r\n            };\r\n            var editRowIndex = this._getVisibleEditRowIndex();\r\n            var insertInfo = this._addInsertInfo(change, parentKey);\r\n            var key = insertInfo.key;\r\n            this._setEditRowKey(key, true);\r\n            this._addChange(change);\r\n            return this._navigateToNewRow(initialOldEditRowIndex, change, editRowIndex)\r\n        },\r\n        _navigateToNewRow: function(oldEditRowIndex, change, editRowIndex) {\r\n            var _editRowIndex, _change;\r\n            var d = new Deferred;\r\n            var dataController = this._dataController;\r\n            var focusController = this.getController(\"focus\");\r\n            editRowIndex = null !== (_editRowIndex = editRowIndex) && void 0 !== _editRowIndex ? _editRowIndex : -1;\r\n            change = null !== (_change = change) && void 0 !== _change ? _change : this.getChanges().filter(c => c.type === DATA_EDIT_DATA_INSERT_TYPE)[0];\r\n            if (!change) {\r\n                return d.reject(\"cancel\").promise()\r\n            }\r\n            var pageIndexToInsertRow = this._getPageIndexToInsertRow();\r\n            var rowIndex = this._getLoadedRowIndex(dataController.items(), change, true);\r\n            var navigateToRowByKey = key => {\r\n                when(null === focusController || void 0 === focusController ? void 0 : focusController.navigateToRow(key)).done(() => {\r\n                    rowIndex = dataController.getRowIndexByKey(change.key);\r\n                    d.resolve()\r\n                })\r\n            };\r\n            var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n            if (pageIndexToInsertRow >= 0) {\r\n                dataController.pageIndex(pageIndexToInsertRow).done(() => {\r\n                    navigateToRowByKey(change.key)\r\n                }).fail(d.reject)\r\n            } else if (rowIndex < 0 && isDefined(insertAfterOrBeforeKey)) {\r\n                navigateToRowByKey(insertAfterOrBeforeKey)\r\n            } else {\r\n                dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: [oldEditRowIndex, editRowIndex, rowIndex]\r\n                });\r\n                rowIndex = dataController.getRowIndexByKey(change.key);\r\n                if (rowIndex < 0) {\r\n                    navigateToRowByKey(change.key)\r\n                } else {\r\n                    d.resolve()\r\n                }\r\n            }\r\n            d.done(() => {\r\n                this._showAddedRow(rowIndex);\r\n                this._afterInsertRow(change.key)\r\n            });\r\n            return d.promise()\r\n        },\r\n        _showAddedRow: function(rowIndex) {\r\n            this._focusFirstEditableCellInRow(rowIndex)\r\n        },\r\n        _beforeFocusElementInRow: noop,\r\n        _focusFirstEditableCellInRow: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var key = dataController.getKeyByRowIndex(rowIndex);\r\n            var $firstCell = this.getFirstEditableCellInRow(rowIndex);\r\n            this._editCellInProgress = true;\r\n            this._delayedInputFocus($firstCell, () => {\r\n                rowIndex = dataController.getRowIndexByKey(key);\r\n                this._editCellInProgress = false;\r\n                this._beforeFocusElementInRow(rowIndex)\r\n            })\r\n        },\r\n        _isEditingStart: function(options) {\r\n            this.executeAction(\"onEditingStart\", options);\r\n            return options.cancel\r\n        },\r\n        _beforeUpdateItems: noop,\r\n        _getVisibleEditColumnIndex: function() {\r\n            var editColumnName = this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME);\r\n            if (!isDefined(editColumnName)) {\r\n                return -1\r\n            }\r\n            return this._columnsController.getVisibleColumnIndex(editColumnName)\r\n        },\r\n        _setEditColumnNameByIndex: function(index, silent) {\r\n            var _visibleColumns$index;\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            this._setEditColumnName(null === (_visibleColumns$index = visibleColumns[index]) || void 0 === _visibleColumns$index ? void 0 : _visibleColumns$index.name, silent)\r\n        },\r\n        _setEditColumnName: function(name, silent) {\r\n            if (silent) {\r\n                this._silentOption(EDITING_EDITCOLUMNNAME_OPTION_NAME, name)\r\n            } else {\r\n                this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME, name)\r\n            }\r\n        },\r\n        _resetEditColumnName: function() {\r\n            this._setEditColumnName(null, true)\r\n        },\r\n        _getEditColumn: function() {\r\n            var editColumnName = this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME);\r\n            return this._getColumnByName(editColumnName)\r\n        },\r\n        _getColumnByName: function(name) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var editColumn;\r\n            isDefined(name) && visibleColumns.some(column => {\r\n                if (column.name === name) {\r\n                    editColumn = column;\r\n                    return true\r\n                }\r\n            });\r\n            return editColumn\r\n        },\r\n        _getVisibleEditRowIndex: function(columnName) {\r\n            var dataController = this._dataController;\r\n            var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n            var rowIndex = dataController.getRowIndexByKey(editRowKey);\r\n            if (-1 === rowIndex) {\r\n                return rowIndex\r\n            }\r\n            return rowIndex + this._getEditRowIndexCorrection(columnName)\r\n        },\r\n        _getEditRowIndexCorrection: function(columnName) {\r\n            var editColumn = columnName ? this._getColumnByName(columnName) : this._getEditColumn();\r\n            var isColumnHidden = \"adaptiveHidden\" === (null === editColumn || void 0 === editColumn ? void 0 : editColumn.visibleWidth);\r\n            return isColumnHidden ? 1 : 0\r\n        },\r\n        _resetEditRowKey: function() {\r\n            this._setEditRowKey(null, true)\r\n        },\r\n        _resetEditIndices: function() {\r\n            this._resetEditColumnName();\r\n            this._resetEditRowKey()\r\n        },\r\n        editRow: function(rowIndex) {\r\n            var _item$oldData;\r\n            var dataController = this._dataController;\r\n            var items = dataController.items();\r\n            var item = items[rowIndex];\r\n            var params = {\r\n                data: item && item.data,\r\n                cancel: false\r\n            };\r\n            var oldRowIndex = this._getVisibleEditRowIndex();\r\n            if (!item) {\r\n                return\r\n            }\r\n            if (rowIndex === oldRowIndex) {\r\n                return true\r\n            }\r\n            if (void 0 === item.key) {\r\n                this._dataController.fireError(\"E1043\");\r\n                return\r\n            }\r\n            if (!item.isNewRow) {\r\n                params.key = item.key\r\n            }\r\n            if (this._isEditingStart(params)) {\r\n                return\r\n            }\r\n            this.resetChanges();\r\n            this.init();\r\n            this._resetEditColumnName();\r\n            this._pageIndex = dataController.pageIndex();\r\n            this._addInternalData({\r\n                key: item.key,\r\n                oldData: null !== (_item$oldData = item.oldData) && void 0 !== _item$oldData ? _item$oldData : item.data\r\n            });\r\n            this._setEditRowKey(item.key)\r\n        },\r\n        _editRowFromOptionChanged: function(rowIndex, oldRowIndex) {\r\n            var rowIndices = [oldRowIndex, rowIndex];\r\n            this._beforeUpdateItems(rowIndices, rowIndex, oldRowIndex);\r\n            this._editRowFromOptionChangedCore(rowIndices, rowIndex)\r\n        },\r\n        _editRowFromOptionChangedCore: function(rowIndices, rowIndex, preventRendering) {\r\n            this._needFocusEditor = true;\r\n            this._dataController.updateItems({\r\n                changeType: \"update\",\r\n                rowIndices: rowIndices,\r\n                cancel: preventRendering\r\n            })\r\n        },\r\n        _focusEditorIfNeed: noop,\r\n        _showEditPopup: noop,\r\n        _repaintEditPopup: noop,\r\n        _getEditPopupHiddenHandler: function() {\r\n            return e => {\r\n                if (this.isEditing()) {\r\n                    this.cancelEditData()\r\n                }\r\n            }\r\n        },\r\n        _getPopupEditFormTemplate: noop,\r\n        _getSaveButtonConfig: function() {\r\n            return {\r\n                text: this.option(\"editing.texts.saveRowChanges\"),\r\n                onClick: this.saveEditData.bind(this)\r\n            }\r\n        },\r\n        _getCancelButtonConfig: function() {\r\n            return {\r\n                text: this.option(\"editing.texts.cancelRowChanges\"),\r\n                onClick: this.cancelEditData.bind(this)\r\n            }\r\n        },\r\n        _removeInternalData: function(key) {\r\n            var internalData = this._getInternalData(key);\r\n            var index = this._internalState.indexOf(internalData);\r\n            if (index > -1) {\r\n                this._internalState.splice(index, 1)\r\n            }\r\n        },\r\n        _updateInsertAfterOrBeforeKeys: function(changes, index) {\r\n            var removeChange = changes[index];\r\n            changes.forEach(change => {\r\n                var insertAfterOrBeforeKey = this._getInsertAfterOrBeforeKey(change);\r\n                if (equalByValue(insertAfterOrBeforeKey, removeChange.key)) {\r\n                    change[isDefined(change.insertAfterKey) ? \"insertAfterKey\" : \"insertBeforeKey\"] = this._getInsertAfterOrBeforeKey(removeChange)\r\n                }\r\n            })\r\n        },\r\n        _removeChange: function(index) {\r\n            if (index >= 0) {\r\n                var changes = [...this.getChanges()];\r\n                var key = changes[index].key;\r\n                this._removeInternalData(key);\r\n                this._updateInsertAfterOrBeforeKeys(changes, index);\r\n                changes.splice(index, 1);\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, changes);\r\n                if (equalByValue(this.option(EDITING_EDITROWKEY_OPTION_NAME), key)) {\r\n                    this._resetEditIndices()\r\n                }\r\n            }\r\n        },\r\n        executeOperation: function(deferred, func) {\r\n            this._lastOperation && this._lastOperation.reject();\r\n            this._lastOperation = deferred;\r\n            this.waitForDeferredOperations().done(() => {\r\n                if (\"rejected\" === deferred.state()) {\r\n                    return\r\n                }\r\n                func();\r\n                this._lastOperation = null\r\n            }).fail(() => {\r\n                deferred.reject();\r\n                this._lastOperation = null\r\n            })\r\n        },\r\n        waitForDeferredOperations: function() {\r\n            return when(...this._deferreds)\r\n        },\r\n        _processCanceledEditingCell: noop,\r\n        _repaintEditCell: function(column, oldColumn, oldEditRowIndex) {\r\n            this._needFocusEditor = true;\r\n            if (!column || !column.showEditorAlways || oldColumn && !oldColumn.showEditorAlways) {\r\n                this._editCellInProgress = true;\r\n                this.getController(\"editorFactory\").loseFocus();\r\n                this._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: [oldEditRowIndex, this._getVisibleEditRowIndex()]\r\n                })\r\n            } else if (column !== oldColumn) {\r\n                this._dataController.updateItems({\r\n                    changeType: \"update\",\r\n                    rowIndices: []\r\n                })\r\n            }\r\n        },\r\n        _delayedInputFocus: function($cell, beforeFocusCallback, callBeforeFocusCallbackAlways) {\r\n            var inputFocus = () => {\r\n                if (beforeFocusCallback) {\r\n                    beforeFocusCallback()\r\n                }\r\n                if ($cell) {\r\n                    var $focusableElement = $cell.find(FOCUSABLE_ELEMENT_SELECTOR).first();\r\n                    gridCoreUtils.focusAndSelectElement(this, $focusableElement)\r\n                }\r\n                this._beforeFocusCallback = null\r\n            };\r\n            if (devices.real().ios || devices.real().android) {\r\n                inputFocus()\r\n            } else {\r\n                if (this._beforeFocusCallback) {\r\n                    this._beforeFocusCallback()\r\n                }\r\n                clearTimeout(this._inputFocusTimeoutID);\r\n                if (callBeforeFocusCallbackAlways) {\r\n                    this._beforeFocusCallback = beforeFocusCallback\r\n                }\r\n                this._inputFocusTimeoutID = setTimeout(inputFocus)\r\n            }\r\n        },\r\n        _focusEditingCell: function(beforeFocusCallback, $editCell, callBeforeFocusCallbackAlways) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            var editColumnIndex = this._getVisibleEditColumnIndex();\r\n            $editCell = $editCell || rowsView && rowsView._getCellElement(this._getVisibleEditRowIndex(), editColumnIndex);\r\n            if ($editCell) {\r\n                this._delayedInputFocus($editCell, beforeFocusCallback, callBeforeFocusCallbackAlways)\r\n            }\r\n        },\r\n        deleteRow: function(rowIndex) {\r\n            this._checkAndDeleteRow(rowIndex)\r\n        },\r\n        _checkAndDeleteRow: function(rowIndex) {\r\n            var editingOptions = this.option(\"editing\");\r\n            var editingTexts = null === editingOptions || void 0 === editingOptions ? void 0 : editingOptions.texts;\r\n            var confirmDelete = null === editingOptions || void 0 === editingOptions ? void 0 : editingOptions.confirmDelete;\r\n            var confirmDeleteMessage = null === editingTexts || void 0 === editingTexts ? void 0 : editingTexts.confirmDeleteMessage;\r\n            var item = this._dataController.items()[rowIndex];\r\n            var allowDeleting = !this.isEditing() || item.isNewRow;\r\n            if (item && allowDeleting) {\r\n                if (!confirmDelete || !confirmDeleteMessage) {\r\n                    this._deleteRowCore(rowIndex)\r\n                } else {\r\n                    var confirmDeleteTitle = editingTexts && editingTexts.confirmDeleteTitle;\r\n                    var showDialogTitle = isDefined(confirmDeleteTitle) && confirmDeleteTitle.length > 0;\r\n                    confirm(confirmDeleteMessage, confirmDeleteTitle, showDialogTitle).done(confirmResult => {\r\n                        if (confirmResult) {\r\n                            this._deleteRowCore(rowIndex)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _deleteRowCore: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var item = dataController.items()[rowIndex];\r\n            var key = item && item.key;\r\n            var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n            this.refresh();\r\n            var changes = this.getChanges();\r\n            var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n            if (editIndex >= 0) {\r\n                if (changes[editIndex].type === DATA_EDIT_DATA_INSERT_TYPE) {\r\n                    this._removeChange(editIndex)\r\n                } else {\r\n                    this._addChange({\r\n                        key: key,\r\n                        type: DATA_EDIT_DATA_REMOVE_TYPE\r\n                    })\r\n                }\r\n            } else {\r\n                this._addChange({\r\n                    key: key,\r\n                    oldData: item.data,\r\n                    type: DATA_EDIT_DATA_REMOVE_TYPE\r\n                })\r\n            }\r\n            return this._afterDeleteRow(rowIndex, oldEditRowIndex)\r\n        },\r\n        _afterDeleteRow: function(rowIndex, oldEditRowIndex) {\r\n            return this.saveEditData()\r\n        },\r\n        undeleteRow: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            var item = dataController.items()[rowIndex];\r\n            var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n            var key = item && item.key;\r\n            var changes = this.getChanges();\r\n            if (item) {\r\n                var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n                if (editIndex >= 0) {\r\n                    var {\r\n                        data: data\r\n                    } = changes[editIndex];\r\n                    if (isEmptyObject(data)) {\r\n                        this._removeChange(editIndex)\r\n                    } else {\r\n                        this._addChange({\r\n                            key: key,\r\n                            type: DATA_EDIT_DATA_UPDATE_TYPE\r\n                        })\r\n                    }\r\n                    dataController.updateItems({\r\n                        changeType: \"update\",\r\n                        rowIndices: [oldEditRowIndex, rowIndex]\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        _fireOnSaving: function() {\r\n            var onSavingParams = {\r\n                cancel: false,\r\n                promise: null,\r\n                changes: [...this.getChanges()]\r\n            };\r\n            this.executeAction(\"onSaving\", onSavingParams);\r\n            var d = new Deferred;\r\n            when(fromPromise(onSavingParams.promise)).done(() => {\r\n                d.resolve(onSavingParams)\r\n            }).fail(arg => {\r\n                createFailureHandler(d);\r\n                this._fireDataErrorOccurred(arg);\r\n                d.resolve({\r\n                    cancel: true\r\n                })\r\n            });\r\n            return d\r\n        },\r\n        _executeEditingAction: function(actionName, params, func) {\r\n            if (this.component._disposed) {\r\n                return null\r\n            }\r\n            var deferred = new Deferred;\r\n            this.executeAction(actionName, params);\r\n            when(fromPromise(params.cancel)).done((function(cancel) {\r\n                if (cancel) {\r\n                    setTimeout((function() {\r\n                        deferred.resolve(\"cancel\")\r\n                    }))\r\n                } else {\r\n                    func(params).done(deferred.resolve).fail(createFailureHandler(deferred))\r\n                }\r\n            })).fail(createFailureHandler(deferred));\r\n            return deferred\r\n        },\r\n        _processChanges: function(deferreds, results, dataChanges, changes) {\r\n            var store = this._dataController.store();\r\n            each(changes, (index, change) => {\r\n                var oldData = this._getOldData(change.key);\r\n                var {\r\n                    data: data,\r\n                    type: type\r\n                } = change;\r\n                var changeCopy = _extends({}, change);\r\n                var deferred;\r\n                var params;\r\n                if (this._beforeSaveEditData(change, index)) {\r\n                    return\r\n                }\r\n                switch (type) {\r\n                    case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                        params = {\r\n                            data: oldData,\r\n                            key: change.key,\r\n                            cancel: false\r\n                        };\r\n                        deferred = this._executeEditingAction(\"onRowRemoving\", params, (function() {\r\n                            return store.remove(change.key).done((function(key) {\r\n                                dataChanges.push({\r\n                                    type: \"remove\",\r\n                                    key: key\r\n                                })\r\n                            }))\r\n                        }));\r\n                        break;\r\n                    case DATA_EDIT_DATA_INSERT_TYPE:\r\n                        params = {\r\n                            data: data,\r\n                            cancel: false\r\n                        };\r\n                        deferred = this._executeEditingAction(\"onRowInserting\", params, (function() {\r\n                            return store.insert(params.data).done((function(data, key) {\r\n                                if (isDefined(key)) {\r\n                                    changeCopy.key = key\r\n                                }\r\n                                if (data && isObject(data) && data !== params.data) {\r\n                                    changeCopy.data = data\r\n                                }\r\n                                dataChanges.push({\r\n                                    type: \"insert\",\r\n                                    data: data,\r\n                                    index: 0\r\n                                })\r\n                            }))\r\n                        }));\r\n                        break;\r\n                    case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                        params = {\r\n                            newData: data,\r\n                            oldData: oldData,\r\n                            key: change.key,\r\n                            cancel: false\r\n                        };\r\n                        deferred = this._executeEditingAction(\"onRowUpdating\", params, (function() {\r\n                            return store.update(change.key, params.newData).done((function(data, key) {\r\n                                if (data && isObject(data) && data !== params.newData) {\r\n                                    changeCopy.data = data\r\n                                }\r\n                                dataChanges.push({\r\n                                    type: \"update\",\r\n                                    key: key,\r\n                                    data: data\r\n                                })\r\n                            }))\r\n                        }))\r\n                }\r\n                changes[index] = changeCopy;\r\n                if (deferred) {\r\n                    var doneDeferred = new Deferred;\r\n                    deferred.always((function(data) {\r\n                        results.push({\r\n                            key: change.key,\r\n                            result: data\r\n                        })\r\n                    })).always(doneDeferred.resolve);\r\n                    deferreds.push(doneDeferred.promise())\r\n                }\r\n            })\r\n        },\r\n        _processRemoveIfError: function(changes, editIndex) {\r\n            var change = changes[editIndex];\r\n            if ((null === change || void 0 === change ? void 0 : change.type) === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                if (editIndex >= 0) {\r\n                    changes.splice(editIndex, 1)\r\n                }\r\n            }\r\n            return true\r\n        },\r\n        _processRemove: function(changes, editIndex, cancel) {\r\n            var change = changes[editIndex];\r\n            if (!cancel || !change || change.type === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                return this._processRemoveCore(changes, editIndex, !cancel || !change)\r\n            }\r\n        },\r\n        _processRemoveCore: function(changes, editIndex) {\r\n            if (editIndex >= 0) {\r\n                changes.splice(editIndex, 1)\r\n            }\r\n            return true\r\n        },\r\n        _processSaveEditDataResult: function(results) {\r\n            var hasSavedData = false;\r\n            var changes = [...this.getChanges()];\r\n            var changesLength = changes.length;\r\n            for (var i = 0; i < results.length; i++) {\r\n                var arg = results[i].result;\r\n                var cancel = \"cancel\" === arg;\r\n                var editIndex = gridCoreUtils.getIndexByKey(results[i].key, changes);\r\n                var change = changes[editIndex];\r\n                var isError = arg && arg instanceof Error;\r\n                if (isError) {\r\n                    if (change) {\r\n                        this._addInternalData({\r\n                            key: change.key,\r\n                            error: arg\r\n                        })\r\n                    }\r\n                    this._fireDataErrorOccurred(arg);\r\n                    if (this._processRemoveIfError(changes, editIndex)) {\r\n                        break\r\n                    }\r\n                } else if (this._processRemove(changes, editIndex, cancel)) {\r\n                    hasSavedData = !cancel\r\n                }\r\n            }\r\n            if (changes.length < changesLength) {\r\n                this._silentOption(EDITING_CHANGES_OPTION_NAME, changes)\r\n            }\r\n            return hasSavedData\r\n        },\r\n        _fireSaveEditDataEvents: function(changes) {\r\n            each(changes, (_, _ref) => {\r\n                var {\r\n                    data: data,\r\n                    key: key,\r\n                    type: type\r\n                } = _ref;\r\n                var internalData = this._addInternalData({\r\n                    key: key\r\n                });\r\n                var params = {\r\n                    key: key,\r\n                    data: data\r\n                };\r\n                if (internalData.error) {\r\n                    params.error = internalData.error\r\n                }\r\n                switch (type) {\r\n                    case DATA_EDIT_DATA_REMOVE_TYPE:\r\n                        this.executeAction(\"onRowRemoved\", extend({}, params, {\r\n                            data: internalData.oldData\r\n                        }));\r\n                        break;\r\n                    case DATA_EDIT_DATA_INSERT_TYPE:\r\n                        this.executeAction(\"onRowInserted\", params);\r\n                        break;\r\n                    case DATA_EDIT_DATA_UPDATE_TYPE:\r\n                        this.executeAction(\"onRowUpdated\", params)\r\n                }\r\n            });\r\n            this.executeAction(\"onSaved\", {\r\n                changes: changes\r\n            })\r\n        },\r\n        saveEditData: function() {\r\n            var deferred = new Deferred;\r\n            this.waitForDeferredOperations().done(() => {\r\n                if (this.isSaving()) {\r\n                    this._resolveAfterSave(deferred);\r\n                    return\r\n                }\r\n                when(this._beforeSaveEditData()).done(cancel => {\r\n                    if (cancel) {\r\n                        this._resolveAfterSave(deferred, {\r\n                            cancel: cancel\r\n                        });\r\n                        return\r\n                    }\r\n                    this._saving = true;\r\n                    var options = {};\r\n                    this._saveEditDataInner(options).always(() => {\r\n                        this._saving = false;\r\n                        options.needFocusEditCell && this._focusEditingCell()\r\n                    }).done(deferred.resolve).fail(deferred.reject)\r\n                }).fail(deferred.reject)\r\n            }).fail(deferred.reject);\r\n            return deferred.promise()\r\n        },\r\n        _resolveAfterSave: function(deferred) {\r\n            var {\r\n                cancel: cancel,\r\n                error: error\r\n            } = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};\r\n            when(this._afterSaveEditData(cancel)).done((function() {\r\n                deferred.resolve(error)\r\n            })).fail(deferred.reject)\r\n        },\r\n        _saveEditDataInner: function(options) {\r\n            var results = [];\r\n            var deferreds = [];\r\n            var dataChanges = [];\r\n            var dataController = this._dataController;\r\n            var dataSource = dataController.dataSource();\r\n            var result = new Deferred;\r\n            when(this._fireOnSaving()).done(_ref2 => {\r\n                var {\r\n                    cancel: cancel,\r\n                    changes: changes\r\n                } = _ref2;\r\n                if (cancel) {\r\n                    return result.resolve().promise()\r\n                }\r\n                this._processChanges(deferreds, results, dataChanges, changes);\r\n                if (deferreds.length) {\r\n                    null === dataSource || void 0 === dataSource ? void 0 : dataSource.beginLoading();\r\n                    when(...deferreds).done(() => {\r\n                        if (this._processSaveEditDataResult(results)) {\r\n                            this._endSaving(dataChanges, changes, result)\r\n                        } else {\r\n                            null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n                            result.resolve()\r\n                        }\r\n                    }).fail(error => {\r\n                        null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n                        result.resolve(error)\r\n                    });\r\n                    return result.always(() => {\r\n                        options.needFocusEditCell = true\r\n                    }).promise()\r\n                }\r\n                this._cancelSaving(result)\r\n            }).fail(result.reject);\r\n            return result.promise()\r\n        },\r\n        _beforeEndSaving: function(changes) {\r\n            this._resetEditIndices()\r\n        },\r\n        _endSaving: function(dataChanges, changes, deferred) {\r\n            var dataSource = this._dataController.dataSource();\r\n            this._beforeEndSaving(changes);\r\n            null === dataSource || void 0 === dataSource ? void 0 : dataSource.endLoading();\r\n            this._refreshDataAfterSave(dataChanges, changes, deferred)\r\n        },\r\n        _cancelSaving: function(result) {\r\n            this.executeAction(\"onSaved\", {\r\n                changes: []\r\n            });\r\n            this._resolveAfterSave(result)\r\n        },\r\n        _refreshDataAfterSave: function(dataChanges, changes, deferred) {\r\n            var dataController = this._dataController;\r\n            var refreshMode = this.option(\"editing.refreshMode\");\r\n            var isFullRefresh = \"reshape\" !== refreshMode && \"repaint\" !== refreshMode;\r\n            if (!isFullRefresh) {\r\n                dataController.push(dataChanges)\r\n            }\r\n            when(dataController.refresh({\r\n                selection: isFullRefresh,\r\n                reload: isFullRefresh,\r\n                load: \"reshape\" === refreshMode,\r\n                changesOnly: this.option(\"repaintChangesOnly\")\r\n            })).always(() => {\r\n                this._fireSaveEditDataEvents(changes)\r\n            }).done(() => {\r\n                this._resolveAfterSave(deferred)\r\n            }).fail(error => {\r\n                this._resolveAfterSave(deferred, {\r\n                    error: error\r\n                })\r\n            })\r\n        },\r\n        isSaving: function() {\r\n            return this._saving\r\n        },\r\n        _updateEditColumn: function() {\r\n            var isEditColumnVisible = this._isEditColumnVisible();\r\n            var useIcons = this.option(\"editing.useIcons\");\r\n            var cssClass = COMMAND_EDIT_CLASS + (useIcons ? \" \" + COMMAND_EDIT_WITH_ICONS_CLASS : \"\");\r\n            this._columnsController.addCommandColumn({\r\n                type: \"buttons\",\r\n                command: \"edit\",\r\n                visible: isEditColumnVisible,\r\n                cssClass: cssClass,\r\n                width: \"auto\",\r\n                alignment: \"center\",\r\n                cellTemplate: this._getEditCommandCellTemplate(),\r\n                fixedPosition: \"right\"\r\n            });\r\n            this._columnsController.columnOption(\"command:edit\", {\r\n                visible: isEditColumnVisible,\r\n                cssClass: cssClass\r\n            })\r\n        },\r\n        _isEditColumnVisible: function() {\r\n            var editingOptions = this.option(\"editing\");\r\n            return editingOptions.allowDeleting\r\n        },\r\n        _isEditButtonDisabled: function() {\r\n            var hasChanges = this.hasChanges();\r\n            var isEditRowDefined = isDefined(this.option(\"editing.editRowKey\"));\r\n            return !(isEditRowDefined || hasChanges)\r\n        },\r\n        _updateEditButtons: function() {\r\n            var headerPanel = this.getView(\"headerPanel\");\r\n            var isButtonDisabled = this._isEditButtonDisabled();\r\n            if (headerPanel) {\r\n                headerPanel.setToolbarItemDisabled(\"saveButton\", isButtonDisabled);\r\n                headerPanel.setToolbarItemDisabled(\"revertButton\", isButtonDisabled)\r\n            }\r\n        },\r\n        _applyModified: function($element) {\r\n            $element && $element.addClass(CELL_MODIFIED)\r\n        },\r\n        _beforeCloseEditCellInBatchMode: noop,\r\n        cancelEditData: function() {\r\n            var changes = this.getChanges();\r\n            var params = {\r\n                cancel: false,\r\n                changes: changes\r\n            };\r\n            this.executeAction(\"onEditCanceling\", params);\r\n            if (!params.cancel) {\r\n                this._cancelEditDataCore();\r\n                this.executeAction(\"onEditCanceled\", {\r\n                    changes: changes\r\n                })\r\n            }\r\n        },\r\n        _cancelEditDataCore: function() {\r\n            var rowIndex = this._getVisibleEditRowIndex();\r\n            this._beforeCancelEditData();\r\n            this.init();\r\n            this.resetChanges();\r\n            this._resetEditColumnName();\r\n            this._resetEditRowKey();\r\n            this._afterCancelEditData(rowIndex)\r\n        },\r\n        _afterCancelEditData: function(rowIndex) {\r\n            var dataController = this._dataController;\r\n            dataController.updateItems({\r\n                repaintChangesOnly: this.option(\"repaintChangesOnly\")\r\n            })\r\n        },\r\n        _hideEditPopup: noop,\r\n        hasEditData: function() {\r\n            return this.hasChanges()\r\n        },\r\n        update: function(changeType) {\r\n            var dataController = this._dataController;\r\n            if (dataController && this._pageIndex !== dataController.pageIndex()) {\r\n                if (\"refresh\" === changeType) {\r\n                    this.refresh({\r\n                        isPageChanged: true\r\n                    })\r\n                }\r\n                this._pageIndex = dataController.pageIndex()\r\n            }\r\n            this._updateEditButtons()\r\n        },\r\n        _getRowIndicesForCascadeUpdating: function(row, skipCurrentRow) {\r\n            return skipCurrentRow ? [] : [row.rowIndex]\r\n        },\r\n        addDeferred: function(deferred) {\r\n            if (this._deferreds.indexOf(deferred) < 0) {\r\n                this._deferreds.push(deferred);\r\n                deferred.always(() => {\r\n                    var index = this._deferreds.indexOf(deferred);\r\n                    if (index >= 0) {\r\n                        this._deferreds.splice(index, 1)\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        _prepareChange: function(options, value, text) {\r\n            var _options$row;\r\n            var newData = {};\r\n            var oldData = null === (_options$row = options.row) || void 0 === _options$row ? void 0 : _options$row.data;\r\n            var rowKey = options.key;\r\n            var deferred = new Deferred;\r\n            if (void 0 !== rowKey) {\r\n                options.value = value;\r\n                var setCellValueResult = fromPromise(options.column.setCellValue(newData, value, extend(true, {}, oldData), text));\r\n                setCellValueResult.done((function() {\r\n                    deferred.resolve({\r\n                        data: newData,\r\n                        key: rowKey,\r\n                        oldData: oldData,\r\n                        type: DATA_EDIT_DATA_UPDATE_TYPE\r\n                    })\r\n                })).fail(createFailureHandler(deferred)).fail(arg => this._fireDataErrorOccurred(arg));\r\n                if (isDefined(text) && options.column.displayValueMap) {\r\n                    options.column.displayValueMap[value] = text\r\n                }\r\n                this._updateRowValues(options);\r\n                this.addDeferred(deferred)\r\n            }\r\n            return deferred\r\n        },\r\n        _updateRowValues: function(options) {\r\n            if (options.values) {\r\n                var dataController = this._dataController;\r\n                var rowIndex = dataController.getRowIndexByKey(options.key);\r\n                var row = dataController.getVisibleRows()[rowIndex];\r\n                if (row) {\r\n                    options.values = row.values\r\n                }\r\n                options.values[options.columnIndex] = options.value\r\n            }\r\n        },\r\n        updateFieldValue: function(options, value, text, forceUpdateRow) {\r\n            var rowKey = options.key;\r\n            var deferred = new Deferred;\r\n            if (void 0 === rowKey) {\r\n                this._dataController.fireError(\"E1043\")\r\n            }\r\n            if (options.column.setCellValue) {\r\n                this._prepareChange(options, value, text).done(params => {\r\n                    when(this._applyChange(options, params, forceUpdateRow)).always(() => {\r\n                        deferred.resolve()\r\n                    })\r\n                })\r\n            } else {\r\n                deferred.resolve()\r\n            }\r\n            return deferred.promise()\r\n        },\r\n        _focusPreviousEditingCellIfNeed: function(options) {\r\n            if (this.hasEditData() && !this.isEditCell(options.rowIndex, options.columnIndex)) {\r\n                this._focusEditingCell();\r\n                this._updateEditRow(options.row, true);\r\n                return true\r\n            }\r\n        },\r\n        _needUpdateRow: function(column) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            if (!column) {\r\n                column = this._getEditColumn()\r\n            }\r\n            var isCustomSetCellValue = column && column.setCellValue !== column.defaultSetCellValue;\r\n            var isCustomCalculateCellValue = visibleColumns.some(visibleColumn => visibleColumn.calculateCellValue !== visibleColumn.defaultCalculateCellValue);\r\n            return isCustomSetCellValue || isCustomCalculateCellValue\r\n        },\r\n        _applyChange: function(options, params, forceUpdateRow) {\r\n            var changeOptions = _extends({}, options, {\r\n                forceUpdateRow: forceUpdateRow\r\n            });\r\n            this._addChange(params, changeOptions);\r\n            this._updateEditButtons();\r\n            return this._applyChangeCore(options, changeOptions.forceUpdateRow)\r\n        },\r\n        _applyChangeCore: function(options, forceUpdateRow) {\r\n            var isCustomSetCellValue = options.column.setCellValue !== options.column.defaultSetCellValue;\r\n            var row = options.row;\r\n            if (row) {\r\n                if (forceUpdateRow || isCustomSetCellValue) {\r\n                    this._updateEditRow(row, forceUpdateRow, isCustomSetCellValue)\r\n                } else if (row.update) {\r\n                    row.update()\r\n                }\r\n            }\r\n        },\r\n        _updateEditRowCore: function(row, skipCurrentRow, isCustomSetCellValue) {\r\n            this._dataController.updateItems({\r\n                changeType: \"update\",\r\n                rowIndices: this._getRowIndicesForCascadeUpdating(row, skipCurrentRow)\r\n            })\r\n        },\r\n        _updateEditRow: function(row, forceUpdateRow, isCustomSetCellValue) {\r\n            if (forceUpdateRow) {\r\n                this._updateRowImmediately(row, forceUpdateRow, isCustomSetCellValue)\r\n            } else {\r\n                this._updateRowWithDelay(row, isCustomSetCellValue)\r\n            }\r\n        },\r\n        _updateRowImmediately: function(row, forceUpdateRow, isCustomSetCellValue) {\r\n            this._updateEditRowCore(row, !forceUpdateRow, isCustomSetCellValue);\r\n            this._validateEditFormAfterUpdate(row, isCustomSetCellValue);\r\n            if (!forceUpdateRow) {\r\n                this._focusEditingCell()\r\n            }\r\n        },\r\n        _updateRowWithDelay: function(row, isCustomSetCellValue) {\r\n            var deferred = new Deferred;\r\n            this.addDeferred(deferred);\r\n            setTimeout(() => {\r\n                var $focusedElement = $(domAdapter.getActiveElement());\r\n                var columnIndex = this._rowsView.getCellIndex($focusedElement, row.rowIndex);\r\n                var focusedElement = $focusedElement.get(0);\r\n                var selectionRange = gridCoreUtils.getSelectionRange(focusedElement);\r\n                this._updateEditRowCore(row, false, isCustomSetCellValue);\r\n                this._validateEditFormAfterUpdate(row, isCustomSetCellValue);\r\n                if (columnIndex >= 0) {\r\n                    var $focusedItem = this._rowsView._getCellElement(row.rowIndex, columnIndex);\r\n                    this._delayedInputFocus($focusedItem, () => {\r\n                        setTimeout(() => {\r\n                            focusedElement = domAdapter.getActiveElement();\r\n                            if (selectionRange.selectionStart >= 0) {\r\n                                gridCoreUtils.setSelectionRange(focusedElement, selectionRange)\r\n                            }\r\n                        })\r\n                    })\r\n                }\r\n                deferred.resolve()\r\n            })\r\n        },\r\n        _validateEditFormAfterUpdate: noop,\r\n        _addChange: function(changeParams, options) {\r\n            var _this$getChanges;\r\n            var row = null === options || void 0 === options ? void 0 : options.row;\r\n            var changes = [...this.getChanges()];\r\n            var index = gridCoreUtils.getIndexByKey(changeParams.key, changes);\r\n            if (index < 0) {\r\n                index = changes.length;\r\n                this._addInternalData({\r\n                    key: changeParams.key,\r\n                    oldData: changeParams.oldData\r\n                });\r\n                delete changeParams.oldData;\r\n                changes.push(changeParams)\r\n            }\r\n            var change = _extends({}, changes[index]);\r\n            if (change) {\r\n                if (changeParams.data) {\r\n                    change.data = createObjectWithChanges(change.data, changeParams.data)\r\n                }\r\n                if ((!change.type || !changeParams.data) && changeParams.type) {\r\n                    change.type = changeParams.type\r\n                }\r\n                if (row) {\r\n                    row.oldData = this._getOldData(row.key);\r\n                    row.data = createObjectWithChanges(row.data, changeParams.data)\r\n                }\r\n            }\r\n            changes[index] = change;\r\n            this._silentOption(EDITING_CHANGES_OPTION_NAME, changes);\r\n            if (options && change !== (null === (_this$getChanges = this.getChanges()) || void 0 === _this$getChanges ? void 0 : _this$getChanges[index])) {\r\n                options.forceUpdateRow = true\r\n            }\r\n            return change\r\n        },\r\n        _getFormEditItemTemplate: function(cellOptions, column) {\r\n            return column.editCellTemplate || this._getDefaultEditorTemplate()\r\n        },\r\n        getColumnTemplate: function(options) {\r\n            var column = options.column;\r\n            var rowIndex = options.row && options.row.rowIndex;\r\n            var template;\r\n            var isRowMode = this.isRowBasedEditMode();\r\n            var isRowEditing = this.isEditRow(rowIndex);\r\n            var isCellEditing = this.isEditCell(rowIndex, options.columnIndex);\r\n            var editingStartOptions;\r\n            if ((column.showEditorAlways || column.setCellValue && (isRowEditing && column.allowEditing || isCellEditing)) && (\"data\" === options.rowType || \"detailAdaptive\" === options.rowType) && !column.command) {\r\n                var allowUpdating = this.allowUpdating(options);\r\n                if (((allowUpdating || isRowEditing) && column.allowEditing || isCellEditing) && (isRowEditing || !isRowMode)) {\r\n                    if (column.showEditorAlways && !isRowMode) {\r\n                        editingStartOptions = {\r\n                            cancel: false,\r\n                            key: options.row.isNewRow ? void 0 : options.row.key,\r\n                            data: options.row.data,\r\n                            column: column\r\n                        };\r\n                        this._isEditingStart(editingStartOptions)\r\n                    }\r\n                    if (!editingStartOptions || !editingStartOptions.cancel) {\r\n                        options.setValue = (value, text) => {\r\n                            this.updateFieldValue(options, value, text)\r\n                        }\r\n                    }\r\n                }\r\n                template = column.editCellTemplate || this._getDefaultEditorTemplate()\r\n            } else if (\"detail\" === column.command && \"detail\" === options.rowType && isRowEditing) {\r\n                template = null === this || void 0 === this ? void 0 : this.getEditFormTemplate(options)\r\n            }\r\n            return template\r\n        },\r\n        _createButton: function($container, button, options, change) {\r\n            var icon = EDIT_ICON_CLASS[button.name];\r\n            var useIcons = this.option(\"editing.useIcons\");\r\n            var useLegacyColumnButtonTemplate = this.option(\"useLegacyColumnButtonTemplate\");\r\n            var $button = $(\"<a>\").attr(\"href\", \"#\").addClass(LINK_CLASS).addClass(button.cssClass);\r\n            if (button.template && useLegacyColumnButtonTemplate) {\r\n                this._rowsView.renderTemplate($container, button.template, options, true)\r\n            } else {\r\n                if (button.template) {\r\n                    $button = $(\"<span>\").addClass(button.cssClass)\r\n                } else if (useIcons && icon || button.icon) {\r\n                    icon = button.icon || icon;\r\n                    var iconType = iconUtils.getImageSourceType(icon);\r\n                    if (\"image\" === iconType || \"svg\" === iconType) {\r\n                        $button = iconUtils.getImageContainer(icon).addClass(button.cssClass)\r\n                    } else {\r\n                        $button.addClass(\"dx-icon\" + (\"dxIcon\" === iconType ? \"-\" : \" \") + icon).attr(\"title\", button.text)\r\n                    }\r\n                    $button.addClass(\"dx-link-icon\");\r\n                    $container.addClass(COMMAND_EDIT_WITH_ICONS_CLASS);\r\n                    var localizationName = this.getButtonLocalizationNames()[button.name];\r\n                    localizationName && $button.attr(\"aria-label\", messageLocalization.format(localizationName))\r\n                } else {\r\n                    $button.text(button.text)\r\n                }\r\n                if (isDefined(button.hint)) {\r\n                    $button.attr(\"title\", button.hint)\r\n                }\r\n                if (this._isButtonDisabled(button, options)) {\r\n                    $button.addClass(\"dx-state-disabled\")\r\n                } else if (!button.template || button.onClick) {\r\n                    eventsEngine.on($button, addNamespace(\"click\", EDITING_NAMESPACE), this.createAction((function(e) {\r\n                        var _button$onClick;\r\n                        null === (_button$onClick = button.onClick) || void 0 === _button$onClick ? void 0 : _button$onClick.call(button, extend({}, e, {\r\n                            row: options.row,\r\n                            column: options.column\r\n                        }));\r\n                        e.event.preventDefault();\r\n                        e.event.stopPropagation()\r\n                    })))\r\n                }\r\n                $container.append($button, \"&nbsp;\");\r\n                if (button.template) {\r\n                    this._rowsView.renderTemplate($button, button.template, options, true, change)\r\n                }\r\n            }\r\n        },\r\n        getButtonLocalizationNames: () => ({\r\n            edit: \"dxDataGrid-editingEditRow\",\r\n            save: \"dxDataGrid-editingSaveRowChanges\",\r\n            delete: \"dxDataGrid-editingDeleteRow\",\r\n            undelete: \"dxDataGrid-editingUndeleteRow\",\r\n            cancel: \"dxDataGrid-editingCancelRowChanges\"\r\n        }),\r\n        prepareButtonItem: function(headerPanel, name, methodName, sortIndex) {\r\n            var editingTexts = this.option(\"editing.texts\") || {};\r\n            var titleButtonTextByClassNames = {\r\n                revert: editingTexts.cancelAllChanges,\r\n                save: editingTexts.saveAllChanges,\r\n                addRow: editingTexts.addRow\r\n            };\r\n            var className = {\r\n                revert: \"cancel\",\r\n                save: \"save\",\r\n                addRow: \"addrow\"\r\n            } [name];\r\n            var hintText = titleButtonTextByClassNames[name];\r\n            var isButtonDisabled = (\"save\" === className || \"cancel\" === className) && this._isEditButtonDisabled();\r\n            return {\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    onInitialized: e => {\r\n                        $(e.element).addClass(headerPanel._getToolbarButtonClass(EDIT_BUTTON_CLASS + \" \" + this.addWidgetPrefix(className) + \"-button\"))\r\n                    },\r\n                    icon: \"edit-button-\" + className,\r\n                    disabled: isButtonDisabled,\r\n                    onClick: () => {\r\n                        setTimeout(() => {\r\n                            this[methodName]()\r\n                        })\r\n                    },\r\n                    text: hintText,\r\n                    hint: hintText\r\n                },\r\n                showText: \"inMenu\",\r\n                name: name + \"Button\",\r\n                location: \"after\",\r\n                locateInMenu: \"auto\",\r\n                sortIndex: sortIndex\r\n            }\r\n        },\r\n        prepareEditButtons: function(headerPanel) {\r\n            var editingOptions = this.option(\"editing\") || {};\r\n            var buttonItems = [];\r\n            if (editingOptions.allowAdding) {\r\n                buttonItems.push(this.prepareButtonItem(headerPanel, \"addRow\", \"addRow\", 20))\r\n            }\r\n            return buttonItems\r\n        },\r\n        highlightDataCell: function($cell, parameters) {\r\n            var cellModified = this.isCellModified(parameters);\r\n            var shouldHighlight = cellModified && parameters.column.setCellValue && (this.getEditMode() !== EDIT_MODE_ROW || !parameters.row.isEditing);\r\n            shouldHighlight && $cell.addClass(CELL_MODIFIED)\r\n        },\r\n        _afterInsertRow: noop,\r\n        _beforeSaveEditData: function(change) {\r\n            if (change && !isDefined(change.key) && isDefined(change.type)) {\r\n                return true\r\n            }\r\n        },\r\n        _afterSaveEditData: noop,\r\n        _beforeCancelEditData: noop,\r\n        _allowEditAction: function(actionName, options) {\r\n            var allowEditAction = this.option(\"editing.\" + actionName);\r\n            if (isFunction(allowEditAction)) {\r\n                allowEditAction = allowEditAction({\r\n                    component: this.component,\r\n                    row: options.row\r\n                })\r\n            }\r\n            return allowEditAction\r\n        },\r\n        allowUpdating: function(options, eventName) {\r\n            var startEditAction = this.option(\"editing.startEditAction\") || DEFAULT_START_EDIT_ACTION;\r\n            var needCallback = arguments.length > 1 ? startEditAction === eventName || \"down\" === eventName : true;\r\n            return needCallback && this._allowEditAction(\"allowUpdating\", options)\r\n        },\r\n        allowDeleting: function(options) {\r\n            return this._allowEditAction(\"allowDeleting\", options)\r\n        },\r\n        isCellModified: function(parameters) {\r\n            var columnIndex = parameters.columnIndex;\r\n            var modifiedValues = parameters.row && (parameters.row.isNewRow ? parameters.row.values : parameters.row.modifiedValues);\r\n            return !!modifiedValues && void 0 !== modifiedValues[columnIndex]\r\n        },\r\n        isNewRowInEditMode: function() {\r\n            var visibleEditRowIndex = this._getVisibleEditRowIndex();\r\n            var rows = this._dataController.items();\r\n            return visibleEditRowIndex >= 0 ? rows[visibleEditRowIndex].isNewRow : false\r\n        }\r\n    }\r\n}());\r\nexport var editingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            editing: {\r\n                mode: \"row\",\r\n                refreshMode: \"full\",\r\n                newRowPosition: VIEWPORT_TOP_NEW_ROW_POSITION,\r\n                allowAdding: false,\r\n                allowUpdating: false,\r\n                allowDeleting: false,\r\n                useIcons: false,\r\n                selectTextOnEditStart: false,\r\n                confirmDelete: true,\r\n                texts: {\r\n                    editRow: messageLocalization.format(\"dxDataGrid-editingEditRow\"),\r\n                    saveAllChanges: messageLocalization.format(\"dxDataGrid-editingSaveAllChanges\"),\r\n                    saveRowChanges: messageLocalization.format(\"dxDataGrid-editingSaveRowChanges\"),\r\n                    cancelAllChanges: messageLocalization.format(\"dxDataGrid-editingCancelAllChanges\"),\r\n                    cancelRowChanges: messageLocalization.format(\"dxDataGrid-editingCancelRowChanges\"),\r\n                    addRow: messageLocalization.format(\"dxDataGrid-editingAddRow\"),\r\n                    deleteRow: messageLocalization.format(\"dxDataGrid-editingDeleteRow\"),\r\n                    undeleteRow: messageLocalization.format(\"dxDataGrid-editingUndeleteRow\"),\r\n                    confirmDeleteMessage: messageLocalization.format(\"dxDataGrid-editingConfirmDeleteMessage\"),\r\n                    confirmDeleteTitle: \"\"\r\n                },\r\n                form: {\r\n                    colCount: 2\r\n                },\r\n                popup: {},\r\n                startEditAction: \"click\",\r\n                editRowKey: null,\r\n                editColumnName: null,\r\n                changes: []\r\n            },\r\n            useLegacyColumnButtonTemplate: false\r\n        }\r\n    },\r\n    controllers: {\r\n        editing: EditingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                init: function() {\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this.callBase()\r\n                },\r\n                reload: function(full, repaintChangesOnly) {\r\n                    !repaintChangesOnly && this._editingController.refresh();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                repaintRows: function() {\r\n                    if (this.getController(\"editing\").isSaving()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _updateEditRow: function(items) {\r\n                    var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n                    var editRowIndex = gridCoreUtils.getIndexByKey(editRowKey, items);\r\n                    var editItem = items[editRowIndex];\r\n                    if (editItem) {\r\n                        var _this$_updateEditItem;\r\n                        editItem.isEditing = true;\r\n                        null === (_this$_updateEditItem = this._updateEditItem) || void 0 === _this$_updateEditItem ? void 0 : _this$_updateEditItem.call(this, editItem)\r\n                    }\r\n                },\r\n                _updateItemsCore: function(change) {\r\n                    this.callBase(change);\r\n                    this._updateEditRow(this.items(true))\r\n                },\r\n                _applyChangeUpdate: function(change) {\r\n                    this._updateEditRow(change.items);\r\n                    this.callBase(change)\r\n                },\r\n                _applyChangesOnly: function(change) {\r\n                    this._updateEditRow(change.items);\r\n                    this.callBase(change)\r\n                },\r\n                _processItems: function(items, change) {\r\n                    items = this._editingController.processItems(items, change);\r\n                    return this.callBase(items, change)\r\n                },\r\n                _processDataItem: function(dataItem, options) {\r\n                    this._editingController.processDataItem(dataItem, options, this.generateDataValues);\r\n                    return this.callBase(dataItem, options)\r\n                },\r\n                _processItem: function(item, options) {\r\n                    item = this.callBase(item, options);\r\n                    if (item.isNewRow) {\r\n                        options.dataIndex--;\r\n                        delete item.dataIndex\r\n                    }\r\n                    return item\r\n                },\r\n                _getChangedColumnIndices: function(oldItem, newItem, rowIndex, isLiveUpdate) {\r\n                    if (oldItem.isNewRow !== newItem.isNewRow || oldItem.removed !== newItem.removed) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    var cell = oldRow.cells && oldRow.cells[columnIndex];\r\n                    var isEditing = editingController && editingController.isEditCell(visibleRowIndex, columnIndex);\r\n                    if (isLiveUpdate && isEditing) {\r\n                        return false\r\n                    }\r\n                    if (cell && cell.column && !cell.column.showEditorAlways && cell.isEditing !== isEditing) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _handleDataSourceChange(args) {\r\n                    var result = this.callBase(args);\r\n                    var changes = this.option(\"editing.changes\");\r\n                    var dataSource = args.value;\r\n                    if (Array.isArray(dataSource) && changes.length) {\r\n                        var dataSourceKeys = dataSource.map(item => this.keyOf(item));\r\n                        var newChanges = changes.filter(change => \"insert\" === change.type || dataSourceKeys.some(key => equalByValue(change.key, key)));\r\n                        if (newChanges.length !== changes.length) {\r\n                            this.option(\"editing.changes\", newChanges)\r\n                        }\r\n                        var editRowKey = this.option(\"editing.editRowKey\");\r\n                        var isEditNewItem = newChanges.find(change => \"insert\" === change.type && equalByValue(editRowKey, change.key));\r\n                        if (!isEditNewItem && dataSourceKeys.every(key => !equalByValue(editRowKey, key))) {\r\n                            this.option(\"editing.editRowKey\", null)\r\n                        }\r\n                    }\r\n                    return result\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._editingController = this.getController(\"editing\")\r\n                },\r\n                getCellIndex: function($cell, rowIndex) {\r\n                    if (!$cell.is(\"td\") && rowIndex >= 0) {\r\n                        var $cellElements = this.getCellElements(rowIndex);\r\n                        var cellIndex = -1;\r\n                        each($cellElements, (function(index, cellElement) {\r\n                            if ($(cellElement).find($cell).length) {\r\n                                cellIndex = index\r\n                            }\r\n                        }));\r\n                        return cellIndex\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                publicMethods: function() {\r\n                    return this.callBase().concat([\"cellValue\"])\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    var template = this._editingController.getColumnTemplate(options);\r\n                    return template || this.callBase(options)\r\n                },\r\n                _isNativeClick: function() {\r\n                    return (devices.real().ios || devices.real().android) && this.option(\"editing.allowUpdating\")\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var isRowRemoved = !!row.removed;\r\n                        var isRowInserted = !!row.isNewRow;\r\n                        var isRowModified = !!row.modified;\r\n                        isRowInserted && $row.addClass(ROW_INSERTED);\r\n                        isRowModified && $row.addClass(ROW_MODIFIED);\r\n                        if (isRowInserted || isRowRemoved) {\r\n                            $row.removeClass(ROW_SELECTED)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _getColumnIndexByElement: function($element) {\r\n                    var $tableElement = $element.closest(\"table\");\r\n                    var $tableElements = this.getTableElements();\r\n                    while ($tableElement.length && !$tableElements.filter($tableElement).length) {\r\n                        $element = $tableElement.closest(\"td\");\r\n                        $tableElement = $element.closest(\"table\")\r\n                    }\r\n                    return this._getColumnIndexByElementCore($element)\r\n                },\r\n                _getColumnIndexByElementCore: function($element) {\r\n                    var $targetElement = $element.closest(\".\" + ROW_CLASS + \"> td:not(.dx-master-detail-cell)\");\r\n                    return this.getCellIndex($targetElement)\r\n                },\r\n                _editCellByClick: function(e, eventName) {\r\n                    var editingController = this._editingController;\r\n                    var $targetElement = $(e.event.target);\r\n                    var columnIndex = this._getColumnIndexByElement($targetElement);\r\n                    var row = this._dataController.items()[e.rowIndex];\r\n                    var allowUpdating = editingController.allowUpdating({\r\n                        row: row\r\n                    }, eventName) || row && row.isNewRow;\r\n                    var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n                    var isEditedCell = editingController.isEditCell(e.rowIndex, columnIndex);\r\n                    var allowEditing = allowUpdating && column && (column.allowEditing || isEditedCell);\r\n                    var startEditAction = this.option(\"editing.startEditAction\") || \"click\";\r\n                    if (\"down\" === eventName) {\r\n                        if ((devices.real().ios || devices.real().android) && !isEditedCell) {\r\n                            resetActiveElement()\r\n                        }\r\n                        return column && column.showEditorAlways && allowEditing && editingController.editCell(e.rowIndex, columnIndex)\r\n                    }\r\n                    if (\"click\" === eventName && \"dblClick\" === startEditAction && !isEditedCell) {\r\n                        var withoutSaveEditData = null === row || void 0 === row ? void 0 : row.isNewRow;\r\n                        editingController.closeEditCell(false, withoutSaveEditData)\r\n                    }\r\n                    if (allowEditing && eventName === startEditAction) {\r\n                        return editingController.editCell(e.rowIndex, columnIndex) || editingController.isEditRow(e.rowIndex)\r\n                    }\r\n                },\r\n                _rowPointerDown: function(e) {\r\n                    this._pointerDownTimeout = setTimeout(() => {\r\n                        this._editCellByClick(e, \"down\")\r\n                    })\r\n                },\r\n                _rowClick: function(e) {\r\n                    var isEditForm = $(e.rowElement).hasClass(this.addWidgetPrefix(EDIT_FORM_CLASS));\r\n                    e.event[TARGET_COMPONENT_NAME] = this.component;\r\n                    if (!this._editCellByClick(e, \"click\") && !isEditForm) {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _rowDblClick: function(e) {\r\n                    if (!this._editCellByClick(e, \"dblClick\")) {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _cellPrepared: function($cell, parameters) {\r\n                    var editingController = this._editingController;\r\n                    var isCommandCell = !!parameters.column.command;\r\n                    var isEditableCell = parameters.setValue;\r\n                    var isEditRow = editingController.isEditRow(parameters.rowIndex);\r\n                    var isEditing = isEditingCell(isEditRow, parameters);\r\n                    if (isEditingOrShowEditorAlwaysDataCell(isEditRow, parameters)) {\r\n                        var alignment = parameters.column.alignment;\r\n                        $cell.toggleClass(this.addWidgetPrefix(READONLY_CLASS), !isEditableCell).toggleClass(CELL_FOCUS_DISABLED_CLASS, !isEditableCell);\r\n                        if (alignment) {\r\n                            $cell.find(EDITORS_INPUT_SELECTOR).first().css(\"textAlign\", alignment)\r\n                        }\r\n                    }\r\n                    if (isEditing) {\r\n                        this._editCellPrepared($cell)\r\n                    }\r\n                    if (parameters.column && !isCommandCell) {\r\n                        editingController.highlightDataCell($cell, parameters)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _editCellPrepared: noop,\r\n                _formItemPrepared: noop,\r\n                _getCellOptions: function(options) {\r\n                    var cellOptions = this.callBase(options);\r\n                    cellOptions.isEditing = this._editingController.isEditCell(cellOptions.rowIndex, cellOptions.columnIndex);\r\n                    return cellOptions\r\n                },\r\n                _createCell: function(options) {\r\n                    var $cell = this.callBase(options);\r\n                    var isEditRow = this._editingController.isEditRow(options.rowIndex);\r\n                    isEditingOrShowEditorAlwaysDataCell(isEditRow, options) && $cell.addClass(EDITOR_CELL_CLASS);\r\n                    return $cell\r\n                },\r\n                cellValue: function(rowIndex, columnIdentifier, value, text) {\r\n                    var cellOptions = this.getCellOptions(rowIndex, columnIdentifier);\r\n                    if (cellOptions) {\r\n                        if (void 0 === value) {\r\n                            return cellOptions.value\r\n                        } else {\r\n                            this._editingController.updateFieldValue(cellOptions, value, text, true)\r\n                        }\r\n                    }\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._pointerDownTimeout)\r\n                },\r\n                _renderCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._editingController._focusEditorIfNeed()\r\n                }\r\n            },\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var editButtonItems = this.getController(\"editing\").prepareEditButtons(this);\r\n                    return editButtonItems.concat(items)\r\n                },\r\n                optionChanged: function(args) {\r\n                    var fullName = args.fullName;\r\n                    switch (args.name) {\r\n                        case \"editing\":\r\n                            var excludedOptions = [EDITING_POPUP_OPTION_NAME, EDITING_CHANGES_OPTION_NAME, EDITING_EDITCOLUMNNAME_OPTION_NAME, EDITING_EDITROWKEY_OPTION_NAME];\r\n                            var shouldInvalidate = fullName && !excludedOptions.some(optionName => optionName === fullName);\r\n                            shouldInvalidate && this._invalidate();\r\n                            this.callBase(args);\r\n                            break;\r\n                        case \"useLegacyColumnButtonTemplate\":\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                },\r\n                isVisible: function() {\r\n                    var editingOptions = this.getController(\"editing\").option(\"editing\");\r\n                    return this.callBase() || (null === editingOptions || void 0 === editingOptions ? void 0 : editingOptions.allowAdding)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport \"./ui.data_grid.editor_factory\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editingModule\r\n} from \"../grid_core/ui.grid_core.editing\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\ngridCore.registerModule(\"editing\", extend(true, {}, editingModule, {\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                _changeRowExpandCore: function(key) {\r\n                    var editingController = this._editingController;\r\n                    if (Array.isArray(key)) {\r\n                        editingController && editingController.refresh()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}));\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_row_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    EDIT_MODE_ROW,\r\n    MODES_WITH_DELAYED_FOCUS,\r\n    ROW_SELECTED_CLASS,\r\n    EDIT_FORM_CLASS\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar EDIT_ROW = \"dx-edit-row\";\r\nexport var editingRowBasedModule = {\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                isRowEditMode: function() {\r\n                    return this.getEditMode() === EDIT_MODE_ROW\r\n                },\r\n                _afterCancelEditData: function(rowIndex) {\r\n                    var dataController = this._dataController;\r\n                    if (this.isRowBasedEditMode() && rowIndex >= 0) {\r\n                        dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: [rowIndex, rowIndex + 1]\r\n                        })\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _isDefaultButtonVisible: function(button, options) {\r\n                    var isRowMode = this.isRowBasedEditMode();\r\n                    var isEditRow = options.row && options.row.rowIndex === this._getVisibleEditRowIndex();\r\n                    if (isRowMode) {\r\n                        switch (button.name) {\r\n                            case \"edit\":\r\n                                return !isEditRow && this.allowUpdating(options);\r\n                            case \"delete\":\r\n                                return this.callBase.apply(this, arguments) && !isEditRow;\r\n                            case \"save\":\r\n                            case \"cancel\":\r\n                                return isEditRow;\r\n                            default:\r\n                                return this.callBase.apply(this, arguments)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                isEditRow: function(rowIndex) {\r\n                    return this.isRowBasedEditMode() && this._isEditRowByIndex(rowIndex)\r\n                },\r\n                _cancelSaving: function() {\r\n                    if (this.isRowBasedEditMode()) {\r\n                        if (!this.hasChanges()) {\r\n                            this._cancelEditDataCore()\r\n                        }\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _refreshCore: function(params) {\r\n                    var {\r\n                        allowCancelEditing: allowCancelEditing\r\n                    } = null !== params && void 0 !== params ? params : {};\r\n                    if (this.isRowBasedEditMode()) {\r\n                        var hasUpdateChanges = this.getChanges().filter(it => \"update\" === it.type).length > 0;\r\n                        this.init();\r\n                        allowCancelEditing && hasUpdateChanges && this._cancelEditDataCore()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _isEditColumnVisible: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var editingOptions = this.option(\"editing\");\r\n                    var isRowEditMode = this.isRowEditMode();\r\n                    var isVisibleInRowEditMode = editingOptions.allowUpdating || editingOptions.allowAdding;\r\n                    return result || isRowEditMode && isVisibleInRowEditMode\r\n                },\r\n                _focusEditorIfNeed: function() {\r\n                    var editMode = this.getEditMode();\r\n                    if (this._needFocusEditor) {\r\n                        if (-1 !== MODES_WITH_DELAYED_FOCUS.indexOf(editMode)) {\r\n                            var $editingCell = this.getFocusedCellInRow(this._getVisibleEditRowIndex());\r\n                            this._delayedInputFocus($editingCell, () => {\r\n                                $editingCell && this.component.focus($editingCell)\r\n                            })\r\n                        }\r\n                        this._needFocusEditor = false\r\n                    }\r\n                }\r\n            },\r\n            data: {\r\n                _getChangedColumnIndices: function(oldItem, newItem, rowIndex, isLiveUpdate) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    if (editingController.isRowBasedEditMode() && oldItem.isEditing !== newItem.isEditing) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var editingController = this._editingController;\r\n                        var isEditRow = editingController.isEditRow(row.rowIndex);\r\n                        if (isEditRow) {\r\n                            $row.addClass(EDIT_ROW);\r\n                            $row.removeClass(ROW_SELECTED_CLASS);\r\n                            if (\"detail\" === row.rowType) {\r\n                                $row.addClass(this.addWidgetPrefix(EDIT_FORM_CLASS))\r\n                            }\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _update: function(change) {\r\n                    this.callBase(change);\r\n                    if (\"updateSelection\" === change.changeType) {\r\n                        this.getTableElements().children(\"tbody\").children(\".\" + EDIT_ROW).removeClass(ROW_SELECTED_CLASS)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing_row_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editingRowBasedModule\r\n} from \"../grid_core/ui.grid_core.editing_row_based\";\r\ngridCore.registerModule(\"editingRowBased\", editingRowBasedModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_form_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Button from \"../button\";\r\nimport devices from \"../../core/devices\";\r\nimport Form from \"../form\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    EDIT_MODE_FORM,\r\n    EDIT_MODE_POPUP,\r\n    FOCUSABLE_ELEMENT_SELECTOR,\r\n    EDITING_EDITROWKEY_OPTION_NAME,\r\n    EDITING_POPUP_OPTION_NAME,\r\n    DATA_EDIT_DATA_INSERT_TYPE,\r\n    EDITING_FORM_OPTION_NAME\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar EDIT_FORM_ITEM_CLASS = \"edit-form-item\";\r\nvar EDIT_POPUP_CLASS = \"edit-popup\";\r\nvar SCROLLABLE_CONTAINER_CLASS = \"dx-scrollable-container\";\r\nvar EDIT_POPUP_FORM_CLASS = \"edit-popup-form\";\r\nvar BUTTON_CLASS = \"dx-button\";\r\nvar FORM_BUTTONS_CONTAINER_CLASS = \"form-buttons-container\";\r\nvar getEditorType = item => {\r\n    var _column$formItem;\r\n    var column = item.column;\r\n    return item.isCustomEditorType ? item.editorType : null === (_column$formItem = column.formItem) || void 0 === _column$formItem ? void 0 : _column$formItem.editorType\r\n};\r\nvar forEachFormItems = (items, callBack) => {\r\n    items.forEach(item => {\r\n        if (item.items || item.tabs) {\r\n            forEachFormItems(item.items || item.tabs, callBack)\r\n        } else {\r\n            callBack(item)\r\n        }\r\n    })\r\n};\r\nexport var editingFormBasedModule = {\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                init: function() {\r\n                    this._editForm = null;\r\n                    this._updateEditFormDeferred = null;\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                isFormOrPopupEditMode: function() {\r\n                    return this.isPopupEditMode() || this.isFormEditMode()\r\n                },\r\n                isPopupEditMode: function() {\r\n                    var editMode = this.option(\"editing.mode\");\r\n                    return editMode === EDIT_MODE_POPUP\r\n                },\r\n                isFormEditMode: function() {\r\n                    var editMode = this.option(\"editing.mode\");\r\n                    return editMode === EDIT_MODE_FORM\r\n                },\r\n                getFirstEditableColumnIndex: function() {\r\n                    var firstFormItem = this._firstFormItem;\r\n                    if (this.isFormEditMode() && firstFormItem) {\r\n                        var editRowKey = this.option(EDITING_EDITROWKEY_OPTION_NAME);\r\n                        var editRowIndex = this._dataController.getRowIndexByKey(editRowKey);\r\n                        var $editFormElements = this._rowsView.getCellElements(editRowIndex);\r\n                        return this._rowsView._getEditFormEditorVisibleIndex($editFormElements, firstFormItem.column)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                getEditFormRowIndex: function() {\r\n                    return this.isFormOrPopupEditMode() ? this._getVisibleEditRowIndex() : this.callBase.apply(this, arguments)\r\n                },\r\n                _isEditColumnVisible: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var editingOptions = this.option(\"editing\");\r\n                    return this.isFormOrPopupEditMode() ? editingOptions.allowUpdating || result : result\r\n                },\r\n                _handleDataChanged: function(args) {\r\n                    var editForm = this._editForm;\r\n                    if (\"refresh\" === args.changeType && this.isPopupEditMode() && null !== editForm && void 0 !== editForm && editForm.option(\"visible\")) {\r\n                        this._repaintEditPopup()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                getPopupContent: function() {\r\n                    var _this$_editPopup;\r\n                    var popupVisible = null === (_this$_editPopup = this._editPopup) || void 0 === _this$_editPopup ? void 0 : _this$_editPopup.option(\"visible\");\r\n                    if (this.isPopupEditMode() && popupVisible) {\r\n                        return this._$popupContent\r\n                    }\r\n                },\r\n                _showAddedRow: function(rowIndex) {\r\n                    if (this.isPopupEditMode()) {\r\n                        this._showEditPopup(rowIndex)\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _cancelEditDataCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.isPopupEditMode()) {\r\n                        this._hideEditPopup()\r\n                    }\r\n                },\r\n                _updateEditRowCore: function(row, skipCurrentRow, isCustomSetCellValue) {\r\n                    var editForm = this._editForm;\r\n                    if (this.isPopupEditMode()) {\r\n                        if (this.option(\"repaintChangesOnly\")) {\r\n                            var _row$update;\r\n                            null === (_row$update = row.update) || void 0 === _row$update ? void 0 : _row$update.call(row, row);\r\n                            this._rowsView.renderDelayedTemplates()\r\n                        } else if (editForm) {\r\n                            this._updateEditFormDeferred = (new Deferred).done(() => editForm.repaint());\r\n                            if (!this._updateLockCount) {\r\n                                this._updateEditFormDeferred.resolve()\r\n                            }\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _showEditPopup: function(rowIndex, repaintForm) {\r\n                    var isMobileDevice = \"desktop\" !== devices.current().deviceType;\r\n                    var popupOptions = extend({\r\n                        showTitle: false,\r\n                        fullScreen: isMobileDevice,\r\n                        copyRootClassesToWrapper: true,\r\n                        _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                        toolbarItems: [{\r\n                            toolbar: \"bottom\",\r\n                            location: \"after\",\r\n                            widget: \"dxButton\",\r\n                            options: this._getSaveButtonConfig()\r\n                        }, {\r\n                            toolbar: \"bottom\",\r\n                            location: \"after\",\r\n                            widget: \"dxButton\",\r\n                            options: this._getCancelButtonConfig()\r\n                        }],\r\n                        contentTemplate: this._getPopupEditFormTemplate(rowIndex)\r\n                    }, this.option(EDITING_POPUP_OPTION_NAME));\r\n                    if (!this._editPopup) {\r\n                        var $popupContainer = $(\"<div>\").appendTo(this.component.$element()).addClass(this.addWidgetPrefix(EDIT_POPUP_CLASS));\r\n                        this._editPopup = this._createComponent($popupContainer, Popup, {\r\n                            copyRootClassesToWrapper: true,\r\n                            _ignoreCopyRootClassesToWrapperDeprecation: true\r\n                        });\r\n                        this._editPopup.on(\"hiding\", this._getEditPopupHiddenHandler());\r\n                        this._editPopup.on(\"shown\", e => {\r\n                            eventsEngine.trigger(e.component.$content().find(FOCUSABLE_ELEMENT_SELECTOR).not(\".\" + SCROLLABLE_CONTAINER_CLASS).first(), \"focus\");\r\n                            if (repaintForm) {\r\n                                var _this$_editForm;\r\n                                null === (_this$_editForm = this._editForm) || void 0 === _this$_editForm ? void 0 : _this$_editForm.repaint()\r\n                            }\r\n                        })\r\n                    }\r\n                    this._editPopup.option(popupOptions);\r\n                    this._editPopup.show();\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _getPopupEditFormTemplate: function(rowIndex) {\r\n                    var row = this.component.getVisibleRows()[rowIndex];\r\n                    var templateOptions = {\r\n                        row: row,\r\n                        values: row.values,\r\n                        rowType: row.rowType,\r\n                        key: row.key,\r\n                        rowIndex: rowIndex\r\n                    };\r\n                    this._rowsView._addWatchMethod(templateOptions, row);\r\n                    return container => {\r\n                        var formTemplate = this.getEditFormTemplate();\r\n                        var scrollable = this._createComponent($(\"<div>\").appendTo(container), Scrollable);\r\n                        this._$popupContent = scrollable.$content();\r\n                        formTemplate(this._$popupContent, templateOptions, {\r\n                            isPopupForm: true\r\n                        });\r\n                        this._rowsView.renderDelayedTemplates()\r\n                    }\r\n                },\r\n                _repaintEditPopup: function() {\r\n                    var _this$_editPopup2;\r\n                    var rowIndex = this._getVisibleEditRowIndex();\r\n                    if (null !== (_this$_editPopup2 = this._editPopup) && void 0 !== _this$_editPopup2 && _this$_editPopup2.option(\"visible\") && rowIndex >= 0) {\r\n                        var defaultAnimation = this._editPopup.option(\"animation\");\r\n                        this._editPopup.option(\"animation\", null);\r\n                        this._showEditPopup(rowIndex, true);\r\n                        this._editPopup.option(\"animation\", defaultAnimation)\r\n                    }\r\n                },\r\n                _hideEditPopup: function() {\r\n                    var _this$_editPopup3;\r\n                    null === (_this$_editPopup3 = this._editPopup) || void 0 === _this$_editPopup3 ? void 0 : _this$_editPopup3.option(\"visible\", false)\r\n                },\r\n                optionChanged: function(args) {\r\n                    if (\"editing\" === args.name && this.isFormOrPopupEditMode()) {\r\n                        var fullName = args.fullName;\r\n                        if (0 === fullName.indexOf(EDITING_FORM_OPTION_NAME)) {\r\n                            this._handleFormOptionChange(args);\r\n                            args.handled = true\r\n                        } else if (0 === fullName.indexOf(EDITING_POPUP_OPTION_NAME)) {\r\n                            this._handlePopupOptionChange(args);\r\n                            args.handled = true\r\n                        }\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _handleFormOptionChange: function(args) {\r\n                    var _this$_editPopup4;\r\n                    if (this.isFormEditMode()) {\r\n                        var editRowIndex = this._getVisibleEditRowIndex();\r\n                        if (editRowIndex >= 0) {\r\n                            this._dataController.updateItems({\r\n                                changeType: \"update\",\r\n                                rowIndices: [editRowIndex]\r\n                            })\r\n                        }\r\n                    } else if (null !== (_this$_editPopup4 = this._editPopup) && void 0 !== _this$_editPopup4 && _this$_editPopup4.option(\"visible\") && 0 === args.fullName.indexOf(EDITING_FORM_OPTION_NAME)) {\r\n                        this._repaintEditPopup()\r\n                    }\r\n                },\r\n                _handlePopupOptionChange: function(args) {\r\n                    var editPopup = this._editPopup;\r\n                    if (editPopup) {\r\n                        var popupOptionName = args.fullName.slice(EDITING_POPUP_OPTION_NAME.length + 1);\r\n                        if (popupOptionName) {\r\n                            editPopup.option(popupOptionName, args.value)\r\n                        } else {\r\n                            editPopup.option(args.value)\r\n                        }\r\n                    }\r\n                },\r\n                renderFormEditTemplate: function(detailCellOptions, item, formTemplateOptions, container, isReadOnly) {\r\n                    var that = this;\r\n                    var $container = $(container);\r\n                    var column = item.column;\r\n                    var editorType = getEditorType(item);\r\n                    var rowData = null === detailCellOptions || void 0 === detailCellOptions ? void 0 : detailCellOptions.row.data;\r\n                    var form = formTemplateOptions.component;\r\n                    var {\r\n                        label: label,\r\n                        labelMark: labelMark,\r\n                        labelMode: labelMode\r\n                    } = formTemplateOptions.editorOptions || {};\r\n                    var cellOptions = extend({}, detailCellOptions, {\r\n                        data: rowData,\r\n                        cellElement: null,\r\n                        isOnForm: true,\r\n                        item: item,\r\n                        id: form.getItemID(item.name || item.dataField),\r\n                        column: extend({}, column, {\r\n                            editorType: editorType,\r\n                            editorOptions: extend({\r\n                                label: label,\r\n                                labelMark: labelMark,\r\n                                labelMode: labelMode\r\n                            }, column.editorOptions, item.editorOptions)\r\n                        }),\r\n                        columnIndex: column.index,\r\n                        setValue: !isReadOnly && column.allowEditing && function(value) {\r\n                            that.updateFieldValue(cellOptions, value)\r\n                        }\r\n                    });\r\n                    cellOptions.value = column.calculateCellValue(rowData);\r\n                    var template = this._getFormEditItemTemplate.bind(this)(cellOptions, column);\r\n                    this._rowsView.renderTemplate($container, template, cellOptions, !!$container.closest(getWindow().document).length).done(() => {\r\n                        this._rowsView._updateCell($container, cellOptions)\r\n                    });\r\n                    return cellOptions\r\n                },\r\n                getFormEditorTemplate: function(cellOptions, item) {\r\n                    var column = this.component.columnOption(item.dataField);\r\n                    return (options, container) => {\r\n                        var _cellOptions$row$watc, _cellOptions$row;\r\n                        var $container = $(container);\r\n                        null === (_cellOptions$row$watc = (_cellOptions$row = cellOptions.row).watch) || void 0 === _cellOptions$row$watc ? void 0 : _cellOptions$row$watc.call(_cellOptions$row, (function() {\r\n                            return column.selector(cellOptions.row.data)\r\n                        }), () => {\r\n                            var _validator;\r\n                            var $editorElement = $container.find(\".dx-widget\").first();\r\n                            var validator = $editorElement.data(\"dxValidator\");\r\n                            var validatorOptions = null === (_validator = validator) || void 0 === _validator ? void 0 : _validator.option();\r\n                            $container.contents().remove();\r\n                            cellOptions = this.renderFormEditTemplate.bind(this)(cellOptions, item, options, $container);\r\n                            $editorElement = $container.find(\".dx-widget\").first();\r\n                            validator = $editorElement.data(\"dxValidator\");\r\n                            if (validatorOptions && !validator) {\r\n                                $editorElement.dxValidator({\r\n                                    validationRules: validatorOptions.validationRules,\r\n                                    validationGroup: validatorOptions.validationGroup,\r\n                                    dataGetter: validatorOptions.dataGetter\r\n                                })\r\n                            }\r\n                        });\r\n                        cellOptions = this.renderFormEditTemplate.bind(this)(cellOptions, item, options, $container)\r\n                    }\r\n                },\r\n                getEditFormOptions: function(detailOptions) {\r\n                    var _this$_getValidationG;\r\n                    var editFormOptions = null === (_this$_getValidationG = this._getValidationGroupsInForm) || void 0 === _this$_getValidationG ? void 0 : _this$_getValidationG.call(this, detailOptions);\r\n                    var userCustomizeItem = this.option(\"editing.form.customizeItem\");\r\n                    var editFormItemClass = this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS);\r\n                    var items = this.option(\"editing.form.items\");\r\n                    var isCustomEditorType = {};\r\n                    if (!items) {\r\n                        var columns = this.getController(\"columns\").getColumns();\r\n                        items = [];\r\n                        each(columns, (function(_, column) {\r\n                            if (!column.isBand && !column.type) {\r\n                                items.push({\r\n                                    column: column,\r\n                                    name: column.name,\r\n                                    dataField: column.dataField\r\n                                })\r\n                            }\r\n                        }))\r\n                    } else {\r\n                        forEachFormItems(items, item => {\r\n                            var itemId = (null === item || void 0 === item ? void 0 : item.name) || (null === item || void 0 === item ? void 0 : item.dataField);\r\n                            if (itemId) {\r\n                                isCustomEditorType[itemId] = !!item.editorType\r\n                            }\r\n                        })\r\n                    }\r\n                    return extend({}, editFormOptions, {\r\n                        items: items,\r\n                        formID: \"dx-\" + new Guid,\r\n                        customizeItem: item => {\r\n                            var column;\r\n                            var itemId = item.name || item.dataField;\r\n                            if (item.column || itemId) {\r\n                                column = item.column || this._columnsController.columnOption(item.name ? \"name:\" + item.name : \"dataField:\" + item.dataField)\r\n                            }\r\n                            if (column) {\r\n                                item.label = item.label || {};\r\n                                item.label.text = item.label.text || column.caption;\r\n                                if (\"boolean\" === column.dataType && void 0 === item.label.visible) {\r\n                                    var labelMode = this.option(\"editing.form.labelMode\");\r\n                                    if (\"floating\" === labelMode || \"static\" === labelMode) {\r\n                                        item.label.visible = true\r\n                                    }\r\n                                }\r\n                                item.template = item.template || this.getFormEditorTemplate(detailOptions, item);\r\n                                item.column = column;\r\n                                item.isCustomEditorType = isCustomEditorType[itemId];\r\n                                if (column.formItem) {\r\n                                    extend(item, column.formItem)\r\n                                }\r\n                                if (void 0 === item.isRequired && column.validationRules) {\r\n                                    item.isRequired = column.validationRules.some((function(rule) {\r\n                                        return \"required\" === rule.type\r\n                                    }));\r\n                                    item.validationRules = []\r\n                                }\r\n                                var itemVisible = isDefined(item.visible) ? item.visible : true;\r\n                                if (!this._firstFormItem && itemVisible) {\r\n                                    this._firstFormItem = item\r\n                                }\r\n                            }\r\n                            null === userCustomizeItem || void 0 === userCustomizeItem ? void 0 : userCustomizeItem.call(this, item);\r\n                            item.cssClass = isString(item.cssClass) ? item.cssClass + \" \" + editFormItemClass : editFormItemClass\r\n                        }\r\n                    })\r\n                },\r\n                getEditFormTemplate: function() {\r\n                    return ($container, detailOptions, options) => {\r\n                        var editFormOptions = this.option(EDITING_FORM_OPTION_NAME);\r\n                        var baseEditFormOptions = this.getEditFormOptions(detailOptions);\r\n                        var $formContainer = $(\"<div>\").appendTo($container);\r\n                        var isPopupForm = null === options || void 0 === options ? void 0 : options.isPopupForm;\r\n                        this._firstFormItem = void 0;\r\n                        if (isPopupForm) {\r\n                            $formContainer.addClass(this.addWidgetPrefix(EDIT_POPUP_FORM_CLASS))\r\n                        }\r\n                        this._editForm = this._createComponent($formContainer, Form, extend({}, editFormOptions, baseEditFormOptions));\r\n                        if (!isPopupForm) {\r\n                            var $buttonsContainer = $(\"<div>\").addClass(this.addWidgetPrefix(FORM_BUTTONS_CONTAINER_CLASS)).appendTo($container);\r\n                            this._createComponent($(\"<div>\").appendTo($buttonsContainer), Button, this._getSaveButtonConfig());\r\n                            this._createComponent($(\"<div>\").appendTo($buttonsContainer), Button, this._getCancelButtonConfig())\r\n                        }\r\n                        this._editForm.on(\"contentReady\", () => {\r\n                            var _this$_editPopup5;\r\n                            this._rowsView.renderDelayedTemplates();\r\n                            null === (_this$_editPopup5 = this._editPopup) || void 0 === _this$_editPopup5 ? void 0 : _this$_editPopup5.repaint()\r\n                        })\r\n                    }\r\n                },\r\n                getEditForm: function() {\r\n                    return this._editForm\r\n                },\r\n                _endUpdateCore: function() {\r\n                    var _this$_updateEditForm;\r\n                    null === (_this$_updateEditForm = this._updateEditFormDeferred) || void 0 === _this$_updateEditForm ? void 0 : _this$_updateEditForm.resolve()\r\n                },\r\n                _beforeEndSaving: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.isPopupEditMode()) {\r\n                        var _this$_editPopup6;\r\n                        null === (_this$_editPopup6 = this._editPopup) || void 0 === _this$_editPopup6 ? void 0 : _this$_editPopup6.hide()\r\n                    }\r\n                },\r\n                _processDataItemCore: function(item, _ref) {\r\n                    var {\r\n                        type: type\r\n                    } = _ref;\r\n                    if (this.isPopupEditMode() && type === DATA_EDIT_DATA_INSERT_TYPE) {\r\n                        item.visible = false\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _editRowFromOptionChangedCore: function(rowIndices, rowIndex) {\r\n                    var isPopupEditMode = this.isPopupEditMode();\r\n                    this.callBase(rowIndices, rowIndex, isPopupEditMode);\r\n                    if (isPopupEditMode) {\r\n                        this._showEditPopup(rowIndex)\r\n                    }\r\n                }\r\n            },\r\n            data: {\r\n                _updateEditItem: function(item) {\r\n                    if (this._editingController.isFormEditMode()) {\r\n                        item.rowType = \"detail\"\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _renderCellContent: function($cell, options) {\r\n                    if (\"data\" === options.rowType && this._editingController.isPopupEditMode() && false === options.row.visible) {\r\n                        return\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                getCellElements: function(rowIndex) {\r\n                    var $cellElements = this.callBase(rowIndex);\r\n                    var editingController = this._editingController;\r\n                    var editForm = editingController.getEditForm();\r\n                    var editFormRowIndex = editingController.getEditFormRowIndex();\r\n                    if (editFormRowIndex === rowIndex && $cellElements && editForm) {\r\n                        return editForm.$element().find(\".\" + this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS) + \", .\" + BUTTON_CLASS)\r\n                    }\r\n                    return $cellElements\r\n                },\r\n                _getVisibleColumnIndex: function($cells, rowIndex, columnIdentifier) {\r\n                    var editFormRowIndex = this._editingController.getEditFormRowIndex();\r\n                    if (editFormRowIndex === rowIndex && isString(columnIdentifier)) {\r\n                        var column = this._columnsController.columnOption(columnIdentifier);\r\n                        return this._getEditFormEditorVisibleIndex($cells, column)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _getEditFormEditorVisibleIndex: function($cells, column) {\r\n                    var visibleIndex = -1;\r\n                    each($cells, (function(index, cellElement) {\r\n                        var item = $(cellElement).find(\".dx-field-item-content\").data(\"dx-form-item\");\r\n                        if (null !== item && void 0 !== item && item.column && column && item.column.index === column.index) {\r\n                            visibleIndex = index;\r\n                            return false\r\n                        }\r\n                    }));\r\n                    return visibleIndex\r\n                },\r\n                _isFormItem: function(parameters) {\r\n                    var isDetailRow = \"detail\" === parameters.rowType || \"detailAdaptive\" === parameters.rowType;\r\n                    var isPopupEditing = \"data\" === parameters.rowType && this._editingController.isPopupEditMode();\r\n                    return (isDetailRow || isPopupEditing) && parameters.item\r\n                },\r\n                _updateCell: function($cell, parameters) {\r\n                    if (this._isFormItem(parameters)) {\r\n                        this._formItemPrepared(parameters, $cell)\r\n                    } else {\r\n                        this.callBase($cell, parameters)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing_form_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    editingFormBasedModule\r\n} from \"../grid_core/ui.grid_core.editing_form_based\";\r\ngridCore.registerModule(\"editingFormBased\", editingFormBasedModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.editing_cell_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport holdEvent from \"../../events/hold\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    deferRender\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    createObjectWithChanges\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    EDIT_MODE_BATCH,\r\n    EDIT_MODE_CELL,\r\n    TARGET_COMPONENT_NAME\r\n} from \"./ui.grid_core.editing_constants\";\r\nvar FOCUS_OVERLAY_CLASS = \"focus-overlay\";\r\nvar ADD_ROW_BUTTON_CLASS = \"addrow-button\";\r\nvar DROPDOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar CELL_MODIFIED_CLASS = \"dx-cell-modified\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar ROW_REMOVED = \"dx-row-removed\";\r\nvar EDITING_EDITROWKEY_OPTION_NAME = \"editing.editRowKey\";\r\nvar EDITING_EDITCOLUMNNAME_OPTION_NAME = \"editing.editColumnName\";\r\nvar DATA_EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nexport default {\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                init: function() {\r\n                    var needCreateHandlers = !this._saveEditorHandler;\r\n                    this.callBase.apply(this, arguments);\r\n                    if (needCreateHandlers) {\r\n                        var $pointerDownTarget;\r\n                        var isResizing;\r\n                        this._pointerUpEditorHandler = () => {\r\n                            var _this$getController;\r\n                            isResizing = null === (_this$getController = this.getController(\"columnsResizer\")) || void 0 === _this$getController ? void 0 : _this$getController.isResizing()\r\n                        };\r\n                        this._pointerDownEditorHandler = e => $pointerDownTarget = $(e.target);\r\n                        this._saveEditorHandler = this.createAction((function(e) {\r\n                            var event = e.event;\r\n                            var $target = $(event.target);\r\n                            var targetComponent = event[TARGET_COMPONENT_NAME];\r\n                            var component = this.component;\r\n                            if ($pointerDownTarget && $pointerDownTarget.is(\"input\") && !$pointerDownTarget.is($target)) {\r\n                                return\r\n                            }\r\n\r\n                            function checkEditorPopup($element) {\r\n                                if (!$element) {\r\n                                    return false\r\n                                }\r\n                                var $dropDownEditorOverlay = $element.closest(\".\".concat(DROPDOWN_EDITOR_OVERLAY_CLASS));\r\n                                var $componentElement = component.$element();\r\n                                return $dropDownEditorOverlay.length > 0 && 0 === $componentElement.closest($dropDownEditorOverlay).length\r\n                            }\r\n                            if (this.isCellOrBatchEditMode() && !this._editCellInProgress) {\r\n                                var isEditorPopup = checkEditorPopup($target) || checkEditorPopup(null === targetComponent || void 0 === targetComponent ? void 0 : targetComponent.$element());\r\n                                var isDomElement = !!$target.closest(getWindow().document).length;\r\n                                var isAnotherComponent = targetComponent && !targetComponent._disposed && targetComponent !== this.component;\r\n                                var isAddRowButton = !!$target.closest(\".\".concat(this.addWidgetPrefix(ADD_ROW_BUTTON_CLASS))).length;\r\n                                var isFocusOverlay = $target.hasClass(this.addWidgetPrefix(FOCUS_OVERLAY_CLASS));\r\n                                var isCellEditMode = this.isCellEditMode();\r\n                                if (!isResizing && !isEditorPopup && !isFocusOverlay && !(isAddRowButton && isCellEditMode && this.isEditing()) && (isDomElement || isAnotherComponent)) {\r\n                                    this._closeEditItem.bind(this)($target)\r\n                                }\r\n                            }\r\n                        }));\r\n                        eventsEngine.on(domAdapter.getDocument(), pointerEvents.up, this._pointerUpEditorHandler);\r\n                        eventsEngine.on(domAdapter.getDocument(), pointerEvents.down, this._pointerDownEditorHandler);\r\n                        eventsEngine.on(domAdapter.getDocument(), clickEventName, this._saveEditorHandler)\r\n                    }\r\n                },\r\n                isCellEditMode: function() {\r\n                    return this.option(\"editing.mode\") === EDIT_MODE_CELL\r\n                },\r\n                isBatchEditMode: function() {\r\n                    return this.option(\"editing.mode\") === EDIT_MODE_BATCH\r\n                },\r\n                isCellOrBatchEditMode: function() {\r\n                    return this.isCellEditMode() || this.isBatchEditMode()\r\n                },\r\n                _needToCloseEditableCell: function($targetElement) {\r\n                    var $element = this.component.$element();\r\n                    var result = this.isEditing();\r\n                    var isCurrentComponentElement = !$element || !!$targetElement.closest($element).length;\r\n                    if (isCurrentComponentElement) {\r\n                        var isDataRow = $targetElement.closest(\".\" + DATA_ROW_CLASS).length;\r\n                        if (isDataRow) {\r\n                            var rowsView = this.getView(\"rowsView\");\r\n                            var $targetCell = $targetElement.closest(\".\" + ROW_CLASS + \"> td\");\r\n                            var rowIndex = rowsView.getRowIndex($targetCell.parent());\r\n                            var columnIndex = rowsView.getCellElements(rowIndex).index($targetCell);\r\n                            var visibleColumns = this._columnsController.getVisibleColumns();\r\n                            var allowEditing = visibleColumns[columnIndex] && visibleColumns[columnIndex].allowEditing;\r\n                            result = result && !allowEditing && !this.isEditCell(rowIndex, columnIndex)\r\n                        }\r\n                    }\r\n                    return result || this.callBase.apply(this, arguments)\r\n                },\r\n                _closeEditItem: function($targetElement) {\r\n                    if (this._needToCloseEditableCell($targetElement)) {\r\n                        this.closeEditCell()\r\n                    }\r\n                },\r\n                _focusEditorIfNeed: function() {\r\n                    if (this._needFocusEditor && this.isCellOrBatchEditMode()) {\r\n                        var _this$_rowsView;\r\n                        var editColumnIndex = this._getVisibleEditColumnIndex();\r\n                        var $cell = null === (_this$_rowsView = this._rowsView) || void 0 === _this$_rowsView ? void 0 : _this$_rowsView._getCellElement(this._getVisibleEditRowIndex(), editColumnIndex);\r\n                        if ($cell && !$cell.find(\":focus\").length) {\r\n                            this._focusEditingCell(() => {\r\n                                this._editCellInProgress = false\r\n                            }, $cell, true)\r\n                        } else {\r\n                            this._editCellInProgress = false\r\n                        }\r\n                        this._needFocusEditor = false\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                isEditing: function() {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var isEditRowKeyDefined = isDefined(this.option(EDITING_EDITROWKEY_OPTION_NAME));\r\n                        var isEditColumnNameDefined = isDefined(this.option(EDITING_EDITCOLUMNNAME_OPTION_NAME));\r\n                        return isEditRowKeyDefined && isEditColumnNameDefined\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _handleEditColumnNameChange: function(args) {\r\n                    var oldRowIndex = this._getVisibleEditRowIndex(args.previousValue);\r\n                    if (this.isCellOrBatchEditMode() && -1 !== oldRowIndex && isDefined(args.value) && args.value !== args.previousValue) {\r\n                        var columnIndex = this._columnsController.getVisibleColumnIndex(args.value);\r\n                        var oldColumnIndex = this._columnsController.getVisibleColumnIndex(args.previousValue);\r\n                        this._editCellFromOptionChanged(columnIndex, oldColumnIndex, oldRowIndex)\r\n                    }\r\n                },\r\n                _addRow: function(parentKey, deferred) {\r\n                    if (this.isCellEditMode() && this.hasChanges()) {\r\n                        var _deferred = new Deferred;\r\n                        this.saveEditData().done(() => {\r\n                            if (!this.hasChanges()) {\r\n                                this.addRow(parentKey).done(_deferred.resolve).fail(_deferred.reject)\r\n                            } else {\r\n                                _deferred.reject(\"cancel\")\r\n                            }\r\n                        });\r\n                        return _deferred.promise()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                editCell: function(rowIndex, columnIndex) {\r\n                    return this._editCell({\r\n                        rowIndex: rowIndex,\r\n                        columnIndex: columnIndex\r\n                    })\r\n                },\r\n                _editCell: function(options) {\r\n                    var d = new Deferred;\r\n                    var coreResult;\r\n                    this.executeOperation(d, () => {\r\n                        coreResult = this._editCellCore(options);\r\n                        when(coreResult).done(d.resolve).fail(d.reject)\r\n                    });\r\n                    return void 0 !== coreResult ? coreResult : d.promise()\r\n                },\r\n                _editCellCore: function(options) {\r\n                    var dataController = this._dataController;\r\n                    var isEditByOptionChanged = isDefined(options.oldColumnIndex) || isDefined(options.oldRowIndex);\r\n                    var {\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex,\r\n                        column: column,\r\n                        item: item\r\n                    } = this._getNormalizedEditCellOptions(options);\r\n                    var params = {\r\n                        data: null === item || void 0 === item ? void 0 : item.data,\r\n                        cancel: false,\r\n                        column: column\r\n                    };\r\n                    if (void 0 === item.key) {\r\n                        this._dataController.fireError(\"E1043\");\r\n                        return\r\n                    }\r\n                    if (column && (\"data\" === item.rowType || \"detailAdaptive\" === item.rowType) && !item.removed && this.isCellOrBatchEditMode()) {\r\n                        if (!isEditByOptionChanged && this.isEditCell(rowIndex, columnIndex)) {\r\n                            return true\r\n                        }\r\n                        var editRowIndex = rowIndex + dataController.getRowIndexOffset();\r\n                        return when(this._beforeEditCell(rowIndex, columnIndex, item)).done(cancel => {\r\n                            if (cancel) {\r\n                                return\r\n                            }\r\n                            if (!this._prepareEditCell(params, item, columnIndex, editRowIndex)) {\r\n                                this._processCanceledEditingCell()\r\n                            }\r\n                        })\r\n                    }\r\n                    return false\r\n                },\r\n                _beforeEditCell: function(rowIndex, columnIndex, item) {\r\n                    if (this.isCellEditMode() && !item.isNewRow && this.hasChanges()) {\r\n                        var d = new Deferred;\r\n                        this.saveEditData().always(() => {\r\n                            d.resolve(this.hasChanges())\r\n                        });\r\n                        return d\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    var publicMethods = this.callBase.apply(this, arguments);\r\n                    return publicMethods.concat([\"editCell\", \"closeEditCell\"])\r\n                },\r\n                _getNormalizedEditCellOptions: function(_ref) {\r\n                    var {\r\n                        oldColumnIndex: oldColumnIndex,\r\n                        oldRowIndex: oldRowIndex,\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    } = _ref;\r\n                    var columnsController = this._columnsController;\r\n                    var visibleColumns = columnsController.getVisibleColumns();\r\n                    var items = this._dataController.items();\r\n                    var item = items[rowIndex];\r\n                    var oldColumn;\r\n                    if (isDefined(oldColumnIndex)) {\r\n                        oldColumn = visibleColumns[oldColumnIndex]\r\n                    } else {\r\n                        oldColumn = this._getEditColumn()\r\n                    }\r\n                    if (!isDefined(oldRowIndex)) {\r\n                        oldRowIndex = this._getVisibleEditRowIndex()\r\n                    }\r\n                    if (isString(columnIndex)) {\r\n                        columnIndex = columnsController.columnOption(columnIndex, \"index\");\r\n                        columnIndex = columnsController.getVisibleIndex(columnIndex)\r\n                    }\r\n                    var column = visibleColumns[columnIndex];\r\n                    return {\r\n                        oldColumn: oldColumn,\r\n                        columnIndex: columnIndex,\r\n                        oldRowIndex: oldRowIndex,\r\n                        rowIndex: rowIndex,\r\n                        column: column,\r\n                        item: item\r\n                    }\r\n                },\r\n                _prepareEditCell: function(params, item, editColumnIndex, editRowIndex) {\r\n                    if (!item.isNewRow) {\r\n                        params.key = item.key\r\n                    }\r\n                    if (this._isEditingStart(params)) {\r\n                        return false\r\n                    }\r\n                    this._pageIndex = this._dataController.pageIndex();\r\n                    this._setEditRowKey(item.key);\r\n                    this._setEditColumnNameByIndex(editColumnIndex);\r\n                    if (!params.column.showEditorAlways) {\r\n                        var _item$oldData;\r\n                        this._addInternalData({\r\n                            key: item.key,\r\n                            oldData: null !== (_item$oldData = item.oldData) && void 0 !== _item$oldData ? _item$oldData : item.data\r\n                        })\r\n                    }\r\n                    return true\r\n                },\r\n                closeEditCell: function(isError, withoutSaveEditData) {\r\n                    var result = when();\r\n                    var oldEditRowIndex = this._getVisibleEditRowIndex();\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var deferred = new Deferred;\r\n                        result = new Deferred;\r\n                        this.executeOperation(deferred, () => {\r\n                            this._closeEditCellCore(isError, oldEditRowIndex, withoutSaveEditData).always(result.resolve)\r\n                        })\r\n                    }\r\n                    return result.promise()\r\n                },\r\n                _closeEditCellCore: function(isError, oldEditRowIndex, withoutSaveEditData) {\r\n                    var dataController = this._dataController;\r\n                    var deferred = new Deferred;\r\n                    var promise = deferred.promise();\r\n                    if (this.isCellEditMode() && this.hasChanges()) {\r\n                        if (!withoutSaveEditData) {\r\n                            this.saveEditData().done(error => {\r\n                                if (!this.hasChanges()) {\r\n                                    this.closeEditCell(!!error).always(deferred.resolve);\r\n                                    return\r\n                                }\r\n                                deferred.resolve()\r\n                            });\r\n                            return promise\r\n                        }\r\n                    } else {\r\n                        this._resetEditRowKey();\r\n                        this._resetEditColumnName();\r\n                        if (oldEditRowIndex >= 0) {\r\n                            var rowIndices = [oldEditRowIndex];\r\n                            this._beforeCloseEditCellInBatchMode(rowIndices);\r\n                            if (!isError) {\r\n                                dataController.updateItems({\r\n                                    changeType: \"update\",\r\n                                    rowIndices: rowIndices\r\n                                })\r\n                            }\r\n                        }\r\n                    }\r\n                    deferred.resolve();\r\n                    return promise\r\n                },\r\n                _resetModifiedClassCells: function(changes) {\r\n                    if (this.isBatchEditMode()) {\r\n                        var columnsCount = this._columnsController.getVisibleColumns().length;\r\n                        changes.forEach(_ref2 => {\r\n                            var {\r\n                                key: key\r\n                            } = _ref2;\r\n                            var rowIndex = this._dataController.getRowIndexByKey(key);\r\n                            if (-1 !== rowIndex) {\r\n                                for (var columnIndex = 0; columnIndex < columnsCount; columnIndex++) {\r\n                                    this._rowsView._getCellElement(rowIndex, columnIndex).removeClass(CELL_MODIFIED_CLASS)\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                _prepareChange: function(options, value, text) {\r\n                    var $cellElement = $(options.cellElement);\r\n                    if (this.isBatchEditMode() && void 0 !== options.key) {\r\n                        this._applyModified($cellElement, options)\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _cancelSaving: function() {\r\n                    var dataController = this._dataController;\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        if (this.isBatchEditMode()) {\r\n                            this._resetEditIndices()\r\n                        }\r\n                        dataController.updateItems()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                optionChanged: function(args) {\r\n                    var fullName = args.fullName;\r\n                    if (\"editing\" === args.name && fullName === EDITING_EDITCOLUMNNAME_OPTION_NAME) {\r\n                        this._handleEditColumnNameChange(args);\r\n                        args.handled = true\r\n                    } else {\r\n                        this.callBase(args)\r\n                    }\r\n                },\r\n                _editCellFromOptionChanged: function(columnIndex, oldColumnIndex, oldRowIndex) {\r\n                    var columns = this._columnsController.getVisibleColumns();\r\n                    if (columnIndex > -1) {\r\n                        deferRender(() => {\r\n                            this._repaintEditCell(columns[columnIndex], columns[oldColumnIndex], oldRowIndex)\r\n                        })\r\n                    }\r\n                },\r\n                _handleEditRowKeyChange: function(args) {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var columnIndex = this._getVisibleEditColumnIndex();\r\n                        var oldRowIndexCorrection = this._getEditRowIndexCorrection();\r\n                        var oldRowIndex = this._dataController.getRowIndexByKey(args.previousValue) + oldRowIndexCorrection;\r\n                        if (isDefined(args.value) && args.value !== args.previousValue) {\r\n                            var _this$_editCellFromOp;\r\n                            null === (_this$_editCellFromOp = this._editCellFromOptionChanged) || void 0 === _this$_editCellFromOp ? void 0 : _this$_editCellFromOp.call(this, columnIndex, columnIndex, oldRowIndex)\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                deleteRow: function(rowIndex) {\r\n                    if (this.isCellEditMode() && this.isEditing()) {\r\n                        var isNewRow = this._dataController.items()[rowIndex].isNewRow;\r\n                        var rowKey = this._dataController.getKeyByRowIndex(rowIndex);\r\n                        this.closeEditCell(null, isNewRow).always(() => {\r\n                            rowIndex = this._dataController.getRowIndexByKey(rowKey);\r\n                            this._checkAndDeleteRow(rowIndex)\r\n                        })\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _checkAndDeleteRow: function(rowIndex) {\r\n                    if (this.isBatchEditMode()) {\r\n                        this._deleteRowCore(rowIndex)\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _refreshCore: function(params) {\r\n                    var {\r\n                        isPageChanged: isPageChanged\r\n                    } = null !== params && void 0 !== params ? params : {};\r\n                    var needResetIndexes = this.isBatchEditMode() || isPageChanged && \"virtual\" !== this.option(\"scrolling.mode\");\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        if (needResetIndexes) {\r\n                            this._resetEditColumnName();\r\n                            this._resetEditRowKey()\r\n                        }\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _allowRowAdding: function(params) {\r\n                    if (this.isBatchEditMode()) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _afterDeleteRow: function(rowIndex, oldEditRowIndex) {\r\n                    var dataController = this._dataController;\r\n                    if (this.isBatchEditMode()) {\r\n                        dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: [oldEditRowIndex, rowIndex]\r\n                        });\r\n                        return (new Deferred).resolve()\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _updateEditRow: function(row, forceUpdateRow, isCustomSetCellValue) {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        this._updateRowImmediately(row, forceUpdateRow, isCustomSetCellValue)\r\n                    } else {\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                _isDefaultButtonVisible: function(button, options) {\r\n                    if (this.isCellOrBatchEditMode()) {\r\n                        var isBatchMode = this.isBatchEditMode();\r\n                        switch (button.name) {\r\n                            case \"save\":\r\n                            case \"cancel\":\r\n                            case \"edit\":\r\n                                return false;\r\n                            case \"delete\":\r\n                                return this.callBase.apply(this, arguments) && (!isBatchMode || !options.row.removed);\r\n                            case \"undelete\":\r\n                                return isBatchMode && this.allowDeleting(options) && options.row.removed;\r\n                            default:\r\n                                return this.callBase.apply(this, arguments)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isRowDeleteAllowed: function() {\r\n                    var callBase = this.callBase.apply(this, arguments);\r\n                    return callBase || this.isBatchEditMode()\r\n                },\r\n                _beforeEndSaving: function(changes) {\r\n                    if (this.isCellEditMode()) {\r\n                        var _changes$;\r\n                        if (\"update\" !== (null === (_changes$ = changes[0]) || void 0 === _changes$ ? void 0 : _changes$.type)) {\r\n                            this.callBase.apply(this, arguments)\r\n                        }\r\n                    } else {\r\n                        if (this.isBatchEditMode()) {\r\n                            this._resetModifiedClassCells(changes)\r\n                        }\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                prepareEditButtons: function(headerPanel) {\r\n                    var editingOptions = this.option(\"editing\") || {};\r\n                    var buttonItems = this.callBase.apply(this, arguments);\r\n                    if ((editingOptions.allowUpdating || editingOptions.allowAdding || editingOptions.allowDeleting) && this.isBatchEditMode()) {\r\n                        buttonItems.push(this.prepareButtonItem(headerPanel, \"save\", \"saveEditData\", 21));\r\n                        buttonItems.push(this.prepareButtonItem(headerPanel, \"revert\", \"cancelEditData\", 22))\r\n                    }\r\n                    return buttonItems\r\n                },\r\n                _saveEditDataInner: function() {\r\n                    var _deferred2;\r\n                    var editRow = this._dataController.getVisibleRows()[this.getEditRowIndex()];\r\n                    var editColumn = this._getEditColumn();\r\n                    var showEditorAlways = null === editColumn || void 0 === editColumn ? void 0 : editColumn.showEditorAlways;\r\n                    var isUpdateInCellMode = this.isCellEditMode() && !(null !== editRow && void 0 !== editRow && editRow.isNewRow);\r\n                    var deferred;\r\n                    if (isUpdateInCellMode && showEditorAlways) {\r\n                        deferred = new Deferred;\r\n                        this.addDeferred(deferred)\r\n                    }\r\n                    return this.callBase.apply(this, arguments).always(null === (_deferred2 = deferred) || void 0 === _deferred2 ? void 0 : _deferred2.resolve)\r\n                },\r\n                _applyChange: function(options, params, forceUpdateRow) {\r\n                    var isUpdateInCellMode = this.isCellEditMode() && options.row && !options.row.isNewRow;\r\n                    var showEditorAlways = options.column.showEditorAlways;\r\n                    var isCustomSetCellValue = options.column.setCellValue !== options.column.defaultSetCellValue;\r\n                    var focusPreviousEditingCell = showEditorAlways && !forceUpdateRow && isUpdateInCellMode && this.hasEditData() && !this.isEditCell(options.rowIndex, options.columnIndex);\r\n                    if (focusPreviousEditingCell) {\r\n                        this._focusEditingCell();\r\n                        this._updateEditRow(options.row, true, isCustomSetCellValue);\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _applyChangeCore: function(options, forceUpdateRow) {\r\n                    var showEditorAlways = options.column.showEditorAlways;\r\n                    var isUpdateInCellMode = this.isCellEditMode() && options.row && !options.row.isNewRow;\r\n                    if (showEditorAlways && !forceUpdateRow) {\r\n                        if (isUpdateInCellMode) {\r\n                            this._setEditRowKey(options.row.key, true);\r\n                            this._setEditColumnNameByIndex(options.columnIndex, true);\r\n                            return this.saveEditData()\r\n                        } else if (this.isBatchEditMode()) {\r\n                            forceUpdateRow = this._needUpdateRow(options.column);\r\n                            return this.callBase(options, forceUpdateRow)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _processDataItemCore: function(item, _ref3) {\r\n                    var {\r\n                        data: data,\r\n                        type: type\r\n                    } = _ref3;\r\n                    if (this.isBatchEditMode() && type === DATA_EDIT_DATA_REMOVE_TYPE) {\r\n                        item.data = createObjectWithChanges(item.data, data)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _processRemoveCore: function(changes, editIndex, processIfBatch) {\r\n                    if (this.isBatchEditMode() && !processIfBatch) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _processRemoveIfError: function() {\r\n                    if (this.isBatchEditMode()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _beforeFocusElementInRow: function(rowIndex) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var editRowIndex = rowIndex >= 0 ? rowIndex : 0;\r\n                    var columnIndex = this.getFirstEditableColumnIndex();\r\n                    columnIndex >= 0 && this.editCell(editRowIndex, columnIndex)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createTable: function() {\r\n                    var $table = this.callBase.apply(this, arguments);\r\n                    var editingController = this._editingController;\r\n                    if (editingController.isCellOrBatchEditMode() && this.option(\"editing.allowUpdating\")) {\r\n                        eventsEngine.on($table, addNamespace(holdEvent.name, \"dxDataGridRowsView\"), \"td:not(.\" + EDITOR_CELL_CLASS + \")\", this.createAction(() => {\r\n                            if (editingController.isEditing()) {\r\n                                editingController.closeEditCell()\r\n                            }\r\n                        }))\r\n                    }\r\n                    return $table\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row) {\r\n                        var editingController = this._editingController;\r\n                        var isRowRemoved = !!row.removed;\r\n                        if (editingController.isBatchEditMode()) {\r\n                            isRowRemoved && $row.addClass(ROW_REMOVED)\r\n                        }\r\n                    }\r\n                    return $row\r\n                }\r\n            },\r\n            headerPanel: {\r\n                isVisible: function() {\r\n                    var editingOptions = this.getController(\"editing\").option(\"editing\");\r\n                    return this.callBase() || editingOptions && (editingOptions.allowUpdating || editingOptions.allowDeleting) && editingOptions.mode === EDIT_MODE_BATCH\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.editing_cell_based.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport editingCellBasedModule from \"../grid_core/ui.grid_core.editing_cell_based\";\r\ngridCore.registerModule(\"editingCellBased\", editingCellBasedModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.validating.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth,\r\n    getWidth,\r\n    getOuterHeight,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    createObjectWithChanges\r\n} from \"../../data/array_utils\";\r\nimport {\r\n    deferUpdate,\r\n    equalByValue,\r\n    getKeyHash\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    focused\r\n} from \"../widget/selectors\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Button from \"../button\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport ValidationEngine from \"../validation_engine\";\r\nimport Validator from \"../validator\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport {\r\n    Deferred,\r\n    when,\r\n    fromPromise\r\n} from \"../../core/utils/deferred\";\r\nimport LoadIndicator from \"../load_indicator\";\r\nimport {\r\n    encodeHtml\r\n} from \"../../core/utils/string\";\r\nimport browser from \"../../core/utils/browser\";\r\nvar INVALIDATE_CLASS = \"invalid\";\r\nvar REVERT_TOOLTIP_CLASS = \"revert-tooltip\";\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar INVALID_MESSAGE_CLASS = \"dx-invalid-message\";\r\nvar WIDGET_INVALID_MESSAGE_CLASS = \"invalid-message\";\r\nvar INVALID_MESSAGE_ALWAYS_CLASS = \"dx-invalid-message-always\";\r\nvar REVERT_BUTTON_CLASS = \"dx-revert-button\";\r\nvar VALIDATOR_CLASS = \"validator\";\r\nvar PENDING_INDICATOR_CLASS = \"dx-pending-indicator\";\r\nvar VALIDATION_PENDING_CLASS = \"dx-validation-pending\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar INSERT_INDEX = \"__DX_INSERT_INDEX__\";\r\nvar PADDING_BETWEEN_TOOLTIPS = 2;\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_CELL = \"cell\";\r\nvar EDIT_MODE_POPUP = \"popup\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar FORM_BASED_MODES = [EDIT_MODE_POPUP, EDIT_MODE_FORM];\r\nvar COMMAND_TRANSPARENT = \"transparent\";\r\nvar VALIDATION_STATUS = {\r\n    valid: \"valid\",\r\n    invalid: \"invalid\",\r\n    pending: \"pending\"\r\n};\r\nvar EDIT_DATA_INSERT_TYPE = \"insert\";\r\nvar EDIT_DATA_REMOVE_TYPE = \"remove\";\r\nvar VALIDATION_CANCELLED = \"cancel\";\r\nvar validationResultIsValid = function(result) {\r\n    return isDefined(result) && result !== VALIDATION_CANCELLED\r\n};\r\nvar cellValueShouldBeValidated = function(value, rowOptions) {\r\n    return void 0 !== value || void 0 === value && rowOptions && !rowOptions.isNewRow\r\n};\r\nvar ValidatingController = modules.Controller.inherit({\r\n    init: function() {\r\n        this._editingController = this.getController(\"editing\");\r\n        this.createAction(\"onRowValidating\");\r\n        if (!this._validationState) {\r\n            this.initValidationState()\r\n        }\r\n    },\r\n    initValidationState() {\r\n        this._validationState = [];\r\n        this._validationStateCache = {}\r\n    },\r\n    _rowIsValidated: function(change) {\r\n        var validationData = this._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n        return !!validationData && !!validationData.validated\r\n    },\r\n    _getValidationData: function(key, create) {\r\n        var keyHash = getKeyHash(key);\r\n        var isObjectKeyHash = isObject(keyHash);\r\n        var validationData;\r\n        if (isObjectKeyHash) {\r\n            validationData = this._validationState.filter(data => equalByValue(data.key, key))[0]\r\n        } else {\r\n            validationData = this._validationStateCache[keyHash]\r\n        }\r\n        if (!validationData && create) {\r\n            validationData = {\r\n                key: key,\r\n                isValid: true\r\n            };\r\n            this._validationState.push(validationData);\r\n            if (!isObjectKeyHash) {\r\n                this._validationStateCache[keyHash] = validationData\r\n            }\r\n        }\r\n        return validationData\r\n    },\r\n    _getBrokenRules: function(validationData, validationResults) {\r\n        var brokenRules;\r\n        if (validationResults) {\r\n            brokenRules = validationResults.brokenRules || validationResults.brokenRule && [validationResults.brokenRule]\r\n        } else {\r\n            brokenRules = validationData.brokenRules || []\r\n        }\r\n        return brokenRules\r\n    },\r\n    _rowValidating: function(validationData, validationResults) {\r\n        var deferred = new Deferred;\r\n        var change = this._editingController.getChangeByKey(null === validationData || void 0 === validationData ? void 0 : validationData.key);\r\n        var brokenRules = this._getBrokenRules(validationData, validationResults);\r\n        var isValid = validationResults ? validationResults.isValid : validationData.isValid;\r\n        var parameters = {\r\n            brokenRules: brokenRules,\r\n            isValid: isValid,\r\n            key: change.key,\r\n            newData: change.data,\r\n            oldData: this._editingController._getOldData(change.key),\r\n            promise: null,\r\n            errorText: this.getHiddenValidatorsErrorText(brokenRules)\r\n        };\r\n        this.executeAction(\"onRowValidating\", parameters);\r\n        when(fromPromise(parameters.promise)).always((function() {\r\n            validationData.isValid = parameters.isValid;\r\n            validationData.errorText = parameters.errorText;\r\n            deferred.resolve(parameters)\r\n        }));\r\n        return deferred.promise()\r\n    },\r\n    getHiddenValidatorsErrorText: function(brokenRules) {\r\n        var brokenRulesMessages = [];\r\n        each(brokenRules, (function(_, brokenRule) {\r\n            var column = brokenRule.column;\r\n            var isGroupExpandColumn = column && void 0 !== column.groupIndex && !column.showWhenGrouped;\r\n            var isVisibleColumn = column && column.visible;\r\n            if (!brokenRule.validator.$element().parent().length && (!isVisibleColumn || isGroupExpandColumn)) {\r\n                brokenRulesMessages.push(brokenRule.message)\r\n            }\r\n        }));\r\n        return brokenRulesMessages.join(\", \")\r\n    },\r\n    validate: function(isFull) {\r\n        var isValid = true;\r\n        var editingController = this._editingController;\r\n        var deferred = new Deferred;\r\n        var completeList = [];\r\n        var editMode = editingController.getEditMode();\r\n        isFull = isFull || editMode === EDIT_MODE_ROW;\r\n        if (this._isValidationInProgress) {\r\n            return deferred.resolve(false).promise()\r\n        }\r\n        this._isValidationInProgress = true;\r\n        if (isFull) {\r\n            editingController.addDeferred(deferred);\r\n            var changes = editingController.getChanges();\r\n            each(changes, (index, _ref) => {\r\n                var {\r\n                    type: type,\r\n                    key: key\r\n                } = _ref;\r\n                if (\"remove\" !== type) {\r\n                    var validationData = this._getValidationData(key, true);\r\n                    var validationResult = this.validateGroup(validationData);\r\n                    completeList.push(validationResult);\r\n                    validationResult.done(validationResult => {\r\n                        validationData.validated = true;\r\n                        isValid = isValid && validationResult.isValid\r\n                    })\r\n                }\r\n            })\r\n        } else if (this._currentCellValidator) {\r\n            var validationResult = this.validateGroup(this._currentCellValidator._findGroup());\r\n            completeList.push(validationResult);\r\n            validationResult.done(validationResult => {\r\n                isValid = validationResult.isValid\r\n            })\r\n        }\r\n        when(...completeList).done(() => {\r\n            this._isValidationInProgress = false;\r\n            deferred.resolve(isValid)\r\n        });\r\n        return deferred.promise()\r\n    },\r\n    validateGroup: function(validationData) {\r\n        var _validationResult;\r\n        var result = new Deferred;\r\n        var validateGroup = validationData && ValidationEngine.getGroupConfig(validationData);\r\n        var validationResult;\r\n        if (null !== validateGroup && void 0 !== validateGroup && validateGroup.validators.length) {\r\n            this.resetRowValidationResults(validationData);\r\n            validationResult = ValidationEngine.validateGroup(validationData)\r\n        }\r\n        when((null === (_validationResult = validationResult) || void 0 === _validationResult ? void 0 : _validationResult.complete) || validationResult).done(validationResult => {\r\n            when(this._rowValidating(validationData, validationResult)).done(result.resolve)\r\n        });\r\n        return result.promise()\r\n    },\r\n    isRowDataModified: change => !isEmptyObject(change.data),\r\n    updateValidationState: function(change) {\r\n        var editMode = this._editingController.getEditMode();\r\n        var key = change.key;\r\n        var validationData = this._getValidationData(key, true);\r\n        if (-1 === FORM_BASED_MODES.indexOf(editMode)) {\r\n            if (change.type === EDIT_DATA_INSERT_TYPE && !this.isRowDataModified(change)) {\r\n                validationData.isValid = true;\r\n                return\r\n            }\r\n            this.setDisableApplyValidationResults(true);\r\n            var groupConfig = ValidationEngine.getGroupConfig(validationData);\r\n            if (groupConfig) {\r\n                var validationResult = ValidationEngine.validateGroup(validationData);\r\n                when(validationResult.complete || validationResult).done(validationResult => {\r\n                    validationData.isValid = validationResult.isValid;\r\n                    validationData.brokenRules = validationResult.brokenRules\r\n                })\r\n            } else if (!validationData.brokenRules || !validationData.brokenRules.length) {\r\n                validationData.isValid = true\r\n            }\r\n            this.setDisableApplyValidationResults(false)\r\n        } else {\r\n            validationData.isValid = true\r\n        }\r\n    },\r\n    setValidator: function(validator) {\r\n        this._currentCellValidator = validator\r\n    },\r\n    renderCellPendingIndicator: function($container) {\r\n        var $indicator = $container.find(\".\" + PENDING_INDICATOR_CLASS);\r\n        if (!$indicator.length) {\r\n            var $indicatorContainer = $container;\r\n            $indicator = $(\"<div>\").appendTo($indicatorContainer).addClass(PENDING_INDICATOR_CLASS);\r\n            this._createComponent($indicator, LoadIndicator);\r\n            $container.addClass(VALIDATION_PENDING_CLASS)\r\n        }\r\n    },\r\n    disposeCellPendingIndicator: function($container) {\r\n        var $indicator = $container.find(\".\" + PENDING_INDICATOR_CLASS);\r\n        if ($indicator.length) {\r\n            var indicator = LoadIndicator.getInstance($indicator);\r\n            if (indicator) {\r\n                indicator.dispose();\r\n                indicator.$element().remove()\r\n            }\r\n            $container.removeClass(VALIDATION_PENDING_CLASS)\r\n        }\r\n    },\r\n    validationStatusChanged: function(result) {\r\n        var validator = result.validator;\r\n        var validationGroup = validator.option(\"validationGroup\");\r\n        var column = validator.option(\"dataGetter\")().column;\r\n        this.updateCellValidationResult({\r\n            rowKey: validationGroup.key,\r\n            columnIndex: column.index,\r\n            validationResult: result\r\n        })\r\n    },\r\n    validatorInitialized: function(arg) {\r\n        arg.component.on(\"validating\", this.validationStatusChanged.bind(this));\r\n        arg.component.on(\"validated\", this.validationStatusChanged.bind(this))\r\n    },\r\n    validatorDisposing: function(arg) {\r\n        var validator = arg.component;\r\n        var validationGroup = validator.option(\"validationGroup\");\r\n        var column = validator.option(\"dataGetter\")().column;\r\n        var result = this.getCellValidationResult({\r\n            rowKey: null === validationGroup || void 0 === validationGroup ? void 0 : validationGroup.key,\r\n            columnIndex: column.index\r\n        });\r\n        if (validationResultIsValid(result) && result.status === VALIDATION_STATUS.pending) {\r\n            this.cancelCellValidationResult({\r\n                change: validationGroup,\r\n                columnIndex: column.index\r\n            })\r\n        }\r\n    },\r\n    applyValidationResult: function($container, result) {\r\n        var validator = result.validator;\r\n        var validationGroup = validator.option(\"validationGroup\");\r\n        var column = validator.option(\"dataGetter\")().column;\r\n        result.brokenRules && result.brokenRules.forEach(rule => {\r\n            rule.columnIndex = column.index;\r\n            rule.column = column\r\n        });\r\n        if ($container) {\r\n            var validationResult = this.getCellValidationResult({\r\n                rowKey: validationGroup.key,\r\n                columnIndex: column.index\r\n            });\r\n            var requestIsDisabled = validationResultIsValid(validationResult) && validationResult.disabledPendingId === result.id;\r\n            if (this._disableApplyValidationResults || requestIsDisabled) {\r\n                return\r\n            }\r\n            if (result.status === VALIDATION_STATUS.invalid) {\r\n                var $focus = $container.find(\":focus\");\r\n                if (!focused($focus)) {\r\n                    eventsEngine.trigger($focus, \"focus\");\r\n                    eventsEngine.trigger($focus, pointerEvents.down)\r\n                }\r\n            }\r\n            var editor = !column.editCellTemplate && this.getController(\"editorFactory\").getEditorInstance($container);\r\n            if (result.status === VALIDATION_STATUS.pending) {\r\n                if (editor) {\r\n                    editor.option(\"validationStatus\", VALIDATION_STATUS.pending)\r\n                } else {\r\n                    this.renderCellPendingIndicator($container)\r\n                }\r\n            } else if (editor) {\r\n                editor.option(\"validationStatus\", VALIDATION_STATUS.valid)\r\n            } else {\r\n                this.disposeCellPendingIndicator($container)\r\n            }\r\n            $container.toggleClass(this.addWidgetPrefix(INVALIDATE_CLASS), result.status === VALIDATION_STATUS.invalid)\r\n        }\r\n    },\r\n    _syncInternalEditingData: function(parameters) {\r\n        var _parameters$row;\r\n        var editingController = this._editingController;\r\n        var change = editingController.getChangeByKey(parameters.key);\r\n        var oldDataFromState = editingController._getOldData(parameters.key);\r\n        var oldData = null === (_parameters$row = parameters.row) || void 0 === _parameters$row ? void 0 : _parameters$row.oldData;\r\n        if (change && oldData && !oldDataFromState) {\r\n            editingController._addInternalData({\r\n                key: parameters.key,\r\n                oldData: oldData\r\n            })\r\n        }\r\n    },\r\n    createValidator: function(parameters, $container) {\r\n        var editingController = this._editingController;\r\n        var column = parameters.column;\r\n        var showEditorAlways = column.showEditorAlways;\r\n        if (isDefined(column.command) || !column.validationRules || !Array.isArray(column.validationRules) || !column.validationRules.length) {\r\n            return\r\n        }\r\n        var editIndex = editingController.getIndexByKey(parameters.key, editingController.getChanges());\r\n        var needCreateValidator = editIndex > -1;\r\n        if (!needCreateValidator) {\r\n            if (!showEditorAlways) {\r\n                var columnsController = this.getController(\"columns\");\r\n                var visibleColumns = (null === columnsController || void 0 === columnsController ? void 0 : columnsController.getVisibleColumns()) || [];\r\n                showEditorAlways = visibleColumns.some((function(column) {\r\n                    return column.showEditorAlways\r\n                }))\r\n            }\r\n            var isEditRow = equalByValue(this.option(\"editing.editRowKey\"), parameters.key);\r\n            var isCellOrBatchEditingAllowed = editingController.isCellOrBatchEditMode() && editingController.allowUpdating({\r\n                row: parameters.row\r\n            });\r\n            needCreateValidator = isEditRow || isCellOrBatchEditingAllowed && showEditorAlways;\r\n            if (isCellOrBatchEditingAllowed && showEditorAlways) {\r\n                var _parameters$row$oldDa, _parameters$row2;\r\n                editingController._addInternalData({\r\n                    key: parameters.key,\r\n                    oldData: null !== (_parameters$row$oldDa = null === (_parameters$row2 = parameters.row) || void 0 === _parameters$row2 ? void 0 : _parameters$row2.oldData) && void 0 !== _parameters$row$oldDa ? _parameters$row$oldDa : parameters.data\r\n                })\r\n            }\r\n        }\r\n        if (needCreateValidator) {\r\n            if ($container && !$container.length) {\r\n                errors.log(\"E1050\");\r\n                return\r\n            }\r\n            this._syncInternalEditingData(parameters);\r\n            var validationData = this._getValidationData(parameters.key, true);\r\n            var getValue = () => {\r\n                var change = editingController.getChangeByKey(null === validationData || void 0 === validationData ? void 0 : validationData.key);\r\n                var value = column.calculateCellValue((null === change || void 0 === change ? void 0 : change.data) || {});\r\n                return void 0 !== value ? value : parameters.value\r\n            };\r\n            var useDefaultValidator = $container && $container.hasClass(\"dx-widget\");\r\n            $container && $container.addClass(this.addWidgetPrefix(VALIDATOR_CLASS));\r\n            var validator = new Validator($container || $(\"<div>\"), {\r\n                name: column.caption,\r\n                validationRules: extend(true, [], column.validationRules),\r\n                validationGroup: validationData,\r\n                adapter: useDefaultValidator ? null : {\r\n                    getValue: getValue,\r\n                    applyValidationResults: result => {\r\n                        this.applyValidationResult($container, result)\r\n                    }\r\n                },\r\n                dataGetter: function() {\r\n                    var key = null === validationData || void 0 === validationData ? void 0 : validationData.key;\r\n                    var change = editingController.getChangeByKey(key);\r\n                    var oldData = editingController._getOldData(key);\r\n                    return {\r\n                        data: createObjectWithChanges(oldData, null === change || void 0 === change ? void 0 : change.data),\r\n                        column: column\r\n                    }\r\n                },\r\n                onInitialized: this.validatorInitialized.bind(this),\r\n                onDisposing: this.validatorDisposing.bind(this)\r\n            });\r\n            if (useDefaultValidator) {\r\n                var adapter = validator.option(\"adapter\");\r\n                if (adapter) {\r\n                    adapter.getValue = getValue;\r\n                    adapter.validationRequestsCallbacks = [];\r\n                    adapter.bypass = () => parameters.row.isNewRow && !this._isValidationInProgress && !editingController.isCellModified(parameters)\r\n                }\r\n            }\r\n            return validator\r\n        }\r\n    },\r\n    setDisableApplyValidationResults: function(flag) {\r\n        this._disableApplyValidationResults = flag\r\n    },\r\n    getDisableApplyValidationResults: function() {\r\n        return this._disableApplyValidationResults\r\n    },\r\n    isCurrentValidatorProcessing: function(_ref2) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref2;\r\n        return this._currentCellValidator && equalByValue(this._currentCellValidator.option(\"validationGroup\").key, rowKey) && this._currentCellValidator.option(\"dataGetter\")().column.index === columnIndex\r\n    },\r\n    validateCell: function(validator) {\r\n        var cellParams = {\r\n            rowKey: validator.option(\"validationGroup\").key,\r\n            columnIndex: validator.option(\"dataGetter\")().column.index\r\n        };\r\n        var validationResult = this.getCellValidationResult(cellParams);\r\n        var stateRestored = validationResultIsValid(validationResult);\r\n        if (!stateRestored) {\r\n            validationResult = validator.validate()\r\n        }\r\n        var deferred = new Deferred;\r\n        var adapter = validator.option(\"adapter\");\r\n        if (stateRestored && validationResult.status === VALIDATION_STATUS.pending) {\r\n            this.updateCellValidationResult(cellParams);\r\n            adapter.applyValidationResults(validationResult)\r\n        }\r\n        when(validationResult.complete || validationResult).done(validationResult => {\r\n            stateRestored && adapter.applyValidationResults(validationResult);\r\n            deferred.resolve(validationResult)\r\n        });\r\n        return deferred.promise()\r\n    },\r\n    updateCellValidationResult: function(_ref3) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex,\r\n            validationResult: validationResult\r\n        } = _ref3;\r\n        var validationData = this._getValidationData(rowKey);\r\n        if (!validationData) {\r\n            return\r\n        }\r\n        if (!validationData.validationResults) {\r\n            validationData.validationResults = {}\r\n        }\r\n        var result;\r\n        if (validationResult) {\r\n            result = extend({}, validationResult);\r\n            validationData.validationResults[columnIndex] = result;\r\n            if (validationResult.status === VALIDATION_STATUS.pending) {\r\n                if (this._editingController.getEditMode() === EDIT_MODE_CELL) {\r\n                    result.deferred = new Deferred;\r\n                    result.complete.always(() => {\r\n                        result.deferred.resolve()\r\n                    });\r\n                    this._editingController.addDeferred(result.deferred)\r\n                }\r\n                if (this._disableApplyValidationResults) {\r\n                    result.disabledPendingId = validationResult.id;\r\n                    return\r\n                }\r\n            }\r\n        } else {\r\n            result = validationData.validationResults[columnIndex]\r\n        }\r\n        if (result && result.disabledPendingId) {\r\n            delete result.disabledPendingId\r\n        }\r\n    },\r\n    getCellValidationResult: function(_ref4) {\r\n        var _validationData$valid;\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref4;\r\n        var validationData = this._getValidationData(rowKey, true);\r\n        return null === validationData || void 0 === validationData ? void 0 : null === (_validationData$valid = validationData.validationResults) || void 0 === _validationData$valid ? void 0 : _validationData$valid[columnIndex]\r\n    },\r\n    removeCellValidationResult: function(_ref5) {\r\n        var {\r\n            change: change,\r\n            columnIndex: columnIndex\r\n        } = _ref5;\r\n        var validationData = this._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n        if (validationData && validationData.validationResults) {\r\n            this.cancelCellValidationResult({\r\n                change: change,\r\n                columnIndex: columnIndex\r\n            });\r\n            delete validationData.validationResults[columnIndex]\r\n        }\r\n    },\r\n    cancelCellValidationResult: function(_ref6) {\r\n        var {\r\n            change: change,\r\n            columnIndex: columnIndex\r\n        } = _ref6;\r\n        var validationData = this._getValidationData(change.key);\r\n        if (change && validationData.validationResults) {\r\n            var result = validationData.validationResults[columnIndex];\r\n            if (result) {\r\n                result.deferred && result.deferred.reject(VALIDATION_CANCELLED);\r\n                validationData.validationResults[columnIndex] = VALIDATION_CANCELLED\r\n            }\r\n        }\r\n    },\r\n    resetRowValidationResults: function(validationData) {\r\n        if (validationData) {\r\n            validationData.validationResults && delete validationData.validationResults;\r\n            delete validationData.validated\r\n        }\r\n    },\r\n    isInvalidCell: function(_ref7) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref7;\r\n        var result = this.getCellValidationResult({\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        });\r\n        return validationResultIsValid(result) && result.status === VALIDATION_STATUS.invalid\r\n    },\r\n    getCellValidator: function(_ref8) {\r\n        var {\r\n            rowKey: rowKey,\r\n            columnIndex: columnIndex\r\n        } = _ref8;\r\n        var validationData = this._getValidationData(rowKey);\r\n        var groupConfig = validationData && ValidationEngine.getGroupConfig(validationData);\r\n        var validators = groupConfig && groupConfig.validators;\r\n        return validators && validators.filter(v => {\r\n            var column = v.option(\"dataGetter\")().column;\r\n            return column ? column.index === columnIndex : false\r\n        })[0]\r\n    },\r\n    setCellValidationStatus: function(cellOptions) {\r\n        var validationResult = this.getCellValidationResult({\r\n            rowKey: cellOptions.key,\r\n            columnIndex: cellOptions.column.index\r\n        });\r\n        if (isDefined(validationResult)) {\r\n            cellOptions.validationStatus = validationResult !== VALIDATION_CANCELLED ? validationResult.status : VALIDATION_CANCELLED\r\n        } else {\r\n            delete cellOptions.validationStatus\r\n        }\r\n    }\r\n});\r\nexport var validatingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            editing: {\r\n                texts: {\r\n                    validationCancelChanges: messageLocalization.format(\"dxDataGrid-validationCancelChanges\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        validating: ValidatingController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                _addChange: function(changeParams) {\r\n                    var change = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (change && changeParams.type !== EDIT_DATA_REMOVE_TYPE) {\r\n                        validatingController.updateValidationState(change)\r\n                    }\r\n                    return change\r\n                },\r\n                _handleChangesChange: function(args) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    args.value.forEach(change => {\r\n                        if (void 0 === validatingController._getValidationData(change.key)) {\r\n                            validatingController.updateValidationState(change)\r\n                        }\r\n                    })\r\n                },\r\n                _updateRowAndPageIndices: function() {\r\n                    var that = this;\r\n                    var startInsertIndex = that.getView(\"rowsView\").getTopVisibleItemIndex();\r\n                    var rowIndex = startInsertIndex;\r\n                    each(that.getChanges(), (_, _ref9) => {\r\n                        var {\r\n                            key: key,\r\n                            type: type\r\n                        } = _ref9;\r\n                        var validationData = this.getController(\"validating\")._getValidationData(key);\r\n                        if (validationData && !validationData.isValid && validationData.pageIndex !== that._pageIndex) {\r\n                            validationData.pageIndex = that._pageIndex;\r\n                            if (type === EDIT_DATA_INSERT_TYPE) {\r\n                                validationData.rowIndex = startInsertIndex\r\n                            } else {\r\n                                validationData.rowIndex = rowIndex\r\n                            }\r\n                            rowIndex++\r\n                        }\r\n                    })\r\n                },\r\n                _getValidationGroupsInForm: function(detailOptions) {\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationData = validatingController._getValidationData(detailOptions.key, true);\r\n                    return {\r\n                        validationGroup: validationData\r\n                    }\r\n                },\r\n                _validateEditFormAfterUpdate: function(row, isCustomSetCellValue) {\r\n                    if (isCustomSetCellValue && this._editForm) {\r\n                        this._editForm.validate()\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _prepareEditCell: function(params) {\r\n                    var isNotCanceled = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (isNotCanceled && params.column.showEditorAlways) {\r\n                        validatingController.updateValidationState({\r\n                            key: params.key\r\n                        })\r\n                    }\r\n                    return isNotCanceled\r\n                },\r\n                processItems: function(items, changeType) {\r\n                    var changes = this.getChanges();\r\n                    var dataController = this.getController(\"data\");\r\n                    var validatingController = this.getController(\"validating\");\r\n                    items = this.callBase(items, changeType);\r\n                    var itemsCount = items.length;\r\n                    var addInValidItem = function(change, validationData) {\r\n                        var data = {\r\n                            key: change.key\r\n                        };\r\n                        var index = function(change, items) {\r\n                            var index = -1;\r\n                            var isInsert = change.type === EDIT_DATA_INSERT_TYPE;\r\n                            var key = change.key;\r\n                            each(items, (function(i, item) {\r\n                                if (equalByValue(key, isInsert ? item.key : dataController.keyOf(item))) {\r\n                                    index = i;\r\n                                    return false\r\n                                }\r\n                            }));\r\n                            return index\r\n                        }(change, items);\r\n                        if (index >= 0) {\r\n                            return\r\n                        }\r\n                        validationData.rowIndex = validationData.rowIndex > itemsCount ? validationData.rowIndex % itemsCount : validationData.rowIndex;\r\n                        var rowIndex = validationData.rowIndex;\r\n                        data[INSERT_INDEX] = 1;\r\n                        items.splice(rowIndex, 0, data)\r\n                    };\r\n                    if (this.getEditMode() === EDIT_MODE_BATCH && \"prepend\" !== changeType && \"append\" !== changeType) {\r\n                        changes.forEach(change => {\r\n                            var key = change.key;\r\n                            var validationData = validatingController._getValidationData(key);\r\n                            if (validationData && change.type && validationData.pageIndex === this._pageIndex && (null === change || void 0 === change ? void 0 : change.pageIndex) !== this._pageIndex) {\r\n                                addInValidItem(change, validationData)\r\n                            }\r\n                        })\r\n                    }\r\n                    return items\r\n                },\r\n                processDataItem: function(item) {\r\n                    var isInserted = item.data[INSERT_INDEX];\r\n                    var key = isInserted ? item.data.key : item.key;\r\n                    var editMode = this.getEditMode();\r\n                    if (editMode === EDIT_MODE_BATCH && isInserted && key) {\r\n                        var changes = this.getChanges();\r\n                        var editIndex = gridCoreUtils.getIndexByKey(key, changes);\r\n                        if (editIndex >= 0) {\r\n                            var change = changes[editIndex];\r\n                            if (change.type !== EDIT_DATA_INSERT_TYPE) {\r\n                                var oldData = this._getOldData(change.key);\r\n                                item.data = extend(true, {}, oldData, change.data);\r\n                                item.key = key\r\n                            }\r\n                        }\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _createInvisibleColumnValidators: function(changes) {\r\n                    var that = this;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var columns = columnsController.getColumns();\r\n                    var invisibleColumns = columnsController.getInvisibleColumns().filter(column => !column.isBand);\r\n                    var groupColumns = columnsController.getGroupColumns().filter(column => !column.showWhenGrouped && -1 === invisibleColumns.indexOf(column));\r\n                    var invisibleColumnValidators = [];\r\n                    var isCellVisible = (column, rowKey) => this._dataController.getRowIndexByKey(rowKey) >= 0 && invisibleColumns.indexOf(column) < 0;\r\n                    invisibleColumns.push(...groupColumns);\r\n                    if (-1 === FORM_BASED_MODES.indexOf(this.getEditMode())) {\r\n                        each(columns, (function(_, column) {\r\n                            changes.forEach((function(change) {\r\n                                var data;\r\n                                if (isCellVisible(column, change.key)) {\r\n                                    return\r\n                                }\r\n                                if (change.type === EDIT_DATA_INSERT_TYPE) {\r\n                                    data = change.data\r\n                                } else if (\"update\" === change.type) {\r\n                                    var oldData = that._getOldData(change.key);\r\n                                    data = createObjectWithChanges(oldData, change.data)\r\n                                }\r\n                                if (data) {\r\n                                    var validator = validatingController.createValidator({\r\n                                        column: column,\r\n                                        key: change.key,\r\n                                        value: column.calculateCellValue(data)\r\n                                    });\r\n                                    if (validator) {\r\n                                        invisibleColumnValidators.push(validator)\r\n                                    }\r\n                                }\r\n                            }))\r\n                        }))\r\n                    }\r\n                    return function() {\r\n                        invisibleColumnValidators.forEach((function(validator) {\r\n                            validator.dispose()\r\n                        }))\r\n                    }\r\n                },\r\n                _beforeSaveEditData: function(change, editIndex) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationData = validatingController._getValidationData(null === change || void 0 === change ? void 0 : change.key);\r\n                    if (change) {\r\n                        var isValid = \"remove\" === change.type || validationData.isValid;\r\n                        result = result || !isValid\r\n                    } else {\r\n                        var disposeValidators = this._createInvisibleColumnValidators(this.getChanges());\r\n                        result = new Deferred;\r\n                        this.executeOperation(result, () => {\r\n                            validatingController.validate(true).done(isFullValid => {\r\n                                disposeValidators();\r\n                                this._updateRowAndPageIndices();\r\n                                switch (this.getEditMode()) {\r\n                                    case EDIT_MODE_CELL:\r\n                                        if (!isFullValid) {\r\n                                            this._focusEditingCell()\r\n                                        }\r\n                                        break;\r\n                                    case EDIT_MODE_BATCH:\r\n                                        if (!isFullValid) {\r\n                                            this._resetEditRowKey();\r\n                                            this._resetEditColumnName();\r\n                                            this.getController(\"data\").updateItems()\r\n                                        }\r\n                                }\r\n                                result.resolve(!isFullValid)\r\n                            })\r\n                        })\r\n                    }\r\n                    return result.promise ? result.promise() : result\r\n                },\r\n                _beforeEditCell: function(rowIndex, columnIndex, item) {\r\n                    var result = this.callBase(rowIndex, columnIndex, item);\r\n                    if (this.getEditMode() === EDIT_MODE_CELL) {\r\n                        var $cell = this._rowsView._getCellElement(rowIndex, columnIndex);\r\n                        var validator = $cell && $cell.data(\"dxValidator\");\r\n                        var rowOptions = $cell && $cell.closest(\".dx-row\").data(\"options\");\r\n                        var value = validator && validator.option(\"adapter\").getValue();\r\n                        if (validator && cellValueShouldBeValidated(value, rowOptions)) {\r\n                            var validatingController = this.getController(\"validating\");\r\n                            var deferred = new Deferred;\r\n                            when(validatingController.validateCell(validator), result).done((validationResult, result) => {\r\n                                deferred.resolve(validationResult.status === VALIDATION_STATUS.valid && result)\r\n                            });\r\n                            return deferred.promise()\r\n                        } else if (!validator) {\r\n                            return result\r\n                        }\r\n                    }\r\n                },\r\n                _afterSaveEditData: function(cancel) {\r\n                    var $firstErrorRow;\r\n                    var isCellEditMode = this.getEditMode() === EDIT_MODE_CELL;\r\n                    each(this.getChanges(), (_, change) => {\r\n                        var $errorRow = this._showErrorRow(change);\r\n                        $firstErrorRow = $firstErrorRow || $errorRow\r\n                    });\r\n                    if ($firstErrorRow) {\r\n                        var scrollable = this._rowsView.getScrollable();\r\n                        if (scrollable) {\r\n                            scrollable.update();\r\n                            scrollable.scrollToElement($firstErrorRow)\r\n                        }\r\n                    }\r\n                    if (cancel && isCellEditMode && this._needUpdateRow()) {\r\n                        var editRowIndex = this.getEditRowIndex();\r\n                        this._dataController.updateItems({\r\n                            changeType: \"update\",\r\n                            rowIndices: [editRowIndex]\r\n                        });\r\n                        this._focusEditingCell()\r\n                    } else if (!cancel) {\r\n                        var shouldResetValidationState = true;\r\n                        if (isCellEditMode) {\r\n                            var columns = this.getController(\"columns\").getColumns();\r\n                            var columnsWithValidatingEditors = columns.filter(col => {\r\n                                var _col$validationRules;\r\n                                return col.showEditorAlways && (null === (_col$validationRules = col.validationRules) || void 0 === _col$validationRules ? void 0 : _col$validationRules.length) > 0\r\n                            }).length > 0;\r\n                            shouldResetValidationState = !columnsWithValidatingEditors\r\n                        }\r\n                        if (shouldResetValidationState) {\r\n                            this.getController(\"validating\").initValidationState()\r\n                        }\r\n                    }\r\n                },\r\n                _handleDataChanged: function(args) {\r\n                    var validationState = this.getController(\"validating\")._validationState;\r\n                    if (\"standard\" === this.option(\"scrolling.mode\")) {\r\n                        this.resetRowAndPageIndices()\r\n                    }\r\n                    if (\"prepend\" === args.changeType) {\r\n                        each(validationState, (function(_, validationData) {\r\n                            validationData.rowIndex += args.items.length\r\n                        }))\r\n                    }\r\n                    this.callBase(args)\r\n                },\r\n                resetRowAndPageIndices: function() {\r\n                    var validationState = this.getController(\"validating\")._validationState;\r\n                    each(validationState, (_, validationData) => {\r\n                        if (validationData.pageIndex !== this._pageIndex) {\r\n                            delete validationData.pageIndex;\r\n                            delete validationData.rowIndex\r\n                        }\r\n                    })\r\n                },\r\n                _beforeCancelEditData: function() {\r\n                    this.getController(\"validating\").initValidationState();\r\n                    this.callBase()\r\n                },\r\n                _showErrorRow: function(change) {\r\n                    var $popupContent;\r\n                    var errorHandling = this.getController(\"errorHandling\");\r\n                    var items = this.getController(\"data\").items();\r\n                    var rowIndex = this.getIndexByKey(change.key, items);\r\n                    var validationData = this.getController(\"validating\")._getValidationData(change.key);\r\n                    if (!(null !== validationData && void 0 !== validationData && validationData.isValid) && null !== validationData && void 0 !== validationData && validationData.errorText && rowIndex >= 0) {\r\n                        $popupContent = this.getPopupContent();\r\n                        return errorHandling && errorHandling.renderErrorRow(null === validationData || void 0 === validationData ? void 0 : validationData.errorText, rowIndex, $popupContent)\r\n                    }\r\n                },\r\n                updateFieldValue: function(e) {\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var deferred = new Deferred;\r\n                    validatingController.removeCellValidationResult({\r\n                        change: this.getChangeByKey(e.key),\r\n                        columnIndex: e.column.index\r\n                    });\r\n                    this.callBase.apply(this, arguments).done(() => {\r\n                        var currentValidator = validatingController.getCellValidator({\r\n                            rowKey: e.key,\r\n                            columnIndex: e.column.index\r\n                        });\r\n                        when(currentValidator && validatingController.validateCell(currentValidator)).done(validationResult => {\r\n                            this.getController(\"editorFactory\").refocus();\r\n                            deferred.resolve(validationResult)\r\n                        })\r\n                    });\r\n                    return deferred.promise()\r\n                },\r\n                highlightDataCell: function($cell, parameters) {\r\n                    this.callBase.apply(this, arguments);\r\n                    var validatingController = this.getController(\"validating\");\r\n                    validatingController.setCellValidationStatus(parameters);\r\n                    var isEditableCell = !!parameters.setValue;\r\n                    var cellModified = this.isCellModified(parameters);\r\n                    var isValidated = isDefined(parameters.validationStatus);\r\n                    var needValidation = cellModified && parameters.column.setCellValue || isEditableCell && !cellModified && !(parameters.row.isNewRow || !isValidated);\r\n                    if (needValidation) {\r\n                        var validator = $cell.data(\"dxValidator\");\r\n                        if (validator) {\r\n                            when(this.getController(\"validating\").validateCell(validator)).done(() => {\r\n                                validatingController.setCellValidationStatus(parameters)\r\n                            })\r\n                        }\r\n                    }\r\n                },\r\n                getChangeByKey: function(key) {\r\n                    var changes = this.getChanges();\r\n                    return changes[gridCoreUtils.getIndexByKey(key, changes)]\r\n                },\r\n                isCellModified: function(parameters) {\r\n                    var cellModified = this.callBase(parameters);\r\n                    var change = this.getChangeByKey(parameters.key);\r\n                    var isCellInvalid = !!parameters.row && this.getController(\"validating\").isInvalidCell({\r\n                        rowKey: parameters.key,\r\n                        columnIndex: parameters.column.index\r\n                    });\r\n                    return cellModified || this.getController(\"validating\")._rowIsValidated(change) && isCellInvalid\r\n                }\r\n            },\r\n            editorFactory: {\r\n                _showRevertButton: function($container) {\r\n                    if (!$container || !$container.length) {\r\n                        return\r\n                    }\r\n                    var $tooltipElement = this._rowsView.element().find(\".\" + this.addWidgetPrefix(REVERT_TOOLTIP_CLASS));\r\n                    var $overlayContainer = $container.closest(\".\".concat(this.addWidgetPrefix(CONTENT_CLASS)));\r\n                    $tooltipElement && $tooltipElement.remove();\r\n                    $tooltipElement = $(\"<div>\").addClass(this.addWidgetPrefix(REVERT_TOOLTIP_CLASS)).appendTo($container);\r\n                    var tooltipOptions = {\r\n                        animation: null,\r\n                        visible: true,\r\n                        width: \"auto\",\r\n                        height: \"auto\",\r\n                        target: $container,\r\n                        shading: false,\r\n                        container: $overlayContainer,\r\n                        propagateOutsideClick: true,\r\n                        closeOnOutsideClick: false,\r\n                        copyRootClassesToWrapper: true,\r\n                        _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                        contentTemplate: () => {\r\n                            var $buttonElement = $(\"<div>\").addClass(REVERT_BUTTON_CLASS);\r\n                            var buttonOptions = {\r\n                                icon: \"revert\",\r\n                                hint: this.option(\"editing.texts.validationCancelChanges\"),\r\n                                onClick: () => {\r\n                                    this._editingController.cancelEditData()\r\n                                }\r\n                            };\r\n                            return new Button($buttonElement, buttonOptions).$element()\r\n                        },\r\n                        position: {\r\n                            my: \"left top\",\r\n                            at: \"right top\",\r\n                            offset: \"1 0\",\r\n                            collision: \"flip\",\r\n                            boundaryOffset: \"0 0\",\r\n                            boundary: this._rowsView.element()\r\n                        },\r\n                        onPositioned: this._positionedHandler.bind(this)\r\n                    };\r\n                    return new Overlay($tooltipElement, tooltipOptions)\r\n                },\r\n                _hideFixedGroupCell: function($cell, overlayOptions) {\r\n                    var $nextFixedRowElement;\r\n                    var $groupCellElement;\r\n                    var isFixedColumns = this._rowsView.isFixedColumns();\r\n                    var isFormOrPopupEditMode = this._editingController.isFormOrPopupEditMode();\r\n                    if (isFixedColumns && !isFormOrPopupEditMode) {\r\n                        var nextRowOptions = $cell.closest(\".dx-row\").next().data(\"options\");\r\n                        if (nextRowOptions && \"group\" === nextRowOptions.rowType) {\r\n                            $nextFixedRowElement = $(this._rowsView.getRowElement(nextRowOptions.rowIndex)).last();\r\n                            $groupCellElement = $nextFixedRowElement.find(\".\" + GROUP_CELL_CLASS);\r\n                            if ($groupCellElement.length && \"hidden\" !== $groupCellElement.get(0).style.visibility) {\r\n                                $groupCellElement.css(\"visibility\", \"hidden\");\r\n                                overlayOptions.onDisposing = function() {\r\n                                    $groupCellElement.css(\"visibility\", \"\")\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _positionedHandler: function(e, isOverlayVisible) {\r\n                    if (!e.component.__skipPositionProcessing) {\r\n                        var isRevertButton = $(e.element).hasClass(this.addWidgetPrefix(REVERT_TOOLTIP_CLASS));\r\n                        var needRepaint = !isRevertButton && this._rowsView.updateFreeSpaceRowHeight();\r\n                        var normalizedPosition = this._normalizeValidationMessagePositionAndMaxWidth(e, isRevertButton, isOverlayVisible);\r\n                        e.component.__skipPositionProcessing = !!(needRepaint || normalizedPosition);\r\n                        if (normalizedPosition) {\r\n                            e.component.option(normalizedPosition)\r\n                        } else if (needRepaint) {\r\n                            e.component.repaint()\r\n                        }\r\n                    }\r\n                },\r\n                _showValidationMessage: function($cell, messages, alignment, revertTooltip) {\r\n                    var editorPopup = $cell.find(\".dx-dropdowneditor-overlay\").data(\"dxPopup\");\r\n                    var isOverlayVisible = editorPopup && editorPopup.option(\"visible\");\r\n                    var myPosition = isOverlayVisible ? \"top right\" : \"top \" + alignment;\r\n                    var atPosition = isOverlayVisible ? \"top left\" : \"bottom \" + alignment;\r\n                    var $overlayContainer = $cell.closest(\".\".concat(this.addWidgetPrefix(CONTENT_CLASS)));\r\n                    var errorMessageText = \"\";\r\n                    messages && messages.forEach((function(message) {\r\n                        errorMessageText += (errorMessageText.length ? \"<br/>\" : \"\") + encodeHtml(message)\r\n                    }));\r\n                    var invalidMessageClass = this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS);\r\n                    this._rowsView.element().find(\".\" + invalidMessageClass).remove();\r\n                    var $overlayElement = $(\"<div>\").addClass(INVALID_MESSAGE_CLASS).addClass(INVALID_MESSAGE_ALWAYS_CLASS).addClass(invalidMessageClass).html(errorMessageText).appendTo($cell);\r\n                    var overlayOptions = {\r\n                        target: $cell,\r\n                        container: $overlayContainer,\r\n                        shading: false,\r\n                        width: \"auto\",\r\n                        height: \"auto\",\r\n                        visible: true,\r\n                        animation: false,\r\n                        propagateOutsideClick: true,\r\n                        closeOnOutsideClick: false,\r\n                        copyRootClassesToWrapper: true,\r\n                        _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                        position: {\r\n                            collision: \"flip\",\r\n                            boundary: this._rowsView.element(),\r\n                            boundaryOffset: \"0 0\",\r\n                            offset: {\r\n                                x: 0,\r\n                                y: !isOverlayVisible && browser.mozilla ? -1 : 0\r\n                            },\r\n                            my: myPosition,\r\n                            at: atPosition\r\n                        },\r\n                        onPositioned: e => {\r\n                            this._positionedHandler(e, isOverlayVisible);\r\n                            this._shiftValidationMessageIfNeed(e.component.$content(), revertTooltip && revertTooltip.$content(), $cell)\r\n                        }\r\n                    };\r\n                    this._hideFixedGroupCell($cell, overlayOptions);\r\n                    new Overlay($overlayElement, overlayOptions)\r\n                },\r\n                _normalizeValidationMessagePositionAndMaxWidth: function(options, isRevertButton, isOverlayVisible) {\r\n                    var fixedColumns = this._columnsController.getFixedColumns();\r\n                    if (!fixedColumns || !fixedColumns.length) {\r\n                        return\r\n                    }\r\n                    var position;\r\n                    var visibleTableWidth = !isRevertButton && (that = this, element = options.element, rowIndex = $(element).closest(\"tr\").index(), $cellElements = $(that._rowsView.getRowElement(rowIndex)).first().children().filter(\":not(.dx-hidden-cell)\"), that._rowsView._getWidths($cellElements).reduce((w1, w2) => w1 + w2, 0));\r\n                    var that, element, rowIndex, $cellElements;\r\n                    var $overlayContentElement = options.component.$content();\r\n                    var validationMessageWidth = getOuterWidth($overlayContentElement, true);\r\n                    var needMaxWidth = !isRevertButton && validationMessageWidth > visibleTableWidth;\r\n                    var columnIndex = this._rowsView.getCellIndex($(options.element).closest(\"td\"));\r\n                    var boundaryNonFixedColumnsInfo = function(fixedColumns) {\r\n                        var firstNonFixedColumnIndex;\r\n                        var lastNonFixedColumnIndex;\r\n                        fixedColumns.some((column, index) => {\r\n                            if (column.command === COMMAND_TRANSPARENT) {\r\n                                firstNonFixedColumnIndex = 0 === index ? -1 : index;\r\n                                lastNonFixedColumnIndex = index === fixedColumns.length - 1 ? -1 : index + column.colspan - 1;\r\n                                return true\r\n                            }\r\n                        });\r\n                        return {\r\n                            startColumnIndex: firstNonFixedColumnIndex,\r\n                            endColumnIndex: lastNonFixedColumnIndex\r\n                        }\r\n                    }(fixedColumns);\r\n                    if (!isRevertButton && (columnIndex === boundaryNonFixedColumnsInfo.startColumnIndex || needMaxWidth)) {\r\n                        position = {\r\n                            collision: \"none flip\",\r\n                            my: \"top left\",\r\n                            at: isOverlayVisible ? \"top right\" : \"bottom left\"\r\n                        }\r\n                    } else if (columnIndex === boundaryNonFixedColumnsInfo.endColumnIndex) {\r\n                        position = {\r\n                            collision: \"none flip\",\r\n                            my: \"top right\",\r\n                            at: isRevertButton || isOverlayVisible ? \"top left\" : \"bottom right\"\r\n                        };\r\n                        if (isRevertButton) {\r\n                            position.offset = \"-1 0\"\r\n                        }\r\n                    }\r\n                    return position && {\r\n                        position: position,\r\n                        maxWidth: needMaxWidth ? visibleTableWidth - 2 : void 0\r\n                    }\r\n                },\r\n                _shiftValidationMessageIfNeed: function($content, $revertContent, $cell) {\r\n                    if (!$revertContent) {\r\n                        return\r\n                    }\r\n                    var contentOffset = $content.offset();\r\n                    var revertContentOffset = $revertContent.offset();\r\n                    if (contentOffset.top === revertContentOffset.top && contentOffset.left + getWidth($content) > revertContentOffset.left) {\r\n                        var left = getWidth($revertContent) + PADDING_BETWEEN_TOOLTIPS;\r\n                        $content.css(\"left\", revertContentOffset.left < $cell.offset().left ? -left : left)\r\n                    }\r\n                },\r\n                _getTooltipsSelector: function() {\r\n                    var invalidMessageClass = this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS);\r\n                    var revertTooltipClass = this.addWidgetPrefix(REVERT_TOOLTIP_CLASS);\r\n                    return \".dx-editor-cell .\" + revertTooltipClass + \", .dx-editor-cell .\" + invalidMessageClass + \", .dx-cell-modified .\" + invalidMessageClass\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this._columnsController = this.getController(\"columns\");\r\n                    this._rowsView = this.getView(\"rowsView\")\r\n                },\r\n                loseFocus: function(skipValidator) {\r\n                    if (!skipValidator) {\r\n                        this.getController(\"validating\").setValidator(null)\r\n                    }\r\n                    this.callBase()\r\n                },\r\n                updateCellState: function($element, validationResult, hideBorder) {\r\n                    var _change$data;\r\n                    var $focus = null === $element || void 0 === $element ? void 0 : $element.closest(this._getFocusCellSelector());\r\n                    var $cell = null !== $focus && void 0 !== $focus && $focus.is(\"td\") ? $focus : null;\r\n                    var rowOptions = null === $focus || void 0 === $focus ? void 0 : $focus.closest(\".dx-row\").data(\"options\");\r\n                    var change = rowOptions ? this.getController(\"editing\").getChangeByKey(rowOptions.key) : null;\r\n                    var column = $cell && this.getController(\"columns\").getVisibleColumns()[$cell.index()];\r\n                    var isCellModified = void 0 !== (null === change || void 0 === change ? void 0 : null === (_change$data = change.data) || void 0 === _change$data ? void 0 : _change$data[null === column || void 0 === column ? void 0 : column.name]) && !this._editingController.isSaving();\r\n                    var revertTooltip;\r\n                    if ((null === validationResult || void 0 === validationResult ? void 0 : validationResult.status) === VALIDATION_STATUS.invalid || isCellModified) {\r\n                        if (this._editingController.getEditMode() === EDIT_MODE_CELL) {\r\n                            revertTooltip = this._showRevertButton($focus)\r\n                        }\r\n                    }\r\n                    var showValidationMessage = validationResult && validationResult.status === VALIDATION_STATUS.invalid;\r\n                    if (showValidationMessage && $cell && column && validationResult && validationResult.brokenRules) {\r\n                        var errorMessages = [];\r\n                        validationResult.brokenRules.forEach((function(rule) {\r\n                            if (rule.message) {\r\n                                errorMessages.push(rule.message)\r\n                            }\r\n                        }));\r\n                        if (errorMessages.length) {\r\n                            this._showValidationMessage($focus, errorMessages, column.alignment || \"left\", revertTooltip)\r\n                        }\r\n                    }!hideBorder && this._rowsView.element() && this._rowsView.updateFreeSpaceRowHeight()\r\n                },\r\n                focus: function($element, hideBorder) {\r\n                    if (!arguments.length) {\r\n                        return this.callBase()\r\n                    }\r\n                    var $tooltips = $element && $element.closest(\".\" + this.addWidgetPrefix(ROWS_VIEW_CLASS)).find(this._getTooltipsSelector());\r\n                    $tooltips && $tooltips.remove();\r\n                    if (null !== $element && void 0 !== $element && $element.hasClass(\"dx-row\")) {\r\n                        return this.callBase($element, hideBorder)\r\n                    }\r\n                    var $focus = null === $element || void 0 === $element ? void 0 : $element.closest(this._getFocusCellSelector());\r\n                    var callBase = this.callBase;\r\n                    var validator = $focus && ($focus.data(\"dxValidator\") || $element.find(\".\" + this.addWidgetPrefix(VALIDATOR_CLASS)).eq(0).data(\"dxValidator\"));\r\n                    var rowOptions = $focus && $focus.closest(\".dx-row\").data(\"options\");\r\n                    var editingController = this.getController(\"editing\");\r\n                    var change = rowOptions ? editingController.getChangeByKey(rowOptions.key) : null;\r\n                    var validationResult;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    if (validator) {\r\n                        validatingController.setValidator(validator);\r\n                        var value = validator.option(\"adapter\").getValue();\r\n                        if (cellValueShouldBeValidated(value, rowOptions) || validatingController._rowIsValidated(change)) {\r\n                            editingController.waitForDeferredOperations().done(() => {\r\n                                when(validatingController.validateCell(validator)).done(result => {\r\n                                    validationResult = result;\r\n                                    var column = validationResult.validator.option(\"dataGetter\")().column;\r\n                                    if (change && column && !validatingController.isCurrentValidatorProcessing({\r\n                                            rowKey: change.key,\r\n                                            columnIndex: column.index\r\n                                        })) {\r\n                                        return\r\n                                    }\r\n                                    if (validationResult.status === VALIDATION_STATUS.invalid) {\r\n                                        hideBorder = true\r\n                                    }\r\n                                    this.updateCellState($element, validationResult, hideBorder);\r\n                                    callBase.call(this, $element, hideBorder)\r\n                                })\r\n                            });\r\n                            return this.callBase($element, hideBorder)\r\n                        }\r\n                    }\r\n                    this.updateCellState($element, validationResult, hideBorder);\r\n                    return this.callBase($element, hideBorder)\r\n                },\r\n                getEditorInstance: function($container) {\r\n                    var $editor = $container.find(\".dx-texteditor\").eq(0);\r\n                    return gridCoreUtils.getWidgetInstance($editor)\r\n                }\r\n            },\r\n            data: {\r\n                _isCellChanged: function(oldRow, newRow, visibleRowIndex, columnIndex, isLiveUpdate) {\r\n                    var _oldRow$cells, _cell$column$validati;\r\n                    var cell = null === (_oldRow$cells = oldRow.cells) || void 0 === _oldRow$cells ? void 0 : _oldRow$cells[columnIndex];\r\n                    var oldValidationStatus = cell && cell.validationStatus;\r\n                    var validatingController = this.getController(\"validating\");\r\n                    var validationResult = validatingController.getCellValidationResult({\r\n                        rowKey: oldRow.key,\r\n                        columnIndex: columnIndex\r\n                    });\r\n                    var validationData = validatingController._getValidationData(oldRow.key);\r\n                    var newValidationStatus = validationResultIsValid(validationResult) ? validationResult.status : validationResult;\r\n                    var rowIsModified = JSON.stringify(newRow.modifiedValues) !== JSON.stringify(oldRow.modifiedValues);\r\n                    var cellIsMarkedAsInvalid = $(null === cell || void 0 === cell ? void 0 : cell.cellElement).hasClass(this.addWidgetPrefix(INVALIDATE_CLASS));\r\n                    var editingChanged = oldRow.isEditing !== newRow.isEditing;\r\n                    var hasValidationRules = null === cell || void 0 === cell ? void 0 : null === (_cell$column$validati = cell.column.validationRules) || void 0 === _cell$column$validati ? void 0 : _cell$column$validati.length;\r\n                    if (editingChanged && hasValidationRules || oldValidationStatus !== newValidationStatus && rowIsModified || validationData.isValid && cellIsMarkedAsInvalid) {\r\n                        return true\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                updateFreeSpaceRowHeight: function($table) {\r\n                    var $rowElements;\r\n                    var $freeSpaceRowElement;\r\n                    var $freeSpaceRowElements;\r\n                    var $element = this.element();\r\n                    var $tooltipContent = $element && $element.find(\".\" + this.addWidgetPrefix(WIDGET_INVALID_MESSAGE_CLASS) + \" .dx-overlay-content\");\r\n                    this.callBase($table);\r\n                    if ($tooltipContent && $tooltipContent.length) {\r\n                        $rowElements = this._getRowElements();\r\n                        $freeSpaceRowElements = this._getFreeSpaceRowElements($table);\r\n                        $freeSpaceRowElement = $freeSpaceRowElements.first();\r\n                        if ($freeSpaceRowElement && 1 === $rowElements.length && (!$freeSpaceRowElement.is(\":visible\") || getOuterHeight($tooltipContent) > getOuterHeight($freeSpaceRowElement))) {\r\n                            $freeSpaceRowElements.show();\r\n                            setHeight($freeSpaceRowElements, getOuterHeight($tooltipContent));\r\n                            return true\r\n                        }\r\n                    }\r\n                },\r\n                _formItemPrepared: function(cellOptions, $container) {\r\n                    this.callBase.apply(this, arguments);\r\n                    deferUpdate(() => {\r\n                        var $editor = $container.find(\".dx-widget\").first();\r\n                        var isEditorDisposed = $editor.length && !$editor.children().length;\r\n                        if (!isEditorDisposed) {\r\n                            this.getController(\"validating\").createValidator(cellOptions, $editor)\r\n                        }\r\n                    })\r\n                },\r\n                _cellPrepared: function($cell, parameters) {\r\n                    if (!this.getController(\"editing\").isFormOrPopupEditMode()) {\r\n                        this.getController(\"validating\").createValidator(parameters, $cell)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _restoreErrorRow: function(contentTable) {\r\n                    var editingController = this.getController(\"editing\");\r\n                    editingController && editingController.hasChanges() && this._getRowElements(contentTable).each((_, item) => {\r\n                        var rowOptions = $(item).data(\"options\");\r\n                        if (rowOptions) {\r\n                            var change = editingController.getChangeByKey(rowOptions.key);\r\n                            change && editingController._showErrorRow(change)\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.validating.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    validatingModule\r\n} from \"../grid_core/ui.grid_core.validating\";\r\ngridCore.registerModule(\"validating\", validatingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid.core.virtual_data_loader.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isObject,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar needTwoPagesLoading = that => that.option(\"scrolling.loadTwoPagesOnStart\") || that._controller.isVirtual() || that._controller.getViewportItemIndex() > 0;\r\nvar getBeginPageIndex = that => that._cache.length ? that._cache[0].pageIndex : -1;\r\nvar getEndPageIndex = that => that._cache.length ? that._cache[that._cache.length - 1].pageIndex : -1;\r\nvar fireChanged = (that, changed, args) => {\r\n    that._isChangedFiring = true;\r\n    changed(args);\r\n    that._isChangedFiring = false\r\n};\r\nvar processDelayChanged = (that, changed, args) => {\r\n    if (that._isDelayChanged) {\r\n        that._isDelayChanged = false;\r\n        fireChanged(that, changed, args);\r\n        return true\r\n    }\r\n};\r\nvar getViewportPageCount = that => {\r\n    var pageSize = that._dataOptions.pageSize();\r\n    var preventPreload = that.option(\"scrolling.preventPreload\");\r\n    if (preventPreload) {\r\n        return 0\r\n    }\r\n    var realViewportSize = that._controller.viewportSize();\r\n    if (that._controller.isVirtualMode() && that.option(\"scrolling.removeInvisiblePages\")) {\r\n        realViewportSize = 0;\r\n        var viewportSize = that._controller.viewportSize() * that._controller.viewportItemSize();\r\n        var offset = that._controller.getContentOffset();\r\n        var position = that._controller.getViewportPosition();\r\n        var virtualItemsCount = that._controller.virtualItemsCount();\r\n        var totalItemsCount = that._dataOptions.totalItemsCount();\r\n        for (var itemIndex = virtualItemsCount.begin; itemIndex < totalItemsCount; itemIndex++) {\r\n            if (offset >= position + viewportSize) {\r\n                break\r\n            }\r\n            var itemSize = that._controller.getItemSizes()[itemIndex] || that._controller.viewportItemSize();\r\n            offset += itemSize;\r\n            if (offset >= position) {\r\n                realViewportSize++\r\n            }\r\n        }\r\n    }\r\n    return pageSize && realViewportSize > 0 ? Math.ceil(realViewportSize / pageSize) : 1\r\n};\r\nvar getPreloadPageCount = (that, previous) => {\r\n    var preloadEnabled = that.option(\"scrolling.preloadEnabled\");\r\n    var pageCount = getViewportPageCount(that);\r\n    var isAppendMode = that._controller.isAppendMode();\r\n    if (pageCount) {\r\n        if (previous) {\r\n            pageCount = preloadEnabled ? 1 : 0\r\n        } else {\r\n            if (preloadEnabled) {\r\n                pageCount++\r\n            }\r\n            if (isAppendMode || !needTwoPagesLoading(that)) {\r\n                pageCount--\r\n            }\r\n        }\r\n    }\r\n    return pageCount\r\n};\r\nvar getPageIndexForLoad = that => {\r\n    var result = -1;\r\n    var beginPageIndex = getBeginPageIndex(that);\r\n    var dataOptions = that._dataOptions;\r\n    if (beginPageIndex < 0) {\r\n        result = that._pageIndex\r\n    } else if (!that._cache[that._pageIndex - beginPageIndex]) {\r\n        result = that._pageIndex\r\n    } else if (beginPageIndex >= 0 && that._controller.viewportSize() >= 0) {\r\n        if (beginPageIndex > 0) {\r\n            var needToLoadPageBeforeLast = getEndPageIndex(that) + 1 === dataOptions.pageCount() && that._cache.length < getPreloadPageCount(that) + 1;\r\n            var needToLoadPrevPage = needToLoadPageBeforeLast || that._pageIndex === beginPageIndex && getPreloadPageCount(that, true);\r\n            if (needToLoadPrevPage) {\r\n                result = beginPageIndex - 1\r\n            }\r\n        }\r\n        if (result < 0) {\r\n            var needToLoadNextPage = beginPageIndex + that._cache.length <= that._pageIndex + getPreloadPageCount(that);\r\n            if (needToLoadNextPage) {\r\n                result = beginPageIndex + that._cache.length\r\n            }\r\n        }\r\n    }\r\n    if (that._loadingPageIndexes[result]) {\r\n        result = -1\r\n    }\r\n    return result\r\n};\r\nvar loadCore = (that, pageIndex) => {\r\n    var dataOptions = that._dataOptions;\r\n    if (pageIndex === that.pageIndex() || !dataOptions.isLoading() && pageIndex < dataOptions.pageCount() || !dataOptions.hasKnownLastPage() && pageIndex === dataOptions.pageCount()) {\r\n        dataOptions.pageIndex(pageIndex);\r\n        that._loadingPageIndexes[pageIndex] = true;\r\n        return when(dataOptions.load()).always(() => {\r\n            that._loadingPageIndexes[pageIndex] = false\r\n        })\r\n    }\r\n};\r\nvar processChanged = (that, changed, changeType, isDelayChanged, removeCacheItem) => {\r\n    var dataOptions = that._dataOptions;\r\n    var items = dataOptions.items().slice();\r\n    var change = isObject(changeType) ? changeType : void 0;\r\n    var isPrepend = \"prepend\" === changeType;\r\n    var viewportItems = dataOptions.viewportItems();\r\n    if (changeType && isString(changeType) && !that._isDelayChanged) {\r\n        change = {\r\n            changeType: changeType,\r\n            items: items\r\n        };\r\n        if (removeCacheItem) {\r\n            change.removeCount = removeCacheItem.itemsCount;\r\n            if (change.removeCount && dataOptions.correctCount) {\r\n                change.removeCount = dataOptions.correctCount(viewportItems, change.removeCount, isPrepend)\r\n            }\r\n        }\r\n    }\r\n    var removeItemCount = removeCacheItem ? removeCacheItem.itemsLength : 0;\r\n    if (removeItemCount && dataOptions.correctCount) {\r\n        removeItemCount = dataOptions.correctCount(viewportItems, removeItemCount, isPrepend)\r\n    }\r\n    if (\"append\" === changeType) {\r\n        viewportItems.push.apply(viewportItems, items);\r\n        if (removeCacheItem) {\r\n            viewportItems.splice(0, removeItemCount)\r\n        }\r\n    } else if (isPrepend) {\r\n        viewportItems.unshift.apply(viewportItems, items);\r\n        if (removeCacheItem) {\r\n            viewportItems.splice(-removeItemCount)\r\n        }\r\n    } else {\r\n        that._dataOptions.viewportItems(items)\r\n    }\r\n    dataOptions.updateLoading();\r\n    that._lastPageIndex = that.pageIndex();\r\n    that._isDelayChanged = isDelayChanged;\r\n    if (!isDelayChanged) {\r\n        fireChanged(that, changed, change)\r\n    }\r\n};\r\nexport class VirtualDataLoader {\r\n    constructor(controller, dataOptions) {\r\n        this._controller = controller;\r\n        this._dataOptions = dataOptions;\r\n        this._pageIndex = this._lastPageIndex = dataOptions.pageIndex();\r\n        this._cache = [];\r\n        this._loadingPageIndexes = {}\r\n    }\r\n    option() {\r\n        return this._controller.option.apply(this._controller, arguments)\r\n    }\r\n    viewportItemIndexChanged(itemIndex) {\r\n        var pageSize = this._dataOptions.pageSize();\r\n        var pageCount = this._dataOptions.pageCount();\r\n        var virtualMode = this._controller.isVirtualMode();\r\n        var appendMode = this._controller.isAppendMode();\r\n        var totalItemsCount = this._dataOptions.totalItemsCount();\r\n        var newPageIndex;\r\n        if (pageSize && (virtualMode || appendMode) && totalItemsCount >= 0) {\r\n            var viewportSize = this._controller.viewportSize();\r\n            if (viewportSize && itemIndex + viewportSize >= totalItemsCount && !this._controller.isVirtual()) {\r\n                if (this._dataOptions.hasKnownLastPage()) {\r\n                    newPageIndex = pageCount - 1;\r\n                    var lastPageSize = totalItemsCount % pageSize;\r\n                    if (newPageIndex > 0 && lastPageSize > 0 && lastPageSize < viewportSize) {\r\n                        newPageIndex--\r\n                    }\r\n                } else {\r\n                    newPageIndex = pageCount\r\n                }\r\n            } else {\r\n                newPageIndex = Math.floor(itemIndex / pageSize);\r\n                var maxPageIndex = pageCount - 1;\r\n                newPageIndex = Math.max(newPageIndex, 0);\r\n                newPageIndex = Math.min(newPageIndex, maxPageIndex)\r\n            }\r\n            this.pageIndex(newPageIndex);\r\n            return this.load()\r\n        }\r\n    }\r\n    pageIndex(pageIndex) {\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if (false !== this.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            if (void 0 !== pageIndex) {\r\n                this._pageIndex = pageIndex\r\n            }\r\n            return this._pageIndex\r\n        } else {\r\n            return this._dataOptions.pageIndex(pageIndex)\r\n        }\r\n    }\r\n    beginPageIndex(defaultPageIndex) {\r\n        var beginPageIndex = getBeginPageIndex(this);\r\n        if (beginPageIndex < 0) {\r\n            beginPageIndex = void 0 !== defaultPageIndex ? defaultPageIndex : this.pageIndex()\r\n        }\r\n        return beginPageIndex\r\n    }\r\n    endPageIndex() {\r\n        var endPageIndex = getEndPageIndex(this);\r\n        return endPageIndex > 0 ? endPageIndex : this._lastPageIndex\r\n    }\r\n    pageSize() {\r\n        return this._dataOptions.pageSize()\r\n    }\r\n    load() {\r\n        var dataOptions = this._dataOptions;\r\n        var result;\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if (false !== this.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            var pageIndexForLoad = getPageIndexForLoad(this);\r\n            if (pageIndexForLoad >= 0) {\r\n                var loadResult = loadCore(this, pageIndexForLoad);\r\n                if (loadResult) {\r\n                    result = new Deferred;\r\n                    loadResult.done(() => {\r\n                        var delayDeferred = this._delayDeferred;\r\n                        if (delayDeferred) {\r\n                            delayDeferred.done(result.resolve).fail(result.reject)\r\n                        } else {\r\n                            result.resolve()\r\n                        }\r\n                    }).fail(result.reject);\r\n                    dataOptions.updateLoading()\r\n                }\r\n            }\r\n        } else {\r\n            result = dataOptions.load()\r\n        }\r\n        if (!result && this._lastPageIndex !== this.pageIndex()) {\r\n            this._dataOptions.onChanged({\r\n                changeType: \"pageIndex\"\r\n            })\r\n        }\r\n        return result || (new Deferred).resolve()\r\n    }\r\n    loadIfNeed() {\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if ((isVirtualMode || isAppendMode) && !this._dataOptions.isLoading() && (!this._isChangedFiring || this._controller.isVirtual())) {\r\n            var position = this._controller.getViewportPosition();\r\n            if (position > 0) {\r\n                this._controller._setViewportPositionCore(position)\r\n            } else {\r\n                this.load()\r\n            }\r\n        }\r\n    }\r\n    handleDataChanged(callBase, e) {\r\n        var dataOptions = this._dataOptions;\r\n        var lastCacheLength = this._cache.length;\r\n        var changeType;\r\n        var removeInvisiblePages;\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        var isAppendMode = this._controller.isAppendMode();\r\n        if (e && e.changes) {\r\n            fireChanged(this, callBase, e)\r\n        } else if (false !== this.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            var beginPageIndex = getBeginPageIndex(this);\r\n            if (beginPageIndex >= 0) {\r\n                if (isVirtualMode && beginPageIndex + this._cache.length !== dataOptions.pageIndex() && beginPageIndex - 1 !== dataOptions.pageIndex()) {\r\n                    lastCacheLength = 0;\r\n                    this._cache = []\r\n                }\r\n                if (isAppendMode) {\r\n                    if (0 === dataOptions.pageIndex()) {\r\n                        this._cache = []\r\n                    } else if (dataOptions.pageIndex() < getEndPageIndex(this)) {\r\n                        fireChanged(this, callBase, {\r\n                            changeType: \"append\",\r\n                            items: []\r\n                        });\r\n                        return\r\n                    }\r\n                }\r\n            }\r\n            var cacheItem = {\r\n                pageIndex: dataOptions.pageIndex(),\r\n                itemsLength: dataOptions.items(true).length,\r\n                itemsCount: this.itemsCount(true)\r\n            };\r\n            if (this.option(\"scrolling.removeInvisiblePages\") && isVirtualMode) {\r\n                removeInvisiblePages = this._cache.length > Math.max(getPreloadPageCount(this) + (this.option(\"scrolling.preloadEnabled\") ? 1 : 0), 2)\r\n            } else {\r\n                processDelayChanged(this, callBase, {\r\n                    isDelayed: true\r\n                })\r\n            }\r\n            var removeCacheItem;\r\n            if (beginPageIndex === dataOptions.pageIndex() + 1) {\r\n                if (removeInvisiblePages) {\r\n                    removeCacheItem = this._cache.pop()\r\n                }\r\n                changeType = \"prepend\";\r\n                this._cache.unshift(cacheItem)\r\n            } else {\r\n                if (removeInvisiblePages) {\r\n                    removeCacheItem = this._cache.shift()\r\n                }\r\n                changeType = \"append\";\r\n                this._cache.push(cacheItem)\r\n            }\r\n            var isDelayChanged = isVirtualMode && 0 === lastCacheLength && needTwoPagesLoading(this);\r\n            processChanged(this, callBase, this._cache.length > 1 ? changeType : void 0, isDelayChanged, removeCacheItem);\r\n            this._delayDeferred = this.load().done(() => {\r\n                if (processDelayChanged(this, callBase)) {\r\n                    this.load()\r\n                }\r\n            })\r\n        } else {\r\n            processChanged(this, callBase, e)\r\n        }\r\n    }\r\n    getDelayDeferred() {\r\n        return this._delayDeferred\r\n    }\r\n    itemsCount(isBase) {\r\n        var itemsCount = 0;\r\n        var isVirtualMode = this._controller.isVirtualMode();\r\n        if (!isBase && isVirtualMode) {\r\n            this._cache.forEach(cacheItem => {\r\n                itemsCount += cacheItem.itemsCount\r\n            })\r\n        } else {\r\n            itemsCount = this._dataOptions.itemsCount()\r\n        }\r\n        return itemsCount\r\n    }\r\n    virtualItemsCount() {\r\n        var pageIndex = getBeginPageIndex(this);\r\n        if (pageIndex < 0) {\r\n            pageIndex = this._dataOptions.pageIndex()\r\n        }\r\n        var beginItemsCount = pageIndex * this._dataOptions.pageSize();\r\n        var itemsCount = this._cache.length * this._dataOptions.pageSize();\r\n        var endItemsCount = Math.max(0, this._dataOptions.totalItemsCount() - itemsCount - beginItemsCount);\r\n        return {\r\n            begin: beginItemsCount,\r\n            end: endItemsCount\r\n        }\r\n    }\r\n    reset() {\r\n        this._loadingPageIndexes = {};\r\n        this._cache = []\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_scrolling_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport positionUtils from \"../../animation/position\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport {\r\n    VirtualDataLoader\r\n} from \"./ui.grid.core.virtual_data_loader\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar _isVirtualMode = that => that.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL || that._isVirtual;\r\nvar _isAppendMode = that => that.option(\"scrolling.mode\") === SCROLLING_MODE_INFINITE && !that._isVirtual;\r\nexport function subscribeToExternalScrollers($element, scrollChangedHandler, $targetElement) {\r\n    var $scrollElement;\r\n    var scrollableArray = [];\r\n    var scrollToArray = [];\r\n    var disposeArray = [];\r\n    $targetElement = $targetElement || $element;\r\n\r\n    function getElementOffset(scrollable) {\r\n        var $scrollableElement = scrollable.element ? scrollable.$element() : scrollable;\r\n        var scrollableOffset = positionUtils.offset($scrollableElement);\r\n        if (!scrollableOffset) {\r\n            return $element.offset().top\r\n        }\r\n        return scrollable.scrollTop() - (scrollableOffset.top - $element.offset().top)\r\n    }\r\n    var widgetScrollStrategy = {\r\n        on: function(scrollable, eventName, handler) {\r\n            scrollable.on(\"scroll\", handler)\r\n        },\r\n        off: function(scrollable, eventName, handler) {\r\n            scrollable.off(\"scroll\", handler)\r\n        }\r\n    };\r\n\r\n    function subscribeToScrollEvents($scrollElement) {\r\n        var isDocument = \"#document\" === $scrollElement.get(0).nodeName;\r\n        var scrollable = $scrollElement.data(\"dxScrollable\");\r\n        var eventsStrategy = widgetScrollStrategy;\r\n        if (!scrollable) {\r\n            scrollable = isDocument && $(getWindow()) || \"auto\" === $scrollElement.css(\"overflowY\") && $scrollElement;\r\n            eventsStrategy = eventsEngine;\r\n            if (!scrollable) {\r\n                return\r\n            }\r\n        }\r\n        var handler = function(scrollable) {\r\n            return function() {\r\n                var scrollTop = scrollable.scrollTop() - getElementOffset(scrollable);\r\n                scrollTop = scrollTop > 0 ? scrollTop : 0;\r\n                scrollChangedHandler(scrollTop)\r\n            }\r\n        }(scrollable);\r\n        eventsStrategy.on(scrollable, \"scroll\", handler);\r\n        scrollToArray.push((function(pos) {\r\n            var topOffset = getElementOffset(scrollable);\r\n            var scrollMethod = scrollable.scrollTo ? \"scrollTo\" : \"scrollTop\";\r\n            if (pos - topOffset >= 0) {\r\n                scrollable[scrollMethod](pos + topOffset)\r\n            }\r\n        }));\r\n        scrollableArray.push(scrollable);\r\n        disposeArray.push((function() {\r\n            eventsStrategy.off(scrollable, \"scroll\", handler)\r\n        }))\r\n    }\r\n    for ($scrollElement = $targetElement.parent(); $scrollElement.length; $scrollElement = $scrollElement.parent()) {\r\n        subscribeToScrollEvents($scrollElement)\r\n    }\r\n    return {\r\n        scrollTo: function(pos) {\r\n            each(scrollToArray, (function(_, scrollTo) {\r\n                scrollTo(pos)\r\n            }))\r\n        },\r\n        dispose: function() {\r\n            each(disposeArray, (function(_, dispose) {\r\n                dispose()\r\n            }))\r\n        }\r\n    }\r\n}\r\nexport var VirtualScrollController = Class.inherit(function() {\r\n    var members = {\r\n        ctor: function(component, dataOptions, isVirtual) {\r\n            this._dataOptions = dataOptions;\r\n            this.component = component;\r\n            this._viewportSize = false === component.option(LEGACY_SCROLLING_MODE) ? 15 : 0;\r\n            this._viewportItemSize = 20;\r\n            this._viewportItemIndex = 0;\r\n            this._position = 0;\r\n            this._isScrollingBack = false;\r\n            this._contentSize = 0;\r\n            this._itemSizes = {};\r\n            this._sizeRatio = 1;\r\n            this._isVirtual = isVirtual;\r\n            this.positionChanged = Callbacks();\r\n            this._dataLoader = new VirtualDataLoader(this, this._dataOptions)\r\n        },\r\n        getItemSizes: function() {\r\n            return this._itemSizes\r\n        },\r\n        option: function() {\r\n            return this.component.option.apply(this.component, arguments)\r\n        },\r\n        isVirtual: function() {\r\n            return this._isVirtual\r\n        },\r\n        virtualItemsCount: function() {\r\n            if (_isVirtualMode(this)) {\r\n                var dataOptions = this._dataOptions;\r\n                var totalItemsCount = dataOptions.totalItemsCount();\r\n                if (false === this.option(LEGACY_SCROLLING_MODE) && -1 !== totalItemsCount) {\r\n                    var viewportParams = this.getViewportParams();\r\n                    var loadedOffset = dataOptions.loadedOffset();\r\n                    var loadedItemCount = dataOptions.loadedItemCount();\r\n                    var skip = Math.max(viewportParams.skip, loadedOffset);\r\n                    var take = Math.min(viewportParams.take, loadedItemCount);\r\n                    var endItemsCount = Math.max(totalItemsCount - (skip + take), 0);\r\n                    return {\r\n                        begin: skip,\r\n                        end: endItemsCount\r\n                    }\r\n                }\r\n                return this._dataLoader.virtualItemsCount.apply(this._dataLoader, arguments)\r\n            }\r\n        },\r\n        getScrollingTimeout: function() {\r\n            var renderAsync = this.option(\"scrolling.renderAsync\");\r\n            var scrollingTimeout = 0;\r\n            if (!isDefined(renderAsync)) {\r\n                scrollingTimeout = Math.min(this.option(\"scrolling.timeout\") || 0, this._dataOptions.changingDuration());\r\n                if (scrollingTimeout < this.option(\"scrolling.renderingThreshold\")) {\r\n                    scrollingTimeout = this.option(\"scrolling.minTimeout\") || 0\r\n                }\r\n            } else if (renderAsync) {\r\n                var _this$option;\r\n                scrollingTimeout = null !== (_this$option = this.option(\"scrolling.timeout\")) && void 0 !== _this$option ? _this$option : 0\r\n            }\r\n            return scrollingTimeout\r\n        },\r\n        setViewportPosition: function(position) {\r\n            var result = new Deferred;\r\n            var scrollingTimeout = this.getScrollingTimeout();\r\n            clearTimeout(this._scrollTimeoutID);\r\n            if (scrollingTimeout > 0) {\r\n                this._scrollTimeoutID = setTimeout(() => {\r\n                    this._setViewportPositionCore(position);\r\n                    result.resolve()\r\n                }, scrollingTimeout)\r\n            } else {\r\n                this._setViewportPositionCore(position);\r\n                result.resolve()\r\n            }\r\n            return result.promise()\r\n        },\r\n        getViewportPosition: function() {\r\n            return this._position\r\n        },\r\n        getItemIndexByPosition: function(position) {\r\n            var _position;\r\n            position = null !== (_position = position) && void 0 !== _position ? _position : this._position;\r\n            var defaultItemSize = this.getItemSize();\r\n            var offset = 0;\r\n            var itemOffset = 0;\r\n            var itemOffsetsWithSize = Object.keys(this._itemSizes).concat(-1);\r\n            for (var i = 0; i < itemOffsetsWithSize.length && offset < position; i++) {\r\n                var itemOffsetWithSize = parseInt(itemOffsetsWithSize[i]);\r\n                var itemOffsetDiff = (position - offset) / defaultItemSize;\r\n                if (itemOffsetWithSize < 0 || itemOffset + itemOffsetDiff < itemOffsetWithSize) {\r\n                    itemOffset += itemOffsetDiff;\r\n                    break\r\n                } else {\r\n                    itemOffsetDiff = itemOffsetWithSize - itemOffset;\r\n                    offset += itemOffsetDiff * defaultItemSize;\r\n                    itemOffset += itemOffsetDiff\r\n                }\r\n                var itemSize = this._itemSizes[itemOffsetWithSize];\r\n                offset += itemSize;\r\n                itemOffset += offset < position ? 1 : (position - offset + itemSize) / itemSize\r\n            }\r\n            return Math.round(50 * itemOffset) / 50\r\n        },\r\n        isScrollingBack: function() {\r\n            return this._isScrollingBack\r\n        },\r\n        _setViewportPositionCore: function(position) {\r\n            var prevPosition = this._position || 0;\r\n            this._position = position;\r\n            if (prevPosition !== this._position) {\r\n                this._isScrollingBack = this._position < prevPosition\r\n            }\r\n            var itemIndex = this.getItemIndexByPosition();\r\n            var result = this.setViewportItemIndex(itemIndex);\r\n            this.positionChanged.fire();\r\n            return result\r\n        },\r\n        setContentItemSizes: function(sizes) {\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            this._contentSize = sizes.reduce((a, b) => a + b, 0);\r\n            if (virtualItemsCount) {\r\n                sizes.forEach((size, index) => {\r\n                    this._itemSizes[virtualItemsCount.begin + index] = size\r\n                });\r\n                var virtualContentSize = (virtualItemsCount.begin + virtualItemsCount.end + this.itemsCount()) * this._viewportItemSize;\r\n                var contentHeightLimit = gridCoreUtils.getContentHeightLimit(browser);\r\n                if (virtualContentSize > contentHeightLimit) {\r\n                    this._sizeRatio = contentHeightLimit / virtualContentSize\r\n                } else {\r\n                    this._sizeRatio = 1\r\n                }\r\n            }\r\n        },\r\n        getItemSize: function() {\r\n            return this._viewportItemSize * this._sizeRatio\r\n        },\r\n        getItemOffset: function(itemIndex, isEnd) {\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            var itemCount = itemIndex;\r\n            if (!virtualItemsCount) {\r\n                return 0\r\n            }\r\n            var offset = 0;\r\n            var totalItemsCount = this._dataOptions.totalItemsCount();\r\n            Object.keys(this._itemSizes).forEach(currentItemIndex => {\r\n                if (!itemCount) {\r\n                    return\r\n                }\r\n                if (isEnd ? currentItemIndex >= totalItemsCount - itemIndex : currentItemIndex < itemIndex) {\r\n                    offset += this._itemSizes[currentItemIndex];\r\n                    itemCount--\r\n                }\r\n            });\r\n            return Math.floor(offset + itemCount * this._viewportItemSize * this._sizeRatio)\r\n        },\r\n        getContentOffset: function(type) {\r\n            var isEnd = \"end\" === type;\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            if (!virtualItemsCount) {\r\n                return 0\r\n            }\r\n            return this.getItemOffset(isEnd ? virtualItemsCount.end : virtualItemsCount.begin, isEnd)\r\n        },\r\n        getVirtualContentSize: function() {\r\n            var virtualItemsCount = this.virtualItemsCount();\r\n            return virtualItemsCount ? this.getContentOffset(\"begin\") + this.getContentOffset(\"end\") + this._contentSize : 0\r\n        },\r\n        getViewportItemIndex: function() {\r\n            return this._viewportItemIndex\r\n        },\r\n        setViewportItemIndex: function(itemIndex) {\r\n            this._viewportItemIndex = itemIndex;\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                return\r\n            }\r\n            return this._dataLoader.viewportItemIndexChanged.apply(this._dataLoader, arguments)\r\n        },\r\n        viewportItemSize: function(size) {\r\n            if (void 0 !== size) {\r\n                this._viewportItemSize = size\r\n            }\r\n            return this._viewportItemSize\r\n        },\r\n        viewportSize: function(size) {\r\n            if (void 0 !== size) {\r\n                this._viewportSize = size\r\n            }\r\n            return this._viewportSize\r\n        },\r\n        viewportHeight: function(height) {\r\n            var begin = this.getItemIndexByPosition();\r\n            var end = this.getItemIndexByPosition(this._position + height);\r\n            this.viewportSize(Math.ceil(end - begin));\r\n            if (this._viewportItemIndex !== begin) {\r\n                this._setViewportPositionCore(this._position)\r\n            }\r\n        },\r\n        reset: function(isRefresh) {\r\n            this._dataLoader.reset();\r\n            if (!isRefresh) {\r\n                this._itemSizes = {}\r\n            }\r\n        },\r\n        subscribeToWindowScrollEvents: function($element) {\r\n            this._windowScroll = this._windowScroll || subscribeToExternalScrollers($element, scrollTop => {\r\n                if (this.viewportItemSize()) {\r\n                    this.setViewportPosition(scrollTop)\r\n                }\r\n            })\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._scrollTimeoutID);\r\n            this._windowScroll && this._windowScroll.dispose();\r\n            this._windowScroll = null\r\n        },\r\n        scrollTo: function(pos) {\r\n            this._windowScroll && this._windowScroll.scrollTo(pos)\r\n        },\r\n        isVirtualMode: function() {\r\n            return _isVirtualMode(this)\r\n        },\r\n        isAppendMode: function() {\r\n            return _isAppendMode(this)\r\n        },\r\n        getViewportParams: function() {\r\n            var _this$option2;\r\n            var virtualMode = this.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL;\r\n            var totalItemsCount = this._dataOptions.totalItemsCount();\r\n            var hasKnownLastPage = this._dataOptions.hasKnownLastPage();\r\n            var topIndex = hasKnownLastPage && this._viewportItemIndex > totalItemsCount ? totalItemsCount : this._viewportItemIndex;\r\n            var bottomIndex = this._viewportSize + topIndex;\r\n            var maxGap = this.option(\"scrolling.prerenderedRowChunkSize\") || 1;\r\n            var isScrollingBack = this.isScrollingBack();\r\n            var minGap = null !== (_this$option2 = this.option(\"scrolling.prerenderedRowCount\")) && void 0 !== _this$option2 ? _this$option2 : 1;\r\n            var topMinGap = isScrollingBack ? minGap : 0;\r\n            var bottomMinGap = isScrollingBack ? 0 : minGap;\r\n            var skip = Math.floor(Math.max(0, topIndex - topMinGap) / maxGap) * maxGap;\r\n            var take = Math.ceil((bottomIndex + bottomMinGap - skip) / maxGap) * maxGap;\r\n            if (virtualMode) {\r\n                var remainedItems = Math.max(0, totalItemsCount - skip);\r\n                take = Math.min(take, remainedItems)\r\n            }\r\n            return {\r\n                skip: skip,\r\n                take: take\r\n            }\r\n        },\r\n        itemsCount: function() {\r\n            var result = 0;\r\n            if (this.option(LEGACY_SCROLLING_MODE)) {\r\n                result = this._dataLoader.itemsCount.apply(this._dataLoader, arguments)\r\n            } else {\r\n                result = this._dataOptions.itemsCount()\r\n            }\r\n            return result\r\n        }\r\n    };\r\n    [\"pageIndex\", \"beginPageIndex\", \"endPageIndex\", \"pageSize\", \"load\", \"loadIfNeed\", \"handleDataChanged\", \"getDelayDeferred\"].forEach((function(name) {\r\n        members[name] = function() {\r\n            return this._dataLoader[name].apply(this._dataLoader, arguments)\r\n        }\r\n    }));\r\n    return members\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_scrolling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    VirtualScrollController,\r\n    subscribeToExternalScrollers\r\n} from \"./ui.grid_core.virtual_scrolling_core\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport LoadIndicator from \"../load_indicator\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar BOTTOM_LOAD_PANEL_CLASS = \"bottom-load-panel\";\r\nvar TABLE_CONTENT_CLASS = \"table-content\";\r\nvar GROUP_SPACE_CLASS = \"group-space\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar FREESPACE_CLASS = \"dx-freespace-row\";\r\nvar COLUMN_LINES_CLASS = \"dx-column-lines\";\r\nvar VIRTUAL_ROW_CLASS = \"dx-virtual-row\";\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar LOAD_TIMEOUT = 300;\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar VISIBLE_PAGE_INDEX = \"paging.pageIndex\";\r\nvar isVirtualMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_VIRTUAL\r\n};\r\nvar isAppendMode = function(that) {\r\n    return that.option(\"scrolling.mode\") === SCROLLING_MODE_INFINITE\r\n};\r\nvar isVirtualPaging = function(that) {\r\n    return isVirtualMode(that) || isAppendMode(that)\r\n};\r\nvar _correctCount = function(items, count, fromEnd, isItemCountableFunc) {\r\n    for (var i = 0; i < count + 1; i++) {\r\n        var item = items[fromEnd ? items.length - 1 - i : i];\r\n        if (item && !isItemCountableFunc(item, i === count, fromEnd)) {\r\n            count++\r\n        }\r\n    }\r\n    return count\r\n};\r\nvar isItemCountableByDataSource = function(item, dataSource) {\r\n    return \"data\" === item.rowType && !item.isNewRow || \"group\" === item.rowType && dataSource.isGroupItemCountable(item.data)\r\n};\r\nvar updateItemIndices = function(items) {\r\n    items.forEach((function(item, index) {\r\n        item.rowIndex = index\r\n    }));\r\n    return items\r\n};\r\nvar VirtualScrollingDataSourceAdapterExtender = function() {\r\n    var _updateLoading = function(that) {\r\n        var beginPageIndex = that._virtualScrollController.beginPageIndex(-1);\r\n        if (isVirtualMode(that)) {\r\n            if (beginPageIndex < 0 || that.viewportSize() >= 0 && that.getViewportItemIndex() >= 0 && (beginPageIndex * that.pageSize() > that.getViewportItemIndex() || beginPageIndex * that.pageSize() + that.itemsCount() < that.getViewportItemIndex() + that.viewportSize()) && that._dataSource.isLoading()) {\r\n                if (!that._isLoading) {\r\n                    that._isLoading = true;\r\n                    that.loadingChanged.fire(true)\r\n                }\r\n            } else if (that._isLoading) {\r\n                that._isLoading = false;\r\n                that.loadingChanged.fire(false)\r\n            }\r\n        }\r\n    };\r\n    var result = {\r\n        init: function() {\r\n            this.callBase.apply(this, arguments);\r\n            this._items = [];\r\n            this._totalCount = -1;\r\n            this._isLoaded = true;\r\n            this._loadPageCount = 1;\r\n            this._virtualScrollController = new VirtualScrollController(this.component, this._getVirtualScrollDataOptions())\r\n        },\r\n        _getVirtualScrollDataOptions: function() {\r\n            var that = this;\r\n            return {\r\n                pageSize: function() {\r\n                    return that.pageSize()\r\n                },\r\n                totalItemsCount: function() {\r\n                    return that.totalItemsCount()\r\n                },\r\n                hasKnownLastPage: function() {\r\n                    return that.hasKnownLastPage()\r\n                },\r\n                pageIndex: function(index) {\r\n                    return that._dataSource.pageIndex(index)\r\n                },\r\n                isLoading: function() {\r\n                    return that._dataSource.isLoading() && !that.isCustomLoading()\r\n                },\r\n                pageCount: function() {\r\n                    return that.pageCount()\r\n                },\r\n                load: function() {\r\n                    return that._dataSource.load()\r\n                },\r\n                updateLoading: function() {\r\n                    _updateLoading(that)\r\n                },\r\n                itemsCount: function() {\r\n                    return that.itemsCount(true)\r\n                },\r\n                items: function() {\r\n                    return that._dataSource.items()\r\n                },\r\n                viewportItems: function(items) {\r\n                    if (items) {\r\n                        that._items = items\r\n                    }\r\n                    return that._items\r\n                },\r\n                onChanged: function(e) {\r\n                    that.changed.fire(e)\r\n                },\r\n                changingDuration: function(e) {\r\n                    if (that.isLoading()) {\r\n                        return LOAD_TIMEOUT\r\n                    }\r\n                    return that._renderTime || 0\r\n                }\r\n            }\r\n        },\r\n        _handleLoadingChanged: function(isLoading) {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n            }\r\n            if (!isVirtualMode(this) || this._isLoadingAll) {\r\n                this._isLoading = isLoading;\r\n                this.callBase.apply(this, arguments)\r\n            }\r\n            if (isLoading) {\r\n                this._startLoadTime = new Date\r\n            } else {\r\n                this._startLoadTime = void 0\r\n            }\r\n        },\r\n        _handleLoadError: function() {\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                this._isLoading = false;\r\n                this.loadingChanged.fire(false)\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _handleDataChanged: function(e) {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                this._items = this._dataSource.items().slice();\r\n                this._totalCount = this._dataSourceTotalCount(true);\r\n                this.callBase.apply(this, arguments);\r\n                return\r\n            }\r\n            var callBase = this.callBase.bind(this);\r\n            this._virtualScrollController.handleDataChanged(callBase, e)\r\n        },\r\n        _customizeRemoteOperations: function(options, operationTypes) {\r\n            var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n            var renderAsync = this.option(\"scrolling.renderAsync\");\r\n            if (!isDefined(renderAsync)) {\r\n                renderAsync = this._renderTime >= this.option(\"scrolling.renderingThreshold\")\r\n            }\r\n            if ((isVirtualMode(this) || isAppendMode(this) && newMode) && !operationTypes.reload && (operationTypes.skip || newMode) && !renderAsync) {\r\n                options.delay = void 0\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        items: function() {\r\n            return this._items\r\n        },\r\n        _dataSourceTotalCount: function(isBase) {\r\n            return false === this.option(LEGACY_SCROLLING_MODE) && isVirtualMode(this) && !isBase ? this._totalCount : this.callBase()\r\n        },\r\n        itemsCount: function(isBase) {\r\n            if (isBase || false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                return this.callBase()\r\n            }\r\n            return this._virtualScrollController.itemsCount()\r\n        },\r\n        load: function(loadOptions) {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE) || loadOptions) {\r\n                return this.callBase(loadOptions)\r\n            }\r\n            return this._virtualScrollController.load()\r\n        },\r\n        isLoading: function() {\r\n            return false === this.option(LEGACY_SCROLLING_MODE) ? this._dataSource.isLoading() : this._isLoading\r\n        },\r\n        isLoaded: function() {\r\n            return this._dataSource.isLoaded() && this._isLoaded\r\n        },\r\n        resetPagesCache: function(isLiveUpdate) {\r\n            if (!isLiveUpdate) {\r\n                this._virtualScrollController.reset(true)\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _changeRowExpandCore: function() {\r\n            var result = this.callBase.apply(this, arguments);\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                return result\r\n            }\r\n            this.resetPagesCache();\r\n            _updateLoading(this);\r\n            return result\r\n        },\r\n        reload: function() {\r\n            this._dataSource.pageIndex(this.pageIndex());\r\n            var virtualScrollController = this._virtualScrollController;\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE) && virtualScrollController) {\r\n                var d = new Deferred;\r\n                this.callBase.apply(this, arguments).done((function(r) {\r\n                    var delayDeferred = virtualScrollController.getDelayDeferred();\r\n                    if (delayDeferred) {\r\n                        delayDeferred.done(d.resolve).fail(d.reject)\r\n                    } else {\r\n                        d.resolve(r)\r\n                    }\r\n                })).fail(d.reject);\r\n                return d\r\n            } else {\r\n                return this.callBase.apply(this, arguments)\r\n            }\r\n        },\r\n        refresh: function(options, operationTypes) {\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                var storeLoadOptions = options.storeLoadOptions;\r\n                var dataSource = this._dataSource;\r\n                if (operationTypes.reload) {\r\n                    this._virtualScrollController.reset();\r\n                    dataSource.items().length = 0;\r\n                    this._isLoaded = false;\r\n                    _updateLoading(this);\r\n                    this._isLoaded = true;\r\n                    if (isAppendMode(this)) {\r\n                        this.pageIndex(0);\r\n                        dataSource.pageIndex(0);\r\n                        storeLoadOptions.pageIndex = 0;\r\n                        options.pageIndex = 0;\r\n                        storeLoadOptions.skip = 0\r\n                    } else {\r\n                        dataSource.pageIndex(this.pageIndex());\r\n                        if (dataSource.paginate()) {\r\n                            options.pageIndex = this.pageIndex();\r\n                            storeLoadOptions.skip = this.pageIndex() * this.pageSize()\r\n                        }\r\n                    }\r\n                } else if (isAppendMode(this) && storeLoadOptions.skip && this._totalCountCorrection < 0) {\r\n                    storeLoadOptions.skip += this._totalCountCorrection\r\n                }\r\n            }\r\n            return this.callBase.apply(this, arguments)\r\n        },\r\n        dispose: function() {\r\n            this._virtualScrollController.dispose();\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        loadPageCount: function(count) {\r\n            if (!isDefined(count)) {\r\n                return this._loadPageCount\r\n            }\r\n            this._loadPageCount = count\r\n        },\r\n        _handleDataLoading: function(options) {\r\n            var loadPageCount = this.loadPageCount();\r\n            var pageSize = this.pageSize();\r\n            var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n            var storeLoadOptions = options.storeLoadOptions;\r\n            var takeIsDefined = isDefined(storeLoadOptions.take);\r\n            options.loadPageCount = loadPageCount;\r\n            if (!options.isCustomLoading && newMode && takeIsDefined && loadPageCount > 1 && pageSize > 0) {\r\n                storeLoadOptions.take = loadPageCount * pageSize\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _loadPageSize: function() {\r\n            return this.callBase.apply(this, arguments) * this.loadPageCount()\r\n        }\r\n    };\r\n    [\"beginPageIndex\", \"endPageIndex\", \"pageIndex\"].forEach((function(name) {\r\n        result[name] = function() {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                var dataSource = this._dataSource;\r\n                return dataSource.pageIndex.apply(dataSource, arguments)\r\n            }\r\n            var virtualScrollController = this._virtualScrollController;\r\n            return virtualScrollController[name].apply(virtualScrollController, arguments)\r\n        }\r\n    }));\r\n    [\"virtualItemsCount\", \"getContentOffset\", \"getVirtualContentSize\", \"setContentItemSizes\", \"setViewportPosition\", \"getViewportItemIndex\", \"setViewportItemIndex\", \"getItemIndexByPosition\", \"viewportSize\", \"viewportItemSize\", \"getItemSize\", \"getItemSizes\", \"loadIfNeed\"].forEach((function(name) {\r\n        result[name] = function() {\r\n            var virtualScrollController = this._virtualScrollController;\r\n            return virtualScrollController[name].apply(virtualScrollController, arguments)\r\n        }\r\n    }));\r\n    return result\r\n}();\r\nvar VirtualScrollingRowsViewExtender = function() {\r\n    var removeEmptyRows = function($emptyRows, className) {\r\n        var tBodies = $emptyRows.toArray().map(row => $(row).parent(\".\" + className).get(0)).filter(row => row);\r\n        if (tBodies.length) {\r\n            $emptyRows = $(tBodies)\r\n        }\r\n        var rowCount = className === FREESPACE_CLASS ? $emptyRows.length - 1 : $emptyRows.length;\r\n        for (var i = 0; i < rowCount; i++) {\r\n            $emptyRows.eq(i).remove()\r\n        }\r\n    };\r\n    return {\r\n        init: function() {\r\n            var _dataController$state;\r\n            var dataController = this.getController(\"data\");\r\n            this.callBase();\r\n            dataController.pageChanged.add(pageIndex => {\r\n                this.scrollToPage(null !== pageIndex && void 0 !== pageIndex ? pageIndex : dataController.pageIndex())\r\n            });\r\n            dataController.dataSourceChanged.add(() => {\r\n                !this._scrollTop && this._scrollToCurrentPageOnResize()\r\n            });\r\n            null === (_dataController$state = dataController.stateLoaded) || void 0 === _dataController$state ? void 0 : _dataController$state.add(() => {\r\n                this._scrollToCurrentPageOnResize()\r\n            });\r\n            this._scrollToCurrentPageOnResize()\r\n        },\r\n        _scrollToCurrentPageOnResize: function() {\r\n            var dataController = this.getController(\"data\");\r\n            if (dataController.pageIndex() > 0) {\r\n                var resizeHandler = () => {\r\n                    this.resizeCompleted.remove(resizeHandler);\r\n                    this.scrollToPage(dataController.pageIndex())\r\n                };\r\n                this.resizeCompleted.add(resizeHandler)\r\n            }\r\n        },\r\n        scrollToPage: function(pageIndex) {\r\n            var dataController = this._dataController;\r\n            var pageSize = dataController ? dataController.pageSize() : 0;\r\n            var scrollPosition;\r\n            if (isVirtualMode(this) || isAppendMode(this)) {\r\n                var itemSize = dataController.getItemSize();\r\n                var itemSizes = dataController.getItemSizes();\r\n                var itemIndex = pageIndex * pageSize;\r\n                scrollPosition = itemIndex * itemSize;\r\n                for (var index in itemSizes) {\r\n                    if (index < itemIndex) {\r\n                        scrollPosition += itemSizes[index] - itemSize\r\n                    }\r\n                }\r\n            } else {\r\n                scrollPosition = 0\r\n            }\r\n            this.scrollTo({\r\n                y: scrollPosition,\r\n                x: this._scrollLeft\r\n            })\r\n        },\r\n        renderDelayedTemplates: function(e) {\r\n            this._updateContentPosition(true);\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _renderCore: function(e) {\r\n            var startRenderTime = new Date;\r\n            this.callBase.apply(this, arguments);\r\n            var dataSource = this._dataController._dataSource;\r\n            if (dataSource && e) {\r\n                var itemCount = e.items ? e.items.length : 20;\r\n                var viewportSize = this._dataController.viewportSize() || 20;\r\n                if (gridCoreUtils.isVirtualRowRendering(this) && itemCount > 0 && false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                    dataSource._renderTime = (new Date - startRenderTime) * viewportSize / itemCount\r\n                } else {\r\n                    dataSource._renderTime = new Date - startRenderTime\r\n                }\r\n            }\r\n        },\r\n        _getRowElements: function(tableElement) {\r\n            var $rows = this.callBase(tableElement);\r\n            return $rows && $rows.not(\".\" + VIRTUAL_ROW_CLASS)\r\n        },\r\n        _removeRowsElements: function(contentTable, removeCount, changeType) {\r\n            var rowElements = this._getRowElements(contentTable).toArray();\r\n            if (\"append\" === changeType) {\r\n                rowElements = rowElements.slice(0, removeCount)\r\n            } else {\r\n                rowElements = rowElements.slice(-removeCount)\r\n            }\r\n            var errorHandlingController = this.getController(\"errorHandling\");\r\n            rowElements.map(rowElement => {\r\n                var $rowElement = $(rowElement);\r\n                errorHandlingController && errorHandlingController.removeErrorRow($rowElement.next());\r\n                $rowElement.remove()\r\n            })\r\n        },\r\n        _updateContent: function(tableElement, change) {\r\n            var $freeSpaceRowElements;\r\n            var contentElement = this._findContentElement();\r\n            var changeType = change && change.changeType;\r\n            var contentTable = contentElement.children().first();\r\n            if (\"append\" === changeType || \"prepend\" === changeType) {\r\n                var $tBodies = this._getBodies(tableElement);\r\n                if (1 === $tBodies.length) {\r\n                    this._getBodies(contentTable)[\"append\" === changeType ? \"append\" : \"prepend\"]($tBodies.children())\r\n                } else {\r\n                    $tBodies[\"append\" === changeType ? \"appendTo\" : \"prependTo\"](contentTable)\r\n                }\r\n                tableElement.remove();\r\n                $freeSpaceRowElements = this._getFreeSpaceRowElements(contentTable);\r\n                removeEmptyRows($freeSpaceRowElements, FREESPACE_CLASS);\r\n                if (change.removeCount) {\r\n                    this._removeRowsElements(contentTable, change.removeCount, changeType)\r\n                }\r\n                this._restoreErrorRow(contentTable)\r\n            } else {\r\n                this.callBase.apply(this, arguments);\r\n                if (\"update\" === changeType) {\r\n                    this._restoreErrorRow(contentTable)\r\n                }\r\n            }\r\n            this._updateBottomLoading()\r\n        },\r\n        _addVirtualRow: function($table, isFixed, location, position) {\r\n            if (!position) {\r\n                return\r\n            }\r\n            var $virtualRow = this._createEmptyRow(VIRTUAL_ROW_CLASS, isFixed, position);\r\n            $virtualRow = this._wrapRowIfNeed($table, $virtualRow);\r\n            this._appendEmptyRow($table, $virtualRow, location)\r\n        },\r\n        _getRowHeights: function() {\r\n            var rowHeights = this._getRowElements(this._tableElement).toArray().map((function(row) {\r\n                return getBoundingRect(row).height\r\n            }));\r\n            return rowHeights\r\n        },\r\n        _correctRowHeights: function(rowHeights) {\r\n            var dataController = this._dataController;\r\n            var dataSource = dataController._dataSource;\r\n            var correctedRowHeights = [];\r\n            var visibleRows = dataController.getVisibleRows();\r\n            var itemSize = 0;\r\n            var firstCountableItem = true;\r\n            var lastLoadIndex = -1;\r\n            for (var i = 0; i < rowHeights.length; i++) {\r\n                var currentItem = visibleRows[i];\r\n                if (!isDefined(currentItem)) {\r\n                    continue\r\n                }\r\n                if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                    if (lastLoadIndex >= 0 && lastLoadIndex !== currentItem.loadIndex) {\r\n                        correctedRowHeights.push(itemSize);\r\n                        itemSize = 0\r\n                    }\r\n                    lastLoadIndex = currentItem.loadIndex\r\n                } else if (isItemCountableByDataSource(currentItem, dataSource)) {\r\n                    if (firstCountableItem) {\r\n                        firstCountableItem = false\r\n                    } else {\r\n                        correctedRowHeights.push(itemSize);\r\n                        itemSize = 0\r\n                    }\r\n                }\r\n                itemSize += rowHeights[i]\r\n            }\r\n            itemSize > 0 && correctedRowHeights.push(itemSize);\r\n            return correctedRowHeights\r\n        },\r\n        _updateContentPosition: function(isRender) {\r\n            var dataController = this._dataController;\r\n            var rowHeight = this._rowHeight || 20;\r\n            dataController.viewportItemSize(rowHeight);\r\n            if (isVirtualMode(this) || gridCoreUtils.isVirtualRowRendering(this)) {\r\n                if (!isRender) {\r\n                    var rowHeights = this._getRowHeights();\r\n                    var correctedRowHeights = this._correctRowHeights(rowHeights);\r\n                    dataController.setContentItemSizes(correctedRowHeights)\r\n                }\r\n                var top = dataController.getContentOffset(\"begin\");\r\n                var bottom = dataController.getContentOffset(\"end\");\r\n                var $tables = this.getTableElements();\r\n                var $virtualRows = $tables.children(\"tbody\").children(\".\" + VIRTUAL_ROW_CLASS);\r\n                removeEmptyRows($virtualRows, VIRTUAL_ROW_CLASS);\r\n                $tables.each((index, element) => {\r\n                    var isFixed = index > 0;\r\n                    this._isFixedTableRendering = isFixed;\r\n                    this._addVirtualRow($(element), isFixed, \"top\", top);\r\n                    this._addVirtualRow($(element), isFixed, \"bottom\", bottom);\r\n                    this._isFixedTableRendering = false\r\n                })\r\n            }\r\n        },\r\n        _isTableLinesDisplaysCorrect: function(table) {\r\n            var hasColumnLines = table.find(\".\" + COLUMN_LINES_CLASS).length > 0;\r\n            return hasColumnLines === this.option(\"showColumnLines\")\r\n        },\r\n        _isColumnElementsEqual: function($columns, $virtualColumns) {\r\n            var result = $columns.length === $virtualColumns.length;\r\n            if (result) {\r\n                each($columns, (function(index, element) {\r\n                    if (element.style.width !== $virtualColumns[index].style.width) {\r\n                        result = false;\r\n                        return result\r\n                    }\r\n                }))\r\n            }\r\n            return result\r\n        },\r\n        _getCellClasses: function(column) {\r\n            var classes = [];\r\n            var cssClass = column.cssClass;\r\n            var isExpandColumn = \"expand\" === column.command;\r\n            cssClass && classes.push(cssClass);\r\n            isExpandColumn && classes.push(this.addWidgetPrefix(GROUP_SPACE_CLASS));\r\n            return classes\r\n        },\r\n        _findBottomLoadPanel: function($contentElement) {\r\n            var $element = $contentElement || this.element();\r\n            var $bottomLoadPanel = $element && $element.find(\".\" + this.addWidgetPrefix(BOTTOM_LOAD_PANEL_CLASS));\r\n            if ($bottomLoadPanel && $bottomLoadPanel.length) {\r\n                return $bottomLoadPanel\r\n            }\r\n        },\r\n        _updateBottomLoading: function() {\r\n            var virtualMode = isVirtualMode(this);\r\n            var appendMode = isAppendMode(this);\r\n            var showBottomLoading = !this._dataController.hasKnownLastPage() && this._dataController.isLoaded() && (virtualMode || appendMode);\r\n            var $contentElement = this._findContentElement();\r\n            var bottomLoadPanelElement = this._findBottomLoadPanel($contentElement);\r\n            if (showBottomLoading) {\r\n                if (!bottomLoadPanelElement) {\r\n                    $(\"<div>\").addClass(this.addWidgetPrefix(BOTTOM_LOAD_PANEL_CLASS)).append(this._createComponent($(\"<div>\"), LoadIndicator).$element()).appendTo($contentElement)\r\n                }\r\n            } else if (bottomLoadPanelElement) {\r\n                bottomLoadPanelElement.remove()\r\n            }\r\n        },\r\n        _handleScroll: function(e) {\r\n            var legacyScrollingMode = true === this.option(LEGACY_SCROLLING_MODE);\r\n            var zeroTopPosition = 0 === e.scrollOffset.top;\r\n            if ((this._hasHeight || !legacyScrollingMode && zeroTopPosition) && this._rowHeight) {\r\n                this._dataController.setViewportPosition(e.scrollOffset.top)\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _needUpdateRowHeight: function(itemsCount) {\r\n            return this.callBase.apply(this, arguments) || itemsCount > 0 && isAppendMode(this) && !gridCoreUtils.isVirtualRowRendering(this)\r\n        },\r\n        _updateRowHeight: function() {\r\n            this.callBase.apply(this, arguments);\r\n            if (this._rowHeight) {\r\n                this._updateContentPosition();\r\n                var viewportHeight = this._hasHeight ? getOuterHeight(this.element()) : getOuterHeight(getWindow());\r\n                var dataController = this._dataController;\r\n                if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                    dataController.viewportHeight(viewportHeight);\r\n                    dataController.updateViewport()\r\n                } else {\r\n                    dataController.viewportSize(Math.ceil(viewportHeight / this._rowHeight))\r\n                }\r\n            }\r\n        },\r\n        updateFreeSpaceRowHeight: function() {\r\n            var result = this.callBase.apply(this, arguments);\r\n            if (result) {\r\n                this._updateContentPosition()\r\n            }\r\n            return result\r\n        },\r\n        setLoading: function(isLoading, messageText) {\r\n            var dataController = this._dataController;\r\n            var hasBottomLoadPanel = dataController.pageIndex() > 0 && dataController.isLoaded() && !!this._findBottomLoadPanel();\r\n            if (false === this.option(LEGACY_SCROLLING_MODE) && isLoading && dataController.isViewportChanging()) {\r\n                return\r\n            }\r\n            if (hasBottomLoadPanel) {\r\n                isLoading = false\r\n            }\r\n            this.callBase.call(this, isLoading, messageText)\r\n        },\r\n        _resizeCore: function() {\r\n            var that = this;\r\n            var $element = that.element();\r\n            that.callBase();\r\n            if (that.component.$element() && !that._windowScroll && $element.closest(getWindow().document).length) {\r\n                that._windowScroll = subscribeToExternalScrollers($element, (function(scrollPos) {\r\n                    if (!that._hasHeight && that._rowHeight) {\r\n                        that._dataController.setViewportPosition(scrollPos)\r\n                    }\r\n                }), that.component.$element());\r\n                that.on(\"disposing\", (function() {\r\n                    that._windowScroll.dispose()\r\n                }))\r\n            }\r\n            if (false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                that.loadIfNeed()\r\n            }\r\n        },\r\n        loadIfNeed: function() {\r\n            var _dataController$loadI;\r\n            var dataController = this._dataController;\r\n            null === dataController || void 0 === dataController ? void 0 : null === (_dataController$loadI = dataController.loadIfNeed) || void 0 === _dataController$loadI ? void 0 : _dataController$loadI.call(dataController)\r\n        },\r\n        setColumnWidths: function(widths) {\r\n            var scrollable = this.getScrollable();\r\n            var $content;\r\n            this.callBase.apply(this, arguments);\r\n            if (\"virtual\" === this.option(\"scrolling.mode\")) {\r\n                $content = scrollable ? $(scrollable.content()) : this.element();\r\n                this.callBase(widths, $content.children(\".\" + this.addWidgetPrefix(CONTENT_CLASS)).children(\":not(.\" + this.addWidgetPrefix(TABLE_CONTENT_CLASS) + \")\"))\r\n            }\r\n        },\r\n        _restoreErrorRow: function() {\r\n            if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                var errorHandling = this.getController(\"errorHandling\");\r\n                null === errorHandling || void 0 === errorHandling ? void 0 : errorHandling.removeErrorRow()\r\n            }\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._scrollTimeoutID);\r\n            this.callBase()\r\n        }\r\n    }\r\n}();\r\nexport var virtualScrollingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            scrolling: {\r\n                timeout: 300,\r\n                updateTimeout: 300,\r\n                minTimeout: 0,\r\n                renderingThreshold: 100,\r\n                removeInvisiblePages: true,\r\n                rowPageSize: 5,\r\n                prerenderedRowChunkSize: 1,\r\n                mode: \"standard\",\r\n                preloadEnabled: false,\r\n                rowRenderingMode: \"standard\",\r\n                loadTwoPagesOnStart: false,\r\n                legacyMode: false,\r\n                prerenderedRowCount: 1\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        dataSourceAdapter: VirtualScrollingDataSourceAdapterExtender,\r\n        controllers: {\r\n            data: function() {\r\n                var members = {\r\n                    _refreshDataSource: function() {\r\n                        var baseResult = this.callBase.apply(this, arguments) || (new Deferred).resolve().promise();\r\n                        baseResult.done(this.initVirtualRows.bind(this));\r\n                        return baseResult\r\n                    },\r\n                    _loadDataSource: function() {\r\n                        if (this._rowsScrollController && isVirtualPaging(this)) {\r\n                            var _this$getLoadPagePara, _this$_dataSource;\r\n                            var {\r\n                                loadPageCount: loadPageCount\r\n                            } = null !== (_this$getLoadPagePara = this.getLoadPageParams()) && void 0 !== _this$getLoadPagePara ? _this$getLoadPagePara : {};\r\n                            loadPageCount >= 1 && (null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.loadPageCount(loadPageCount))\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    getRowPageSize: function() {\r\n                        var rowPageSize = this.option(\"scrolling.rowPageSize\");\r\n                        var pageSize = this.pageSize();\r\n                        return pageSize && pageSize < rowPageSize ? pageSize : rowPageSize\r\n                    },\r\n                    reload: function() {\r\n                        var rowsScrollController = this._rowsScrollController || this._dataSource;\r\n                        var itemIndex = rowsScrollController && rowsScrollController.getItemIndexByPosition();\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        return result && result.done(() => {\r\n                            if (isVirtualMode(this) || gridCoreUtils.isVirtualRowRendering(this)) {\r\n                                var rowIndexOffset = this.getRowIndexOffset();\r\n                                var rowIndex = Math.floor(itemIndex) - rowIndexOffset;\r\n                                var component = this.component;\r\n                                var scrollable = component.getScrollable && component.getScrollable();\r\n                                var isSortingOperation = this.dataSource().operationTypes().sorting;\r\n                                if (scrollable && !isSortingOperation && rowIndex >= 0) {\r\n                                    var rowElement = component.getRowElement(rowIndex);\r\n                                    var $rowElement = rowElement && rowElement[0] && $(rowElement[0]);\r\n                                    var top = $rowElement && $rowElement.position().top;\r\n                                    var isChromeLatest = browser.chrome && browser.version >= 91;\r\n                                    var allowedTopOffset = browser.mozilla || isChromeLatest ? 1 : 0;\r\n                                    if (top > allowedTopOffset) {\r\n                                        top = Math.round(top + getOuterHeight($rowElement) * (itemIndex % 1));\r\n                                        scrollable.scrollTo({\r\n                                            y: top\r\n                                        })\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    },\r\n                    initVirtualRows: function() {\r\n                        var virtualRowsRendering = gridCoreUtils.isVirtualRowRendering(this);\r\n                        this._allItems = null;\r\n                        this._loadViewportParams = null;\r\n                        if (\"virtual\" !== this.option(\"scrolling.mode\") && true !== virtualRowsRendering || false === virtualRowsRendering || false !== this.option(LEGACY_SCROLLING_MODE) && !this.option(\"scrolling.rowPageSize\")) {\r\n                            this._visibleItems = null;\r\n                            this._rowsScrollController = null;\r\n                            return\r\n                        }\r\n                        var pageIndex = !isVirtualMode(this) && this.pageIndex() >= this.pageCount() ? this.pageCount() - 1 : this.pageIndex();\r\n                        this._rowPageIndex = Math.ceil(pageIndex * this.pageSize() / this.getRowPageSize());\r\n                        this._visibleItems = false === this.option(LEGACY_SCROLLING_MODE) ? null : [];\r\n                        this._viewportChanging = false;\r\n                        this._needUpdateViewportAfterLoading = false;\r\n                        if (!this._rowsScrollController) {\r\n                            this._rowsScrollController = new VirtualScrollController(this.component, this._getRowsScrollDataOptions(), true);\r\n                            this._rowsScrollController.positionChanged.add(() => {\r\n                                var _this$_dataSource2;\r\n                                if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                                    this._viewportChanging = true;\r\n                                    this.loadViewport();\r\n                                    this._viewportChanging = false;\r\n                                    return\r\n                                }\r\n                                null === (_this$_dataSource2 = this._dataSource) || void 0 === _this$_dataSource2 ? void 0 : _this$_dataSource2.setViewportItemIndex(this._rowsScrollController.getViewportItemIndex())\r\n                            })\r\n                        }\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            this._updateLoadViewportParams()\r\n                        }\r\n                        if (this.isLoaded() && false !== this.option(LEGACY_SCROLLING_MODE)) {\r\n                            this._rowsScrollController.load()\r\n                        }\r\n                    },\r\n                    isViewportChanging: function() {\r\n                        return this._viewportChanging\r\n                    },\r\n                    _getRowsScrollDataOptions: function() {\r\n                        var that = this;\r\n                        var isItemCountable = function(item) {\r\n                            return isItemCountableByDataSource(item, that._dataSource)\r\n                        };\r\n                        return {\r\n                            pageSize: function() {\r\n                                return that.getRowPageSize()\r\n                            },\r\n                            loadedOffset: function() {\r\n                                var _that$_dataSource;\r\n                                return isVirtualMode(that) && (null === (_that$_dataSource = that._dataSource) || void 0 === _that$_dataSource ? void 0 : _that$_dataSource.lastLoadOptions().skip) || 0\r\n                            },\r\n                            loadedItemCount: function() {\r\n                                return that._itemCount\r\n                            },\r\n                            totalItemsCount: function() {\r\n                                if (isVirtualPaging(that)) {\r\n                                    return that.totalItemsCount()\r\n                                }\r\n                                return false === that.option(LEGACY_SCROLLING_MODE) ? that._itemCount : that._items.filter(isItemCountable).length\r\n                            },\r\n                            hasKnownLastPage: function() {\r\n                                return false === that.option(LEGACY_SCROLLING_MODE) ? that.hasKnownLastPage() : true\r\n                            },\r\n                            pageIndex: function(index) {\r\n                                if (void 0 !== index) {\r\n                                    that._rowPageIndex = index\r\n                                }\r\n                                return that._rowPageIndex\r\n                            },\r\n                            isLoading: function() {\r\n                                return that.isLoading()\r\n                            },\r\n                            pageCount: function() {\r\n                                var pageCount = Math.ceil(this.totalItemsCount() / this.pageSize());\r\n                                return pageCount ? pageCount : 1\r\n                            },\r\n                            load: function() {\r\n                                if (that._rowsScrollController.pageIndex() >= this.pageCount()) {\r\n                                    that._rowPageIndex = this.pageCount() - 1;\r\n                                    that._rowsScrollController.pageIndex(that._rowPageIndex)\r\n                                }\r\n                                if (!this.items().length && this.totalItemsCount()) {\r\n                                    return\r\n                                }\r\n                                that._rowsScrollController.handleDataChanged(change => {\r\n                                    change = change || {};\r\n                                    change.changeType = change.changeType || \"refresh\";\r\n                                    change.items = change.items || that._visibleItems;\r\n                                    that._visibleItems.forEach((item, index) => {\r\n                                        item.rowIndex = index\r\n                                    });\r\n                                    that._fireChanged(change)\r\n                                })\r\n                            },\r\n                            updateLoading: function() {},\r\n                            itemsCount: function() {\r\n                                return this.items(true).length\r\n                            },\r\n                            correctCount: function(items, count, fromEnd) {\r\n                                return _correctCount(items, count, fromEnd, (item, isNextAfterLast, fromEnd) => {\r\n                                    if (item.isNewRow) {\r\n                                        return isNextAfterLast && !fromEnd\r\n                                    }\r\n                                    if (isNextAfterLast && fromEnd) {\r\n                                        return !item.isNewRow\r\n                                    }\r\n                                    return isItemCountable(item)\r\n                                })\r\n                            },\r\n                            items: function(countableOnly) {\r\n                                var result = that._items;\r\n                                if (that.option(LEGACY_SCROLLING_MODE)) {\r\n                                    var dataSource = that.dataSource();\r\n                                    var virtualItemsCount = null === dataSource || void 0 === dataSource ? void 0 : dataSource.virtualItemsCount();\r\n                                    var begin = virtualItemsCount ? virtualItemsCount.begin : 0;\r\n                                    var rowPageSize = that.getRowPageSize();\r\n                                    var skip = that._rowPageIndex * rowPageSize - begin;\r\n                                    var take = rowPageSize;\r\n                                    if (skip < 0) {\r\n                                        return []\r\n                                    }\r\n                                    if (skip) {\r\n                                        skip = this.correctCount(result, skip);\r\n                                        result = result.slice(skip)\r\n                                    }\r\n                                    if (take) {\r\n                                        take = this.correctCount(result, take);\r\n                                        result = result.slice(0, take)\r\n                                    }\r\n                                }\r\n                                return countableOnly ? result.filter(isItemCountable) : result\r\n                            },\r\n                            viewportItems: function(items) {\r\n                                if (items && false !== that.option(LEGACY_SCROLLING_MODE)) {\r\n                                    that._visibleItems = items\r\n                                }\r\n                                return that._visibleItems\r\n                            },\r\n                            onChanged: function() {},\r\n                            changingDuration: function(e) {\r\n                                var dataSource = that.dataSource();\r\n                                if (null !== dataSource && void 0 !== dataSource && dataSource.isLoading() && false !== that.option(LEGACY_SCROLLING_MODE)) {\r\n                                    return LOAD_TIMEOUT\r\n                                }\r\n                                return (null === dataSource || void 0 === dataSource ? void 0 : dataSource._renderTime) || 0\r\n                            }\r\n                        }\r\n                    },\r\n                    _updateItemsCore: function(change) {\r\n                        var delta = this.getRowIndexDelta();\r\n                        this.callBase.apply(this, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && gridCoreUtils.isVirtualRowRendering(this)) {\r\n                            if (\"update\" === change.changeType && 0 === change.rowIndices.length && change.cancelEmptyChanges) {\r\n                                change.cancel = true\r\n                            }\r\n                            return\r\n                        }\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            var visibleItems = this._visibleItems;\r\n                            var isRefresh = \"refresh\" === change.changeType || change.isLiveUpdate;\r\n                            if (\"append\" === change.changeType && change.items && !change.items.length) {\r\n                                return\r\n                            }\r\n                            if (isRefresh || \"append\" === change.changeType || \"prepend\" === change.changeType) {\r\n                                change.cancel = true;\r\n                                isRefresh && rowsScrollController.reset(true);\r\n                                rowsScrollController.load()\r\n                            } else {\r\n                                if (\"update\" === change.changeType) {\r\n                                    change.rowIndices.forEach((rowIndex, index) => {\r\n                                        var changeType = change.changeTypes[index];\r\n                                        var newItem = change.items[index];\r\n                                        if (\"update\" === changeType) {\r\n                                            visibleItems[rowIndex] = newItem\r\n                                        } else if (\"insert\" === changeType) {\r\n                                            visibleItems.splice(rowIndex, 0, newItem)\r\n                                        } else if (\"remove\" === changeType) {\r\n                                            visibleItems.splice(rowIndex, 1)\r\n                                        }\r\n                                    })\r\n                                } else {\r\n                                    visibleItems.forEach((item, index) => {\r\n                                        visibleItems[index] = this._items[index + delta] || visibleItems[index]\r\n                                    });\r\n                                    change.items = visibleItems\r\n                                }\r\n                                updateItemIndices(visibleItems)\r\n                            }\r\n                        }\r\n                    },\r\n                    _updateLoadViewportParams: function() {\r\n                        var viewportParams = this._rowsScrollController.getViewportParams();\r\n                        var pageSize = this.pageSize();\r\n                        if (viewportParams && !isVirtualPaging(this) && pageSize > 0) {\r\n                            var pageOffset = this.pageIndex() * pageSize;\r\n                            viewportParams.skip += pageOffset\r\n                        }\r\n                        this._loadViewportParams = viewportParams\r\n                    },\r\n                    _processItems: function(items) {\r\n                        var newItems = this.callBase.apply(this, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            var _dataSource$lastLoadO;\r\n                            var dataSource = this._dataSource;\r\n                            var currentIndex = null !== (_dataSource$lastLoadO = null === dataSource || void 0 === dataSource ? void 0 : dataSource.lastLoadOptions().skip) && void 0 !== _dataSource$lastLoadO ? _dataSource$lastLoadO : 0;\r\n                            var prevCountable;\r\n                            var prevRowType;\r\n                            var isPrevRowNew;\r\n                            var wasCountableItem = false;\r\n                            newItems.forEach(item => {\r\n                                var rowType = item.rowType;\r\n                                var itemCountable = isItemCountableByDataSource(item, dataSource);\r\n                                if (!item.isNewRow && isDefined(prevCountable)) {\r\n                                    var isNextGroupItem = \"group\" === rowType && (prevCountable || itemCountable || \"group\" !== prevRowType && currentIndex > 0);\r\n                                    var isNextDataItem = \"data\" === rowType && itemCountable && (prevCountable || \"group\" !== prevRowType);\r\n                                    var isPrevNewRowFirst = isPrevRowNew && !wasCountableItem;\r\n                                    if (isNextGroupItem || isNextDataItem) {\r\n                                        wasCountableItem = true;\r\n                                        if (!isPrevNewRowFirst) {\r\n                                            currentIndex++\r\n                                        }\r\n                                    }\r\n                                }\r\n                                item.loadIndex = currentIndex;\r\n                                prevCountable = itemCountable;\r\n                                prevRowType = rowType;\r\n                                isPrevRowNew = item.isNewRow\r\n                            })\r\n                        }\r\n                        return newItems\r\n                    },\r\n                    _afterProcessItems: function(items) {\r\n                        this._itemCount = items.filter(item => isItemCountableByDataSource(item, this._dataSource)).length;\r\n                        if (isDefined(this._loadViewportParams)) {\r\n                            this._updateLoadViewportParams();\r\n                            var result = items;\r\n                            this._allItems = items;\r\n                            if (items.length) {\r\n                                var {\r\n                                    skipForCurrentPage: skipForCurrentPage\r\n                                } = this.getLoadPageParams(true);\r\n                                var skip = items[0].loadIndex + skipForCurrentPage;\r\n                                var take = this._loadViewportParams.take;\r\n                                result = items.filter(it => {\r\n                                    var isNewRowOnStart = it.isNewRow && it.loadIndex >= skip - 1;\r\n                                    var isNewRowInEmptyData = it.isNewRow && it.loadIndex === skip && 0 === take;\r\n                                    var isLoadIndexGreaterStart = it.loadIndex >= skip || isNewRowOnStart;\r\n                                    var isLoadIndexLessEnd = it.loadIndex < skip + take || isNewRowInEmptyData;\r\n                                    return isLoadIndexGreaterStart && isLoadIndexLessEnd\r\n                                })\r\n                            }\r\n                            return result\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    _applyChange: function(change) {\r\n                        var that = this;\r\n                        var items = change.items;\r\n                        var changeType = change.changeType;\r\n                        var removeCount = change.removeCount;\r\n                        if (removeCount) {\r\n                            var fromEnd = \"prepend\" === changeType;\r\n                            removeCount = _correctCount(that._items, removeCount, fromEnd, (function(item, isNextAfterLast) {\r\n                                return \"data\" === item.rowType && !item.isNewRow || \"group\" === item.rowType && (that._dataSource.isGroupItemCountable(item.data) || isNextAfterLast)\r\n                            }));\r\n                            change.removeCount = removeCount\r\n                        }\r\n                        switch (changeType) {\r\n                            case \"prepend\":\r\n                                that._items.unshift.apply(that._items, items);\r\n                                if (removeCount) {\r\n                                    that._items.splice(-removeCount)\r\n                                }\r\n                                break;\r\n                            case \"append\":\r\n                                that._items.push.apply(that._items, items);\r\n                                if (removeCount) {\r\n                                    that._items.splice(0, removeCount)\r\n                                }\r\n                                break;\r\n                            default:\r\n                                that.callBase(change)\r\n                        }\r\n                    },\r\n                    items: function(allItems) {\r\n                        return allItems ? this._allItems || this._items : this._visibleItems || this._items\r\n                    },\r\n                    getRowIndexDelta: function() {\r\n                        var delta = 0;\r\n                        if (this.option(LEGACY_SCROLLING_MODE)) {\r\n                            var visibleItems = this._visibleItems;\r\n                            if (visibleItems && visibleItems[0]) {\r\n                                delta = this._items.indexOf(visibleItems[0])\r\n                            }\r\n                        }\r\n                        return delta < 0 ? 0 : delta\r\n                    },\r\n                    getRowIndexOffset: function(byLoadedRows) {\r\n                        var offset = 0;\r\n                        var dataSource = this.dataSource();\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        if (rowsScrollController && !byLoadedRows) {\r\n                            if (newMode && isDefined(this._loadViewportParams)) {\r\n                                var {\r\n                                    skipForCurrentPage: skipForCurrentPage,\r\n                                    pageIndex: pageIndex\r\n                                } = this.getLoadPageParams(true);\r\n                                var items = this.items(true);\r\n                                offset = virtualPaging ? pageIndex * this.pageSize() : 0;\r\n                                if (items.length) {\r\n                                    var firstLoadIndex = items[0].loadIndex;\r\n                                    offset += items.filter(item => item.loadIndex < firstLoadIndex + skipForCurrentPage).length\r\n                                }\r\n                            } else {\r\n                                offset = rowsScrollController.beginPageIndex() * rowsScrollController.pageSize()\r\n                            }\r\n                        } else if (virtualPaging && newMode && dataSource) {\r\n                            var _dataSource$lastLoadO2;\r\n                            offset = null !== (_dataSource$lastLoadO2 = dataSource.lastLoadOptions().skip) && void 0 !== _dataSource$lastLoadO2 ? _dataSource$lastLoadO2 : 0\r\n                        } else if (isVirtualMode(this) && dataSource) {\r\n                            offset = dataSource.beginPageIndex() * dataSource.pageSize()\r\n                        }\r\n                        return offset\r\n                    },\r\n                    viewportSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        var result = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.viewportSize.apply(rowsScrollController, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return result\r\n                        }\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.viewportSize.apply(dataSource, arguments)\r\n                    },\r\n                    viewportHeight: function(height) {\r\n                        var _this$_rowsScrollCont;\r\n                        null === (_this$_rowsScrollCont = this._rowsScrollController) || void 0 === _this$_rowsScrollCont ? void 0 : _this$_rowsScrollCont.viewportHeight(height)\r\n                    },\r\n                    viewportItemSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        var result = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.viewportItemSize.apply(rowsScrollController, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return result\r\n                        }\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.viewportItemSize.apply(dataSource, arguments)\r\n                    },\r\n                    setViewportPosition: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        if (rowsScrollController) {\r\n                            rowsScrollController.setViewportPosition.apply(rowsScrollController, arguments)\r\n                        } else {\r\n                            null === dataSource || void 0 === dataSource ? void 0 : dataSource.setViewportPosition.apply(dataSource, arguments)\r\n                        }\r\n                    },\r\n                    setContentItemSizes: function(sizes) {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var dataSource = this._dataSource;\r\n                        var result = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.setContentItemSizes(sizes);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return result\r\n                        }\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.setContentItemSizes(sizes)\r\n                    },\r\n                    getPreloadedRowCount: function() {\r\n                        var preloadCount = this.option(\"scrolling.preloadedRowCount\");\r\n                        var preloadEnabled = this.option(\"scrolling.preloadEnabled\");\r\n                        if (isDefined(preloadCount)) {\r\n                            return preloadCount\r\n                        }\r\n                        var viewportSize = this.viewportSize();\r\n                        return preloadEnabled ? 2 * viewportSize : viewportSize\r\n                    },\r\n                    getLoadPageParams: function(byLoadedPage) {\r\n                        var _this$_dataSource3, _this$_dataSource4;\r\n                        var pageSize = this.pageSize();\r\n                        var viewportParams = this._loadViewportParams;\r\n                        var lastLoadOptions = null === (_this$_dataSource3 = this._dataSource) || void 0 === _this$_dataSource3 ? void 0 : _this$_dataSource3.lastLoadOptions();\r\n                        var loadedPageIndex = (null === lastLoadOptions || void 0 === lastLoadOptions ? void 0 : lastLoadOptions.pageIndex) || 0;\r\n                        var loadedTake = (null === lastLoadOptions || void 0 === lastLoadOptions ? void 0 : lastLoadOptions.take) || 0;\r\n                        var isScrollingBack = this._rowsScrollController.isScrollingBack();\r\n                        var topPreloadCount = isScrollingBack ? this.getPreloadedRowCount() : 0;\r\n                        var bottomPreloadCount = isScrollingBack ? 0 : this.getPreloadedRowCount();\r\n                        var totalCountCorrection = (null === (_this$_dataSource4 = this._dataSource) || void 0 === _this$_dataSource4 ? void 0 : _this$_dataSource4.totalCountCorrection()) || 0;\r\n                        var skipWithPreload = Math.max(0, viewportParams.skip - topPreloadCount);\r\n                        var pageIndex = byLoadedPage ? loadedPageIndex : Math.floor(pageSize ? skipWithPreload / pageSize : 0);\r\n                        var pageOffset = pageIndex * pageSize;\r\n                        var skipForCurrentPage = viewportParams.skip - pageOffset;\r\n                        var loadingTake = viewportParams.take + skipForCurrentPage + bottomPreloadCount - totalCountCorrection;\r\n                        var take = byLoadedPage ? loadedTake : loadingTake;\r\n                        var loadPageCount = Math.ceil(pageSize ? take / pageSize : 0);\r\n                        return {\r\n                            pageIndex: pageIndex,\r\n                            loadPageCount: Math.max(1, loadPageCount),\r\n                            skipForCurrentPage: Math.max(0, skipForCurrentPage)\r\n                        }\r\n                    },\r\n                    _updateVisiblePageIndex: function(currentPageIndex) {\r\n                        if (!this._rowsScrollController) {\r\n                            return\r\n                        }\r\n                        if (isDefined(currentPageIndex)) {\r\n                            this._silentOption(VISIBLE_PAGE_INDEX, currentPageIndex);\r\n                            this.pageChanged.fire();\r\n                            return\r\n                        }\r\n                        var viewPortItemIndex = this._rowsScrollController.getViewportItemIndex();\r\n                        var newPageIndex = Math.floor(viewPortItemIndex / this.pageSize());\r\n                        if (this.pageIndex() !== newPageIndex) {\r\n                            this._silentOption(VISIBLE_PAGE_INDEX, newPageIndex);\r\n                            this.updateItems({\r\n                                changeType: \"pageIndex\"\r\n                            })\r\n                        }\r\n                    },\r\n                    _getChangedLoadParams: function() {\r\n                        var loadedPageParams = this.getLoadPageParams(true);\r\n                        var {\r\n                            pageIndex: pageIndex,\r\n                            loadPageCount: loadPageCount\r\n                        } = this.getLoadPageParams();\r\n                        var pageIndexIsValid = this._pageIndexIsValid(pageIndex);\r\n                        var result = null;\r\n                        if (!this._isLoading && pageIndexIsValid && (pageIndex !== loadedPageParams.pageIndex || loadPageCount !== loadedPageParams.loadPageCount)) {\r\n                            result = {\r\n                                pageIndex: pageIndex,\r\n                                loadPageCount: loadPageCount\r\n                            }\r\n                        }\r\n                        return result\r\n                    },\r\n                    _pageIndexIsValid: function(pageIndex) {\r\n                        var result = true;\r\n                        if (isAppendMode(this) && this.hasKnownLastPage() || isVirtualMode(this)) {\r\n                            result = pageIndex * this.pageSize() < this.totalItemsCount()\r\n                        }\r\n                        return result\r\n                    },\r\n                    _loadItems: function(checkLoading) {\r\n                        var _dataSourceAdapter$lo, _dataSourceAdapter$pa;\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        var dataSourceAdapter = this._dataSource;\r\n                        var changedParams = this._getChangedLoadParams();\r\n                        var currentLoadPageCount = null !== (_dataSourceAdapter$lo = null === dataSourceAdapter || void 0 === dataSourceAdapter ? void 0 : dataSourceAdapter.loadPageCount()) && void 0 !== _dataSourceAdapter$lo ? _dataSourceAdapter$lo : 0;\r\n                        var lastRequiredItemCount = this.pageSize() * currentLoadPageCount;\r\n                        var currentPageIndex = null !== (_dataSourceAdapter$pa = null === dataSourceAdapter || void 0 === dataSourceAdapter ? void 0 : dataSourceAdapter.pageIndex()) && void 0 !== _dataSourceAdapter$pa ? _dataSourceAdapter$pa : 0;\r\n                        var pageIndexNotChanged = (null === changedParams || void 0 === changedParams ? void 0 : changedParams.pageIndex) === currentPageIndex;\r\n                        var allLoadedInAppendMode = isAppendMode(this) && this.totalItemsCount() < lastRequiredItemCount;\r\n                        var result = false;\r\n                        if (!dataSourceAdapter || virtualPaging && checkLoading && ((null === changedParams || void 0 === changedParams ? void 0 : changedParams.pageIndex) > currentPageIndex || pageIndexNotChanged && allLoadedInAppendMode)) {\r\n                            return result\r\n                        }\r\n                        if (virtualPaging && this._isLoading) {\r\n                            this._needUpdateViewportAfterLoading = true\r\n                        }\r\n                        if (virtualPaging && changedParams) {\r\n                            result = true;\r\n                            dataSourceAdapter.pageIndex(changedParams.pageIndex);\r\n                            dataSourceAdapter.loadPageCount(changedParams.loadPageCount);\r\n                            this._repaintChangesOnly = true;\r\n                            this._needUpdateDimensions = true;\r\n                            var viewportChanging = this._viewportChanging;\r\n                            this.load().always(() => {\r\n                                this._repaintChangesOnly = void 0;\r\n                                this._needUpdateDimensions = void 0\r\n                            }).done(() => {\r\n                                var isLastPage = this.pageCount() > 0 && this.pageIndex() === this.pageCount() - 1;\r\n                                (viewportChanging || isLastPage) && this._updateVisiblePageIndex();\r\n                                if (this._needUpdateViewportAfterLoading) {\r\n                                    this._needUpdateViewportAfterLoading = false;\r\n                                    this.loadViewport({\r\n                                        checkLoadedParamsOnly: true\r\n                                    })\r\n                                }\r\n                            })\r\n                        }\r\n                        return result\r\n                    },\r\n                    loadViewport: function(params) {\r\n                        var {\r\n                            checkLoadedParamsOnly: checkLoadedParamsOnly,\r\n                            checkLoading: checkLoading\r\n                        } = null !== params && void 0 !== params ? params : {};\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        if (virtualPaging || gridCoreUtils.isVirtualRowRendering(this)) {\r\n                            this._updateLoadViewportParams();\r\n                            var loadingItemsStarted = this._loadItems(checkLoading);\r\n                            if (!loadingItemsStarted && !(this._isLoading && checkLoading) && !checkLoadedParamsOnly) {\r\n                                this.updateItems({\r\n                                    repaintChangesOnly: true,\r\n                                    needUpdateDimensions: true,\r\n                                    useProcessedItemsCache: true,\r\n                                    cancelEmptyChanges: true\r\n                                })\r\n                            }\r\n                        }\r\n                    },\r\n                    updateViewport: function() {\r\n                        var _this$_loadViewportPa, _this$_loadViewportPa2;\r\n                        var viewportSize = this.viewportSize();\r\n                        var itemCount = this.items().length;\r\n                        var viewportIsNotFilled = viewportSize > itemCount;\r\n                        var currentTake = null !== (_this$_loadViewportPa = null === (_this$_loadViewportPa2 = this._loadViewportParams) || void 0 === _this$_loadViewportPa2 ? void 0 : _this$_loadViewportPa2.take) && void 0 !== _this$_loadViewportPa ? _this$_loadViewportPa : 0;\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        var newTake = null === rowsScrollController || void 0 === rowsScrollController ? void 0 : rowsScrollController.getViewportParams().take;\r\n                        (viewportIsNotFilled || currentTake < newTake) && itemCount && this.loadViewport({\r\n                            checkLoading: true\r\n                        })\r\n                    },\r\n                    loadIfNeed: function() {\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE)) {\r\n                            return\r\n                        }\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.loadIfNeed();\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.loadIfNeed()\r\n                    },\r\n                    getItemSize: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getItemSize.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getItemSize.apply(dataSource, arguments)\r\n                    },\r\n                    getItemSizes: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getItemSizes.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getItemSizes.apply(dataSource, arguments)\r\n                    },\r\n                    getContentOffset: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.getContentOffset.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return dataSource && dataSource.getContentOffset.apply(dataSource, arguments)\r\n                    },\r\n                    refresh: function(options) {\r\n                        var dataSource = this._dataSource;\r\n                        if (dataSource && options && options.load && isAppendMode(this)) {\r\n                            dataSource.resetCurrentTotalCount()\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    dispose: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        rowsScrollController && rowsScrollController.dispose();\r\n                        this.callBase.apply(this, arguments)\r\n                    },\r\n                    topItemIndex: function() {\r\n                        var _this$_loadViewportPa3;\r\n                        return null === (_this$_loadViewportPa3 = this._loadViewportParams) || void 0 === _this$_loadViewportPa3 ? void 0 : _this$_loadViewportPa3.skip\r\n                    },\r\n                    bottomItemIndex: function() {\r\n                        var viewportParams = this._loadViewportParams;\r\n                        return viewportParams && viewportParams.skip + viewportParams.take\r\n                    },\r\n                    virtualItemsCount: function() {\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (rowsScrollController) {\r\n                            return rowsScrollController.virtualItemsCount.apply(rowsScrollController, arguments)\r\n                        }\r\n                        var dataSource = this._dataSource;\r\n                        return null === dataSource || void 0 === dataSource ? void 0 : dataSource.virtualItemsCount.apply(dataSource, arguments)\r\n                    },\r\n                    pageIndex: function(_pageIndex) {\r\n                        var virtualPaging = isVirtualPaging(this);\r\n                        var rowsScrollController = this._rowsScrollController;\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && virtualPaging && rowsScrollController) {\r\n                            if (void 0 === _pageIndex) {\r\n                                var _this$option;\r\n                                return null !== (_this$option = this.option(VISIBLE_PAGE_INDEX)) && void 0 !== _this$option ? _this$option : 0\r\n                            }\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    _fireChanged: function(e) {\r\n                        this.callBase.apply(this, arguments);\r\n                        var {\r\n                            operationTypes: operationTypes\r\n                        } = e;\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && isVirtualPaging(this) && operationTypes) {\r\n                            var {\r\n                                fullReload: fullReload,\r\n                                pageIndex: pageIndex\r\n                            } = operationTypes;\r\n                            if (e.isDataChanged && !fullReload && pageIndex) {\r\n                                this._updateVisiblePageIndex(this._dataSource.pageIndex())\r\n                            }\r\n                        }\r\n                    },\r\n                    _getPagingOptionValue: function(optionName) {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && isVirtualPaging(this)) {\r\n                            result = this[optionName]()\r\n                        }\r\n                        return result\r\n                    },\r\n                    isEmpty: function() {\r\n                        return false === this.option(LEGACY_SCROLLING_MODE) ? !this.items(true).length : this.callBase(this, arguments)\r\n                    },\r\n                    isLastPageLoaded: function() {\r\n                        var result = false;\r\n                        if (false === this.option(LEGACY_SCROLLING_MODE) && isVirtualPaging(this)) {\r\n                            var {\r\n                                pageIndex: pageIndex,\r\n                                loadPageCount: loadPageCount\r\n                            } = this.getLoadPageParams(true);\r\n                            var pageCount = this.pageCount();\r\n                            result = pageIndex + loadPageCount >= pageCount\r\n                        } else {\r\n                            result = this.callBase.apply(this, arguments)\r\n                        }\r\n                        return result\r\n                    },\r\n                    reset: function() {\r\n                        this._itemCount = 0;\r\n                        this._allItems = null;\r\n                        this.callBase.apply(this, arguments)\r\n                    }\r\n                };\r\n                gridCoreUtils.proxyMethod(members, \"getVirtualContentSize\");\r\n                gridCoreUtils.proxyMethod(members, \"setViewportItemIndex\");\r\n                return members\r\n            }(),\r\n            resizing: {\r\n                resize: function() {\r\n                    var that = this;\r\n                    var callBase = that.callBase;\r\n                    var result;\r\n                    if (isVirtualMode(that) || gridCoreUtils.isVirtualRowRendering(that)) {\r\n                        clearTimeout(that._resizeTimeout);\r\n                        var diff = new Date - that._lastTime;\r\n                        var updateTimeout = that.option(\"scrolling.updateTimeout\");\r\n                        if (that._lastTime && diff < updateTimeout) {\r\n                            result = new Deferred;\r\n                            that._resizeTimeout = setTimeout((function() {\r\n                                callBase.apply(that).done(result.resolve).fail(result.reject);\r\n                                that._lastTime = new Date\r\n                            }), updateTimeout);\r\n                            that._lastTime = new Date\r\n                        } else {\r\n                            result = callBase.apply(that);\r\n                            if (that._dataController.isLoaded()) {\r\n                                that._lastTime = new Date\r\n                            }\r\n                        }\r\n                    } else {\r\n                        result = callBase.apply(that)\r\n                    }\r\n                    return result\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._resizeTimeout)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: VirtualScrollingRowsViewExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.virtual_scrolling.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport dataSourceAdapter from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    virtualScrollingModule\r\n} from \"../grid_core/ui.grid_core.virtual_scrolling\";\r\ngridCore.registerModule(\"virtualScrolling\", virtualScrollingModule);\r\ndataSourceAdapter.extend(virtualScrollingModule.extenders.dataSourceAdapter);\r\n","/**\r\n * DevExtreme (esm/ui/overlay/utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getInnerHeight,\r\n    getOuterHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    isNumeric\r\n} from \"../../core/utils/type\";\r\nvar WINDOW_HEIGHT_PERCENT = .9;\r\nexport var getElementMaxHeightByWindow = ($element, startLocation) => {\r\n    var $window = $(getWindow());\r\n    var {\r\n        top: elementOffset\r\n    } = $element.offset();\r\n    var actualOffset;\r\n    if (isNumeric(startLocation)) {\r\n        if (startLocation < elementOffset) {\r\n            return elementOffset - startLocation\r\n        } else {\r\n            actualOffset = getInnerHeight($window) - startLocation + $window.scrollTop()\r\n        }\r\n    } else {\r\n        var offsetTop = elementOffset - $window.scrollTop();\r\n        var offsetBottom = getInnerHeight($window) - offsetTop - getOuterHeight($element);\r\n        actualOffset = Math.max(offsetTop, offsetBottom)\r\n    }\r\n    return actualOffset * WINDOW_HEIGHT_PERCENT\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/menu/ui.submenu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight,\r\n    setWidth,\r\n    setHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport animationPosition from \"../../animation/position\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport ContextMenu from \"../context_menu\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nclass Submenu extends ContextMenu {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            orientation: \"horizontal\",\r\n            tabIndex: null,\r\n            onHoverStart: noop\r\n        })\r\n    }\r\n    _initDataAdapter() {\r\n        this._dataAdapter = this.option(\"_dataAdapter\");\r\n        if (!this._dataAdapter) {\r\n            super._initDataAdapter()\r\n        }\r\n    }\r\n    _renderContentImpl() {\r\n        this._renderContextMenuOverlay();\r\n        super._renderContentImpl();\r\n        var node = this._dataAdapter.getNodeByKey(this.option(\"_parentKey\"));\r\n        node && this._renderItems(this._getChildNodes(node));\r\n        this._renderDelimiter()\r\n    }\r\n    _renderDelimiter() {\r\n        this.$contentDelimiter = $(\"<div>\").appendTo(this._itemContainer()).addClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)\r\n    }\r\n    _getOverlayOptions() {\r\n        return extend(super._getOverlayOptions(), {\r\n            onPositioned: this._overlayPositionedActionHandler.bind(this)\r\n        })\r\n    }\r\n    _overlayPositionedActionHandler(arg) {\r\n        this._showDelimiter(arg)\r\n    }\r\n    _hoverEndHandler(e) {\r\n        super._hoverEndHandler(e);\r\n        this._toggleFocusClass(false, e.currentTarget)\r\n    }\r\n    _isMenuHorizontal() {\r\n        return \"horizontal\" === this.option(\"orientation\")\r\n    }\r\n    _hoverStartHandler(e) {\r\n        var hoverStartAction = this.option(\"onHoverStart\");\r\n        hoverStartAction(e);\r\n        super._hoverStartHandler(e);\r\n        this._toggleFocusClass(true, e.currentTarget)\r\n    }\r\n    _drawSubmenu($rootItem) {\r\n        this._actions.onShowing({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        });\r\n        super._drawSubmenu($rootItem);\r\n        this._actions.onShown({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        })\r\n    }\r\n    _hideSubmenu($rootItem) {\r\n        this._actions.onHiding({\r\n            cancel: true,\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        });\r\n        super._hideSubmenu($rootItem);\r\n        this._actions.onHidden({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: this\r\n        })\r\n    }\r\n    _showDelimiter(arg) {\r\n        if (!this.$contentDelimiter) {\r\n            return\r\n        }\r\n        var $submenu = this._itemContainer().children(\".\".concat(DX_SUBMENU_CLASS)).eq(0);\r\n        var $rootItem = this.option(\"position\").of;\r\n        var position = {\r\n            of: $submenu\r\n        };\r\n        var containerOffset = arg.position;\r\n        var vLocation = containerOffset.v.location;\r\n        var hLocation = containerOffset.h.location;\r\n        var rootOffset = $rootItem.offset();\r\n        var offsetLeft = Math.round(rootOffset.left);\r\n        var offsetTop = Math.round(rootOffset.top);\r\n        var rootWidth = getWidth($rootItem);\r\n        var rootHeight = getHeight($rootItem);\r\n        var submenuWidth = getWidth($submenu);\r\n        var submenuHeight = getHeight($submenu);\r\n        this.$contentDelimiter.css(\"display\", \"block\");\r\n        setWidth(this.$contentDelimiter, this._isMenuHorizontal() ? rootWidth < submenuWidth ? rootWidth - 2 : submenuWidth : 2);\r\n        setHeight(this.$contentDelimiter, this._isMenuHorizontal() ? 2 : rootHeight < submenuHeight ? rootHeight - 2 : submenuHeight);\r\n        if (this._isMenuHorizontal()) {\r\n            if (vLocation > offsetTop) {\r\n                if (Math.round(hLocation) === offsetLeft) {\r\n                    position.offset = \"1 -1\";\r\n                    position.at = position.my = \"left top\"\r\n                } else {\r\n                    position.offset = \"-1 -1\";\r\n                    position.at = position.my = \"right top\"\r\n                }\r\n            } else {\r\n                setHeight(this.$contentDelimiter, 5);\r\n                if (Math.round(hLocation) === offsetLeft) {\r\n                    position.offset = \"1 4\";\r\n                    position.at = position.my = \"left bottom\"\r\n                } else {\r\n                    position.offset = \"-1 2\";\r\n                    position.at = position.my = \"right bottom\"\r\n                }\r\n            }\r\n        } else if (hLocation > offsetLeft) {\r\n            if (Math.round(vLocation) === offsetTop) {\r\n                position.offset = \"-1 1\";\r\n                position.at = position.my = \"left top\"\r\n            } else {\r\n                position.offset = \"-1 -1\";\r\n                position.at = position.my = \"left bottom\"\r\n            }\r\n        } else if (Math.round(vLocation) === offsetTop) {\r\n            position.offset = \"1 1\";\r\n            position.at = position.my = \"right top\"\r\n        } else {\r\n            position.offset = \"1 -1\";\r\n            position.at = position.my = \"right bottom\"\r\n        }\r\n        animationPosition.setup(this.$contentDelimiter, position)\r\n    }\r\n    _getContextMenuPosition() {\r\n        return this.option(\"position\")\r\n    }\r\n    isOverlayVisible() {\r\n        return this._overlay.option(\"visible\")\r\n    }\r\n    getOverlayContent() {\r\n        return this._overlay.$content()\r\n    }\r\n}\r\nexport default Submenu;\r\n","/**\r\n * DevExtreme (esm/ui/menu/ui.menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isPlainObject,\r\n    isObject,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getElementMaxHeightByWindow\r\n} from \"../overlay/utils\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    end as hoverEventEnd\r\n} from \"../../events/hover\";\r\nimport MenuBase from \"../context_menu/ui.menu_base\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport Submenu from \"./ui.submenu\";\r\nimport Button from \"../button\";\r\nimport TreeView from \"../tree_view\";\r\nvar DX_MENU_CLASS = \"dx-menu\";\r\nvar DX_MENU_VERTICAL_CLASS = DX_MENU_CLASS + \"-vertical\";\r\nvar DX_MENU_HORIZONTAL_CLASS = DX_MENU_CLASS + \"-horizontal\";\r\nvar DX_MENU_ITEM_CLASS = DX_MENU_CLASS + \"-item\";\r\nvar DX_MENU_ITEMS_CONTAINER_CLASS = DX_MENU_CLASS + \"-items-container\";\r\nvar DX_MENU_ITEM_EXPANDED_CLASS = DX_MENU_ITEM_CLASS + \"-expanded\";\r\nvar DX_CONTEXT_MENU_CLASS = \"dx-context-menu\";\r\nvar DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS = DX_CONTEXT_MENU_CLASS + \"-container-border\";\r\nvar DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS = \"dx-context-menu-content-delimiter\";\r\nvar DX_SUBMENU_CLASS = \"dx-submenu\";\r\nvar DX_STATE_DISABLED_CLASS = \"dx-state-disabled\";\r\nvar DX_STATE_HOVER_CLASS = \"dx-state-hover\";\r\nvar DX_STATE_ACTIVE_CLASS = \"dx-state-active\";\r\nvar DX_ADAPTIVE_MODE_CLASS = DX_MENU_CLASS + \"-adaptive-mode\";\r\nvar DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS = DX_MENU_CLASS + \"-hamburger-button\";\r\nvar DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS = DX_ADAPTIVE_MODE_CLASS + \"-overlay-wrapper\";\r\nvar FOCUS_UP = \"up\";\r\nvar FOCUS_DOWN = \"down\";\r\nvar FOCUS_LEFT = \"left\";\r\nvar FOCUS_RIGHT = \"right\";\r\nvar SHOW_SUBMENU_OPERATION = \"showSubmenu\";\r\nvar NEXTITEM_OPERATION = \"nextItem\";\r\nvar PREVITEM_OPERATION = \"prevItem\";\r\nvar DEFAULT_DELAY = {\r\n    show: 50,\r\n    hide: 300\r\n};\r\nvar ACTIONS = [\"onSubmenuShowing\", \"onSubmenuShown\", \"onSubmenuHiding\", \"onSubmenuHidden\", \"onItemContextMenu\", \"onItemClick\", \"onSelectionChanged\", \"onItemRendered\"];\r\nclass Menu extends MenuBase {\r\n    _getDefaultOptions() {\r\n        return extend(super._getDefaultOptions(), {\r\n            orientation: \"horizontal\",\r\n            submenuDirection: \"auto\",\r\n            showFirstSubmenuMode: {\r\n                name: \"onClick\",\r\n                delay: {\r\n                    show: 50,\r\n                    hide: 300\r\n                }\r\n            },\r\n            hideSubmenuOnMouseLeave: false,\r\n            onSubmenuShowing: null,\r\n            onSubmenuShown: null,\r\n            onSubmenuHiding: null,\r\n            onSubmenuHidden: null,\r\n            adaptivityEnabled: false\r\n        })\r\n    }\r\n    _setOptionsByReference() {\r\n        super._setOptionsByReference();\r\n        extend(this._optionsByReference, {\r\n            animation: true,\r\n            selectedItem: true\r\n        })\r\n    }\r\n    _itemElements() {\r\n        var rootMenuElements = super._itemElements();\r\n        var submenuElements = this._submenuItemElements();\r\n        return rootMenuElements.add(submenuElements)\r\n    }\r\n    _submenuItemElements() {\r\n        var elements = [];\r\n        var itemSelector = \".\".concat(DX_MENU_ITEM_CLASS);\r\n        var currentSubmenu = this._submenus.length && this._submenus[0];\r\n        if (currentSubmenu && currentSubmenu.itemsContainer()) {\r\n            elements = currentSubmenu.itemsContainer().find(itemSelector)\r\n        }\r\n        return elements\r\n    }\r\n    _focusTarget() {\r\n        return this.$element()\r\n    }\r\n    _isMenuHorizontal() {\r\n        return \"horizontal\" === this.option(\"orientation\")\r\n    }\r\n    _moveFocus(location) {\r\n        var $items = this._getAvailableItems();\r\n        var isMenuHorizontal = this._isMenuHorizontal();\r\n        var $activeItem = this._getActiveItem(true);\r\n        var argument;\r\n        var operation;\r\n        var navigationAction;\r\n        var $newTarget;\r\n        switch (location) {\r\n            case FOCUS_UP:\r\n                operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(PREVITEM_OPERATION);\r\n                argument = isMenuHorizontal ? $activeItem : $items;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            case FOCUS_DOWN:\r\n                operation = isMenuHorizontal ? SHOW_SUBMENU_OPERATION : this._getItemsNavigationOperation(NEXTITEM_OPERATION);\r\n                argument = isMenuHorizontal ? $activeItem : $items;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            case FOCUS_RIGHT:\r\n                operation = isMenuHorizontal ? this._getItemsNavigationOperation(NEXTITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                argument = isMenuHorizontal ? $items : $activeItem;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            case FOCUS_LEFT:\r\n                operation = isMenuHorizontal ? this._getItemsNavigationOperation(PREVITEM_OPERATION) : SHOW_SUBMENU_OPERATION;\r\n                argument = isMenuHorizontal ? $items : $activeItem;\r\n                navigationAction = this._getKeyboardNavigationAction(operation, argument);\r\n                $newTarget = navigationAction();\r\n                break;\r\n            default:\r\n                return super._moveFocus(location)\r\n        }\r\n        if ($newTarget && 0 !== $newTarget.length) {\r\n            this.option(\"focusedElement\", getPublicElement($newTarget))\r\n        }\r\n    }\r\n    _getItemsNavigationOperation(operation) {\r\n        var navOperation = operation;\r\n        if (this.option(\"rtlEnabled\")) {\r\n            navOperation = operation === PREVITEM_OPERATION ? NEXTITEM_OPERATION : PREVITEM_OPERATION\r\n        }\r\n        return navOperation\r\n    }\r\n    _getKeyboardNavigationAction(operation, argument) {\r\n        var action = noop;\r\n        switch (operation) {\r\n            case SHOW_SUBMENU_OPERATION:\r\n                if (!argument.hasClass(DX_STATE_DISABLED_CLASS)) {\r\n                    action = this._showSubmenu.bind(this, argument)\r\n                }\r\n                break;\r\n            case NEXTITEM_OPERATION:\r\n                action = this._nextItem.bind(this, argument);\r\n                break;\r\n            case PREVITEM_OPERATION:\r\n                action = this._prevItem.bind(this, argument)\r\n        }\r\n        return action\r\n    }\r\n    _clean() {\r\n        super._clean();\r\n        this.option(\"templatesRenderAsynchronously\") && clearTimeout(this._resizeEventTimer)\r\n    }\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            if (!this._menuItemsWidth) {\r\n                this._updateItemsWidthCache()\r\n            }\r\n            this._dimensionChanged()\r\n        }\r\n    }\r\n    _isAdaptivityEnabled() {\r\n        return this.option(\"adaptivityEnabled\") && \"horizontal\" === this.option(\"orientation\")\r\n    }\r\n    _updateItemsWidthCache() {\r\n        var $menuItems = this.$element().find(\"ul\").first().children(\"li\").children(\".\".concat(DX_MENU_ITEM_CLASS));\r\n        this._menuItemsWidth = this._getSummaryItemsWidth($menuItems, true)\r\n    }\r\n    _dimensionChanged() {\r\n        if (!this._isAdaptivityEnabled()) {\r\n            return\r\n        }\r\n        var containerWidth = getOuterWidth(this.$element());\r\n        this._toggleAdaptiveMode(this._menuItemsWidth > containerWidth)\r\n    }\r\n    _init() {\r\n        super._init();\r\n        this._submenus = []\r\n    }\r\n    _initActions() {\r\n        this._actions = {};\r\n        each(ACTIONS, (index, action) => {\r\n            this._actions[action] = this._createActionByOption(action)\r\n        })\r\n    }\r\n    _initMarkup() {\r\n        this._visibleSubmenu = null;\r\n        this.$element().addClass(DX_MENU_CLASS);\r\n        super._initMarkup();\r\n        this.setAria(\"role\", \"menubar\")\r\n    }\r\n    _render() {\r\n        super._render();\r\n        this._initAdaptivity()\r\n    }\r\n    _renderHamburgerButton() {\r\n        this._hamburger = new Button($(\"<div>\").addClass(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS), {\r\n            icon: \"menu\",\r\n            activeStateEnabled: false,\r\n            onClick: this._toggleTreeView.bind(this)\r\n        });\r\n        return this._hamburger.$element()\r\n    }\r\n    _toggleTreeView(state) {\r\n        if (isPlainObject(state)) {\r\n            state = !this._overlay.option(\"visible\")\r\n        }\r\n        this._overlay.option(\"visible\", state);\r\n        this._toggleHamburgerActiveState(state)\r\n    }\r\n    _toggleHamburgerActiveState(state) {\r\n        this._hamburger && this._hamburger.$element().toggleClass(DX_STATE_ACTIVE_CLASS, state)\r\n    }\r\n    _toggleAdaptiveMode(state) {\r\n        var $menuItemsContainer = this.$element().find(\".\".concat(DX_MENU_HORIZONTAL_CLASS));\r\n        var $adaptiveElements = this.$element().find(\".\".concat(DX_ADAPTIVE_MODE_CLASS));\r\n        if (state) {\r\n            this._hideVisibleSubmenu()\r\n        } else {\r\n            this._treeView && this._treeView.collapseAll();\r\n            this._overlay && this._toggleTreeView(state)\r\n        }\r\n        $menuItemsContainer.toggle(!state);\r\n        $adaptiveElements.toggle(state)\r\n    }\r\n    _removeAdaptivity() {\r\n        if (!this._$adaptiveContainer) {\r\n            return\r\n        }\r\n        this._toggleAdaptiveMode(false);\r\n        this._$adaptiveContainer.remove();\r\n        this._$adaptiveContainer = null;\r\n        this._treeView = null;\r\n        this._hamburger = null;\r\n        this._overlay = null\r\n    }\r\n    _treeviewItemClickHandler(e) {\r\n        this._actions.onItemClick(e);\r\n        if (!e.node.children.length) {\r\n            this._toggleTreeView(false)\r\n        }\r\n    }\r\n    _getAdaptiveOverlayOptions() {\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        var position = rtl ? \"right\" : \"left\";\r\n        return {\r\n            _ignoreFunctionValueDeprecation: true,\r\n            maxHeight: () => getElementMaxHeightByWindow(this.$element()),\r\n            deferRendering: false,\r\n            shading: false,\r\n            animation: false,\r\n            hideOnParentScroll: true,\r\n            onHidden: () => {\r\n                this._toggleHamburgerActiveState(false)\r\n            },\r\n            height: \"auto\",\r\n            closeOnOutsideClick: e => !$(e.target).closest(\".\".concat(DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS)).length,\r\n            position: {\r\n                collision: \"flipfit\",\r\n                at: \"bottom \" + position,\r\n                my: \"top \" + position,\r\n                of: this._hamburger.$element()\r\n            }\r\n        }\r\n    }\r\n    _getTreeViewOptions() {\r\n        var menuOptions = {};\r\n        each([\"rtlEnabled\", \"width\", \"accessKey\", \"activeStateEnabled\", \"animation\", \"dataSource\", \"disabled\", \"displayExpr\", \"displayExpr\", \"focusStateEnabled\", \"hint\", \"hoverStateEnabled\", \"itemsExpr\", \"items\", \"itemTemplate\", \"selectedExpr\", \"selectionMode\", \"tabIndex\", \"visible\"], (_, option) => {\r\n            menuOptions[option] = this.option(option)\r\n        });\r\n        each([\"onItemContextMenu\", \"onSelectionChanged\"], (_, actionName) => {\r\n            menuOptions[actionName] = e => {\r\n                this._actions[actionName](e)\r\n            }\r\n        });\r\n        return extend(menuOptions, {\r\n            dataSource: this.getDataSource(),\r\n            animationEnabled: !!this.option(\"animation\"),\r\n            onItemClick: this._treeviewItemClickHandler.bind(this),\r\n            onItemExpanded: e => {\r\n                this._overlay.repaint();\r\n                this._actions.onSubmenuShown(e)\r\n            },\r\n            onItemCollapsed: e => {\r\n                this._overlay.repaint();\r\n                this._actions.onSubmenuHidden(e)\r\n            },\r\n            selectNodesRecursive: false,\r\n            selectByClick: this.option(\"selectByClick\"),\r\n            expandEvent: \"click\"\r\n        })\r\n    }\r\n    _initAdaptivity() {\r\n        if (!this._isAdaptivityEnabled()) {\r\n            return\r\n        }\r\n        this._$adaptiveContainer = $(\"<div>\").addClass(DX_ADAPTIVE_MODE_CLASS);\r\n        var $hamburger = this._renderHamburgerButton();\r\n        this._treeView = this._createComponent($(\"<div>\"), TreeView, this._getTreeViewOptions());\r\n        this._overlay = this._createComponent($(\"<div>\"), Overlay, this._getAdaptiveOverlayOptions());\r\n        this._overlay.$content().append(this._treeView.$element()).addClass(DX_ADAPTIVE_MODE_CLASS).addClass(this.option(\"cssClass\"));\r\n        this._overlay.$wrapper().addClass(DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS);\r\n        this._$adaptiveContainer.append($hamburger);\r\n        this._$adaptiveContainer.append(this._overlay.$element());\r\n        this.$element().append(this._$adaptiveContainer);\r\n        this._updateItemsWidthCache();\r\n        this._dimensionChanged()\r\n    }\r\n    _getDelay(delayType) {\r\n        var delay = this.option(\"showFirstSubmenuMode\").delay;\r\n        if (!isDefined(delay)) {\r\n            return DEFAULT_DELAY[delayType]\r\n        } else {\r\n            return isObject(delay) ? delay[delayType] : delay\r\n        }\r\n    }\r\n    _keyboardHandler(e) {\r\n        return super._keyboardHandler(e, !!this._visibleSubmenu)\r\n    }\r\n    _renderContainer() {\r\n        var $wrapper = $(\"<div>\");\r\n        $wrapper.appendTo(this.$element()).addClass(this._isMenuHorizontal() ? DX_MENU_HORIZONTAL_CLASS : DX_MENU_VERTICAL_CLASS);\r\n        return super._renderContainer($wrapper)\r\n    }\r\n    _renderSubmenuItems(node, $itemFrame) {\r\n        var submenu = this._createSubmenu(node, $itemFrame);\r\n        this._submenus.push(submenu);\r\n        this._renderBorderElement($itemFrame);\r\n        return submenu\r\n    }\r\n    _getKeyboardListeners() {\r\n        return super._getKeyboardListeners().concat(this._visibleSubmenu)\r\n    }\r\n    _createSubmenu(node, $rootItem) {\r\n        var $submenuContainer = $(\"<div>\").addClass(DX_CONTEXT_MENU_CLASS).appendTo($rootItem);\r\n        var items = this._getChildNodes(node);\r\n        var result = this._createComponent($submenuContainer, Submenu, extend(this._getSubmenuOptions(), {\r\n            _dataAdapter: this._dataAdapter,\r\n            _parentKey: node.internalFields.key,\r\n            items: items,\r\n            onHoverStart: this._clearTimeouts.bind(this),\r\n            position: this.getSubmenuPosition($rootItem)\r\n        }));\r\n        this._attachSubmenuHandlers($rootItem, result);\r\n        return result\r\n    }\r\n    _getSubmenuOptions() {\r\n        var $submenuTarget = $(\"<div>\");\r\n        var isMenuHorizontal = this._isMenuHorizontal();\r\n        return {\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            target: $submenuTarget,\r\n            orientation: this.option(\"orientation\"),\r\n            selectionMode: this.option(\"selectionMode\"),\r\n            cssClass: this.option(\"cssClass\"),\r\n            selectByClick: this.option(\"selectByClick\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            animation: this.option(\"animation\"),\r\n            showSubmenuMode: this.option(\"showSubmenuMode\"),\r\n            displayExpr: this.option(\"displayExpr\"),\r\n            disabledExpr: this.option(\"disabledExpr\"),\r\n            selectedExpr: this.option(\"selectedExpr\"),\r\n            itemsExpr: this.option(\"itemsExpr\"),\r\n            onFocusedItemChanged: e => {\r\n                if (!e.component.option(\"visible\")) {\r\n                    return\r\n                }\r\n                this.option(\"focusedElement\", e.component.option(\"focusedElement\"))\r\n            },\r\n            onSelectionChanged: this._nestedItemOnSelectionChangedHandler.bind(this),\r\n            onItemClick: this._nestedItemOnItemClickHandler.bind(this),\r\n            onItemRendered: this._nestedItemOnItemRenderedHandler.bind(this),\r\n            onLeftFirstItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, PREVITEM_OPERATION),\r\n            onLeftLastItem: isMenuHorizontal ? null : this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION),\r\n            onCloseRootSubmenu: this._moveMainMenuFocus.bind(this, isMenuHorizontal ? PREVITEM_OPERATION : null),\r\n            onExpandLastSubmenu: isMenuHorizontal ? this._moveMainMenuFocus.bind(this, NEXTITEM_OPERATION) : null\r\n        }\r\n    }\r\n    _getShowFirstSubmenuMode() {\r\n        if (!this._isDesktopDevice()) {\r\n            return \"onClick\"\r\n        }\r\n        var optionValue = this.option(\"showFirstSubmenuMode\");\r\n        return isObject(optionValue) ? optionValue.name : optionValue\r\n    }\r\n    _moveMainMenuFocus(direction) {\r\n        var $items = this._getAvailableItems();\r\n        var itemCount = $items.length;\r\n        var $currentItem = $items.filter(\".\".concat(DX_MENU_ITEM_EXPANDED_CLASS)).eq(0);\r\n        var itemIndex = $items.index($currentItem);\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        itemIndex += direction === PREVITEM_OPERATION ? -1 : 1;\r\n        if (itemIndex >= itemCount) {\r\n            itemIndex = 0\r\n        } else if (itemIndex < 0) {\r\n            itemIndex = itemCount - 1\r\n        }\r\n        var $newItem = $items.eq(itemIndex);\r\n        this.option(\"focusedElement\", getPublicElement($newItem))\r\n    }\r\n    _nestedItemOnSelectionChangedHandler(args) {\r\n        var selectedItem = args.addedItems.length && args.addedItems[0];\r\n        var submenu = Submenu.getInstance(args.element);\r\n        var onSelectionChanged = this._actions.onSelectionChanged;\r\n        onSelectionChanged(args);\r\n        selectedItem && this._clearSelectionInSubmenus(selectedItem[0], submenu);\r\n        this._clearRootSelection();\r\n        this._setOptionWithoutOptionChange(\"selectedItem\", selectedItem)\r\n    }\r\n    _clearSelectionInSubmenus(item, targetSubmenu) {\r\n        var cleanAllSubmenus = !arguments.length;\r\n        each(this._submenus, (index, submenu) => {\r\n            var $submenu = submenu._itemContainer();\r\n            var isOtherItem = !$submenu.is(targetSubmenu && targetSubmenu._itemContainer());\r\n            var $selectedItem = $submenu.find(\".\".concat(this._selectedItemClass()));\r\n            if (isOtherItem && $selectedItem.length || cleanAllSubmenus) {\r\n                $selectedItem.removeClass(this._selectedItemClass());\r\n                var selectedItemData = this._getItemData($selectedItem);\r\n                if (selectedItemData) {\r\n                    selectedItemData.selected = false\r\n                }\r\n                submenu._clearSelectedItems()\r\n            }\r\n        })\r\n    }\r\n    _clearRootSelection() {\r\n        var $prevSelectedItem = this.$element().find(\".\".concat(DX_MENU_ITEMS_CONTAINER_CLASS)).first().children().children().filter(\".\".concat(this._selectedItemClass()));\r\n        if ($prevSelectedItem.length) {\r\n            var prevSelectedItemData = this._getItemData($prevSelectedItem);\r\n            prevSelectedItemData.selected = false;\r\n            $prevSelectedItem.removeClass(this._selectedItemClass())\r\n        }\r\n    }\r\n    _nestedItemOnItemClickHandler(e) {\r\n        this._actions.onItemClick(e)\r\n    }\r\n    _nestedItemOnItemRenderedHandler(e) {\r\n        this._actions.onItemRendered(e)\r\n    }\r\n    _attachSubmenuHandlers($rootItem, submenu) {\r\n        var $submenuOverlayContent = submenu.getOverlayContent();\r\n        var submenus = $submenuOverlayContent.find(\".\".concat(DX_SUBMENU_CLASS));\r\n        var submenuMouseLeaveName = addNamespace(hoverEventEnd, this.NAME + \"_submenu\");\r\n        submenu.option({\r\n            onShowing: this._submenuOnShowingHandler.bind(this, $rootItem, submenu),\r\n            onShown: this._submenuOnShownHandler.bind(this, $rootItem, submenu),\r\n            onHiding: this._submenuOnHidingHandler.bind(this, $rootItem, submenu),\r\n            onHidden: this._submenuOnHiddenHandler.bind(this, $rootItem, submenu)\r\n        });\r\n        each(submenus, (index, submenu) => {\r\n            eventsEngine.off(submenu, submenuMouseLeaveName);\r\n            eventsEngine.on(submenu, submenuMouseLeaveName, null, this._submenuMouseLeaveHandler.bind(this, $rootItem))\r\n        })\r\n    }\r\n    _submenuOnShowingHandler($rootItem, submenu) {\r\n        var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n        this._actions.onSubmenuShowing({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: submenu\r\n        });\r\n        $border.show();\r\n        $rootItem.addClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n    }\r\n    _submenuOnShownHandler($rootItem, submenu) {\r\n        this._actions.onSubmenuShown({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: submenu\r\n        })\r\n    }\r\n    _submenuOnHidingHandler($rootItem, submenu, eventArgs) {\r\n        var $border = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS));\r\n        var args = eventArgs;\r\n        args.rootItem = getPublicElement($rootItem);\r\n        args.submenu = submenu;\r\n        this._actions.onSubmenuHiding(args);\r\n        eventArgs = args;\r\n        if (!eventArgs.cancel) {\r\n            if (this._visibleSubmenu === submenu) {\r\n                this._visibleSubmenu = null\r\n            }\r\n            $border.hide();\r\n            $rootItem.removeClass(DX_MENU_ITEM_EXPANDED_CLASS)\r\n        }\r\n    }\r\n    _submenuOnHiddenHandler($rootItem, submenu) {\r\n        this._actions.onSubmenuHidden({\r\n            rootItem: getPublicElement($rootItem),\r\n            submenu: submenu\r\n        })\r\n    }\r\n    _submenuMouseLeaveHandler($rootItem, eventArgs) {\r\n        var target = $(eventArgs.relatedTarget).parents(\".\".concat(DX_CONTEXT_MENU_CLASS))[0];\r\n        var contextMenu = this._getSubmenuByRootElement($rootItem).getOverlayContent()[0];\r\n        if (this.option(\"hideSubmenuOnMouseLeave\") && target !== contextMenu) {\r\n            this._clearTimeouts();\r\n            setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"))\r\n        }\r\n    }\r\n    _hideSubmenuAfterTimeout() {\r\n        if (!this._visibleSubmenu) {\r\n            return\r\n        }\r\n        var isRootItemHovered = $(this._visibleSubmenu.$element().context).hasClass(DX_STATE_HOVER_CLASS);\r\n        var isSubmenuItemHovered = this._visibleSubmenu.getOverlayContent().find(\".\".concat(DX_STATE_HOVER_CLASS)).length;\r\n        var hoveredElementFromSubMenu = this._visibleSubmenu.getOverlayContent().get(0).querySelector(\":hover\");\r\n        if (!hoveredElementFromSubMenu && !isSubmenuItemHovered && !isRootItemHovered) {\r\n            this._visibleSubmenu.hide()\r\n        }\r\n    }\r\n    _getSubmenuByRootElement($rootItem) {\r\n        if (!$rootItem) {\r\n            return false\r\n        }\r\n        var $submenu = $rootItem.children(\".\".concat(DX_CONTEXT_MENU_CLASS));\r\n        return $submenu.length && Submenu.getInstance($submenu)\r\n    }\r\n    getSubmenuPosition($rootItem) {\r\n        var isHorizontalMenu = this._isMenuHorizontal();\r\n        var submenuDirection = this.option(\"submenuDirection\").toLowerCase();\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var submenuPosition = {\r\n            collision: \"flip\",\r\n            of: $rootItem\r\n        };\r\n        switch (submenuDirection) {\r\n            case \"leftortop\":\r\n                submenuPosition.at = \"left top\";\r\n                submenuPosition.my = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                break;\r\n            case \"rightorbottom\":\r\n                submenuPosition.at = isHorizontalMenu ? \"left bottom\" : \"right top\";\r\n                submenuPosition.my = \"left top\";\r\n                break;\r\n            default:\r\n                if (isHorizontalMenu) {\r\n                    submenuPosition.at = rtlEnabled ? \"right bottom\" : \"left bottom\";\r\n                    submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                } else {\r\n                    submenuPosition.at = rtlEnabled ? \"left top\" : \"right top\";\r\n                    submenuPosition.my = rtlEnabled ? \"right top\" : \"left top\"\r\n                }\r\n        }\r\n        return submenuPosition\r\n    }\r\n    _renderBorderElement($item) {\r\n        $(\"<div>\").appendTo($item).addClass(DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS).hide()\r\n    }\r\n    _itemPointerDownHandler(e) {\r\n        var $target = $(e.target);\r\n        var $closestItem = $target.closest(this._itemElements());\r\n        if ($closestItem.hasClass(\"dx-menu-item-has-submenu\")) {\r\n            this.option(\"focusedElement\", null);\r\n            return\r\n        }\r\n        super._itemPointerDownHandler(e)\r\n    }\r\n    _hoverStartHandler(e) {\r\n        var mouseMoveEventName = addNamespace(pointerEvents.move, this.NAME);\r\n        var $item = this._getItemElementByEventArgs(e);\r\n        var node = this._dataAdapter.getNodeByItem(this._getItemData($item));\r\n        var isSelectionActive = isDefined(e.buttons) && 1 === e.buttons || !isDefined(e.buttons) && 1 === e.which;\r\n        if (this._isItemDisabled($item)) {\r\n            return\r\n        }\r\n        eventsEngine.off($item, mouseMoveEventName);\r\n        if (!this._hasChildren(node)) {\r\n            this._showSubmenuTimer = setTimeout(this._hideSubmenuAfterTimeout.bind(this), this._getDelay(\"hide\"));\r\n            return\r\n        }\r\n        if (\"onHover\" === this._getShowFirstSubmenuMode() && !isSelectionActive) {\r\n            var submenu = this._getSubmenuByElement($item);\r\n            this._clearTimeouts();\r\n            if (!submenu.isOverlayVisible()) {\r\n                eventsEngine.on($item, mouseMoveEventName, this._itemMouseMoveHandler.bind(this));\r\n                this._showSubmenuTimer = this._getDelay(\"hide\")\r\n            }\r\n        }\r\n    }\r\n    _hoverEndHandler(eventArg) {\r\n        var $item = this._getItemElementByEventArgs(eventArg);\r\n        var relatedTarget = $(eventArg.relatedTarget);\r\n        super._hoverEndHandler(eventArg);\r\n        this._clearTimeouts();\r\n        if (this._isItemDisabled($item)) {\r\n            return\r\n        }\r\n        if (relatedTarget.hasClass(DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS)) {\r\n            return\r\n        }\r\n        if (this.option(\"hideSubmenuOnMouseLeave\") && !relatedTarget.hasClass(DX_MENU_ITEMS_CONTAINER_CLASS)) {\r\n            this._hideSubmenuTimer = setTimeout(() => {\r\n                this._hideSubmenuAfterTimeout()\r\n            }, this._getDelay(\"hide\"))\r\n        }\r\n    }\r\n    _hideVisibleSubmenu() {\r\n        if (!this._visibleSubmenu) {\r\n            return false\r\n        }\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        return true\r\n    }\r\n    _showSubmenu($itemElement) {\r\n        var submenu = this._getSubmenuByElement($itemElement);\r\n        if (this._visibleSubmenu !== submenu) {\r\n            this._hideVisibleSubmenu()\r\n        }\r\n        if (submenu) {\r\n            this._clearTimeouts();\r\n            submenu.show();\r\n            this.option(\"focusedElement\", submenu.option(\"focusedElement\"))\r\n        }\r\n        this._visibleSubmenu = submenu;\r\n        this._hoveredRootItem = $itemElement\r\n    }\r\n    _hideSubmenu(submenu) {\r\n        submenu && submenu.hide();\r\n        if (this._visibleSubmenu === submenu) {\r\n            this._visibleSubmenu = null\r\n        }\r\n        this._hoveredRootItem = null\r\n    }\r\n    _itemMouseMoveHandler(e) {\r\n        if (e.pointers && e.pointers.length) {\r\n            return\r\n        }\r\n        var $item = $(e.currentTarget);\r\n        if (!isDefined(this._showSubmenuTimer)) {\r\n            return\r\n        }\r\n        this._clearTimeouts();\r\n        this._showSubmenuTimer = setTimeout(() => {\r\n            var submenu = this._getSubmenuByElement($item);\r\n            if (submenu && !submenu.isOverlayVisible()) {\r\n                this._showSubmenu($item)\r\n            }\r\n        }, this._getDelay(\"show\"))\r\n    }\r\n    _clearTimeouts() {\r\n        clearTimeout(this._hideSubmenuTimer);\r\n        clearTimeout(this._showSubmenuTimer)\r\n    }\r\n    _getSubmenuByElement($itemElement, itemData) {\r\n        var submenu = this._getSubmenuByRootElement($itemElement);\r\n        if (submenu) {\r\n            return submenu\r\n        } else {\r\n            itemData = itemData || this._getItemData($itemElement);\r\n            var node = this._dataAdapter.getNodeByItem(itemData);\r\n            return this._hasChildren(node) && this._renderSubmenuItems(node, $itemElement)\r\n        }\r\n    }\r\n    _updateSubmenuVisibilityOnClick(actionArgs) {\r\n        var args = actionArgs.args.length && actionArgs.args[0];\r\n        if (!args || this._disabledGetter(args.itemData)) {\r\n            return\r\n        }\r\n        var $itemElement = $(args.itemElement);\r\n        var currentSubmenu = this._getSubmenuByElement($itemElement, args.itemData);\r\n        this._updateSelectedItemOnClick(actionArgs);\r\n        if (this._visibleSubmenu) {\r\n            if (this._visibleSubmenu === currentSubmenu) {\r\n                if (\"onClick\" === this.option(\"showFirstSubmenuMode\")) {\r\n                    this._hideSubmenu(this._visibleSubmenu)\r\n                }\r\n                return\r\n            } else {\r\n                this._hideSubmenu(this._visibleSubmenu)\r\n            }\r\n        }\r\n        if (!currentSubmenu) {\r\n            return\r\n        }\r\n        if (!currentSubmenu.isOverlayVisible()) {\r\n            this._showSubmenu($itemElement);\r\n            return\r\n        }\r\n    }\r\n    _optionChanged(args) {\r\n        if (ACTIONS.indexOf(args.name) >= 0) {\r\n            this._initActions();\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"orientation\":\r\n            case \"submenuDirection\":\r\n                this._invalidate();\r\n                break;\r\n            case \"showFirstSubmenuMode\":\r\n            case \"hideSubmenuOnMouseLeave\":\r\n                break;\r\n            case \"showSubmenuMode\":\r\n                this._changeSubmenusOption(args.name, args.value);\r\n                break;\r\n            case \"adaptivityEnabled\":\r\n                args.value ? this._initAdaptivity() : this._removeAdaptivity();\r\n                break;\r\n            case \"width\":\r\n                if (this._isAdaptivityEnabled()) {\r\n                    this._treeView.option(args.name, args.value);\r\n                    this._overlay.option(args.name, args.value)\r\n                }\r\n                super._optionChanged(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"animation\":\r\n                if (this._isAdaptivityEnabled()) {\r\n                    this._treeView.option(\"animationEnabled\", !!args.value)\r\n                }\r\n                super._optionChanged(args);\r\n                break;\r\n            default:\r\n                if (this._isAdaptivityEnabled() && (args.name === args.fullName || \"items\" === args.name)) {\r\n                    this._treeView.option(args.fullName, args.value)\r\n                }\r\n                super._optionChanged(args)\r\n        }\r\n    }\r\n    _changeSubmenusOption(name, value) {\r\n        each(this._submenus, (index, submenu) => {\r\n            submenu.option(name, value)\r\n        })\r\n    }\r\n    selectItem(itemElement) {\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        super.selectItem(itemElement)\r\n    }\r\n    unselectItem(itemElement) {\r\n        this._hideSubmenu(this._visibleSubmenu);\r\n        super.selectItem(itemElement)\r\n    }\r\n}\r\nregisterComponent(\"dxMenu\", Menu);\r\nexport default Menu;\r\n","/**\r\n * DevExtreme (esm/ui/menu.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Menu from \"./menu/ui.menu\";\r\nexport default Menu;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_row.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Editor from \"../editor/editor\";\r\nimport Overlay from \"../overlay/ui.overlay\";\r\nimport Menu from \"../menu\";\r\nimport {\r\n    selectView\r\n} from \"../shared/accessibility\";\r\nvar OPERATION_ICONS = {\r\n    \"=\": \"filter-operation-equals\",\r\n    \"<>\": \"filter-operation-not-equals\",\r\n    \"<\": \"filter-operation-less\",\r\n    \"<=\": \"filter-operation-less-equal\",\r\n    \">\": \"filter-operation-greater\",\r\n    \">=\": \"filter-operation-greater-equal\",\r\n    default: \"filter-operation-default\",\r\n    notcontains: \"filter-operation-not-contains\",\r\n    contains: \"filter-operation-contains\",\r\n    startswith: \"filter-operation-starts-with\",\r\n    endswith: \"filter-operation-ends-with\",\r\n    between: \"filter-operation-between\"\r\n};\r\nvar OPERATION_DESCRIPTORS = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notEqual\",\r\n    \"<\": \"lessThan\",\r\n    \"<=\": \"lessThanOrEqual\",\r\n    \">\": \"greaterThan\",\r\n    \">=\": \"greaterThanOrEqual\",\r\n    startswith: \"startsWith\",\r\n    contains: \"contains\",\r\n    notcontains: \"notContains\",\r\n    endswith: \"endsWith\",\r\n    between: \"between\"\r\n};\r\nvar FILTERING_TIMEOUT = 700;\r\nvar CORRECT_FILTER_RANGE_OVERLAY_WIDTH = 1;\r\nvar FILTER_ROW_CLASS = \"filter-row\";\r\nvar FILTER_RANGE_OVERLAY_CLASS = \"filter-range-overlay\";\r\nvar FILTER_RANGE_START_CLASS = \"filter-range-start\";\r\nvar FILTER_RANGE_END_CLASS = \"filter-range-end\";\r\nvar MENU_CLASS = \"dx-menu\";\r\nvar EDITOR_WITH_MENU_CLASS = \"dx-editor-with-menu\";\r\nvar EDITOR_CONTAINER_CLASS = \"dx-editor-container\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar FILTER_MENU = \"dx-filter-menu\";\r\nvar APPLY_BUTTON_CLASS = \"dx-apply-button\";\r\nvar HIGHLIGHT_OUTLINE_CLASS = \"dx-highlight-outline\";\r\nvar FOCUSED_CLASS = \"dx-focused\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FILTER_RANGE_CONTENT_CLASS = \"dx-filter-range-content\";\r\nvar FILTER_MODIFIED_CLASS = \"dx-filter-modified\";\r\nvar EDITORS_INPUT_SELECTOR = \"input:not([type='hidden'])\";\r\nvar BETWEEN_OPERATION_DATA_TYPES = [\"date\", \"datetime\", \"number\"];\r\n\r\nfunction isOnClickApplyFilterMode(that) {\r\n    return \"onClick\" === that.option(\"filterRow.applyFilter\")\r\n}\r\nvar ColumnHeadersViewFilterRowExtender = function() {\r\n    var getEditorInstance = function($editorContainer) {\r\n        var $editor = $editorContainer && $editorContainer.children();\r\n        var componentNames = $editor && $editor.data(\"dxComponents\");\r\n        var editor = componentNames && componentNames.length && $editor.data(componentNames[0]);\r\n        if (editor instanceof Editor) {\r\n            return editor\r\n        }\r\n    };\r\n    var getRangeTextByFilterValue = function(that, column) {\r\n        var result = \"\";\r\n        var rangeEnd = \"\";\r\n        var filterValue = getColumnFilterValue(that, column);\r\n        var formatOptions = gridCoreUtils.getFormatOptionsByColumn(column, \"filterRow\");\r\n        if (Array.isArray(filterValue)) {\r\n            result = gridCoreUtils.formatValue(filterValue[0], formatOptions);\r\n            rangeEnd = gridCoreUtils.formatValue(filterValue[1], formatOptions);\r\n            if (\"\" !== rangeEnd) {\r\n                result += \" - \" + rangeEnd\r\n            }\r\n        } else if (isDefined(filterValue)) {\r\n            result = gridCoreUtils.formatValue(filterValue, formatOptions)\r\n        }\r\n        return result\r\n    };\r\n\r\n    function getColumnFilterValue(that, column) {\r\n        if (column) {\r\n            return isOnClickApplyFilterMode(that) && void 0 !== column.bufferedFilterValue ? column.bufferedFilterValue : column.filterValue\r\n        }\r\n    }\r\n    var getColumnSelectedFilterOperation = function(that, column) {\r\n        if (column) {\r\n            return isOnClickApplyFilterMode(that) && void 0 !== column.bufferedSelectedFilterOperation ? column.bufferedSelectedFilterOperation : column.selectedFilterOperation\r\n        }\r\n    };\r\n    var getFilterValue = function(that, columnIndex, $editorContainer) {\r\n        var column = that._columnsController.columnOption(columnIndex);\r\n        var filterValue = getColumnFilterValue(that, column);\r\n        var isFilterRange = $editorContainer.closest(\".\" + that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).length;\r\n        var isRangeStart = $editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS));\r\n        if (filterValue && Array.isArray(filterValue) && \"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n            if (isRangeStart) {\r\n                return filterValue[0]\r\n            } else {\r\n                return filterValue[1]\r\n            }\r\n        }\r\n        return !isFilterRange && function(filterValue, column) {\r\n            if (column && BETWEEN_OPERATION_DATA_TYPES.indexOf(column.dataType) >= 0 && Array.isArray(filterValue)) {\r\n                return false\r\n            }\r\n            return void 0 !== filterValue\r\n        }(filterValue, column) ? filterValue : null\r\n    };\r\n    var updateFilterValue = function(that, options) {\r\n        var value = \"\" === options.value ? null : options.value;\r\n        var $editorContainer = options.container;\r\n        var column = that._columnsController.columnOption(options.column.index);\r\n        var filterValue = getFilterValue(that, column.index, $editorContainer);\r\n        if (!isDefined(filterValue) && !isDefined(value)) {\r\n            return\r\n        }\r\n        that._applyFilterViewController.setHighLight($editorContainer, filterValue !== value);\r\n        var columnOptionName = isOnClickApplyFilterMode(that) ? \"bufferedFilterValue\" : \"filterValue\";\r\n        var normalizedValue = function(that, filterValue, column, $editorContainer) {\r\n            if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                var columnFilterValue = getColumnFilterValue(that, column);\r\n                if ($editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS))) {\r\n                    return [filterValue, Array.isArray(columnFilterValue) ? columnFilterValue[1] : void 0]\r\n                } else {\r\n                    return [Array.isArray(columnFilterValue) ? columnFilterValue[0] : columnFilterValue, filterValue]\r\n                }\r\n            }\r\n            return filterValue\r\n        }(that, value, column, $editorContainer);\r\n        var isBetween = \"between\" === getColumnSelectedFilterOperation(that, column);\r\n        var notFireEvent = options.notFireEvent || isBetween && Array.isArray(normalizedValue) && normalizedValue.indexOf(void 0) >= 0;\r\n        that._columnsController.columnOption(column.index, columnOptionName, normalizedValue, notFireEvent)\r\n    };\r\n    return {\r\n        _updateEditorValue: function(column, $editorContainer) {\r\n            var editor = getEditorInstance($editorContainer);\r\n            editor && editor.option(\"value\", getFilterValue(this, column.index, $editorContainer))\r\n        },\r\n        _columnOptionChanged: function(e) {\r\n            var optionNames = e.optionNames;\r\n            var $cell;\r\n            var $editorContainer;\r\n            var $editorRangeElements;\r\n            var $menu;\r\n            if (gridCoreUtils.checkChanges(optionNames, [\"filterValue\", \"bufferedFilterValue\", \"selectedFilterOperation\", \"bufferedSelectedFilterOperation\", \"filterValues\", \"filterType\"]) && void 0 !== e.columnIndex) {\r\n                var visibleIndex = this._columnsController.getVisibleIndex(e.columnIndex);\r\n                var column = this._columnsController.columnOption(e.columnIndex);\r\n                $cell = this._getCellElement(this.element().find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS)).index(), visibleIndex) || $();\r\n                $editorContainer = $cell.find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n                if (optionNames.filterValue || optionNames.bufferedFilterValue) {\r\n                    this._updateEditorValue(column, $editorContainer);\r\n                    var overlayInstance = $cell.find(\".\" + this.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).data(\"dxOverlay\");\r\n                    if (overlayInstance) {\r\n                        $editorRangeElements = overlayInstance.$content().find(\".\" + EDITOR_CONTAINER_CLASS);\r\n                        this._updateEditorValue(column, $editorRangeElements.first());\r\n                        this._updateEditorValue(column, $editorRangeElements.last())\r\n                    }\r\n                    if (!overlayInstance || !overlayInstance.option(\"visible\")) {\r\n                        this._updateFilterRangeContent($cell, getRangeTextByFilterValue(this, column))\r\n                    }\r\n                }\r\n                if (optionNames.selectedFilterOperation || optionNames.bufferedSelectedFilterOperation) {\r\n                    if (visibleIndex >= 0 && column) {\r\n                        $menu = $cell.find(\".\" + MENU_CLASS);\r\n                        if ($menu.length) {\r\n                            this._updateFilterOperationChooser($menu, column, $editorContainer);\r\n                            if (\"between\" === getColumnSelectedFilterOperation(this, column)) {\r\n                                this._renderFilterRangeContent($cell, column)\r\n                            } else if ($editorContainer.find(\".\" + FILTER_RANGE_CONTENT_CLASS).length) {\r\n                                this._renderEditor($editorContainer, this._getEditorOptions($editorContainer, column));\r\n                                this._hideFilterRange()\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                return\r\n            }\r\n            this.callBase(e)\r\n        },\r\n        _renderCore: function() {\r\n            this._filterRangeOverlayInstance = null;\r\n            this.callBase.apply(this, arguments)\r\n        },\r\n        _resizeCore: function() {\r\n            this.callBase.apply(this, arguments);\r\n            this._filterRangeOverlayInstance && this._filterRangeOverlayInstance.repaint()\r\n        },\r\n        isFilterRowVisible: function() {\r\n            return this._isElementVisible(this.option(\"filterRow\"))\r\n        },\r\n        isVisible: function() {\r\n            return this.callBase() || this.isFilterRowVisible()\r\n        },\r\n        init: function() {\r\n            this.callBase();\r\n            this._applyFilterViewController = this.getController(\"applyFilter\")\r\n        },\r\n        _initFilterRangeOverlay: function($cell, column) {\r\n            var that = this;\r\n            var sharedData = {};\r\n            var $editorContainer = $cell.find(\".dx-editor-container\");\r\n            var $overlay = $(\"<div>\").addClass(that.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS)).appendTo($cell);\r\n            return that._createComponent($overlay, Overlay, {\r\n                height: \"auto\",\r\n                shading: false,\r\n                showTitle: false,\r\n                focusStateEnabled: false,\r\n                closeOnOutsideClick: true,\r\n                copyRootClassesToWrapper: true,\r\n                _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n                animation: false,\r\n                position: {\r\n                    my: \"top\",\r\n                    at: \"top\",\r\n                    of: $editorContainer.length && $editorContainer || $cell,\r\n                    offset: \"0 -1\"\r\n                },\r\n                contentTemplate: function(contentElement) {\r\n                    var editorOptions;\r\n                    var $editor = $(\"<div>\").addClass(EDITOR_CONTAINER_CLASS + \" \" + that.addWidgetPrefix(FILTER_RANGE_START_CLASS)).appendTo(contentElement);\r\n                    column = that._columnsController.columnOption(column.index);\r\n                    editorOptions = that._getEditorOptions($editor, column);\r\n                    editorOptions.sharedData = sharedData;\r\n                    that._renderEditor($editor, editorOptions);\r\n                    eventsEngine.on($editor.find(EDITORS_INPUT_SELECTOR), \"keydown\", (function(e) {\r\n                        var $prevElement = $cell.find(\"[tabindex]\").not(e.target).first();\r\n                        if (\"tab\" === normalizeKeyName(e) && e.shiftKey) {\r\n                            e.preventDefault();\r\n                            that._hideFilterRange();\r\n                            if (!$prevElement.length) {\r\n                                $prevElement = $cell.prev().find(\"[tabindex]\").last()\r\n                            }\r\n                            eventsEngine.trigger($prevElement, \"focus\")\r\n                        }\r\n                    }));\r\n                    $editor = $(\"<div>\").addClass(EDITOR_CONTAINER_CLASS + \" \" + that.addWidgetPrefix(FILTER_RANGE_END_CLASS)).appendTo(contentElement);\r\n                    editorOptions = that._getEditorOptions($editor, column);\r\n                    editorOptions.sharedData = sharedData;\r\n                    that._renderEditor($editor, editorOptions);\r\n                    eventsEngine.on($editor.find(EDITORS_INPUT_SELECTOR), \"keydown\", (function(e) {\r\n                        if (\"tab\" === normalizeKeyName(e) && !e.shiftKey) {\r\n                            e.preventDefault();\r\n                            that._hideFilterRange();\r\n                            eventsEngine.trigger($cell.next().find(\"[tabindex]\").first(), \"focus\")\r\n                        }\r\n                    }));\r\n                    return $(contentElement).addClass(that.getWidgetContainerClass())\r\n                },\r\n                onShown: function(e) {\r\n                    var $editor = e.component.$content().find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n                    eventsEngine.trigger($editor.find(EDITORS_INPUT_SELECTOR), \"focus\")\r\n                },\r\n                onHidden: function() {\r\n                    column = that._columnsController.columnOption(column.index);\r\n                    $cell.find(\".\" + MENU_CLASS).parent().addClass(EDITOR_WITH_MENU_CLASS);\r\n                    if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                        that._updateFilterRangeContent($cell, getRangeTextByFilterValue(that, column));\r\n                        that.component.updateDimensions()\r\n                    }\r\n                }\r\n            })\r\n        },\r\n        _updateFilterRangeOverlay: function(options) {\r\n            var overlayInstance = this._filterRangeOverlayInstance;\r\n            overlayInstance && overlayInstance.option(options)\r\n        },\r\n        _showFilterRange: function($cell, column) {\r\n            var $overlay = $cell.children(\".\" + this.addWidgetPrefix(FILTER_RANGE_OVERLAY_CLASS));\r\n            var overlayInstance = $overlay.length && $overlay.data(\"dxOverlay\");\r\n            if (!overlayInstance && column) {\r\n                overlayInstance = this._initFilterRangeOverlay($cell, column)\r\n            }\r\n            if (!overlayInstance.option(\"visible\")) {\r\n                this._filterRangeOverlayInstance && this._filterRangeOverlayInstance.hide();\r\n                this._filterRangeOverlayInstance = overlayInstance;\r\n                this._updateFilterRangeOverlay({\r\n                    width: getOuterWidth($cell, true) + CORRECT_FILTER_RANGE_OVERLAY_WIDTH\r\n                });\r\n                this._filterRangeOverlayInstance && this._filterRangeOverlayInstance.show()\r\n            }\r\n        },\r\n        _hideFilterRange: function() {\r\n            var overlayInstance = this._filterRangeOverlayInstance;\r\n            overlayInstance && overlayInstance.hide()\r\n        },\r\n        getFilterRangeOverlayInstance: function() {\r\n            return this._filterRangeOverlayInstance\r\n        },\r\n        _createRow: function(row) {\r\n            var $row = this.callBase(row);\r\n            if (\"filter\" === row.rowType) {\r\n                $row.addClass(this.addWidgetPrefix(FILTER_ROW_CLASS));\r\n                if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n                    eventsEngine.on($row, \"keydown\", event => selectView(\"filterRow\", this, event))\r\n                }\r\n            }\r\n            return $row\r\n        },\r\n        _getRows: function() {\r\n            var result = this.callBase();\r\n            if (this.isFilterRowVisible()) {\r\n                result.push({\r\n                    rowType: \"filter\"\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        _renderFilterCell: function(cell, options) {\r\n            var column = options.column;\r\n            var $cell = $(cell);\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                this.setAria(\"describedby\", column.headerId, $cell)\r\n            }\r\n            this.setAria(\"label\", messageLocalization.format(\"dxDataGrid-ariaFilterCell\"), $cell);\r\n            $cell.addClass(EDITOR_CELL_CLASS);\r\n            var $container = $(\"<div>\").appendTo($cell);\r\n            var $editorContainer = $(\"<div>\").addClass(EDITOR_CONTAINER_CLASS).appendTo($container);\r\n            if (\"between\" === getColumnSelectedFilterOperation(this, column)) {\r\n                this._renderFilterRangeContent($cell, column)\r\n            } else {\r\n                var editorOptions = this._getEditorOptions($editorContainer, column);\r\n                this._renderEditor($editorContainer, editorOptions)\r\n            }\r\n            var alignment = column.alignment;\r\n            if (alignment && \"center\" !== alignment) {\r\n                $cell.find(EDITORS_INPUT_SELECTOR).first().css(\"textAlign\", column.alignment)\r\n            }\r\n            if (column.filterOperations && column.filterOperations.length) {\r\n                this._renderFilterOperationChooser($container, column, $editorContainer)\r\n            }\r\n        },\r\n        _renderCellContent: function($cell, options) {\r\n            var that = this;\r\n            var column = options.column;\r\n            if (\"filter\" === options.rowType) {\r\n                if (column.command) {\r\n                    $cell.html(\"&nbsp;\")\r\n                } else if (column.allowFiltering) {\r\n                    that.renderTemplate($cell, that._renderFilterCell.bind(that), options).done(() => {\r\n                        that._updateCell($cell, options)\r\n                    });\r\n                    return\r\n                }\r\n            }\r\n            that.callBase($cell, options)\r\n        },\r\n        _getEditorOptions: function($editorContainer, column) {\r\n            var that = this;\r\n            var accessibilityOptions = {\r\n                editorOptions: {\r\n                    inputAttr: that._getFilterInputAccessibilityAttributes(column)\r\n                }\r\n            };\r\n            var result = extend(accessibilityOptions, column, {\r\n                value: getFilterValue(that, column.index, $editorContainer),\r\n                parentType: \"filterRow\",\r\n                showAllText: that.option(\"filterRow.showAllText\"),\r\n                updateValueTimeout: \"onClick\" === that.option(\"filterRow.applyFilter\") ? 0 : FILTERING_TIMEOUT,\r\n                width: null,\r\n                setValue: function(value, notFireEvent) {\r\n                    updateFilterValue(that, {\r\n                        column: column,\r\n                        value: value,\r\n                        container: $editorContainer,\r\n                        notFireEvent: notFireEvent\r\n                    })\r\n                }\r\n            });\r\n            if (\"between\" === getColumnSelectedFilterOperation(that, column)) {\r\n                if ($editorContainer.hasClass(that.addWidgetPrefix(FILTER_RANGE_START_CLASS))) {\r\n                    result.placeholder = that.option(\"filterRow.betweenStartText\")\r\n                } else {\r\n                    result.placeholder = that.option(\"filterRow.betweenEndText\")\r\n                }\r\n            }\r\n            return result\r\n        },\r\n        _getFilterInputAccessibilityAttributes: function(column) {\r\n            var columnAriaLabel = messageLocalization.format(\"dxDataGrid-ariaFilterCell\");\r\n            if (this.component.option(\"showColumnHeaders\")) {\r\n                return {\r\n                    \"aria-label\": columnAriaLabel,\r\n                    \"aria-describedby\": column.headerId\r\n                }\r\n            }\r\n            return {\r\n                \"aria-label\": columnAriaLabel\r\n            }\r\n        },\r\n        _renderEditor: function($editorContainer, options) {\r\n            $editorContainer.empty();\r\n            return this.getController(\"editorFactory\").createEditor($(\"<div>\").appendTo($editorContainer), options)\r\n        },\r\n        _renderFilterRangeContent: function($cell, column) {\r\n            var that = this;\r\n            var $editorContainer = $cell.find(\".\" + EDITOR_CONTAINER_CLASS).first();\r\n            $editorContainer.empty();\r\n            var $filterRangeContent = $(\"<div>\").addClass(FILTER_RANGE_CONTENT_CLASS).attr(\"tabindex\", this.option(\"tabIndex\"));\r\n            eventsEngine.on($filterRangeContent, \"focusin\", (function() {\r\n                that._showFilterRange($cell, column)\r\n            }));\r\n            $filterRangeContent.appendTo($editorContainer);\r\n            that._updateFilterRangeContent($cell, getRangeTextByFilterValue(that, column))\r\n        },\r\n        _updateFilterRangeContent: function($cell, value) {\r\n            var $filterRangeContent = $cell.find(\".\" + FILTER_RANGE_CONTENT_CLASS);\r\n            if ($filterRangeContent.length) {\r\n                if (\"\" === value) {\r\n                    $filterRangeContent.html(\"&nbsp;\")\r\n                } else {\r\n                    $filterRangeContent.text(value)\r\n                }\r\n            }\r\n        },\r\n        _updateFilterOperationChooser: function($menu, column, $editorContainer) {\r\n            var that = this;\r\n            var isCellWasFocused;\r\n            var restoreFocus = function() {\r\n                var menu = Menu.getInstance($menu);\r\n                menu && menu.option(\"focusedElement\", null);\r\n                isCellWasFocused && that._focusEditor($editorContainer)\r\n            };\r\n            that._createComponent($menu, Menu, {\r\n                integrationOptions: {},\r\n                activeStateEnabled: false,\r\n                selectionMode: \"single\",\r\n                cssClass: that.getWidgetContainerClass() + \" \" + CELL_FOCUS_DISABLED_CLASS + \" \" + FILTER_MENU,\r\n                showFirstSubmenuMode: \"onHover\",\r\n                hideSubmenuOnMouseLeave: true,\r\n                items: [{\r\n                    disabled: column.filterOperations && column.filterOperations.length ? false : true,\r\n                    icon: OPERATION_ICONS[getColumnSelectedFilterOperation(that, column) || \"default\"],\r\n                    selectable: false,\r\n                    items: that._getFilterOperationMenuItems(column)\r\n                }],\r\n                onItemClick: function(properties) {\r\n                    var selectedFilterOperation = properties.itemData.name;\r\n                    var columnSelectedFilterOperation = getColumnSelectedFilterOperation(that, column);\r\n                    var notFocusEditor = false;\r\n                    var isOnClickMode = isOnClickApplyFilterMode(that);\r\n                    var options = {};\r\n                    if (properties.itemData.items || selectedFilterOperation && selectedFilterOperation === columnSelectedFilterOperation) {\r\n                        return\r\n                    }\r\n                    if (selectedFilterOperation) {\r\n                        options[isOnClickMode ? \"bufferedSelectedFilterOperation\" : \"selectedFilterOperation\"] = selectedFilterOperation;\r\n                        if (\"between\" === selectedFilterOperation || \"between\" === columnSelectedFilterOperation) {\r\n                            notFocusEditor = \"between\" === selectedFilterOperation;\r\n                            options[isOnClickMode ? \"bufferedFilterValue\" : \"filterValue\"] = null\r\n                        }\r\n                    } else {\r\n                        options[isOnClickMode ? \"bufferedFilterValue\" : \"filterValue\"] = null;\r\n                        options[isOnClickMode ? \"bufferedSelectedFilterOperation\" : \"selectedFilterOperation\"] = column.defaultSelectedFilterOperation || null\r\n                    }\r\n                    that._columnsController.columnOption(column.index, options);\r\n                    that._applyFilterViewController.setHighLight($editorContainer, true);\r\n                    if (!selectedFilterOperation) {\r\n                        var editor = getEditorInstance($editorContainer);\r\n                        if (editor && \"dxDateBox\" === editor.NAME && !editor.option(\"isValid\")) {\r\n                            editor.reset();\r\n                            editor.option(\"isValid\", true)\r\n                        }\r\n                    }\r\n                    if (!notFocusEditor) {\r\n                        that._focusEditor($editorContainer)\r\n                    } else {\r\n                        that._showFilterRange($editorContainer.closest(\".\" + EDITOR_CELL_CLASS), column)\r\n                    }\r\n                },\r\n                onSubmenuShown: function() {\r\n                    isCellWasFocused = that._isEditorFocused($editorContainer);\r\n                    that.getController(\"editorFactory\").loseFocus()\r\n                },\r\n                onSubmenuHiding: function() {\r\n                    eventsEngine.trigger($menu, \"blur\");\r\n                    restoreFocus()\r\n                },\r\n                onContentReady: function(e) {\r\n                    eventsEngine.on($menu, \"blur\", () => {\r\n                        var menu = e.component;\r\n                        menu._hideSubmenu(menu._visibleSubmenu);\r\n                        restoreFocus()\r\n                    })\r\n                },\r\n                rtlEnabled: that.option(\"rtlEnabled\")\r\n            })\r\n        },\r\n        _isEditorFocused: function($container) {\r\n            return $container.hasClass(FOCUSED_CLASS) || $container.parents(\".\" + FOCUSED_CLASS).length\r\n        },\r\n        _focusEditor: function($container) {\r\n            this.getController(\"editorFactory\").focus($container);\r\n            eventsEngine.trigger($container.find(EDITORS_INPUT_SELECTOR), \"focus\")\r\n        },\r\n        _renderFilterOperationChooser: function($container, column, $editorContainer) {\r\n            var $menu;\r\n            if (this.option(\"filterRow.showOperationChooser\")) {\r\n                $container.addClass(EDITOR_WITH_MENU_CLASS);\r\n                $menu = $(\"<div>\").prependTo($container);\r\n                this._updateFilterOperationChooser($menu, column, $editorContainer)\r\n            }\r\n        },\r\n        _getFilterOperationMenuItems: function(column) {\r\n            var that = this;\r\n            var result = [{}];\r\n            var filterRowOptions = that.option(\"filterRow\");\r\n            var operationDescriptions = filterRowOptions && filterRowOptions.operationDescriptions || {};\r\n            if (column.filterOperations && column.filterOperations.length) {\r\n                var availableFilterOperations = column.filterOperations.filter((function(value) {\r\n                    return isDefined(OPERATION_DESCRIPTORS[value])\r\n                }));\r\n                result = map(availableFilterOperations, (function(value) {\r\n                    var descriptionName = OPERATION_DESCRIPTORS[value];\r\n                    return {\r\n                        name: value,\r\n                        selected: (getColumnSelectedFilterOperation(that, column) || column.defaultFilterOperation) === value,\r\n                        text: operationDescriptions[descriptionName],\r\n                        icon: OPERATION_ICONS[value]\r\n                    }\r\n                }));\r\n                result.push({\r\n                    name: null,\r\n                    text: filterRowOptions && filterRowOptions.resetOperationText,\r\n                    icon: OPERATION_ICONS.default\r\n                })\r\n            }\r\n            return result\r\n        },\r\n        optionChanged: function(args) {\r\n            switch (args.name) {\r\n                case \"filterRow\":\r\n                case \"showColumnLines\":\r\n                    this._invalidate(true, true);\r\n                    args.handled = true;\r\n                    break;\r\n                default:\r\n                    this.callBase(args)\r\n            }\r\n        }\r\n    }\r\n}();\r\nvar DataControllerFilterRowExtender = {\r\n    skipCalculateColumnFilters: function() {\r\n        return false\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (this.skipCalculateColumnFilters()) {\r\n            return this.callBase()\r\n        }\r\n        var filters = [this.callBase()];\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        each(columns, (function() {\r\n            if (this.allowFiltering && this.calculateFilterExpression && isDefined(this.filterValue)) {\r\n                var filter = this.createFilterExpression(this.filterValue, this.selectedFilterOperation || this.defaultFilterOperation, \"filterRow\");\r\n                filters.push(filter)\r\n            }\r\n        }));\r\n        return gridCoreUtils.combineFilters(filters)\r\n    }\r\n};\r\nvar ApplyFilterViewController = modules.ViewController.inherit({\r\n    _getHeaderPanel: function() {\r\n        if (!this._headerPanel) {\r\n            this._headerPanel = this.getView(\"headerPanel\")\r\n        }\r\n        return this._headerPanel\r\n    },\r\n    setHighLight: function($element, value) {\r\n        if (isOnClickApplyFilterMode(this)) {\r\n            $element && $element.toggleClass(HIGHLIGHT_OUTLINE_CLASS, value) && $element.closest(\".\" + EDITOR_CELL_CLASS).toggleClass(FILTER_MODIFIED_CLASS, value);\r\n            this._getHeaderPanel().enableApplyButton(value)\r\n        }\r\n    },\r\n    applyFilter: function() {\r\n        var columnsController = this.getController(\"columns\");\r\n        var columns = columnsController.getColumns();\r\n        columnsController.beginUpdate();\r\n        for (var i = 0; i < columns.length; i++) {\r\n            var column = columns[i];\r\n            if (void 0 !== column.bufferedFilterValue) {\r\n                columnsController.columnOption(i, \"filterValue\", column.bufferedFilterValue);\r\n                column.bufferedFilterValue = void 0\r\n            }\r\n            if (void 0 !== column.bufferedSelectedFilterOperation) {\r\n                columnsController.columnOption(i, \"selectedFilterOperation\", column.bufferedSelectedFilterOperation);\r\n                column.bufferedSelectedFilterOperation = void 0\r\n            }\r\n        }\r\n        columnsController.endUpdate();\r\n        this.removeHighLights()\r\n    },\r\n    removeHighLights: function() {\r\n        if (isOnClickApplyFilterMode(this)) {\r\n            var columnHeadersViewElement = this.getView(\"columnHeadersView\").element();\r\n            columnHeadersViewElement.find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS) + \" .\" + HIGHLIGHT_OUTLINE_CLASS).removeClass(HIGHLIGHT_OUTLINE_CLASS);\r\n            columnHeadersViewElement.find(\".\" + this.addWidgetPrefix(FILTER_ROW_CLASS) + \" .\" + FILTER_MODIFIED_CLASS).removeClass(FILTER_MODIFIED_CLASS);\r\n            this._getHeaderPanel().enableApplyButton(false)\r\n        }\r\n    }\r\n});\r\nexport var filterRowModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterRow: {\r\n                visible: false,\r\n                showOperationChooser: true,\r\n                showAllText: messageLocalization.format(\"dxDataGrid-filterRowShowAllText\"),\r\n                resetOperationText: messageLocalization.format(\"dxDataGrid-filterRowResetOperationText\"),\r\n                applyFilter: \"auto\",\r\n                applyFilterText: messageLocalization.format(\"dxDataGrid-applyFilterText\"),\r\n                operationDescriptions: {\r\n                    equal: messageLocalization.format(\"dxDataGrid-filterRowOperationEquals\"),\r\n                    notEqual: messageLocalization.format(\"dxDataGrid-filterRowOperationNotEquals\"),\r\n                    lessThan: messageLocalization.format(\"dxDataGrid-filterRowOperationLess\"),\r\n                    lessThanOrEqual: messageLocalization.format(\"dxDataGrid-filterRowOperationLessOrEquals\"),\r\n                    greaterThan: messageLocalization.format(\"dxDataGrid-filterRowOperationGreater\"),\r\n                    greaterThanOrEqual: messageLocalization.format(\"dxDataGrid-filterRowOperationGreaterOrEquals\"),\r\n                    startsWith: messageLocalization.format(\"dxDataGrid-filterRowOperationStartsWith\"),\r\n                    contains: messageLocalization.format(\"dxDataGrid-filterRowOperationContains\"),\r\n                    notContains: messageLocalization.format(\"dxDataGrid-filterRowOperationNotContains\"),\r\n                    endsWith: messageLocalization.format(\"dxDataGrid-filterRowOperationEndsWith\"),\r\n                    between: messageLocalization.format(\"dxDataGrid-filterRowOperationBetween\"),\r\n                    isBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                    isNotBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n                },\r\n                betweenStartText: messageLocalization.format(\"dxDataGrid-filterRowOperationBetweenStartText\"),\r\n                betweenEndText: messageLocalization.format(\"dxDataGrid-filterRowOperationBetweenEndText\")\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        applyFilter: ApplyFilterViewController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterRowExtender,\r\n            columnsResizer: {\r\n                _startResizing: function() {\r\n                    var that = this;\r\n                    that.callBase.apply(that, arguments);\r\n                    if (that.isResizing()) {\r\n                        var overlayInstance = that._columnHeadersView.getFilterRangeOverlayInstance();\r\n                        if (overlayInstance) {\r\n                            var cellIndex = overlayInstance.$element().closest(\"td\").index();\r\n                            if (cellIndex === that._targetPoint.columnIndex || cellIndex === that._targetPoint.columnIndex + 1) {\r\n                                overlayInstance.$content().hide()\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _endResizing: function() {\r\n                    var that = this;\r\n                    var $cell;\r\n                    if (that.isResizing()) {\r\n                        var overlayInstance = that._columnHeadersView.getFilterRangeOverlayInstance();\r\n                        if (overlayInstance) {\r\n                            $cell = overlayInstance.$element().closest(\"td\");\r\n                            that._columnHeadersView._updateFilterRangeOverlay({\r\n                                width: getOuterWidth($cell, true) + CORRECT_FILTER_RANGE_OVERLAY_WIDTH\r\n                            });\r\n                            overlayInstance.$content().show()\r\n                        }\r\n                    }\r\n                    that.callBase.apply(that, arguments)\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFilterRowExtender,\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var filterItem = this._prepareFilterItem(items);\r\n                    return filterItem.concat(items)\r\n                },\r\n                _prepareFilterItem: function() {\r\n                    var that = this;\r\n                    var filterItem = [];\r\n                    if (that._isShowApplyFilterButton()) {\r\n                        var hintText = that.option(\"filterRow.applyFilterText\");\r\n                        var columns = that._columnsController.getColumns();\r\n                        var disabled = !columns.filter((function(column) {\r\n                            return void 0 !== column.bufferedFilterValue\r\n                        })).length;\r\n                        var toolbarItem = {\r\n                            widget: \"dxButton\",\r\n                            options: {\r\n                                icon: \"apply-filter\",\r\n                                disabled: disabled,\r\n                                onClick: function() {\r\n                                    that._applyFilterViewController.applyFilter()\r\n                                },\r\n                                hint: hintText,\r\n                                text: hintText,\r\n                                onInitialized: function(e) {\r\n                                    $(e.element).addClass(that._getToolbarButtonClass(APPLY_BUTTON_CLASS))\r\n                                }\r\n                            },\r\n                            showText: \"inMenu\",\r\n                            name: \"applyFilterButton\",\r\n                            location: \"after\",\r\n                            locateInMenu: \"auto\",\r\n                            sortIndex: 10\r\n                        };\r\n                        filterItem.push(toolbarItem)\r\n                    }\r\n                    return filterItem\r\n                },\r\n                _isShowApplyFilterButton: function() {\r\n                    var filterRowOptions = this.option(\"filterRow\");\r\n                    return filterRowOptions && filterRowOptions.visible && \"onClick\" === filterRowOptions.applyFilter\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._dataController = this.getController(\"data\");\r\n                    this._applyFilterViewController = this.getController(\"applyFilter\")\r\n                },\r\n                enableApplyButton: function(value) {\r\n                    this.setToolbarItemDisabled(\"applyFilterButton\", !value)\r\n                },\r\n                isVisible: function() {\r\n                    return this.callBase() || this._isShowApplyFilterButton()\r\n                },\r\n                optionChanged: function(args) {\r\n                    if (\"filterRow\" === args.name) {\r\n                        this._invalidate();\r\n                        args.handled = true\r\n                    } else {\r\n                        this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_row.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterRowModule\r\n} from \"../grid_core/ui.grid_core.filter_row\";\r\ncore.registerModule(\"filterRow\", filterRowModule);\r\n","/**\r\n * DevExtreme (esm/ui/list/modules/search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport searchBoxMixin from \"../../widget/ui.search_box_mixin\";\r\nimport TextBox from \"../../text_box\";\r\nsearchBoxMixin.setEditorClass(TextBox);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_filter_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Popup from \"../popup\";\r\nimport TreeView from \"../tree_view\";\r\nimport List from \"../list_light\";\r\nimport \"../list/modules/search\";\r\nimport \"../list/modules/selection\";\r\nvar HEADER_FILTER_CLASS = \"dx-header-filter\";\r\nvar HEADER_FILTER_MENU_CLASS = \"dx-header-filter-menu\";\r\nvar DEFAULT_SEARCH_EXPRESSION = \"text\";\r\n\r\nfunction resetChildrenItemSelection(items) {\r\n    items = items || [];\r\n    for (var i = 0; i < items.length; i++) {\r\n        items[i].selected = false;\r\n        resetChildrenItemSelection(items[i].items)\r\n    }\r\n}\r\n\r\nfunction updateSelectAllState(e, filterValues) {\r\n    if (e.component.option(\"searchValue\")) {\r\n        return\r\n    }\r\n    var selectAllCheckBox = $(e.element).find(\".dx-list-select-all-checkbox\").data(\"dxCheckBox\");\r\n    if (selectAllCheckBox && filterValues && filterValues.length) {\r\n        selectAllCheckBox.option(\"value\", void 0)\r\n    }\r\n}\r\n\r\nfunction isSearchEnabled(that, options) {\r\n    var headerFilter = options.headerFilter;\r\n    if (headerFilter && isDefined(headerFilter.allowSearch)) {\r\n        return headerFilter.allowSearch\r\n    }\r\n    return that.option(\"headerFilter.allowSearch\")\r\n}\r\nexport function updateHeaderFilterItemSelectionState(item, filterValuesMatch, isExcludeFilter) {\r\n    if (filterValuesMatch ^ isExcludeFilter) {\r\n        item.selected = true;\r\n        if (isExcludeFilter && item.items) {\r\n            for (var j = 0; j < item.items.length; j++) {\r\n                if (!item.items[j].selected) {\r\n                    item.selected = void 0;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n    } else if (isExcludeFilter || item.selected) {\r\n        item.selected = false;\r\n        resetChildrenItemSelection(item.items)\r\n    }\r\n}\r\nexport var HeaderFilterView = modules.View.inherit({\r\n    getPopupContainer: function() {\r\n        return this._popupContainer\r\n    },\r\n    getListContainer: function() {\r\n        return this._listContainer\r\n    },\r\n    applyHeaderFilter: function(options) {\r\n        var list = this.getListContainer();\r\n        var searchValue = list.option(\"searchValue\");\r\n        var isSelectAll = !searchValue && !options.isFilterBuilder && list.$element().find(\".dx-checkbox\").eq(0).hasClass(\"dx-checkbox-checked\");\r\n        var filterValues = [];\r\n        if (!isSelectAll) {\r\n            if (\"tree\" === options.type) {\r\n                if (options.filterType) {\r\n                    options.filterType = \"include\"\r\n                }! function fillSelectedItemKeys(filterValues, items, isExclude) {\r\n                    each(items, (function(_, item) {\r\n                        if (void 0 !== item.selected && !!item.selected ^ isExclude) {\r\n                            var node = list._getNode(item);\r\n                            var hasChildren = list._hasChildren(node);\r\n                            var hasChildrenWithSelection = hasChildren && item.items && item.items.some(item => item.selected);\r\n                            if (!searchValue || !hasChildrenWithSelection) {\r\n                                filterValues.push(item.value);\r\n                                return\r\n                            }\r\n                        }\r\n                        if (item.items && item.items.length) {\r\n                            fillSelectedItemKeys(filterValues, item.items, isExclude)\r\n                        }\r\n                    }))\r\n                }(filterValues, list.option(\"items\"), false);\r\n                options.filterValues = filterValues\r\n            }\r\n        } else {\r\n            if (\"tree\" === options.type) {\r\n                options.filterType = \"exclude\"\r\n            }\r\n            if (Array.isArray(options.filterValues)) {\r\n                options.filterValues = []\r\n            }\r\n        }\r\n        if (options.filterValues && !options.filterValues.length) {\r\n            options.filterValues = null\r\n        }\r\n        options.apply();\r\n        this.hideHeaderFilterMenu()\r\n    },\r\n    showHeaderFilterMenu: function($columnElement, options) {\r\n        if (options) {\r\n            this._initializePopupContainer(options);\r\n            var popupContainer = this.getPopupContainer();\r\n            this.hideHeaderFilterMenu();\r\n            this.updatePopup($columnElement, options);\r\n            popupContainer.show()\r\n        }\r\n    },\r\n    hideHeaderFilterMenu: function() {\r\n        var headerFilterMenu = this.getPopupContainer();\r\n        headerFilterMenu && headerFilterMenu.hide()\r\n    },\r\n    updatePopup: function($element, options) {\r\n        var showColumnLines = this.option(\"showColumnLines\");\r\n        var alignment = \"right\" === options.alignment ^ !showColumnLines ? \"left\" : \"right\";\r\n        if (this._popupContainer) {\r\n            this._cleanPopupContent();\r\n            this._popupContainer.option(\"position\", {\r\n                my: alignment + \" top\",\r\n                at: alignment + \" bottom\",\r\n                of: $element,\r\n                collision: \"flip fit\"\r\n            })\r\n        }\r\n    },\r\n    _getSearchExpr: function(options) {\r\n        var lookup = options.lookup;\r\n        var useDefaultSearchExpr = options.useDefaultSearchExpr;\r\n        var headerFilterDataSource = options.headerFilter && options.headerFilter.dataSource;\r\n        if (useDefaultSearchExpr || isDefined(headerFilterDataSource) && !isFunction(headerFilterDataSource)) {\r\n            return DEFAULT_SEARCH_EXPRESSION\r\n        }\r\n        if (lookup) {\r\n            return lookup.displayExpr || \"this\"\r\n        }\r\n        if (options.dataSource) {\r\n            var group = options.dataSource.group;\r\n            if (Array.isArray(group) && group.length > 0) {\r\n                return group[0].selector\r\n            } else if (isFunction(group) && !options.remoteFiltering) {\r\n                return group\r\n            }\r\n        }\r\n        return options.dataField || options.selector\r\n    },\r\n    _cleanPopupContent: function() {\r\n        this._popupContainer && this._popupContainer.$content().empty()\r\n    },\r\n    _initializePopupContainer: function(options) {\r\n        var that = this;\r\n        var $element = that.element();\r\n        var headerFilterOptions = that.option(\"headerFilter\");\r\n        var width = options.headerFilter && options.headerFilter.width || headerFilterOptions && headerFilterOptions.width;\r\n        var height = options.headerFilter && options.headerFilter.height || headerFilterOptions && headerFilterOptions.height;\r\n        var dxPopupOptions = {\r\n            width: width,\r\n            height: height,\r\n            visible: false,\r\n            shading: false,\r\n            showTitle: false,\r\n            showCloseButton: false,\r\n            hideOnParentScroll: false,\r\n            dragEnabled: false,\r\n            closeOnOutsideClick: true,\r\n            focusStateEnabled: false,\r\n            copyRootClassesToWrapper: true,\r\n            _ignoreCopyRootClassesToWrapperDeprecation: true,\r\n            toolbarItems: [{\r\n                toolbar: \"bottom\",\r\n                location: \"after\",\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    text: headerFilterOptions.texts.ok,\r\n                    onClick: function() {\r\n                        that.applyHeaderFilter(options)\r\n                    }\r\n                }\r\n            }, {\r\n                toolbar: \"bottom\",\r\n                location: \"after\",\r\n                widget: \"dxButton\",\r\n                options: {\r\n                    text: headerFilterOptions.texts.cancel,\r\n                    onClick: function() {\r\n                        that.hideHeaderFilterMenu()\r\n                    }\r\n                }\r\n            }],\r\n            resizeEnabled: true,\r\n            onShowing: function(e) {\r\n                e.component.$content().parent().addClass(\"dx-dropdowneditor-overlay\");\r\n                that._initializeListContainer(options);\r\n                options.onShowing && options.onShowing(e)\r\n            },\r\n            onShown: function() {\r\n                that.getListContainer().focus()\r\n            },\r\n            onHidden: options.onHidden,\r\n            onInitialized: function(e) {\r\n                var component = e.component;\r\n                component.option(\"animation\", component._getDefaultOptions().animation)\r\n            }\r\n        };\r\n        if (!isDefined(that._popupContainer)) {\r\n            that._popupContainer = that._createComponent($element, Popup, dxPopupOptions)\r\n        } else {\r\n            that._popupContainer.option(dxPopupOptions)\r\n        }\r\n    },\r\n    _initializeListContainer: function(options) {\r\n        var that = this;\r\n        var $content = that._popupContainer.$content();\r\n        var widgetOptions = {\r\n            searchEnabled: isSearchEnabled(that, options),\r\n            searchTimeout: that.option(\"headerFilter.searchTimeout\"),\r\n            searchMode: options.headerFilter && options.headerFilter.searchMode || \"\",\r\n            dataSource: options.dataSource,\r\n            onContentReady: function() {\r\n                that.renderCompleted.fire()\r\n            },\r\n            itemTemplate: function(data, _, element) {\r\n                var $element = $(element);\r\n                if (options.encodeHtml) {\r\n                    return $element.text(data.text)\r\n                }\r\n                return $element.html(data.text)\r\n            }\r\n        };\r\n\r\n        function onOptionChanged(e) {\r\n            if (\"searchValue\" === e.fullName && !options.isFilterBuilder && false !== that.option(\"headerFilter.hideSelectAllOnSearch\")) {\r\n                if (\"tree\" === options.type) {\r\n                    e.component.option(\"showCheckBoxesMode\", e.value ? \"normal\" : \"selectAll\")\r\n                } else {\r\n                    e.component.option(\"selectionMode\", e.value ? \"multiple\" : \"all\")\r\n                }\r\n            }\r\n        }\r\n        if (\"tree\" === options.type) {\r\n            that._listContainer = that._createComponent($(\"<div>\").appendTo($content), TreeView, extend(widgetOptions, {\r\n                showCheckBoxesMode: options.isFilterBuilder ? \"normal\" : \"selectAll\",\r\n                onOptionChanged: onOptionChanged,\r\n                keyExpr: \"id\"\r\n            }))\r\n        } else {\r\n            that._listContainer = that._createComponent($(\"<div>\").appendTo($content), List, extend(widgetOptions, {\r\n                searchExpr: that._getSearchExpr(options),\r\n                pageLoadMode: \"scrollBottom\",\r\n                showSelectionControls: true,\r\n                selectionMode: options.isFilterBuilder ? \"multiple\" : \"all\",\r\n                onOptionChanged: onOptionChanged,\r\n                onSelectionChanged: function(e) {\r\n                    var items = e.component.option(\"items\");\r\n                    var selectedItems = e.component.option(\"selectedItems\");\r\n                    if (!e.component._selectedItemsUpdating && !e.component.option(\"searchValue\") && !options.isFilterBuilder) {\r\n                        var filterValues = options.filterValues || [];\r\n                        var isExclude = \"exclude\" === options.filterType;\r\n                        if (0 === selectedItems.length && items.length && (filterValues.length <= 1 || isExclude && filterValues.length === items.length - 1)) {\r\n                            options.filterType = \"include\";\r\n                            options.filterValues = []\r\n                        } else if (selectedItems.length === items.length) {\r\n                            options.filterType = \"exclude\";\r\n                            options.filterValues = []\r\n                        }\r\n                    }\r\n                    each(items, (function(index, item) {\r\n                        var selected = gridCoreUtils.getIndexByKey(item, selectedItems, null) >= 0;\r\n                        var oldSelected = !!item.selected;\r\n                        if (oldSelected !== selected) {\r\n                            item.selected = selected;\r\n                            options.filterValues = options.filterValues || [];\r\n                            var filterValueIndex = gridCoreUtils.getIndexByKey(item.value, options.filterValues, null);\r\n                            if (filterValueIndex >= 0) {\r\n                                options.filterValues.splice(filterValueIndex, 1)\r\n                            }\r\n                            if (selected ^ \"exclude\" === options.filterType) {\r\n                                options.filterValues.push(item.value)\r\n                            }\r\n                        }\r\n                    }));\r\n                    updateSelectAllState(e, options.filterValues)\r\n                },\r\n                onContentReady: function(e) {\r\n                    var component = e.component;\r\n                    var items = component.option(\"items\");\r\n                    var selectedItems = [];\r\n                    each(items, (function() {\r\n                        if (this.selected) {\r\n                            selectedItems.push(this)\r\n                        }\r\n                    }));\r\n                    component._selectedItemsUpdating = true;\r\n                    component.option(\"selectedItems\", selectedItems);\r\n                    component._selectedItemsUpdating = false;\r\n                    updateSelectAllState(e, options.filterValues)\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    _renderCore: function() {\r\n        this.element().addClass(HEADER_FILTER_MENU_CLASS)\r\n    }\r\n});\r\nexport var allowHeaderFiltering = function(column) {\r\n    return isDefined(column.allowHeaderFiltering) ? column.allowHeaderFiltering : column.allowFiltering\r\n};\r\nexport var headerFilterMixin = {\r\n    _applyColumnState: function(options) {\r\n        var $headerFilterIndicator;\r\n        var rootElement = options.rootElement;\r\n        var column = options.column;\r\n        if (\"headerFilter\" === options.name) {\r\n            rootElement.find(\".\" + HEADER_FILTER_CLASS).remove();\r\n            if (allowHeaderFiltering(column)) {\r\n                $headerFilterIndicator = this.callBase(options).toggleClass(\"dx-header-filter-empty\", this._isHeaderFilterEmpty(column));\r\n                if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n                    $headerFilterIndicator.attr(\"tabindex\", this.option(\"tabindex\") || 0)\r\n                }\r\n            }\r\n            return $headerFilterIndicator\r\n        }\r\n        return this.callBase(options)\r\n    },\r\n    _isHeaderFilterEmpty: function(column) {\r\n        return !column.filterValues || !column.filterValues.length\r\n    },\r\n    _getIndicatorClassName: function(name) {\r\n        if (\"headerFilter\" === name) {\r\n            return HEADER_FILTER_CLASS\r\n        }\r\n        return this.callBase(name)\r\n    },\r\n    _renderIndicator: function(options) {\r\n        var $container = options.container;\r\n        var $indicator = options.indicator;\r\n        if (\"headerFilter\" === options.name) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            if ($container.children().length && (!rtlEnabled && \"right\" === options.columnAlignment || rtlEnabled && \"left\" === options.columnAlignment)) {\r\n                $container.prepend($indicator);\r\n                return\r\n            }\r\n        }\r\n        this.callBase(options)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"headerFilter\" === args.name) {\r\n            var requireReady = \"columnHeadersView\" === this.name;\r\n            this._invalidate(requireReady, requireReady);\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.header_filter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport filterUtils from \"../shared/filtering\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    headerFilterMixin,\r\n    HeaderFilterView,\r\n    updateHeaderFilterItemSelectionState,\r\n    allowHeaderFiltering\r\n} from \"./ui.grid_core.header_filter_core\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    isDefined,\r\n    isObject,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    normalizeDataSourceOptions\r\n} from \"../../data/data_source/utils\";\r\nimport dateLocalization from \"../../localization/date\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    restoreFocus\r\n} from \"../shared/accessibility\";\r\nimport dataQuery from \"../../data/query\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nvar DATE_INTERVAL_FORMATS = {\r\n    month: function(value) {\r\n        return dateLocalization.getMonthNames()[value - 1]\r\n    },\r\n    quarter: function(value) {\r\n        return dateLocalization.format(new Date(2e3, 3 * value - 1), \"quarter\")\r\n    }\r\n};\r\n\r\nfunction ungroupUTCDates(items, dateParts, dates) {\r\n    dateParts = dateParts || [];\r\n    dates = dates || [];\r\n    items.forEach(item => {\r\n        if (isDefined(item.key)) {\r\n            var isMonthPart = 1 === dateParts.length;\r\n            dateParts.push(isMonthPart ? item.key - 1 : item.key);\r\n            if (item.items) {\r\n                ungroupUTCDates(item.items, dateParts, dates)\r\n            } else {\r\n                var date = new Date(Date.UTC.apply(Date, dateParts));\r\n                dates.push(date)\r\n            }\r\n            dateParts.pop()\r\n        } else {\r\n            dates.push(null)\r\n        }\r\n    });\r\n    return dates\r\n}\r\n\r\nfunction convertDataFromUTCToLocal(data, column) {\r\n    var dates = ungroupUTCDates(data);\r\n    var query = dataQuery(dates);\r\n    var group = gridCoreUtils.getHeaderFilterGroupParameters(_extends({}, column, {\r\n        calculateCellValue: date => date\r\n    }));\r\n    return storeHelper.queryByOptions(query, {\r\n        group: group\r\n    }).toArray()\r\n}\r\n\r\nfunction isUTCFormat(format) {\r\n    return \"Z\" === (null === format || void 0 === format ? void 0 : format.slice(-1)) || \"'Z'\" === (null === format || void 0 === format ? void 0 : format.slice(-3))\r\n}\r\nvar HeaderFilterController = modules.ViewController.inherit({\r\n    init: function() {\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._dataController = this.getController(\"data\");\r\n        this._headerFilterView = this.getView(\"headerFilterView\")\r\n    },\r\n    _updateSelectedState: function(items, column) {\r\n        var i = items.length;\r\n        var isExclude = \"exclude\" === column.filterType;\r\n        while (i--) {\r\n            var item = items[i];\r\n            if (\"items\" in items[i]) {\r\n                this._updateSelectedState(items[i].items, column)\r\n            }\r\n            updateHeaderFilterItemSelectionState(item, gridCoreUtils.getIndexByKey(items[i].value, column.filterValues, null) > -1, isExclude)\r\n        }\r\n    },\r\n    _normalizeGroupItem: function(item, currentLevel, options) {\r\n        var value;\r\n        var displayValue;\r\n        var path = options.path;\r\n        var valueSelector = options.valueSelector;\r\n        var displaySelector = options.displaySelector;\r\n        var column = options.column;\r\n        if (valueSelector && displaySelector) {\r\n            value = valueSelector(item);\r\n            displayValue = displaySelector(item)\r\n        } else {\r\n            value = item.key;\r\n            displayValue = value\r\n        }\r\n        if (!isObject(item)) {\r\n            item = {}\r\n        } else {\r\n            item = extend({}, item)\r\n        }\r\n        path.push(value);\r\n        if (1 === path.length) {\r\n            item.value = path[0]\r\n        } else {\r\n            item.value = path.join(\"/\")\r\n        }\r\n        item.text = this.getHeaderItemText(displayValue, column, currentLevel, options.headerFilterOptions);\r\n        return item\r\n    },\r\n    getHeaderItemText: function(displayValue, column, currentLevel, headerFilterOptions) {\r\n        var text = gridCoreUtils.formatValue(displayValue, function(value, column, currentLevel) {\r\n            var groupInterval = filterUtils.getGroupInterval(column);\r\n            var result = gridCoreUtils.getFormatOptionsByColumn(column, \"headerFilter\");\r\n            if (groupInterval) {\r\n                result.groupInterval = groupInterval[currentLevel];\r\n                if (gridCoreUtils.isDateType(column.dataType)) {\r\n                    result.format = DATE_INTERVAL_FORMATS[groupInterval[currentLevel]]\r\n                } else if (\"number\" === column.dataType) {\r\n                    result.getDisplayFormat = function() {\r\n                        var formatOptions = {\r\n                            format: column.format,\r\n                            target: \"headerFilter\"\r\n                        };\r\n                        var firstValueText = gridCoreUtils.formatValue(value, formatOptions);\r\n                        var secondValue = value + groupInterval[currentLevel];\r\n                        var secondValueText = gridCoreUtils.formatValue(secondValue, formatOptions);\r\n                        return firstValueText && secondValueText ? firstValueText + \" - \" + secondValueText : \"\"\r\n                    }\r\n                }\r\n            }\r\n            return result\r\n        }(displayValue, column, currentLevel));\r\n        if (!text) {\r\n            text = headerFilterOptions.texts.emptyValue\r\n        }\r\n        return text\r\n    },\r\n    _processGroupItems: function(groupItems, currentLevel, path, options) {\r\n        var displaySelector;\r\n        var valueSelector;\r\n        var column = options.column;\r\n        var lookup = column.lookup;\r\n        var level = options.level;\r\n        path = path || [];\r\n        currentLevel = currentLevel || 0;\r\n        if (lookup) {\r\n            displaySelector = compileGetter(lookup.displayExpr);\r\n            valueSelector = compileGetter(lookup.valueExpr)\r\n        }\r\n        for (var i = 0; i < groupItems.length; i++) {\r\n            groupItems[i] = this._normalizeGroupItem(groupItems[i], currentLevel, {\r\n                column: options.column,\r\n                headerFilterOptions: options.headerFilterOptions,\r\n                displaySelector: displaySelector,\r\n                valueSelector: valueSelector,\r\n                path: path\r\n            });\r\n            if (\"items\" in groupItems[i]) {\r\n                if (currentLevel === level || !isDefined(groupItems[i].value)) {\r\n                    delete groupItems[i].items\r\n                } else {\r\n                    this._processGroupItems(groupItems[i].items, currentLevel + 1, path, options)\r\n                }\r\n            }\r\n            path.pop()\r\n        }\r\n    },\r\n    getDataSource: function(column) {\r\n        var _column$headerFilter;\r\n        var that = this;\r\n        var dataSource = that._dataController.dataSource();\r\n        var remoteGrouping = null === dataSource || void 0 === dataSource ? void 0 : dataSource.remoteOperations().grouping;\r\n        var group = gridCoreUtils.getHeaderFilterGroupParameters(column, remoteGrouping);\r\n        var headerFilterDataSource = null === (_column$headerFilter = column.headerFilter) || void 0 === _column$headerFilter ? void 0 : _column$headerFilter.dataSource;\r\n        var headerFilterOptions = that.option(\"headerFilter\");\r\n        var isLookup = false;\r\n        var options = {\r\n            component: that.component\r\n        };\r\n        if (!dataSource) {\r\n            return\r\n        }\r\n        if (isDefined(headerFilterDataSource) && !isFunction(headerFilterDataSource)) {\r\n            options.dataSource = normalizeDataSourceOptions(headerFilterDataSource)\r\n        } else if (column.lookup) {\r\n            isLookup = true;\r\n            var lookupDataSourceOptions;\r\n            if (column.lookup.items) {\r\n                lookupDataSourceOptions = column.lookup.items\r\n            } else {\r\n                lookupDataSourceOptions = column.lookup.dataSource;\r\n                if (isFunction(lookupDataSourceOptions) && !variableWrapper.isWrapped(lookupDataSourceOptions)) {\r\n                    lookupDataSourceOptions = lookupDataSourceOptions({})\r\n                }\r\n            }\r\n            options.dataSource = normalizeDataSourceOptions(lookupDataSourceOptions)\r\n        } else {\r\n            var cutoffLevel = Array.isArray(group) ? group.length - 1 : 0;\r\n            that._currentColumn = column;\r\n            var filter = that._dataController.getCombinedFilter();\r\n            that._currentColumn = null;\r\n            options.dataSource = {\r\n                filter: filter,\r\n                group: group,\r\n                useDefaultSearch: true,\r\n                load: function(options) {\r\n                    var d = new Deferred;\r\n                    options.dataField = column.dataField || column.name;\r\n                    dataSource.load(options).done((function(data) {\r\n                        var convertUTCDates = remoteGrouping && isUTCFormat(column.serializationFormat) && cutoffLevel > 3;\r\n                        if (convertUTCDates) {\r\n                            data = convertDataFromUTCToLocal(data, column)\r\n                        }\r\n                        that._processGroupItems(data, null, null, {\r\n                            level: cutoffLevel,\r\n                            column: column,\r\n                            headerFilterOptions: headerFilterOptions\r\n                        });\r\n                        d.resolve(data)\r\n                    })).fail(d.reject);\r\n                    return d\r\n                }\r\n            }\r\n        }\r\n        if (isFunction(headerFilterDataSource)) {\r\n            headerFilterDataSource.call(column, options)\r\n        }\r\n        var origPostProcess = options.dataSource.postProcess;\r\n        options.dataSource.postProcess = function(data) {\r\n            var items = data;\r\n            if (isLookup) {\r\n                if (0 === this.pageIndex() && !this.searchValue()) {\r\n                    items = items.slice(0);\r\n                    items.unshift(null)\r\n                }\r\n                that._processGroupItems(items, null, null, {\r\n                    level: 0,\r\n                    column: column,\r\n                    headerFilterOptions: headerFilterOptions\r\n                })\r\n            }\r\n            items = origPostProcess && origPostProcess.call(this, items) || items;\r\n            that._updateSelectedState(items, column);\r\n            return items\r\n        };\r\n        return options.dataSource\r\n    },\r\n    getCurrentColumn: function() {\r\n        return this._currentColumn\r\n    },\r\n    showHeaderFilterMenu: function(columnIndex, isGroupPanel) {\r\n        var columnsController = this._columnsController;\r\n        var column = extend(true, {}, this._columnsController.getColumns()[columnIndex]);\r\n        if (column) {\r\n            var visibleIndex = columnsController.getVisibleIndex(columnIndex);\r\n            var view = isGroupPanel ? this.getView(\"headerPanel\") : this.getView(\"columnHeadersView\");\r\n            var $columnElement = $columnElement || view.getColumnElements().eq(isGroupPanel ? column.groupIndex : visibleIndex);\r\n            this.showHeaderFilterMenuBase({\r\n                columnElement: $columnElement,\r\n                column: column,\r\n                applyFilter: true,\r\n                apply: function() {\r\n                    columnsController.columnOption(columnIndex, {\r\n                        filterValues: this.filterValues,\r\n                        filterType: this.filterType\r\n                    })\r\n                }\r\n            })\r\n        }\r\n    },\r\n    showHeaderFilterMenuBase: function(options) {\r\n        var that = this;\r\n        var column = options.column;\r\n        if (column) {\r\n            var groupInterval = filterUtils.getGroupInterval(column);\r\n            var dataSource = that._dataController.dataSource();\r\n            var remoteFiltering = dataSource && dataSource.remoteOperations().filtering;\r\n            extend(options, column, {\r\n                type: groupInterval && groupInterval.length > 1 ? \"tree\" : \"list\",\r\n                remoteFiltering: remoteFiltering,\r\n                onShowing: function(e) {\r\n                    var dxResizableInstance = e.component.$overlayContent().dxResizable(\"instance\");\r\n                    dxResizableInstance && dxResizableInstance.option(\"onResizeEnd\", (function(e) {\r\n                        var columnsController = that.getController(\"columns\");\r\n                        var headerFilterByColumn = columnsController.columnOption(options.dataField, \"headerFilter\");\r\n                        headerFilterByColumn = headerFilterByColumn || {};\r\n                        headerFilterByColumn.width = e.width;\r\n                        headerFilterByColumn.height = e.height;\r\n                        columnsController.columnOption(options.dataField, \"headerFilter\", headerFilterByColumn, true)\r\n                    }))\r\n                },\r\n                onHidden: () => restoreFocus(this)\r\n            });\r\n            options.dataSource = that.getDataSource(options);\r\n            if (options.isFilterBuilder) {\r\n                options.dataSource.filter = null;\r\n                options.alignment = \"right\"\r\n            }\r\n            that._headerFilterView.showHeaderFilterMenu(options.columnElement, options)\r\n        }\r\n    },\r\n    hideHeaderFilterMenu: function() {\r\n        this._headerFilterView.hideHeaderFilterMenu()\r\n    }\r\n});\r\nvar ColumnHeadersViewHeaderFilterExtender = extend({}, headerFilterMixin, {\r\n    _renderCellContent: function($cell, options) {\r\n        var $headerFilterIndicator;\r\n        var column = options.column;\r\n        if (!column.command && allowHeaderFiltering(column) && this.option(\"headerFilter.visible\") && \"header\" === options.rowType) {\r\n            $headerFilterIndicator = this._applyColumnState({\r\n                name: \"headerFilter\",\r\n                rootElement: $cell,\r\n                column: column,\r\n                showColumnLines: this.option(\"showColumnLines\")\r\n            });\r\n            $headerFilterIndicator && this._subscribeToIndicatorEvent($headerFilterIndicator, column, \"headerFilter\")\r\n        }\r\n        this.callBase($cell, options)\r\n    },\r\n    _subscribeToIndicatorEvent: function($indicator, column, indicatorName) {\r\n        var that = this;\r\n        if (\"headerFilter\" === indicatorName) {\r\n            eventsEngine.on($indicator, clickEventName, that.createAction((function(e) {\r\n                e.event.stopPropagation();\r\n                that.getController(\"headerFilter\").showHeaderFilterMenu(column.index, false)\r\n            })))\r\n        }\r\n    },\r\n    _updateIndicator: function($cell, column, indicatorName) {\r\n        var $indicator = this.callBase($cell, column, indicatorName);\r\n        $indicator && this._subscribeToIndicatorEvent($indicator, column, indicatorName)\r\n    },\r\n    _updateHeaderFilterIndicators: function() {\r\n        if (this.option(\"headerFilter.visible\")) {\r\n            this._updateIndicators(\"headerFilter\")\r\n        }\r\n    },\r\n    _needUpdateFilterIndicators: function() {\r\n        return true\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (gridCoreUtils.checkChanges(optionNames, [\"filterValues\", \"filterType\"])) {\r\n            if (this._needUpdateFilterIndicators()) {\r\n                this._updateHeaderFilterIndicators()\r\n            }\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    }\r\n});\r\nvar HeaderPanelHeaderFilterExtender = extend({}, headerFilterMixin, {\r\n    _createGroupPanelItem: function($rootElement, groupColumn) {\r\n        var that = this;\r\n        var $item = that.callBase.apply(that, arguments);\r\n        var $headerFilterIndicator;\r\n        if (!groupColumn.command && allowHeaderFiltering(groupColumn) && that.option(\"headerFilter.visible\")) {\r\n            $headerFilterIndicator = that._applyColumnState({\r\n                name: \"headerFilter\",\r\n                rootElement: $item,\r\n                column: {\r\n                    alignment: getDefaultAlignment(that.option(\"rtlEnabled\")),\r\n                    filterValues: groupColumn.filterValues,\r\n                    allowHeaderFiltering: true\r\n                },\r\n                showColumnLines: true\r\n            });\r\n            $headerFilterIndicator && eventsEngine.on($headerFilterIndicator, clickEventName, that.createAction((function(e) {\r\n                var event = e.event;\r\n                event.stopPropagation();\r\n                that.getController(\"headerFilter\").showHeaderFilterMenu(groupColumn.index, true)\r\n            })))\r\n        }\r\n        return $item\r\n    }\r\n});\r\nexport function invertFilterExpression(filter) {\r\n    return [\"!\", filter]\r\n}\r\nvar DataControllerFilterRowExtender = {\r\n    skipCalculateColumnFilters: function() {\r\n        return false\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (this.skipCalculateColumnFilters()) {\r\n            return this.callBase()\r\n        }\r\n        var filters = [this.callBase()];\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        var headerFilterController = this.getController(\"headerFilter\");\r\n        var currentColumn = headerFilterController.getCurrentColumn();\r\n        each(columns, (function(_, column) {\r\n            var filter;\r\n            if (currentColumn && currentColumn.index === column.index) {\r\n                return\r\n            }\r\n            if (allowHeaderFiltering(column) && column.calculateFilterExpression && Array.isArray(column.filterValues) && column.filterValues.length) {\r\n                var filterValues = [];\r\n                each(column.filterValues, (function(_, filterValue) {\r\n                    if (Array.isArray(filterValue)) {\r\n                        filter = filterValue\r\n                    } else {\r\n                        if (column.deserializeValue && !gridCoreUtils.isDateType(column.dataType) && \"number\" !== column.dataType) {\r\n                            filterValue = column.deserializeValue(filterValue)\r\n                        }\r\n                        filter = column.createFilterExpression(filterValue, \"=\", \"headerFilter\")\r\n                    }\r\n                    if (filter) {\r\n                        filter.columnIndex = column.index\r\n                    }\r\n                    filterValues.push(filter)\r\n                }));\r\n                filterValues = gridCoreUtils.combineFilters(filterValues, \"or\");\r\n                filters.push(\"exclude\" === column.filterType ? [\"!\", filterValues] : filterValues)\r\n            }\r\n        }));\r\n        return gridCoreUtils.combineFilters(filters)\r\n    }\r\n};\r\nexport var headerFilterModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            headerFilter: {\r\n                visible: false,\r\n                width: 252,\r\n                height: 325,\r\n                allowSearch: false,\r\n                searchTimeout: 500,\r\n                texts: {\r\n                    emptyValue: messageLocalization.format(\"dxDataGrid-headerFilterEmptyValue\"),\r\n                    ok: messageLocalization.format(\"dxDataGrid-headerFilterOK\"),\r\n                    cancel: messageLocalization.format(\"dxDataGrid-headerFilterCancel\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        headerFilter: HeaderFilterController\r\n    },\r\n    views: {\r\n        headerFilterView: HeaderFilterView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterRowExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewHeaderFilterExtender,\r\n            headerPanel: HeaderPanelHeaderFilterExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.header_filter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    headerFilterModule\r\n} from \"../grid_core/ui.grid_core.header_filter\";\r\ncore.registerModule(\"headerFilter\", headerFilterModule);\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/between.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar FILTER_BUILDER_RANGE_CLASS = \"dx-filterbuilder-range\";\r\nvar FILTER_BUILDER_RANGE_START_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-start\";\r\nvar FILTER_BUILDER_RANGE_END_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-end\";\r\nvar FILTER_BUILDER_RANGE_SEPARATOR_CLASS = FILTER_BUILDER_RANGE_CLASS + \"-separator\";\r\nvar SEPARATOR = \"\\u2013\";\r\n\r\nfunction editorTemplate(conditionInfo, container) {\r\n    var $editorStart = $(\"<div>\").addClass(FILTER_BUILDER_RANGE_START_CLASS);\r\n    var $editorEnd = $(\"<div>\").addClass(FILTER_BUILDER_RANGE_END_CLASS);\r\n    var values = conditionInfo.value || [];\r\n    var getStartValue = function(values) {\r\n        return values && values.length > 0 ? values[0] : null\r\n    };\r\n    var getEndValue = function(values) {\r\n        return values && 2 === values.length ? values[1] : null\r\n    };\r\n    container.append($editorStart);\r\n    container.append($(\"<span>\").addClass(FILTER_BUILDER_RANGE_SEPARATOR_CLASS).text(SEPARATOR));\r\n    container.append($editorEnd);\r\n    container.addClass(FILTER_BUILDER_RANGE_CLASS);\r\n    this._editorFactory.createEditor.call(this, $editorStart, extend({}, conditionInfo.field, conditionInfo, {\r\n        value: getStartValue(values),\r\n        parentType: \"filterBuilder\",\r\n        setValue: function(value) {\r\n            values = [value, getEndValue(values)];\r\n            conditionInfo.setValue(values)\r\n        }\r\n    }));\r\n    this._editorFactory.createEditor.call(this, $editorEnd, extend({}, conditionInfo.field, conditionInfo, {\r\n        value: getEndValue(values),\r\n        parentType: \"filterBuilder\",\r\n        setValue: function(value) {\r\n            values = [getStartValue(values), value];\r\n            conditionInfo.setValue(values)\r\n        }\r\n    }))\r\n}\r\nexport function getConfig(caption, context) {\r\n    return {\r\n        name: \"between\",\r\n        caption: caption,\r\n        icon: \"range\",\r\n        valueSeparator: SEPARATOR,\r\n        dataTypes: [\"number\", \"date\", \"datetime\"],\r\n        editorTemplate: editorTemplate.bind(context),\r\n        notForLookup: true\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/ui.filter_operations_dictionary.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nvar OPERATION_ICONS = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notequal\",\r\n    \"<\": \"less\",\r\n    \"<=\": \"lessorequal\",\r\n    \">\": \"greater\",\r\n    \">=\": \"greaterorequal\",\r\n    notcontains: \"doesnotcontain\",\r\n    contains: \"contains\",\r\n    startswith: \"startswith\",\r\n    endswith: \"endswith\",\r\n    isblank: \"isblank\",\r\n    isnotblank: \"isnotblank\"\r\n};\r\nvar OPERATION_NAME = {\r\n    \"=\": \"equal\",\r\n    \"<>\": \"notEqual\",\r\n    \"<\": \"lessThan\",\r\n    \"<=\": \"lessThanOrEqual\",\r\n    \">\": \"greaterThan\",\r\n    \">=\": \"greaterThanOrEqual\",\r\n    startswith: \"startsWith\",\r\n    contains: \"contains\",\r\n    notcontains: \"notContains\",\r\n    endswith: \"endsWith\",\r\n    isblank: \"isBlank\",\r\n    isnotblank: \"isNotBlank\",\r\n    between: \"between\"\r\n};\r\nexport default {\r\n    getIconByFilterOperation: function(filterOperation) {\r\n        return OPERATION_ICONS[filterOperation]\r\n    },\r\n    getNameByFilterOperation: function(filterOperation) {\r\n        return OPERATION_NAME[filterOperation]\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    errors as dataErrors\r\n} from \"../../data/errors\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport filterUtils from \"../shared/filtering\";\r\nimport formatHelper from \"../../format_helper\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    getConfig\r\n} from \"./between\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    DataSource\r\n} from \"../../data/data_source/data_source\";\r\nimport filterOperationsDictionary from \"./ui.filter_operations_dictionary\";\r\nvar DEFAULT_DATA_TYPE = \"string\";\r\nvar EMPTY_MENU_ICON = \"icon-none\";\r\nvar AND_GROUP_OPERATION = \"and\";\r\nvar EQUAL_OPERATION = \"=\";\r\nvar NOT_EQUAL_OPERATION = \"<>\";\r\nvar DATATYPE_OPERATIONS = {\r\n    number: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    string: [\"contains\", \"notcontains\", \"startswith\", \"endswith\", \"=\", \"<>\", \"isblank\", \"isnotblank\"],\r\n    date: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    datetime: [\"=\", \"<>\", \"<\", \">\", \"<=\", \">=\", \"isblank\", \"isnotblank\"],\r\n    boolean: [\"=\", \"<>\", \"isblank\", \"isnotblank\"],\r\n    object: [\"isblank\", \"isnotblank\"]\r\n};\r\nvar DEFAULT_FORMAT = {\r\n    date: \"shortDate\",\r\n    datetime: \"shortDateShortTime\"\r\n};\r\nvar LOOKUP_OPERATIONS = [\"=\", \"<>\", \"isblank\", \"isnotblank\"];\r\nvar AVAILABLE_FIELD_PROPERTIES = [\"caption\", \"customizeText\", \"dataField\", \"dataType\", \"editorTemplate\", \"falseText\", \"editorOptions\", \"filterOperations\", \"format\", \"lookup\", \"trueText\", \"calculateFilterExpression\", \"name\"];\r\nvar FILTER_BUILDER_CLASS = \"dx-filterbuilder\";\r\nvar FILTER_BUILDER_ITEM_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-text\";\r\nvar FILTER_BUILDER_ITEM_TEXT_PART_CLASS = FILTER_BUILDER_ITEM_TEXT_CLASS + \"-part\";\r\nvar FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS = FILTER_BUILDER_ITEM_TEXT_CLASS + \"-separator\";\r\nvar FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS = FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS + \"-empty\";\r\n\r\nfunction getFormattedValueText(field, value) {\r\n    var fieldFormat = field.format || DEFAULT_FORMAT[field.dataType];\r\n    return formatHelper.format(value, fieldFormat)\r\n}\r\n\r\nfunction isNegationGroup(group) {\r\n    return group && group.length > 1 && \"!\" === group[0] && !isCondition(group)\r\n}\r\nexport function getGroupCriteria(group) {\r\n    return isNegationGroup(group) ? group[1] : group\r\n}\r\n\r\nfunction setGroupCriteria(group, criteria) {\r\n    if (isNegationGroup(group)) {\r\n        group[1] = criteria\r\n    } else {\r\n        group = criteria\r\n    }\r\n    return group\r\n}\r\n\r\nfunction convertGroupToNewStructure(group, value) {\r\n    if (function(value) {\r\n            return -1 !== value.indexOf(\"!\")\r\n        }(value)) {\r\n        if (!isNegationGroup(group)) {\r\n            ! function(group) {\r\n                var criteria = group.slice(0);\r\n                group.length = 0;\r\n                group.push(\"!\", criteria)\r\n            }(group)\r\n        }\r\n    } else if (isNegationGroup(group)) {\r\n        ! function(group) {\r\n            var criteria = getGroupCriteria(group);\r\n            group.length = 0;\r\n            [].push.apply(group, criteria)\r\n        }(group)\r\n    }\r\n}\r\nexport function setGroupValue(group, value) {\r\n    convertGroupToNewStructure(group, value);\r\n    var criteria = getGroupCriteria(group);\r\n    var i;\r\n    value = function(value) {\r\n        return -1 === value.indexOf(\"!\") ? value : value.substring(1)\r\n    }(value);\r\n    ! function(criteria, value) {\r\n        for (i = 0; i < criteria.length; i++) {\r\n            if (!Array.isArray(criteria[i])) {\r\n                criteria[i] = value\r\n            }\r\n        }\r\n    }(criteria, value);\r\n    return group\r\n}\r\nexport function getGroupMenuItem(group, availableGroups) {\r\n    var groupValue = getGroupValue(group);\r\n    return availableGroups.filter((function(item) {\r\n        return item.value === groupValue\r\n    }))[0]\r\n}\r\n\r\nfunction getCriteriaOperation(criteria) {\r\n    if (isCondition(criteria)) {\r\n        return AND_GROUP_OPERATION\r\n    }\r\n    var value = \"\";\r\n    for (var i = 0; i < criteria.length; i++) {\r\n        var item = criteria[i];\r\n        if (!Array.isArray(item)) {\r\n            if (value && value !== item) {\r\n                throw new dataErrors.Error(\"E4019\")\r\n            }\r\n            if (\"!\" !== item) {\r\n                value = item\r\n            }\r\n        }\r\n    }\r\n    return value\r\n}\r\nexport function getGroupValue(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var value = getCriteriaOperation(criteria);\r\n    if (!value) {\r\n        value = AND_GROUP_OPERATION\r\n    }\r\n    if (criteria !== group) {\r\n        value = \"!\" + value\r\n    }\r\n    return value\r\n}\r\n\r\nfunction getDefaultFilterOperations(field) {\r\n    return field.lookup && LOOKUP_OPERATIONS || DATATYPE_OPERATIONS[field.dataType || DEFAULT_DATA_TYPE]\r\n}\r\n\r\nfunction containItems(entity) {\r\n    return Array.isArray(entity) && entity.length\r\n}\r\nexport function getFilterOperations(field) {\r\n    var result = containItems(field.filterOperations) ? field.filterOperations : getDefaultFilterOperations(field);\r\n    return extend([], result)\r\n}\r\nexport function getCaptionByOperation(operation, filterOperationDescriptions) {\r\n    var operationName = filterOperationsDictionary.getNameByFilterOperation(operation);\r\n    return filterOperationDescriptions && filterOperationDescriptions[operationName] ? filterOperationDescriptions[operationName] : operationName\r\n}\r\nexport function getOperationFromAvailable(operation, availableOperations) {\r\n    for (var i = 0; i < availableOperations.length; i++) {\r\n        if (availableOperations[i].value === operation) {\r\n            return availableOperations[i]\r\n        }\r\n    }\r\n    throw new errors.Error(\"E1048\", operation)\r\n}\r\nexport function getCustomOperation(customOperations, name) {\r\n    var filteredOperations = customOperations.filter((function(item) {\r\n        return item.name === name\r\n    }));\r\n    return filteredOperations.length ? filteredOperations[0] : null\r\n}\r\nexport function getAvailableOperations(field, filterOperationDescriptions, customOperations) {\r\n    var filterOperations = getFilterOperations(field);\r\n    var isLookupField = !!field.lookup;\r\n    customOperations.forEach((function(customOperation) {\r\n        if (!field.filterOperations && -1 === filterOperations.indexOf(customOperation.name)) {\r\n            var dataTypes = customOperation && customOperation.dataTypes;\r\n            var isOperationForbidden = isLookupField ? !!customOperation.notForLookup : false;\r\n            if (!isOperationForbidden && dataTypes && dataTypes.indexOf(field.dataType || DEFAULT_DATA_TYPE) >= 0) {\r\n                filterOperations.push(customOperation.name)\r\n            }\r\n        }\r\n    }));\r\n    return filterOperations.map((function(operation) {\r\n        var customOperation = getCustomOperation(customOperations, operation);\r\n        if (customOperation) {\r\n            return {\r\n                icon: customOperation.icon || EMPTY_MENU_ICON,\r\n                text: customOperation.caption || captionize(customOperation.name),\r\n                value: customOperation.name,\r\n                isCustom: true\r\n            }\r\n        } else {\r\n            return {\r\n                icon: filterOperationsDictionary.getIconByFilterOperation(operation) || EMPTY_MENU_ICON,\r\n                text: getCaptionByOperation(operation, filterOperationDescriptions),\r\n                value: operation\r\n            }\r\n        }\r\n    }))\r\n}\r\nexport function getDefaultOperation(field) {\r\n    return field.defaultFilterOperation || getFilterOperations(field)[0]\r\n}\r\nexport function createCondition(field, customOperations) {\r\n    var condition = [field.dataField, \"\", \"\"];\r\n    var filterOperation = getDefaultOperation(field);\r\n    updateConditionByOperation(condition, filterOperation, customOperations);\r\n    return condition\r\n}\r\nexport function removeItem(group, item) {\r\n    var criteria = getGroupCriteria(group);\r\n    var index = criteria.indexOf(item);\r\n    criteria.splice(index, 1);\r\n    if (1 !== criteria.length) {\r\n        criteria.splice(index, 1)\r\n    }\r\n    return group\r\n}\r\nexport function createEmptyGroup(value) {\r\n    var isNegation = isNegationGroupOperation(value);\r\n    var groupOperation = isNegation ? getGroupOperationFromNegationOperation(value) : value;\r\n    return isNegation ? [\"!\", [groupOperation]] : [groupOperation]\r\n}\r\nexport function isEmptyGroup(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    if (isCondition(criteria)) {\r\n        return false\r\n    }\r\n    var hasConditions = criteria.some((function(item) {\r\n        return isCondition(item)\r\n    }));\r\n    return !hasConditions\r\n}\r\nexport function addItem(item, group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var groupValue = getGroupValue(criteria);\r\n    1 === criteria.length ? criteria.unshift(item) : criteria.push(item, groupValue);\r\n    return group\r\n}\r\nexport function getField(dataField, fields) {\r\n    for (var i = 0; i < fields.length; i++) {\r\n        if (fields[i].name === dataField) {\r\n            return fields[i]\r\n        }\r\n        if (fields[i].dataField.toLowerCase() === dataField.toLowerCase()) {\r\n            return fields[i]\r\n        }\r\n    }\r\n    var extendedFields = getItems(fields, true).filter((function(item) {\r\n        return item.dataField.toLowerCase() === dataField.toLowerCase()\r\n    }));\r\n    if (extendedFields.length > 0) {\r\n        return extendedFields[0]\r\n    }\r\n    throw new errors.Error(\"E1047\", dataField)\r\n}\r\nexport function isGroup(criteria) {\r\n    if (!Array.isArray(criteria)) {\r\n        return false\r\n    }\r\n    return criteria.length < 2 || Array.isArray(criteria[0]) || Array.isArray(criteria[1])\r\n}\r\nexport function isCondition(criteria) {\r\n    if (!Array.isArray(criteria)) {\r\n        return false\r\n    }\r\n    return criteria.length > 1 && !Array.isArray(criteria[0]) && !Array.isArray(criteria[1])\r\n}\r\n\r\nfunction convertToInnerGroup(group, customOperations, defaultGroupOperation) {\r\n    defaultGroupOperation = defaultGroupOperation || AND_GROUP_OPERATION;\r\n    var groupOperation = getCriteriaOperation(group).toLowerCase() || defaultGroupOperation;\r\n    var innerGroup = [];\r\n    for (var i = 0; i < group.length; i++) {\r\n        if (isGroup(group[i])) {\r\n            innerGroup.push(convertToInnerStructure(group[i], customOperations, defaultGroupOperation));\r\n            innerGroup = appendGroupOperationToGroup(innerGroup, groupOperation)\r\n        } else if (isCondition(group[i])) {\r\n            innerGroup.push(convertToInnerCondition(group[i], customOperations));\r\n            innerGroup = appendGroupOperationToGroup(innerGroup, groupOperation)\r\n        }\r\n    }\r\n    if (0 === innerGroup.length) {\r\n        innerGroup = appendGroupOperationToGroup(innerGroup, groupOperation)\r\n    }\r\n    return innerGroup\r\n}\r\n\r\nfunction conditionHasCustomOperation(condition, customOperations) {\r\n    var customOperation = getCustomOperation(customOperations, condition[1]);\r\n    return customOperation && customOperation.name === condition[1]\r\n}\r\n\r\nfunction convertToInnerCondition(condition, customOperations) {\r\n    if (conditionHasCustomOperation(condition, customOperations)) {\r\n        return condition\r\n    }\r\n    if (condition.length < 3) {\r\n        condition[2] = condition[1];\r\n        condition[1] = EQUAL_OPERATION\r\n    }\r\n    return condition\r\n}\r\n\r\nfunction isNegationGroupOperation(operation) {\r\n    return -1 !== operation.indexOf(\"not\")\r\n}\r\n\r\nfunction getGroupOperationFromNegationOperation(operation) {\r\n    return operation.substring(3).toLowerCase()\r\n}\r\n\r\nfunction appendGroupOperationToCriteria(criteria, groupOperation) {\r\n    var isNegation = isNegationGroupOperation(groupOperation);\r\n    groupOperation = isNegation ? getGroupOperationFromNegationOperation(groupOperation) : groupOperation;\r\n    return isNegation ? [\"!\", criteria, groupOperation] : [criteria, groupOperation]\r\n}\r\n\r\nfunction appendGroupOperationToGroup(group, groupOperation) {\r\n    var isNegation = isNegationGroupOperation(groupOperation);\r\n    groupOperation = isNegation ? getGroupOperationFromNegationOperation(groupOperation) : groupOperation;\r\n    group.push(groupOperation);\r\n    var result = group;\r\n    if (isNegation) {\r\n        result = [\"!\", result]\r\n    }\r\n    return result\r\n}\r\nexport function convertToInnerStructure(value, customOperations, defaultGroupOperation) {\r\n    defaultGroupOperation = defaultGroupOperation || AND_GROUP_OPERATION;\r\n    if (!value) {\r\n        return createEmptyGroup(defaultGroupOperation)\r\n    }\r\n    value = extend(true, [], value);\r\n    if (isCondition(value)) {\r\n        return appendGroupOperationToCriteria(convertToInnerCondition(value, customOperations), defaultGroupOperation)\r\n    }\r\n    if (isNegationGroup(value)) {\r\n        return [\"!\", isCondition(value[1]) ? appendGroupOperationToCriteria(convertToInnerCondition(value[1], customOperations), defaultGroupOperation) : isNegationGroup(value[1]) ? appendGroupOperationToCriteria(convertToInnerStructure(value[1], customOperations), defaultGroupOperation) : convertToInnerGroup(value[1], customOperations, defaultGroupOperation)]\r\n    }\r\n    return convertToInnerGroup(value, customOperations, defaultGroupOperation)\r\n}\r\nexport function getNormalizedFields(fields) {\r\n    return fields.reduce((function(result, field) {\r\n        if (isDefined(field.dataField)) {\r\n            var normalizedField = {};\r\n            for (var key in field) {\r\n                if (field[key] && AVAILABLE_FIELD_PROPERTIES.indexOf(key) > -1) {\r\n                    normalizedField[key] = field[key]\r\n                }\r\n            }\r\n            normalizedField.defaultCalculateFilterExpression = filterUtils.defaultCalculateFilterExpression;\r\n            if (!isDefined(normalizedField.dataType)) {\r\n                normalizedField.dataType = DEFAULT_DATA_TYPE\r\n            }\r\n            if (!isDefined(normalizedField.trueText)) {\r\n                normalizedField.trueText = messageLocalization.format(\"dxDataGrid-trueText\")\r\n            }\r\n            if (!isDefined(normalizedField.falseText)) {\r\n                normalizedField.falseText = messageLocalization.format(\"dxDataGrid-falseText\")\r\n            }\r\n            result.push(normalizedField)\r\n        }\r\n        return result\r\n    }), [])\r\n}\r\n\r\nfunction getConditionFilterExpression(condition, fields, customOperations, target) {\r\n    var field = getField(condition[0], fields);\r\n    var filterExpression = convertToInnerCondition(condition, customOperations);\r\n    var customOperation = customOperations.length && getCustomOperation(customOperations, filterExpression[1]);\r\n    if (customOperation && customOperation.calculateFilterExpression) {\r\n        return customOperation.calculateFilterExpression.apply(customOperation, [filterExpression[2], field, fields])\r\n    } else if (field.createFilterExpression) {\r\n        return field.createFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n    } else if (field.calculateFilterExpression) {\r\n        return field.calculateFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n    } else {\r\n        return field.defaultCalculateFilterExpression.apply(field, [filterExpression[2], filterExpression[1], target])\r\n    }\r\n}\r\nexport function getFilterExpression(value, fields, customOperations, target) {\r\n    if (!isDefined(value)) {\r\n        return null\r\n    }\r\n    if (isNegationGroup(value)) {\r\n        var filterExpression = getFilterExpression(value[1], fields, customOperations, target);\r\n        return [\"!\", filterExpression]\r\n    }\r\n    var criteria = getGroupCriteria(value);\r\n    if (isCondition(criteria)) {\r\n        return getConditionFilterExpression(criteria, fields, customOperations, target) || null\r\n    } else {\r\n        var result = [];\r\n        var _filterExpression;\r\n        var groupValue = getGroupValue(criteria);\r\n        for (var i = 0; i < criteria.length; i++) {\r\n            if (isGroup(criteria[i])) {\r\n                _filterExpression = getFilterExpression(criteria[i], fields, customOperations, target);\r\n                if (_filterExpression) {\r\n                    i && result.push(groupValue);\r\n                    result.push(_filterExpression)\r\n                }\r\n            } else if (isCondition(criteria[i])) {\r\n                _filterExpression = getConditionFilterExpression(criteria[i], fields, customOperations, target);\r\n                if (_filterExpression) {\r\n                    result.length && result.push(groupValue);\r\n                    result.push(_filterExpression)\r\n                }\r\n            }\r\n        }\r\n        if (1 === result.length) {\r\n            result = result[0]\r\n        }\r\n        return result.length ? result : null\r\n    }\r\n}\r\nexport function getNormalizedFilter(group) {\r\n    var criteria = getGroupCriteria(group);\r\n    var i;\r\n    if (0 === criteria.length) {\r\n        return null\r\n    }\r\n    var itemsForRemove = [];\r\n    for (i = 0; i < criteria.length; i++) {\r\n        if (isGroup(criteria[i])) {\r\n            var normalizedGroupValue = getNormalizedFilter(criteria[i]);\r\n            if (normalizedGroupValue) {\r\n                criteria[i] = normalizedGroupValue\r\n            } else {\r\n                itemsForRemove.push(criteria[i])\r\n            }\r\n        } else if (isCondition(criteria[i])) {\r\n            if (!isValidCondition(criteria[i])) {\r\n                itemsForRemove.push(criteria[i])\r\n            }\r\n        }\r\n    }\r\n    for (i = 0; i < itemsForRemove.length; i++) {\r\n        removeItem(criteria, itemsForRemove[i])\r\n    }\r\n    if (1 === criteria.length) {\r\n        return null\r\n    }\r\n    criteria.splice(criteria.length - 1, 1);\r\n    if (1 === criteria.length) {\r\n        group = setGroupCriteria(group, criteria[0])\r\n    }\r\n    if (0 === group.length) {\r\n        return null\r\n    }\r\n    return group\r\n}\r\nexport function getCurrentLookupValueText(field, value, handler) {\r\n    if (\"\" === value) {\r\n        handler(\"\");\r\n        return\r\n    }\r\n    var lookup = field.lookup;\r\n    if (lookup.items) {\r\n        handler(lookup.calculateCellValue(value) || \"\")\r\n    } else {\r\n        var lookupDataSource = isFunction(lookup.dataSource) ? lookup.dataSource({}) : lookup.dataSource;\r\n        var dataSource = new DataSource(lookupDataSource);\r\n        dataSource.loadSingle(lookup.valueExpr, value).done((function(result) {\r\n            var valueText = \"\";\r\n            if (result) {\r\n                valueText = lookup.displayExpr ? compileGetter(lookup.displayExpr)(result) : result\r\n            }\r\n            if (field.customizeText) {\r\n                valueText = field.customizeText({\r\n                    value: value,\r\n                    valueText: valueText\r\n                })\r\n            }\r\n            handler(valueText)\r\n        })).fail((function() {\r\n            handler(\"\")\r\n        }))\r\n    }\r\n}\r\n\r\nfunction getPrimitiveValueText(field, value, customOperation, target, options) {\r\n    var valueText;\r\n    if (true === value) {\r\n        valueText = field.trueText || messageLocalization.format(\"dxDataGrid-trueText\")\r\n    } else if (false === value) {\r\n        valueText = field.falseText || messageLocalization.format(\"dxDataGrid-falseText\")\r\n    } else {\r\n        valueText = getFormattedValueText(field, value)\r\n    }\r\n    if (field.customizeText) {\r\n        valueText = field.customizeText.call(field, {\r\n            value: value,\r\n            valueText: valueText,\r\n            target: target\r\n        })\r\n    }\r\n    if (customOperation && customOperation.customizeText) {\r\n        valueText = customOperation.customizeText.call(customOperation, {\r\n            value: value,\r\n            valueText: valueText,\r\n            field: field,\r\n            target: target\r\n        }, options)\r\n    }\r\n    return valueText\r\n}\r\n\r\nfunction getArrayValueText(field, value, customOperation, target) {\r\n    var options = {\r\n        values: value\r\n    };\r\n    return value.map(v => getPrimitiveValueText(field, v, customOperation, target, options))\r\n}\r\n\r\nfunction checkDefaultValue(value) {\r\n    return \"\" === value || null === value\r\n}\r\nexport function getCurrentValueText(field, value, customOperation) {\r\n    var target = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : \"filterBuilder\";\r\n    if (checkDefaultValue(value)) {\r\n        return \"\"\r\n    }\r\n    if (Array.isArray(value)) {\r\n        var result = new Deferred;\r\n        when.apply(this, getArrayValueText(field, value, customOperation, target)).done((function() {\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }\r\n            var text = args.some(item => !checkDefaultValue(item)) ? args.map(item => !checkDefaultValue(item) ? item : \"?\") : \"\";\r\n            result.resolve(text)\r\n        }));\r\n        return result\r\n    } else {\r\n        return getPrimitiveValueText(field, value, customOperation, target)\r\n    }\r\n}\r\n\r\nfunction itemExists(plainItems, parentId) {\r\n    return plainItems.some((function(item) {\r\n        return item.dataField === parentId\r\n    }))\r\n}\r\n\r\nfunction pushItemAndCheckParent(originalItems, plainItems, item) {\r\n    var dataField = item.dataField;\r\n    if (hasParent(dataField)) {\r\n        item.parentId = getParentIdFromItemDataField(dataField);\r\n        if (!itemExists(plainItems, item.parentId) && !itemExists(originalItems, item.parentId)) {\r\n            pushItemAndCheckParent(originalItems, plainItems, {\r\n                id: item.parentId,\r\n                dataType: \"object\",\r\n                dataField: item.parentId,\r\n                caption: generateCaptionByDataField(item.parentId, true),\r\n                filterOperations: [\"isblank\", \"isnotblank\"]\r\n            })\r\n        }\r\n    }\r\n    plainItems.push(item)\r\n}\r\n\r\nfunction generateCaptionByDataField(dataField, allowHierarchicalFields) {\r\n    var caption = \"\";\r\n    if (allowHierarchicalFields) {\r\n        dataField = dataField.substring(dataField.lastIndexOf(\".\") + 1)\r\n    } else if (hasParent(dataField)) {\r\n        dataField.split(\".\").forEach((function(field, index, arr) {\r\n            caption += captionize(field);\r\n            if (index !== arr.length - 1) {\r\n                caption += \".\"\r\n            }\r\n        }));\r\n        return caption\r\n    }\r\n    return captionize(dataField)\r\n}\r\nexport function getItems(fields, allowHierarchicalFields) {\r\n    var items = [];\r\n    for (var i = 0; i < fields.length; i++) {\r\n        var item = extend(true, {\r\n            caption: generateCaptionByDataField(fields[i].dataField, allowHierarchicalFields)\r\n        }, fields[i]);\r\n        item.id = item.name || item.dataField;\r\n        if (allowHierarchicalFields) {\r\n            pushItemAndCheckParent(fields, items, item)\r\n        } else {\r\n            items.push(item)\r\n        }\r\n    }\r\n    return items\r\n}\r\n\r\nfunction hasParent(dataField) {\r\n    return -1 !== dataField.lastIndexOf(\".\")\r\n}\r\n\r\nfunction getParentIdFromItemDataField(dataField) {\r\n    return dataField.substring(0, dataField.lastIndexOf(\".\"))\r\n}\r\nexport function getCaptionWithParents(item, plainItems) {\r\n    if (hasParent(item.dataField)) {\r\n        var parentId = getParentIdFromItemDataField(item.dataField);\r\n        for (var i = 0; i < plainItems.length; i++) {\r\n            if (plainItems[i].dataField === parentId) {\r\n                return getCaptionWithParents(plainItems[i], plainItems) + \".\" + item.caption\r\n            }\r\n        }\r\n    }\r\n    return item.caption\r\n}\r\nexport function updateConditionByOperation(condition, operation, customOperations) {\r\n    var customOperation = getCustomOperation(customOperations, operation);\r\n    if (customOperation) {\r\n        if (false === customOperation.hasValue) {\r\n            condition[1] = operation;\r\n            condition.length = 2\r\n        } else {\r\n            condition[1] = operation;\r\n            condition[2] = \"\"\r\n        }\r\n        return condition\r\n    }\r\n    if (\"isblank\" === operation) {\r\n        condition[1] = EQUAL_OPERATION;\r\n        condition[2] = null\r\n    } else if (\"isnotblank\" === operation) {\r\n        condition[1] = NOT_EQUAL_OPERATION;\r\n        condition[2] = null\r\n    } else {\r\n        customOperation = getCustomOperation(customOperations, condition[1]);\r\n        if (customOperation || 2 === condition.length || null === condition[2]) {\r\n            condition[2] = \"\"\r\n        }\r\n        condition[1] = operation\r\n    }\r\n    return condition\r\n}\r\nexport function getOperationValue(condition) {\r\n    var caption;\r\n    if (null === condition[2]) {\r\n        if (condition[1] === EQUAL_OPERATION) {\r\n            caption = \"isblank\"\r\n        } else {\r\n            caption = \"isnotblank\"\r\n        }\r\n    } else {\r\n        caption = condition[1]\r\n    }\r\n    return caption\r\n}\r\nexport function isValidCondition(condition) {\r\n    return \"\" !== condition[2]\r\n}\r\nexport function getMergedOperations(customOperations, betweenCaption, context) {\r\n    var result = extend(true, [], customOperations);\r\n    var betweenIndex = -1;\r\n    result.some((function(customOperation, index) {\r\n        if (\"between\" === customOperation.name) {\r\n            betweenIndex = index;\r\n            return true\r\n        }\r\n    }));\r\n    if (-1 !== betweenIndex) {\r\n        result[betweenIndex] = extend(getConfig(betweenCaption, context), result[betweenIndex])\r\n    } else {\r\n        result.unshift(getConfig(betweenCaption, context))\r\n    }\r\n    return result\r\n}\r\n\r\nfunction isMatchedCondition(filter, addedFilterDataField) {\r\n    return filter[0] === addedFilterDataField\r\n}\r\nexport function removeFieldConditionsFromFilter(filter, dataField) {\r\n    if (!filter || 0 === filter.length) {\r\n        return null\r\n    }\r\n    if (isCondition(filter)) {\r\n        var hasMatchedCondition = isMatchedCondition(filter, dataField);\r\n        return !hasMatchedCondition ? filter : null\r\n    } else {\r\n        return syncConditionIntoGroup(filter, [dataField], false)\r\n    }\r\n}\r\n\r\nfunction syncConditionIntoGroup(filter, addedFilter, canPush) {\r\n    var result = [];\r\n    filter.forEach((function(item) {\r\n        if (isCondition(item)) {\r\n            if (isMatchedCondition(item, addedFilter[0])) {\r\n                if (canPush) {\r\n                    result.push(addedFilter);\r\n                    canPush = false\r\n                } else {\r\n                    result.splice(result.length - 1, 1)\r\n                }\r\n            } else {\r\n                result.push(item)\r\n            }\r\n        } else {\r\n            (result.length || isGroup(item)) && result.push(item)\r\n        }\r\n    }));\r\n    if (0 === result.length) {\r\n        return null\r\n    }\r\n    if (canPush) {\r\n        result.push(AND_GROUP_OPERATION);\r\n        result.push(addedFilter)\r\n    }\r\n    return 1 === result.length ? result[0] : result\r\n}\r\nexport function syncFilters(filter, addedFilter) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return addedFilter\r\n    }\r\n    if (isCondition(filter)) {\r\n        if (isMatchedCondition(filter, addedFilter[0])) {\r\n            return addedFilter\r\n        } else {\r\n            return [filter, AND_GROUP_OPERATION, addedFilter]\r\n        }\r\n    }\r\n    var groupValue = getGroupValue(filter);\r\n    if (groupValue !== AND_GROUP_OPERATION) {\r\n        return [addedFilter, \"and\", filter]\r\n    }\r\n    return syncConditionIntoGroup(filter, addedFilter, true)\r\n}\r\nexport function getMatchedConditions(filter, dataField) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return []\r\n    }\r\n    if (isCondition(filter)) {\r\n        if (isMatchedCondition(filter, dataField)) {\r\n            return [filter]\r\n        } else {\r\n            return []\r\n        }\r\n    }\r\n    var groupValue = getGroupValue(filter);\r\n    if (groupValue !== AND_GROUP_OPERATION) {\r\n        return []\r\n    }\r\n    var result = filter.filter((function(item) {\r\n        return isCondition(item) && isMatchedCondition(item, dataField)\r\n    }));\r\n    return result\r\n}\r\nexport function filterHasField(filter, dataField) {\r\n    if (null === filter || 0 === filter.length) {\r\n        return false\r\n    }\r\n    if (isCondition(filter)) {\r\n        return filter[0] === dataField\r\n    }\r\n    return filter.some((function(item) {\r\n        return (isCondition(item) || isGroup(item)) && filterHasField(item, dataField)\r\n    }))\r\n}\r\nexport var renderValueText = function($container, value, customOperation) {\r\n    if (Array.isArray(value)) {\r\n        var lastItemIndex = value.length - 1;\r\n        $container.empty();\r\n        value.forEach((t, i) => {\r\n            $(\"<span>\").addClass(FILTER_BUILDER_ITEM_TEXT_PART_CLASS).text(t).appendTo($container);\r\n            if (i !== lastItemIndex) {\r\n                $(\"<span>\").addClass(FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS).text(customOperation && customOperation.valueSeparator ? customOperation.valueSeparator : \"|\").addClass(FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS).appendTo($container)\r\n            }\r\n        })\r\n    } else if (value) {\r\n        $container.text(value)\r\n    } else {\r\n        $container.text(messageLocalization.format(\"dxFilterBuilder-enterValueText\"))\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_custom_operations.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    DataSource\r\n} from \"../../data/data_source/data_source\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isGroup,\r\n    isCondition,\r\n    getFilterExpression,\r\n    renderValueText\r\n} from \"../filter_builder/utils\";\r\nimport errors from \"../widget/ui.errors\";\r\n\r\nfunction baseOperation(grid) {\r\n    var getFullText = function(itemText, parentText) {\r\n        return parentText ? parentText + \"/\" + itemText : itemText\r\n    };\r\n    var headerFilterController = grid && grid.getController(\"headerFilter\");\r\n    return {\r\n        dataTypes: [\"string\", \"date\", \"datetime\", \"number\", \"boolean\", \"object\"],\r\n        calculateFilterExpression: function(filterValue, field, fields) {\r\n            var result = [];\r\n            var lastIndex = filterValue.length - 1;\r\n            filterValue && filterValue.forEach((function(value, index) {\r\n                if (isCondition(value) || isGroup(value)) {\r\n                    var filterExpression = getFilterExpression(value, fields, [], \"headerFilter\");\r\n                    result.push(filterExpression)\r\n                } else {\r\n                    result.push(getFilterExpression([field.dataField, \"=\", value], fields, [], \"headerFilter\"))\r\n                }\r\n                index !== lastIndex && result.push(\"or\")\r\n            }));\r\n            if (1 === result.length) {\r\n                result = result[0]\r\n            }\r\n            return result\r\n        },\r\n        editorTemplate: function(conditionInfo, container) {\r\n            var div = $(\"<div>\").addClass(\"dx-filterbuilder-item-value-text\").appendTo(container);\r\n            var column = extend(true, {}, grid.columnOption(conditionInfo.field.dataField));\r\n            renderValueText(div, conditionInfo.text && conditionInfo.text.split(\"|\"));\r\n            column.filterType = \"include\";\r\n            column.filterValues = conditionInfo.value ? conditionInfo.value.slice() : [];\r\n            headerFilterController.showHeaderFilterMenuBase({\r\n                columnElement: div,\r\n                column: column,\r\n                apply: function() {\r\n                    value = this.filterValues, void conditionInfo.setValue(value);\r\n                    var value;\r\n                    headerFilterController.hideHeaderFilterMenu();\r\n                    conditionInfo.closeEditor()\r\n                },\r\n                onHidden: function() {\r\n                    conditionInfo.closeEditor()\r\n                },\r\n                isFilterBuilder: true\r\n            });\r\n            return container\r\n        },\r\n        customizeText: function(fieldInfo, options) {\r\n            options = options || {};\r\n            var value = fieldInfo.value;\r\n            var column = grid.columnOption(fieldInfo.field.dataField);\r\n            var headerFilter = column && column.headerFilter;\r\n            var lookup = column && column.lookup;\r\n            var values = options.values || [value];\r\n            if (headerFilter && headerFilter.dataSource || lookup && lookup.dataSource) {\r\n                var result = new Deferred;\r\n                var itemsDeferred = options.items || new Deferred;\r\n                if (!options.items) {\r\n                    column = extend({}, column, {\r\n                        filterType: \"include\",\r\n                        filterValues: values\r\n                    });\r\n                    var dataSourceOptions = headerFilterController.getDataSource(column);\r\n                    dataSourceOptions.paginate = false;\r\n                    var dataSource = new DataSource(dataSourceOptions);\r\n                    var key = dataSource.store().key();\r\n                    if (key) {\r\n                        var {\r\n                            values: _values\r\n                        } = options;\r\n                        if (_values && _values.length > 1) {\r\n                            var filter = _values.reduce((result, value) => {\r\n                                if (result.length) {\r\n                                    result.push(\"or\")\r\n                                }\r\n                                result.push([key, \"=\", value]);\r\n                                return result\r\n                            }, []);\r\n                            dataSource.filter(filter)\r\n                        } else {\r\n                            dataSource.filter([key, \"=\", fieldInfo.value])\r\n                        }\r\n                    } else if (fieldInfo.field.calculateDisplayValue) {\r\n                        errors.log(\"W1017\")\r\n                    }\r\n                    options.items = itemsDeferred;\r\n                    dataSource.load().done(itemsDeferred.resolve)\r\n                }\r\n                itemsDeferred.done(items => {\r\n                    var index = values.indexOf(fieldInfo.value);\r\n                    result.resolve(function getSelectedItemsTexts(items, parentText) {\r\n                        var result = [];\r\n                        items.forEach((function(item) {\r\n                            if (item.items) {\r\n                                var selectedItemsTexts = getSelectedItemsTexts(item.items, getFullText(item.text, parentText));\r\n                                result = result.concat(selectedItemsTexts)\r\n                            }\r\n                            item.selected && result.push(getFullText(item.text, parentText))\r\n                        }));\r\n                        return result\r\n                    }(items)[index])\r\n                });\r\n                return result\r\n            } else {\r\n                var text = headerFilterController.getHeaderItemText(value, column, 0, grid.option(\"headerFilter\"));\r\n                return text\r\n            }\r\n        }\r\n    }\r\n}\r\nexport function anyOf(grid) {\r\n    return extend(baseOperation(grid), {\r\n        name: \"anyof\",\r\n        icon: \"selectall\",\r\n        caption: messageLocalization.format(\"dxFilterBuilder-filterOperationAnyOf\")\r\n    })\r\n}\r\nexport function noneOf(grid) {\r\n    var baseOp = baseOperation(grid);\r\n    return extend({}, baseOp, {\r\n        calculateFilterExpression: function(filterValue, field, fields) {\r\n            var baseFilter = baseOp.calculateFilterExpression(filterValue, field, fields);\r\n            if (!baseFilter || 0 === baseFilter.length) {\r\n                return null\r\n            }\r\n            return \"!\" === baseFilter[0] ? baseFilter : [\"!\", baseFilter]\r\n        },\r\n        name: \"noneof\",\r\n        icon: \"unselectall\",\r\n        caption: messageLocalization.format(\"dxFilterBuilder-filterOperationNoneOf\")\r\n    })\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_sync.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    getDefaultOperation,\r\n    getMatchedConditions,\r\n    syncFilters,\r\n    removeFieldConditionsFromFilter,\r\n    addItem,\r\n    getNormalizedFilter,\r\n    getFilterExpression,\r\n    filterHasField\r\n} from \"../filter_builder/utils\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport filterUtils from \"../shared/filtering\";\r\nimport {\r\n    anyOf,\r\n    noneOf\r\n} from \"./ui.grid_core.filter_custom_operations\";\r\nvar FILTER_ROW_OPERATIONS = [\"=\", \"<>\", \"<\", \"<=\", \">\", \">=\", \"notcontains\", \"contains\", \"startswith\", \"endswith\", \"between\"];\r\nvar FILTER_TYPES_INCLUDE = \"include\";\r\nvar FILTER_TYPES_EXCLUDE = \"exclude\";\r\n\r\nfunction getColumnIdentifier(column) {\r\n    return column.name || column.dataField\r\n}\r\n\r\nfunction checkForErrors(columns) {\r\n    columns.forEach(column => {\r\n        var identifier = getColumnIdentifier(column);\r\n        if (!isDefined(identifier) && column.allowFiltering) {\r\n            throw new errors.Error(\"E1049\", column.caption)\r\n        }\r\n    })\r\n}\r\nvar FilterSyncController = modules.Controller.inherit(function() {\r\n    var getEmptyFilterValues = function() {\r\n        return {\r\n            filterType: FILTER_TYPES_INCLUDE,\r\n            filterValues: void 0\r\n        }\r\n    };\r\n    var canSyncHeaderFilterWithFilterRow = function(column) {\r\n        var filterValues = column.filterValues || [];\r\n        return !filterUtils.getGroupInterval(column) && !(column.headerFilter && column.headerFilter.dataSource) || 1 === filterValues.length && null === filterValues[0]\r\n    };\r\n    var getConditionFromFilterRow = function(column) {\r\n        var value = column.filterValue;\r\n        if (isDefined(value)) {\r\n            var operation = column.selectedFilterOperation || column.defaultFilterOperation || getDefaultOperation(column);\r\n            var filter = [getColumnIdentifier(column), operation, column.filterValue];\r\n            return filter\r\n        } else {\r\n            return null\r\n        }\r\n    };\r\n    var getConditionFromHeaderFilter = function(column) {\r\n        var selectedOperation;\r\n        var value;\r\n        var filterValues = column.filterValues;\r\n        if (!filterValues) {\r\n            return null\r\n        }\r\n        if (1 === filterValues.length && canSyncHeaderFilterWithFilterRow(column) && !Array.isArray(filterValues[0])) {\r\n            column.filterType === FILTER_TYPES_EXCLUDE ? selectedOperation = \"<>\" : selectedOperation = \"=\";\r\n            value = filterValues[0]\r\n        } else {\r\n            column.filterType === FILTER_TYPES_EXCLUDE ? selectedOperation = \"noneof\" : selectedOperation = \"anyof\";\r\n            value = filterValues\r\n        }\r\n        return [getColumnIdentifier(column), selectedOperation, value]\r\n    };\r\n    var updateHeaderFilterCondition = function(columnsController, column, headerFilterCondition) {\r\n        var headerFilter = function(headerFilterCondition, column) {\r\n            if (!headerFilterCondition) {\r\n                return getEmptyFilterValues()\r\n            }\r\n            var filterType;\r\n            var selectedFilterOperation = headerFilterCondition[1];\r\n            var value = headerFilterCondition[2];\r\n            var hasArrayValue = Array.isArray(value);\r\n            if (!hasArrayValue) {\r\n                if (!canSyncHeaderFilterWithFilterRow(column)) {\r\n                    return getEmptyFilterValues()\r\n                }\r\n            }\r\n            switch (selectedFilterOperation) {\r\n                case \"anyof\":\r\n                case \"=\":\r\n                    filterType = FILTER_TYPES_INCLUDE;\r\n                    break;\r\n                case \"noneof\":\r\n                case \"<>\":\r\n                    filterType = FILTER_TYPES_EXCLUDE;\r\n                    break;\r\n                default:\r\n                    return getEmptyFilterValues()\r\n            }\r\n            return {\r\n                filterType: filterType,\r\n                filterValues: hasArrayValue ? value : [value]\r\n            }\r\n        }(headerFilterCondition, column);\r\n        columnsController.columnOption(getColumnIdentifier(column), headerFilter)\r\n    };\r\n    var updateFilterRowCondition = function(columnsController, column, condition) {\r\n        var filterRowOptions;\r\n        var selectedFilterOperation = null === condition || void 0 === condition ? void 0 : condition[1];\r\n        var filterValue = null === condition || void 0 === condition ? void 0 : condition[2];\r\n        var filterOperations = column.filterOperations || column.defaultFilterOperations;\r\n        if ((!filterOperations || filterOperations.indexOf(selectedFilterOperation) >= 0 || selectedFilterOperation === column.defaultFilterOperation) && FILTER_ROW_OPERATIONS.indexOf(selectedFilterOperation) >= 0 && null !== filterValue) {\r\n            if (selectedFilterOperation === column.defaultFilterOperation && !isDefined(column.selectedFilterOperation)) {\r\n                selectedFilterOperation = column.selectedFilterOperation\r\n            }\r\n            filterRowOptions = {\r\n                filterValue: filterValue,\r\n                selectedFilterOperation: selectedFilterOperation\r\n            }\r\n        } else {\r\n            filterRowOptions = {\r\n                filterValue: void 0,\r\n                selectedFilterOperation: void 0\r\n            }\r\n        }\r\n        columnsController.columnOption(getColumnIdentifier(column), filterRowOptions)\r\n    };\r\n    return {\r\n        syncFilterValue: function() {\r\n            var that = this;\r\n            var columnsController = that.getController(\"columns\");\r\n            var columns = columnsController.getFilteringColumns();\r\n            this._skipSyncColumnOptions = true;\r\n            columns.forEach((function(column) {\r\n                var filterConditions = getMatchedConditions(that.option(\"filterValue\"), getColumnIdentifier(column));\r\n                if (1 === filterConditions.length) {\r\n                    var filterCondition = filterConditions[0];\r\n                    updateHeaderFilterCondition(columnsController, column, filterCondition);\r\n                    updateFilterRowCondition(columnsController, column, filterCondition)\r\n                } else {\r\n                    isDefined(column.filterValues) && updateHeaderFilterCondition(columnsController, column);\r\n                    isDefined(column.filterValue) && updateFilterRowCondition(columnsController, column)\r\n                }\r\n            }));\r\n            this._skipSyncColumnOptions = false\r\n        },\r\n        _initSync: function() {\r\n            var columns = this.getController(\"columns\").getColumns();\r\n            var dataController = this.getController(\"data\");\r\n            var pageIndex = dataController.pageIndex();\r\n            checkForErrors(columns);\r\n            if (!this.option(\"filterValue\")) {\r\n                var filteringColumns = this.getController(\"columns\").getFilteringColumns();\r\n                var filterValue = this.getFilterValueFromColumns(filteringColumns);\r\n                this.option(\"filterValue\", filterValue)\r\n            }\r\n            this.syncFilterValue();\r\n            dataController.pageIndex(pageIndex)\r\n        },\r\n        init: function() {\r\n            var dataController = this.getController(\"data\");\r\n            if (dataController.isFilterSyncActive()) {\r\n                if (this.getController(\"columns\").isAllDataTypesDefined()) {\r\n                    this._initSync()\r\n                } else {\r\n                    dataController.dataSourceChanged.add(() => this._initSync())\r\n                }\r\n            }\r\n        },\r\n        _getSyncFilterRow: function(filterValue, column) {\r\n            var filter = getConditionFromFilterRow(column);\r\n            if (isDefined(filter)) {\r\n                return syncFilters(filterValue, filter)\r\n            } else {\r\n                return removeFieldConditionsFromFilter(filterValue, getColumnIdentifier(column))\r\n            }\r\n        },\r\n        _getSyncHeaderFilter: function(filterValue, column) {\r\n            var filter = getConditionFromHeaderFilter(column);\r\n            if (filter) {\r\n                return syncFilters(filterValue, filter)\r\n            } else {\r\n                return removeFieldConditionsFromFilter(filterValue, getColumnIdentifier(column))\r\n            }\r\n        },\r\n        getFilterValueFromColumns: function(columns) {\r\n            if (!this.getController(\"data\").isFilterSyncActive()) {\r\n                return null\r\n            }\r\n            var filterValue = [\"and\"];\r\n            columns && columns.forEach(column => {\r\n                var headerFilter = getConditionFromHeaderFilter(column);\r\n                var filterRow = getConditionFromFilterRow(column);\r\n                headerFilter && addItem(headerFilter, filterValue);\r\n                filterRow && addItem(filterRow, filterValue)\r\n            });\r\n            return getNormalizedFilter(filterValue)\r\n        },\r\n        syncFilterRow: function(column, value) {\r\n            this.option(\"filterValue\", this._getSyncFilterRow(this.option(\"filterValue\"), column))\r\n        },\r\n        syncHeaderFilter: function(column) {\r\n            this.option(\"filterValue\", this._getSyncHeaderFilter(this.option(\"filterValue\"), column))\r\n        },\r\n        getCustomFilterOperations: function() {\r\n            var filterBuilderCustomOperations = this.option(\"filterBuilder.customOperations\") || [];\r\n            return [anyOf(this.component), noneOf(this.component)].concat(filterBuilderCustomOperations)\r\n        },\r\n        publicMethods: function() {\r\n            return [\"getCustomFilterOperations\"]\r\n        }\r\n    }\r\n}());\r\nvar DataControllerFilterSyncExtender = {\r\n    isFilterSyncActive: function() {\r\n        var filterSyncEnabledValue = this.option(\"filterSyncEnabled\");\r\n        return \"auto\" === filterSyncEnabledValue ? this.option(\"filterPanel.visible\") : filterSyncEnabledValue\r\n    },\r\n    skipCalculateColumnFilters: function() {\r\n        return isDefined(this.option(\"filterValue\")) && this.isFilterSyncActive()\r\n    },\r\n    _calculateAdditionalFilter: function() {\r\n        if (false === this.option(\"filterPanel.filterEnabled\")) {\r\n            return this.callBase()\r\n        }\r\n        var filters = [this.callBase()];\r\n        var columns = this.getController(\"columns\").getFilteringColumns();\r\n        var filterValue = this.option(\"filterValue\");\r\n        if (this.isFilterSyncActive()) {\r\n            var currentColumn = this.getController(\"headerFilter\").getCurrentColumn();\r\n            if (currentColumn && filterValue) {\r\n                filterValue = removeFieldConditionsFromFilter(filterValue, getColumnIdentifier(currentColumn))\r\n            }\r\n        }\r\n        var customOperations = this.getController(\"filterSync\").getCustomFilterOperations();\r\n        var calculatedFilterValue = getFilterExpression(filterValue, columns, customOperations, \"filterBuilder\");\r\n        if (calculatedFilterValue) {\r\n            filters.push(calculatedFilterValue)\r\n        }\r\n        return gridCoreUtils.combineFilters(filters)\r\n    },\r\n    _parseColumnPropertyName: function(fullName) {\r\n        var matched = fullName.match(/.*\\.(.*)/);\r\n        if (matched) {\r\n            return matched[1]\r\n        } else {\r\n            return null\r\n        }\r\n    },\r\n    clearFilter: function(filterName) {\r\n        this.component.beginUpdate();\r\n        if (arguments.length > 0) {\r\n            if (\"filterValue\" === filterName) {\r\n                this.option(\"filterValue\", null)\r\n            }\r\n            this.callBase(filterName)\r\n        } else {\r\n            this.option(\"filterValue\", null);\r\n            this.callBase()\r\n        }\r\n        this.component.endUpdate()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterValue\":\r\n                this._applyFilter();\r\n                this.isFilterSyncActive() && this.getController(\"filterSync\").syncFilterValue();\r\n                args.handled = true;\r\n                break;\r\n            case \"filterSyncEnabled\":\r\n                args.handled = true;\r\n                break;\r\n            case \"columns\":\r\n                if (this.isFilterSyncActive()) {\r\n                    var column = this.getController(\"columns\").getColumnByPath(args.fullName);\r\n                    var filterSyncController = this.getController(\"filterSync\");\r\n                    if (column && !filterSyncController._skipSyncColumnOptions) {\r\n                        var propertyName = this._parseColumnPropertyName(args.fullName);\r\n                        filterSyncController._skipSyncColumnOptions = true;\r\n                        if (\"filterType\" === propertyName) {\r\n                            if (FILTER_TYPES_EXCLUDE === args.value || FILTER_TYPES_EXCLUDE === args.previousValue) {\r\n                                filterSyncController.syncHeaderFilter(column)\r\n                            }\r\n                        } else if (\"filterValues\" === propertyName) {\r\n                            filterSyncController.syncHeaderFilter(column)\r\n                        } else if ([\"filterValue\", \"selectedFilterOperation\"].indexOf(propertyName) > -1) {\r\n                            filterSyncController.syncFilterRow(column, column.filterValue)\r\n                        }\r\n                        filterSyncController._skipSyncColumnOptions = false\r\n                    }\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n};\r\nvar ColumnHeadersViewFilterSyncExtender = {\r\n    _isHeaderFilterEmpty: function(column) {\r\n        if (this.getController(\"data\").isFilterSyncActive()) {\r\n            return !filterHasField(this.option(\"filterValue\"), getColumnIdentifier(column))\r\n        }\r\n        return this.callBase(column)\r\n    },\r\n    _needUpdateFilterIndicators: function() {\r\n        return !this.getController(\"data\").isFilterSyncActive()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"filterValue\" === args.name) {\r\n            this._updateHeaderFilterIndicators()\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    }\r\n};\r\nexport var filterSyncModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterValue: null,\r\n            filterSyncEnabled: \"auto\"\r\n        }\r\n    },\r\n    controllers: {\r\n        filterSync: FilterSyncController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: DataControllerFilterSyncExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFilterSyncExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_sync.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterSyncModule\r\n} from \"../grid_core/ui.grid_core.filter_sync\";\r\ncore.registerModule(\"filterSync\", filterSyncModule);\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder/filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport Class from \"../../core/class\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport TreeView from \"../tree_view\";\r\nimport Popup from \"../popup\";\r\nimport {\r\n    getElementMaxHeightByWindow\r\n} from \"../overlay/utils\";\r\nimport EditorFactoryMixin from \"../shared/ui.editor_factory_mixin\";\r\nimport {\r\n    normalizeKeyName\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    renderValueText,\r\n    getFilterExpression as _getFilterExpression,\r\n    getNormalizedFilter,\r\n    getNormalizedFields,\r\n    getMergedOperations,\r\n    convertToInnerStructure,\r\n    getGroupCriteria,\r\n    isGroup,\r\n    isCondition,\r\n    removeItem,\r\n    createEmptyGroup,\r\n    addItem,\r\n    createCondition,\r\n    getGroupMenuItem,\r\n    setGroupValue,\r\n    getCustomOperation,\r\n    getAvailableOperations,\r\n    getOperationFromAvailable,\r\n    getOperationValue,\r\n    updateConditionByOperation,\r\n    getItems,\r\n    getField,\r\n    getCaptionWithParents,\r\n    getDefaultOperation,\r\n    getGroupValue,\r\n    getCurrentLookupValueText,\r\n    getCurrentValueText\r\n} from \"./utils\";\r\nvar FILTER_BUILDER_CLASS = \"dx-filterbuilder\";\r\nvar FILTER_BUILDER_GROUP_CLASS = FILTER_BUILDER_CLASS + \"-group\";\r\nvar FILTER_BUILDER_GROUP_ITEM_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-item\";\r\nvar FILTER_BUILDER_GROUP_CONTENT_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-content\";\r\nvar FILTER_BUILDER_GROUP_OPERATIONS_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-operations\";\r\nvar FILTER_BUILDER_GROUP_OPERATION_CLASS = FILTER_BUILDER_GROUP_CLASS + \"-operation\";\r\nvar FILTER_BUILDER_ACTION_CLASS = FILTER_BUILDER_CLASS + \"-action\";\r\nvar FILTER_BUILDER_IMAGE_CLASS = FILTER_BUILDER_ACTION_CLASS + \"-icon\";\r\nvar FILTER_BUILDER_IMAGE_ADD_CLASS = \"dx-icon-plus\";\r\nvar FILTER_BUILDER_IMAGE_REMOVE_CLASS = \"dx-icon-remove\";\r\nvar FILTER_BUILDER_ITEM_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-text\";\r\nvar FILTER_BUILDER_ITEM_FIELD_CLASS = FILTER_BUILDER_CLASS + \"-item-field\";\r\nvar FILTER_BUILDER_ITEM_OPERATION_CLASS = FILTER_BUILDER_CLASS + \"-item-operation\";\r\nvar FILTER_BUILDER_ITEM_VALUE_CLASS = FILTER_BUILDER_CLASS + \"-item-value\";\r\nvar FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS = FILTER_BUILDER_CLASS + \"-item-value-text\";\r\nvar FILTER_BUILDER_OVERLAY_CLASS = FILTER_BUILDER_CLASS + \"-overlay\";\r\nvar FILTER_BUILDER_FILTER_OPERATIONS_CLASS = FILTER_BUILDER_CLASS + \"-operations\";\r\nvar FILTER_BUILDER_FIELDS_CLASS = FILTER_BUILDER_CLASS + \"-fields\";\r\nvar FILTER_BUILDER_ADD_CONDITION_CLASS = FILTER_BUILDER_CLASS + \"-add-condition\";\r\nvar ACTIVE_CLASS = \"dx-state-active\";\r\nvar FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS = FILTER_BUILDER_CLASS + \"-menu-custom-operation\";\r\nvar SOURCE = \"filterBuilder\";\r\nvar DISABLED_STATE_CLASS = \"dx-state-disabled\";\r\nvar TAB_KEY = \"tab\";\r\nvar ENTER_KEY = \"enter\";\r\nvar ESCAPE_KEY = \"escape\";\r\nvar ACTIONS = [{\r\n    name: \"onEditorPreparing\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"],\r\n        category: \"rendering\"\r\n    }\r\n}, {\r\n    name: \"onEditorPrepared\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"],\r\n        category: \"rendering\"\r\n    }\r\n}, {\r\n    name: \"onValueChanged\",\r\n    config: {\r\n        excludeValidators: [\"disabled\", \"readOnly\"]\r\n    }\r\n}];\r\nvar OPERATORS = {\r\n    and: \"and\",\r\n    or: \"or\",\r\n    notAnd: \"!and\",\r\n    notOr: \"!or\"\r\n};\r\nvar EditorFactory = Class.inherit(EditorFactoryMixin);\r\nvar FilterBuilder = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onEditorPreparing: null,\r\n            onEditorPrepared: null,\r\n            onValueChanged: null,\r\n            fields: [],\r\n            groupOperations: [\"and\", \"or\", \"notAnd\", \"notOr\"],\r\n            maxGroupLevel: void 0,\r\n            value: null,\r\n            allowHierarchicalFields: false,\r\n            groupOperationDescriptions: {\r\n                and: messageLocalization.format(\"dxFilterBuilder-and\"),\r\n                or: messageLocalization.format(\"dxFilterBuilder-or\"),\r\n                notAnd: messageLocalization.format(\"dxFilterBuilder-notAnd\"),\r\n                notOr: messageLocalization.format(\"dxFilterBuilder-notOr\")\r\n            },\r\n            customOperations: [],\r\n            closePopupOnTargetScroll: true,\r\n            filterOperationDescriptions: {\r\n                between: messageLocalization.format(\"dxFilterBuilder-filterOperationBetween\"),\r\n                equal: messageLocalization.format(\"dxFilterBuilder-filterOperationEquals\"),\r\n                notEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationNotEquals\"),\r\n                lessThan: messageLocalization.format(\"dxFilterBuilder-filterOperationLess\"),\r\n                lessThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationLessOrEquals\"),\r\n                greaterThan: messageLocalization.format(\"dxFilterBuilder-filterOperationGreater\"),\r\n                greaterThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationGreaterOrEquals\"),\r\n                startsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationStartsWith\"),\r\n                contains: messageLocalization.format(\"dxFilterBuilder-filterOperationContains\"),\r\n                notContains: messageLocalization.format(\"dxFilterBuilder-filterOperationNotContains\"),\r\n                endsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationEndsWith\"),\r\n                isBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                isNotBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n            }\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"closePopupOnTargetScroll\":\r\n                break;\r\n            case \"onEditorPreparing\":\r\n            case \"onEditorPrepared\":\r\n            case \"onValueChanged\":\r\n                this._initActions();\r\n                break;\r\n            case \"customOperations\":\r\n                this._initCustomOperations();\r\n                this._invalidate();\r\n                break;\r\n            case \"fields\":\r\n            case \"maxGroupLevel\":\r\n            case \"groupOperations\":\r\n            case \"allowHierarchicalFields\":\r\n            case \"groupOperationDescriptions\":\r\n            case \"filterOperationDescriptions\":\r\n                this._invalidate();\r\n                break;\r\n            case \"value\":\r\n                if (args.value !== args.previousValue) {\r\n                    var disableInvalidateForValue = this._disableInvalidateForValue;\r\n                    if (!disableInvalidateForValue) {\r\n                        this._initModel();\r\n                        this._invalidate()\r\n                    }\r\n                    this._disableInvalidateForValue = false;\r\n                    this.executeAction(\"onValueChanged\", {\r\n                        value: args.value,\r\n                        previousValue: args.previousValue\r\n                    });\r\n                    this._disableInvalidateForValue = disableInvalidateForValue\r\n                }\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    getFilterExpression: function() {\r\n        var fields = this._getNormalizedFields();\r\n        var value = extend(true, [], this._model);\r\n        return _getFilterExpression(getNormalizedFilter(value), fields, this._customOperations, SOURCE)\r\n    },\r\n    _getNormalizedFields: function() {\r\n        return getNormalizedFields(this.option(\"fields\"))\r\n    },\r\n    _updateFilter: function() {\r\n        this._disableInvalidateForValue = true;\r\n        var value = extend(true, [], this._model);\r\n        var normalizedValue = getNormalizedFilter(value);\r\n        var oldValue = getNormalizedFilter(this._getModel(this.option(\"value\")));\r\n        if (JSON.stringify(oldValue) !== JSON.stringify(normalizedValue)) {\r\n            this.option(\"value\", normalizedValue)\r\n        }\r\n        this._disableInvalidateForValue = false;\r\n        this._fireContentReadyAction()\r\n    },\r\n    _init: function() {\r\n        this._initCustomOperations();\r\n        this._initModel();\r\n        this._initEditorFactory();\r\n        this._initActions();\r\n        this.callBase()\r\n    },\r\n    _initEditorFactory: function() {\r\n        this._editorFactory = new EditorFactory\r\n    },\r\n    _initCustomOperations: function() {\r\n        this._customOperations = getMergedOperations(this.option(\"customOperations\"), this.option(\"filterOperationDescriptions.between\"), this)\r\n    },\r\n    _getDefaultGroupOperation: function() {\r\n        var _this$option$, _this$option;\r\n        return null !== (_this$option$ = null === (_this$option = this.option(\"groupOperations\")) || void 0 === _this$option ? void 0 : _this$option[0]) && void 0 !== _this$option$ ? _this$option$ : OPERATORS.and\r\n    },\r\n    _getModel: function(value) {\r\n        return convertToInnerStructure(value, this._customOperations, this._getDefaultGroupOperation())\r\n    },\r\n    _initModel: function() {\r\n        this._model = this._getModel(this.option(\"value\"))\r\n    },\r\n    _initActions: function() {\r\n        var that = this;\r\n        that._actions = {};\r\n        ACTIONS.forEach((function(action) {\r\n            var actionConfig = extend({}, action.config);\r\n            that._actions[action.name] = that._createActionByOption(action.name, actionConfig)\r\n        }))\r\n    },\r\n    executeAction: function(actionName, options) {\r\n        var action = this._actions[actionName];\r\n        return action && action(options)\r\n    },\r\n    _initMarkup: function() {\r\n        this.$element().addClass(FILTER_BUILDER_CLASS);\r\n        this.callBase();\r\n        this._createGroupElementByCriteria(this._model).appendTo(this.$element())\r\n    },\r\n    _createConditionElement: function(condition, parent) {\r\n        return $(\"<div>\").addClass(FILTER_BUILDER_GROUP_CLASS).append(this._createConditionItem(condition, parent))\r\n    },\r\n    _createGroupElementByCriteria: function(criteria, parent) {\r\n        var groupLevel = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;\r\n        var $group = this._createGroupElement(criteria, parent, groupLevel);\r\n        var $groupContent = $group.find(\".\" + FILTER_BUILDER_GROUP_CONTENT_CLASS);\r\n        var groupCriteria = getGroupCriteria(criteria);\r\n        for (var i = 0; i < groupCriteria.length; i++) {\r\n            var innerCriteria = groupCriteria[i];\r\n            if (isGroup(innerCriteria)) {\r\n                this._createGroupElementByCriteria(innerCriteria, criteria, groupLevel + 1).appendTo($groupContent)\r\n            } else if (isCondition(innerCriteria)) {\r\n                this._createConditionElement(innerCriteria, criteria).appendTo($groupContent)\r\n            }\r\n        }\r\n        return $group\r\n    },\r\n    _createGroupElement: function(criteria, parent, groupLevel) {\r\n        var $groupItem = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_ITEM_CLASS);\r\n        var $groupContent = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_CONTENT_CLASS);\r\n        var $group = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_CLASS).append($groupItem).append($groupContent);\r\n        if (null != parent) {\r\n            this._createRemoveButton(() => {\r\n                removeItem(parent, criteria);\r\n                $group.remove();\r\n                this._updateFilter()\r\n            }).appendTo($groupItem)\r\n        }\r\n        this._createGroupOperationButton(criteria).appendTo($groupItem);\r\n        this._createAddButton(() => {\r\n            var newGroup = createEmptyGroup(this._getDefaultGroupOperation());\r\n            addItem(newGroup, criteria);\r\n            this._createGroupElement(newGroup, criteria, groupLevel + 1).appendTo($groupContent);\r\n            this._updateFilter()\r\n        }, () => {\r\n            var field = this.option(\"fields\")[0];\r\n            var newCondition = createCondition(field, this._customOperations);\r\n            addItem(newCondition, criteria);\r\n            this._createConditionElement(newCondition, criteria).appendTo($groupContent);\r\n            this._updateFilter()\r\n        }, groupLevel).appendTo($groupItem);\r\n        return $group\r\n    },\r\n    _createButton: function(caption) {\r\n        return $(\"<div>\").text(caption)\r\n    },\r\n    _createGroupOperationButton: function(criteria) {\r\n        var groupOperations = this._getGroupOperations(criteria);\r\n        var groupMenuItem = getGroupMenuItem(criteria, groupOperations);\r\n        var caption = groupMenuItem.text;\r\n        var $operationButton = groupOperations && groupOperations.length < 2 ? this._createButton(caption).addClass(DISABLED_STATE_CLASS) : this._createButtonWithMenu({\r\n            caption: caption,\r\n            menu: {\r\n                items: groupOperations,\r\n                displayExpr: \"text\",\r\n                keyExpr: \"value\",\r\n                onItemClick: e => {\r\n                    if (groupMenuItem !== e.itemData) {\r\n                        setGroupValue(criteria, e.itemData.value);\r\n                        $operationButton.text(e.itemData.text);\r\n                        groupMenuItem = e.itemData;\r\n                        this._updateFilter()\r\n                    }\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(groupMenuItem)\r\n                },\r\n                cssClass: FILTER_BUILDER_GROUP_OPERATIONS_CLASS\r\n            }\r\n        });\r\n        return $operationButton.addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_GROUP_OPERATION_CLASS).attr(\"tabindex\", 0)\r\n    },\r\n    _createButtonWithMenu: function(options) {\r\n        var that = this;\r\n        var removeMenu = function() {\r\n            that.$element().find(\".\" + ACTIVE_CLASS).removeClass(ACTIVE_CLASS);\r\n            that.$element().find(\".dx-overlay .dx-treeview\").remove();\r\n            that.$element().find(\".dx-overlay\").remove()\r\n        };\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var position = rtlEnabled ? \"right\" : \"left\";\r\n        var $button = this._createButton(options.caption);\r\n        extend(options.menu, {\r\n            focusStateEnabled: true,\r\n            selectionMode: \"single\",\r\n            onItemClick: (handler = options.menu.onItemClick, function(e) {\r\n                handler(e);\r\n                if (\"dxclick\" === e.event.type) {\r\n                    removeMenu()\r\n                }\r\n            }),\r\n            onHiding: function(e) {\r\n                $button.removeClass(ACTIVE_CLASS)\r\n            },\r\n            position: {\r\n                my: position + \" top\",\r\n                at: position + \" bottom\",\r\n                offset: \"0 1\",\r\n                of: $button,\r\n                collision: \"flip\"\r\n            },\r\n            animation: null,\r\n            onHidden: function() {\r\n                removeMenu()\r\n            },\r\n            cssClass: FILTER_BUILDER_OVERLAY_CLASS + \" \" + options.menu.cssClass,\r\n            rtlEnabled: rtlEnabled\r\n        });\r\n        var handler;\r\n        options.popup = {\r\n            onShown: function(info) {\r\n                var treeViewElement = $(info.component.content()).find(\".dx-treeview\");\r\n                var treeView = treeViewElement.dxTreeView(\"instance\");\r\n                eventsEngine.on(treeViewElement, \"keyup keydown\", (function(e) {\r\n                    var keyName = normalizeKeyName(e);\r\n                    if (\"keydown\" === e.type && keyName === TAB_KEY || \"keyup\" === e.type && (keyName === ESCAPE_KEY || keyName === ENTER_KEY)) {\r\n                        info.component.hide();\r\n                        eventsEngine.trigger(options.menu.position.of, \"focus\")\r\n                    }\r\n                }));\r\n                treeView.focus();\r\n                treeView.option(\"focusedElement\", null)\r\n            }\r\n        };\r\n        this._subscribeOnClickAndEnterKey($button, (function() {\r\n            removeMenu();\r\n            that._createPopupWithTreeView(options, that.$element());\r\n            $button.addClass(ACTIVE_CLASS)\r\n        }));\r\n        return $button\r\n    },\r\n    _hasValueButton: function(condition) {\r\n        var customOperation = getCustomOperation(this._customOperations, condition[1]);\r\n        return customOperation ? false !== customOperation.hasValue : null !== condition[2]\r\n    },\r\n    _createOperationButtonWithMenu: function(condition, field) {\r\n        var that = this;\r\n        var availableOperations = getAvailableOperations(field, this.option(\"filterOperationDescriptions\"), this._customOperations);\r\n        var currentOperation = getOperationFromAvailable(getOperationValue(condition), availableOperations);\r\n        var $operationButton = this._createButtonWithMenu({\r\n            caption: currentOperation.text,\r\n            menu: {\r\n                items: availableOperations,\r\n                displayExpr: \"text\",\r\n                onItemRendered: function(e) {\r\n                    e.itemData.isCustom && $(e.itemElement).addClass(FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS)\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(currentOperation)\r\n                },\r\n                onItemClick: e => {\r\n                    if (currentOperation !== e.itemData) {\r\n                        currentOperation = e.itemData;\r\n                        updateConditionByOperation(condition, currentOperation.value, that._customOperations);\r\n                        var $valueButton = $operationButton.siblings().filter(\".\" + FILTER_BUILDER_ITEM_VALUE_CLASS);\r\n                        if (that._hasValueButton(condition)) {\r\n                            if (0 !== $valueButton.length) {\r\n                                $valueButton.remove()\r\n                            }\r\n                            that._createValueButton(condition, field).appendTo($operationButton.parent())\r\n                        } else {\r\n                            $valueButton.remove()\r\n                        }\r\n                        $operationButton.html(currentOperation.text);\r\n                        this._updateFilter()\r\n                    }\r\n                },\r\n                cssClass: FILTER_BUILDER_FILTER_OPERATIONS_CLASS\r\n            }\r\n        }).addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_OPERATION_CLASS).attr(\"tabindex\", 0);\r\n        return $operationButton\r\n    },\r\n    _createOperationAndValueButtons: function(condition, field, $item) {\r\n        this._createOperationButtonWithMenu(condition, field).appendTo($item);\r\n        if (this._hasValueButton(condition)) {\r\n            this._createValueButton(condition, field).appendTo($item)\r\n        }\r\n    },\r\n    _createFieldButtonWithMenu: function(fields, condition, field) {\r\n        var that = this;\r\n        var allowHierarchicalFields = this.option(\"allowHierarchicalFields\");\r\n        var items = getItems(fields, allowHierarchicalFields);\r\n        var item = getField(field.name || field.dataField, items);\r\n        var getFullCaption = function(item, items) {\r\n            return allowHierarchicalFields ? getCaptionWithParents(item, items) : item.caption\r\n        };\r\n        var $fieldButton = this._createButtonWithMenu({\r\n            caption: getFullCaption(item, items),\r\n            menu: {\r\n                items: items,\r\n                dataStructure: \"plain\",\r\n                keyExpr: \"id\",\r\n                parentId: \"parentId\",\r\n                displayExpr: \"caption\",\r\n                onItemClick: e => {\r\n                    if (item !== e.itemData) {\r\n                        item = e.itemData;\r\n                        condition[0] = item.name || item.dataField;\r\n                        condition[2] = \"object\" === item.dataType ? null : \"\";\r\n                        updateConditionByOperation(condition, getDefaultOperation(item), that._customOperations);\r\n                        $fieldButton.siblings().filter(\".\" + FILTER_BUILDER_ITEM_TEXT_CLASS).remove();\r\n                        that._createOperationAndValueButtons(condition, item, $fieldButton.parent());\r\n                        var caption = getFullCaption(item, e.component.option(\"items\"));\r\n                        $fieldButton.html(caption);\r\n                        this._updateFilter()\r\n                    }\r\n                },\r\n                onContentReady: function(e) {\r\n                    e.component.selectItem(item)\r\n                },\r\n                cssClass: FILTER_BUILDER_FIELDS_CLASS\r\n            }\r\n        }).addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_FIELD_CLASS).attr(\"tabindex\", 0);\r\n        return $fieldButton\r\n    },\r\n    _createConditionItem: function(condition, parent) {\r\n        var $item = $(\"<div>\").addClass(FILTER_BUILDER_GROUP_ITEM_CLASS);\r\n        var fields = this._getNormalizedFields();\r\n        var field = getField(condition[0], fields);\r\n        this._createRemoveButton(() => {\r\n            removeItem(parent, condition);\r\n            var isSingleChild = 1 === $item.parent().children().length;\r\n            if (isSingleChild) {\r\n                $item.parent().remove()\r\n            } else {\r\n                $item.remove()\r\n            }\r\n            this._updateFilter()\r\n        }).appendTo($item);\r\n        this._createFieldButtonWithMenu(fields, condition, field).appendTo($item);\r\n        this._createOperationAndValueButtons(condition, field, $item);\r\n        return $item\r\n    },\r\n    _getGroupOperations: function(criteria) {\r\n        var groupOperations = this.option(\"groupOperations\");\r\n        var groupOperationDescriptions = this.option(\"groupOperationDescriptions\");\r\n        if (!groupOperations || !groupOperations.length) {\r\n            groupOperations = [getGroupValue(criteria).replace(\"!\", \"not\")]\r\n        }\r\n        return groupOperations.map(operation => ({\r\n            text: groupOperationDescriptions[operation],\r\n            value: OPERATORS[operation]\r\n        }))\r\n    },\r\n    _createRemoveButton: function(handler) {\r\n        var $removeButton = $(\"<div>\").addClass(FILTER_BUILDER_IMAGE_CLASS).addClass(FILTER_BUILDER_IMAGE_REMOVE_CLASS).addClass(FILTER_BUILDER_ACTION_CLASS).attr(\"tabindex\", 0);\r\n        this._subscribeOnClickAndEnterKey($removeButton, handler);\r\n        return $removeButton\r\n    },\r\n    _createAddButton: function(addGroupHandler, addConditionHandler, groupLevel) {\r\n        var $button;\r\n        var maxGroupLevel = this.option(\"maxGroupLevel\");\r\n        if (isDefined(maxGroupLevel) && groupLevel >= maxGroupLevel) {\r\n            $button = this._createButton();\r\n            this._subscribeOnClickAndEnterKey($button, addConditionHandler)\r\n        } else {\r\n            $button = this._createButtonWithMenu({\r\n                menu: {\r\n                    items: [{\r\n                        caption: messageLocalization.format(\"dxFilterBuilder-addCondition\"),\r\n                        click: addConditionHandler\r\n                    }, {\r\n                        caption: messageLocalization.format(\"dxFilterBuilder-addGroup\"),\r\n                        click: addGroupHandler\r\n                    }],\r\n                    displayExpr: \"caption\",\r\n                    onItemClick: function(e) {\r\n                        e.itemData.click()\r\n                    },\r\n                    cssClass: FILTER_BUILDER_ADD_CONDITION_CLASS\r\n                }\r\n            })\r\n        }\r\n        return $button.addClass(FILTER_BUILDER_IMAGE_CLASS).addClass(FILTER_BUILDER_IMAGE_ADD_CLASS).addClass(FILTER_BUILDER_ACTION_CLASS).attr(\"tabindex\", 0)\r\n    },\r\n    _createValueText: function(item, field, $container) {\r\n        var that = this;\r\n        var $text = $(\"<div>\").html(\"&nbsp;\").addClass(FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS).attr(\"tabindex\", 0).appendTo($container);\r\n        var value = item[2];\r\n        var customOperation = getCustomOperation(that._customOperations, item[1]);\r\n        if (!customOperation && field.lookup) {\r\n            getCurrentLookupValueText(field, value, (function(result) {\r\n                renderValueText($text, result)\r\n            }))\r\n        } else {\r\n            when(getCurrentValueText(field, value, customOperation)).done(result => {\r\n                renderValueText($text, result, customOperation)\r\n            })\r\n        }\r\n        that._subscribeOnClickAndEnterKey($text, (function(e) {\r\n            if (\"keyup\" === e.type) {\r\n                e.stopPropagation()\r\n            }\r\n            that._createValueEditorWithEvents(item, field, $container)\r\n        }));\r\n        return $text\r\n    },\r\n    _updateConditionValue: function(item, value, callback) {\r\n        var areValuesDifferent = item[2] !== value;\r\n        if (areValuesDifferent) {\r\n            item[2] = value\r\n        }\r\n        callback();\r\n        this._updateFilter()\r\n    },\r\n    _addDocumentKeyUp: function($editor, handler) {\r\n        var isComposing = false;\r\n        var hasCompositionJustEnded = false;\r\n        var document = domAdapter.getDocument();\r\n        var documentKeyUpHandler = e => {\r\n            if (isComposing || hasCompositionJustEnded) {\r\n                hasCompositionJustEnded = false;\r\n                return\r\n            }\r\n            handler(e)\r\n        };\r\n        eventsEngine.on(document, \"keyup\", documentKeyUpHandler);\r\n        var input = $editor.find(\"input\");\r\n        eventsEngine.on(input, \"compositionstart\", () => {\r\n            isComposing = true\r\n        });\r\n        eventsEngine.on(input, \"compositionend\", () => {\r\n            isComposing = false;\r\n            hasCompositionJustEnded = true\r\n        });\r\n        eventsEngine.on(input, \"keydown\", event => {\r\n            if (229 !== event.which) {\r\n                hasCompositionJustEnded = false\r\n            }\r\n        });\r\n        this._documentKeyUpHandler = documentKeyUpHandler\r\n    },\r\n    _addDocumentClick: function($editor, closeEditorFunc) {\r\n        var document = domAdapter.getDocument();\r\n        var documentClickHandler = e => {\r\n            if (!this._isFocusOnEditorParts($editor, e.target)) {\r\n                eventsEngine.trigger($editor.find(\"input\"), \"change\");\r\n                closeEditorFunc()\r\n            }\r\n        };\r\n        eventsEngine.on(document, \"dxpointerdown\", documentClickHandler);\r\n        this._documentClickHandler = documentClickHandler\r\n    },\r\n    _isFocusOnEditorParts: function($editor, target) {\r\n        var activeElement = target || domAdapter.getActiveElement();\r\n        return $(activeElement).closest($editor.children()).length || $(activeElement).closest(\".dx-dropdowneditor-overlay\").length\r\n    },\r\n    _removeEvents: function() {\r\n        var document = domAdapter.getDocument();\r\n        isDefined(this._documentKeyUpHandler) && eventsEngine.off(document, \"keyup\", this._documentKeyUpHandler);\r\n        isDefined(this._documentClickHandler) && eventsEngine.off(document, \"dxpointerdown\", this._documentClickHandler)\r\n    },\r\n    _dispose: function() {\r\n        this._removeEvents();\r\n        this.callBase()\r\n    },\r\n    _createValueEditorWithEvents: function(item, field, $container) {\r\n        var value = item[2];\r\n        var createValueText = () => {\r\n            $container.empty();\r\n            this._removeEvents();\r\n            return this._createValueText(item, field, $container)\r\n        };\r\n        var closeEditor = () => {\r\n            this._updateConditionValue(item, value, (function() {\r\n                createValueText()\r\n            }))\r\n        };\r\n        var options = {\r\n            value: \"\" === value ? null : value,\r\n            filterOperation: getOperationValue(item),\r\n            setValue: function(data) {\r\n                value = null === data ? \"\" : data\r\n            },\r\n            closeEditor: closeEditor,\r\n            text: $container.text()\r\n        };\r\n        $container.empty();\r\n        var $editor = this._createValueEditor($container, field, options);\r\n        eventsEngine.trigger($editor.find(\"input\").not(\":hidden\").eq(0), \"focus\");\r\n        this._removeEvents();\r\n        this._addDocumentClick($editor, closeEditor);\r\n        this._addDocumentKeyUp($editor, e => {\r\n            var keyName = normalizeKeyName(e);\r\n            if (keyName === TAB_KEY) {\r\n                if (this._isFocusOnEditorParts($editor)) {\r\n                    return\r\n                }\r\n                this._updateConditionValue(item, value, (function() {\r\n                    createValueText();\r\n                    if (e.shiftKey) {\r\n                        eventsEngine.trigger($container.prev(), \"focus\")\r\n                    }\r\n                }))\r\n            }\r\n            if (keyName === ESCAPE_KEY) {\r\n                eventsEngine.trigger(createValueText(), \"focus\")\r\n            }\r\n            if (keyName === ENTER_KEY) {\r\n                this._updateConditionValue(item, value, (function() {\r\n                    eventsEngine.trigger(createValueText(), \"focus\")\r\n                }))\r\n            }\r\n        });\r\n        this._fireContentReadyAction()\r\n    },\r\n    _createValueButton: function(item, field) {\r\n        var $valueButton = $(\"<div>\").addClass(FILTER_BUILDER_ITEM_TEXT_CLASS).addClass(FILTER_BUILDER_ITEM_VALUE_CLASS);\r\n        this._createValueText(item, field, $valueButton);\r\n        return $valueButton\r\n    },\r\n    _createValueEditor: function($container, field, options) {\r\n        var $editor = $(\"<div>\").attr(\"tabindex\", 0).appendTo($container);\r\n        var customOperation = getCustomOperation(this._customOperations, options.filterOperation);\r\n        var editorTemplate = customOperation && customOperation.editorTemplate ? customOperation.editorTemplate : field.editorTemplate;\r\n        if (editorTemplate) {\r\n            var template = this._getTemplate(editorTemplate);\r\n            template.render({\r\n                model: extend({\r\n                    field: field\r\n                }, options),\r\n                container: $editor\r\n            })\r\n        } else {\r\n            this._editorFactory.createEditor.call(this, $editor, extend({}, field, options, {\r\n                parentType: SOURCE\r\n            }))\r\n        }\r\n        return $editor\r\n    },\r\n    _createPopupWithTreeView: function(options, $container) {\r\n        var that = this;\r\n        var $popup = $(\"<div>\").addClass(options.menu.cssClass).appendTo($container);\r\n        this._createComponent($popup, Popup, {\r\n            wrapperAttr: {\r\n                class: options.menu.cssClass\r\n            },\r\n            onHiding: options.menu.onHiding,\r\n            onHidden: options.menu.onHidden,\r\n            rtlEnabled: options.menu.rtlEnabled,\r\n            position: options.menu.position,\r\n            animation: options.menu.animation,\r\n            contentTemplate: function(contentElement) {\r\n                var $menuContainer = $(\"<div>\").appendTo(contentElement);\r\n                that._createComponent($menuContainer, TreeView, options.menu);\r\n                this.repaint()\r\n            },\r\n            _ignoreFunctionValueDeprecation: true,\r\n            maxHeight: function() {\r\n                return getElementMaxHeightByWindow(options.menu.position.of)\r\n            },\r\n            visible: true,\r\n            focusStateEnabled: false,\r\n            hideOnParentScroll: this.option(\"closePopupOnTargetScroll\"),\r\n            closeOnOutsideClick: true,\r\n            onShown: options.popup.onShown,\r\n            shading: false,\r\n            width: \"auto\",\r\n            height: \"auto\",\r\n            showTitle: false\r\n        })\r\n    },\r\n    _subscribeOnClickAndEnterKey: function($button, handler) {\r\n        eventsEngine.on($button, \"dxclick\", handler);\r\n        eventsEngine.on($button, \"keyup\", (function(e) {\r\n            if (normalizeKeyName(e) === ENTER_KEY) {\r\n                handler(e)\r\n            }\r\n        }))\r\n    }\r\n});\r\nregisterComponent(\"dxFilterBuilder\", FilterBuilder);\r\nexport default FilterBuilder;\r\n","/**\r\n * DevExtreme (esm/ui/filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport FilterBuilder from \"./filter_builder/filter_builder\";\r\nexport default FilterBuilder;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport FilterBuilder from \"./../filter_builder\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport ScrollView from \"./../scroll_view\";\r\nimport Popup from \"./../popup\";\r\nimport {\r\n    restoreFocus\r\n} from \"../shared/accessibility\";\r\nvar FilterBuilderView = modules.View.inherit({\r\n    _renderCore: function() {\r\n        this._updatePopupOptions()\r\n    },\r\n    _updatePopupOptions: function() {\r\n        if (this.option(\"filterBuilderPopup.visible\")) {\r\n            this._initPopup()\r\n        } else if (this._filterBuilderPopup) {\r\n            this._filterBuilderPopup.hide()\r\n        }\r\n    },\r\n    _disposePopup: function() {\r\n        if (this._filterBuilderPopup) {\r\n            this._filterBuilderPopup.dispose();\r\n            this._filterBuilderPopup = void 0\r\n        }\r\n        if (this._filterBuilder) {\r\n            this._filterBuilder.dispose();\r\n            this._filterBuilder = void 0\r\n        }\r\n    },\r\n    _initPopup: function() {\r\n        var that = this;\r\n        that._disposePopup();\r\n        that._filterBuilderPopup = that._createComponent(that.element(), Popup, extend({\r\n            title: messageLocalization.format(\"dxDataGrid-filterBuilderPopupTitle\"),\r\n            contentTemplate: function($contentElement) {\r\n                return that._getPopupContentTemplate($contentElement)\r\n            },\r\n            onOptionChanged: function(args) {\r\n                if (\"visible\" === args.name) {\r\n                    that.option(\"filterBuilderPopup.visible\", args.value)\r\n                }\r\n            },\r\n            toolbarItems: that._getPopupToolbarItems()\r\n        }, that.option(\"filterBuilderPopup\"), {\r\n            onHidden: function(e) {\r\n                restoreFocus(that);\r\n                that._disposePopup()\r\n            }\r\n        }))\r\n    },\r\n    _getPopupContentTemplate: function(contentElement) {\r\n        var $contentElement = $(contentElement);\r\n        var $filterBuilderContainer = $(\"<div>\").appendTo($(contentElement));\r\n        this._filterBuilder = this._createComponent($filterBuilderContainer, FilterBuilder, extend({\r\n            value: this.option(\"filterValue\"),\r\n            fields: this.getController(\"columns\").getFilteringColumns()\r\n        }, this.option(\"filterBuilder\"), {\r\n            customOperations: this.getController(\"filterSync\").getCustomFilterOperations()\r\n        }));\r\n        this._createComponent($contentElement, ScrollView, {\r\n            direction: \"both\"\r\n        })\r\n    },\r\n    _getPopupToolbarItems: function() {\r\n        var that = this;\r\n        return [{\r\n            toolbar: \"bottom\",\r\n            location: \"after\",\r\n            widget: \"dxButton\",\r\n            options: {\r\n                text: messageLocalization.format(\"OK\"),\r\n                onClick: function(e) {\r\n                    var filter = that._filterBuilder.option(\"value\");\r\n                    that.option(\"filterValue\", filter);\r\n                    that._filterBuilderPopup.hide()\r\n                }\r\n            }\r\n        }, {\r\n            toolbar: \"bottom\",\r\n            location: \"after\",\r\n            widget: \"dxButton\",\r\n            options: {\r\n                text: messageLocalization.format(\"Cancel\"),\r\n                onClick: function(e) {\r\n                    that._filterBuilderPopup.hide()\r\n                }\r\n            }\r\n        }]\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterBuilder\":\r\n            case \"filterBuilderPopup\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nexport var filterBuilderModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterBuilder: {\r\n                groupOperationDescriptions: {\r\n                    and: messageLocalization.format(\"dxFilterBuilder-and\"),\r\n                    or: messageLocalization.format(\"dxFilterBuilder-or\"),\r\n                    notAnd: messageLocalization.format(\"dxFilterBuilder-notAnd\"),\r\n                    notOr: messageLocalization.format(\"dxFilterBuilder-notOr\")\r\n                },\r\n                filterOperationDescriptions: {\r\n                    between: messageLocalization.format(\"dxFilterBuilder-filterOperationBetween\"),\r\n                    equal: messageLocalization.format(\"dxFilterBuilder-filterOperationEquals\"),\r\n                    notEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationNotEquals\"),\r\n                    lessThan: messageLocalization.format(\"dxFilterBuilder-filterOperationLess\"),\r\n                    lessThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationLessOrEquals\"),\r\n                    greaterThan: messageLocalization.format(\"dxFilterBuilder-filterOperationGreater\"),\r\n                    greaterThanOrEqual: messageLocalization.format(\"dxFilterBuilder-filterOperationGreaterOrEquals\"),\r\n                    startsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationStartsWith\"),\r\n                    contains: messageLocalization.format(\"dxFilterBuilder-filterOperationContains\"),\r\n                    notContains: messageLocalization.format(\"dxFilterBuilder-filterOperationNotContains\"),\r\n                    endsWith: messageLocalization.format(\"dxFilterBuilder-filterOperationEndsWith\"),\r\n                    isBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsBlank\"),\r\n                    isNotBlank: messageLocalization.format(\"dxFilterBuilder-filterOperationIsNotBlank\")\r\n                }\r\n            },\r\n            filterBuilderPopup: {}\r\n        }\r\n    },\r\n    views: {\r\n        filterBuilderView: FilterBuilderView\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_builder.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterBuilderModule\r\n} from \"../grid_core/ui.grid_core.filter_builder\";\r\ncore.registerModule(\"filterBuilder\", filterBuilderModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.filter_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridUtils from \"./ui.grid_core.utils\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport CheckBox from \"../check_box\";\r\nimport {\r\n    getCurrentLookupValueText,\r\n    getCustomOperation,\r\n    getCurrentValueText,\r\n    getField,\r\n    getCaptionByOperation,\r\n    getGroupValue,\r\n    isCondition,\r\n    isGroup\r\n} from \"../filter_builder/utils\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    registerKeyboardAction\r\n} from \"./ui.grid_core.accessibility\";\r\nvar FILTER_PANEL_CLASS = \"filter-panel\";\r\nvar FILTER_PANEL_TEXT_CLASS = FILTER_PANEL_CLASS + \"-text\";\r\nvar FILTER_PANEL_CHECKBOX_CLASS = FILTER_PANEL_CLASS + \"-checkbox\";\r\nvar FILTER_PANEL_CLEAR_FILTER_CLASS = FILTER_PANEL_CLASS + \"-clear-filter\";\r\nvar FILTER_PANEL_LEFT_CONTAINER = FILTER_PANEL_CLASS + \"-left\";\r\nvar FILTER_PANEL_TARGET = \"filterPanel\";\r\nvar FilterPanelView = modules.View.inherit({\r\n    isVisible: function() {\r\n        return this.option(\"filterPanel.visible\") && this.getController(\"data\").dataSource()\r\n    },\r\n    init: function() {\r\n        this.getController(\"data\").dataSourceChanged.add(() => this.render())\r\n    },\r\n    _renderCore: function() {\r\n        var $element = this.element();\r\n        $element.empty().addClass(this.addWidgetPrefix(FILTER_PANEL_CLASS));\r\n        var $leftContainer = $(\"<div>\").addClass(this.addWidgetPrefix(FILTER_PANEL_LEFT_CONTAINER)).appendTo($element);\r\n        if (this.option(\"filterValue\") || this._filterValueBuffer) {\r\n            $leftContainer.append(this._getCheckElement()).append(this._getFilterElement()).append(this._getTextElement());\r\n            $element.append(this._getRemoveButtonElement())\r\n        } else {\r\n            $leftContainer.append(this._getFilterElement()).append(this._getTextElement())\r\n        }\r\n    },\r\n    _getCheckElement: function() {\r\n        var that = this;\r\n        var $element = $(\"<div>\").addClass(this.addWidgetPrefix(FILTER_PANEL_CHECKBOX_CLASS));\r\n        that._createComponent($element, CheckBox, {\r\n            value: that.option(\"filterPanel.filterEnabled\"),\r\n            onValueChanged: function(e) {\r\n                that.option(\"filterPanel.filterEnabled\", e.value)\r\n            }\r\n        });\r\n        $element.attr(\"title\", this.option(\"filterPanel.texts.filterEnabledHint\"));\r\n        return $element\r\n    },\r\n    _getFilterElement: function() {\r\n        var that = this;\r\n        var $element = $(\"<div>\").addClass(\"dx-icon-filter\");\r\n        eventsEngine.on($element, \"click\", () => that._showFilterBuilder());\r\n        registerKeyboardAction(\"filterPanel\", that, $element, void 0, () => that._showFilterBuilder());\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _getTextElement: function() {\r\n        var that = this;\r\n        var $textElement = $(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_TEXT_CLASS));\r\n        var filterText;\r\n        var filterValue = that.option(\"filterValue\");\r\n        if (filterValue) {\r\n            when(that.getFilterText(filterValue, that.getController(\"filterSync\").getCustomFilterOperations())).done((function(filterText) {\r\n                var customizeText = that.option(\"filterPanel.customizeText\");\r\n                if (customizeText) {\r\n                    var customText = customizeText({\r\n                        component: that.component,\r\n                        filterValue: filterValue,\r\n                        text: filterText\r\n                    });\r\n                    if (\"string\" === typeof customText) {\r\n                        filterText = customText\r\n                    }\r\n                }\r\n                $textElement.text(filterText)\r\n            }))\r\n        } else {\r\n            filterText = that.option(\"filterPanel.texts.createFilter\");\r\n            $textElement.text(filterText)\r\n        }\r\n        eventsEngine.on($textElement, \"click\", () => that._showFilterBuilder());\r\n        registerKeyboardAction(\"filterPanel\", that, $textElement, void 0, () => that._showFilterBuilder());\r\n        that._addTabIndexToElement($textElement);\r\n        return $textElement\r\n    },\r\n    _showFilterBuilder: function() {\r\n        this.option(\"filterBuilderPopup.visible\", true)\r\n    },\r\n    _getRemoveButtonElement: function() {\r\n        var that = this;\r\n        var clearFilterValue = () => that.option(\"filterValue\", null);\r\n        var $element = $(\"<div>\").addClass(that.addWidgetPrefix(FILTER_PANEL_CLEAR_FILTER_CLASS)).text(that.option(\"filterPanel.texts.clearFilter\"));\r\n        eventsEngine.on($element, \"click\", clearFilterValue);\r\n        registerKeyboardAction(\"filterPanel\", this, $element, void 0, clearFilterValue);\r\n        that._addTabIndexToElement($element);\r\n        return $element\r\n    },\r\n    _addTabIndexToElement: function($element) {\r\n        if (!this.option(\"useLegacyKeyboardNavigation\")) {\r\n            var tabindex = this.option(\"tabindex\") || 0;\r\n            $element.attr(\"tabindex\", tabindex)\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"filterValue\":\r\n                this._invalidate();\r\n                this.option(\"filterPanel.filterEnabled\", true);\r\n                args.handled = true;\r\n                break;\r\n            case \"filterPanel\":\r\n                this._invalidate();\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getConditionText: function(fieldText, operationText, valueText) {\r\n        var result = \"[\".concat(fieldText, \"] \").concat(operationText);\r\n        if (isDefined(valueText)) {\r\n            result += valueText\r\n        }\r\n        return result\r\n    },\r\n    _getValueMaskedText: function(value) {\r\n        return Array.isArray(value) ? \"('\".concat(value.join(\"', '\"), \"')\") : \" '\".concat(value, \"'\")\r\n    },\r\n    _getValueText: function(field, customOperation, value) {\r\n        var deferred = new Deferred;\r\n        var hasCustomOperation = customOperation && customOperation.customizeText;\r\n        if (isDefined(value) || hasCustomOperation) {\r\n            if (!hasCustomOperation && field.lookup) {\r\n                getCurrentLookupValueText(field, value, data => {\r\n                    deferred.resolve(this._getValueMaskedText(data))\r\n                })\r\n            } else {\r\n                var displayValue = Array.isArray(value) ? value : gridUtils.getDisplayValue(field, value);\r\n                when(getCurrentValueText(field, displayValue, customOperation, FILTER_PANEL_TARGET)).done(data => {\r\n                    deferred.resolve(this._getValueMaskedText(data))\r\n                })\r\n            }\r\n        } else {\r\n            deferred.resolve(\"\")\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    getConditionText: function(filterValue, options) {\r\n        var that = this;\r\n        var operation = filterValue[1];\r\n        var deferred = new Deferred;\r\n        var customOperation = getCustomOperation(options.customOperations, operation);\r\n        var operationText;\r\n        var field = getField(filterValue[0], options.columns);\r\n        var fieldText = field.caption || \"\";\r\n        var value = filterValue[2];\r\n        if (customOperation) {\r\n            operationText = customOperation.caption || captionize(customOperation.name)\r\n        } else if (null === value) {\r\n            operationText = getCaptionByOperation(\"=\" === operation ? \"isblank\" : \"isnotblank\", options.filterOperationDescriptions)\r\n        } else {\r\n            operationText = getCaptionByOperation(operation, options.filterOperationDescriptions)\r\n        }\r\n        this._getValueText(field, customOperation, value).done(valueText => {\r\n            deferred.resolve(that._getConditionText(fieldText, operationText, valueText))\r\n        });\r\n        return deferred\r\n    },\r\n    getGroupText: function(filterValue, options, isInnerGroup) {\r\n        var that = this;\r\n        var result = new Deferred;\r\n        var textParts = [];\r\n        var groupValue = getGroupValue(filterValue);\r\n        filterValue.forEach(item => {\r\n            if (isCondition(item)) {\r\n                textParts.push(that.getConditionText(item, options))\r\n            } else if (isGroup(item)) {\r\n                textParts.push(that.getGroupText(item, options, true))\r\n            }\r\n        });\r\n        when.apply(this, textParts).done((function() {\r\n            var text;\r\n            for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\r\n                args[_key] = arguments[_key]\r\n            }\r\n            if (\"!\" === groupValue[0]) {\r\n                var groupText = options.groupOperationDescriptions[\"not\" + groupValue.substring(1, 2).toUpperCase() + groupValue.substring(2)].split(\" \");\r\n                text = \"\".concat(groupText[0], \" \").concat(args[0])\r\n            } else {\r\n                text = args.join(\" \".concat(options.groupOperationDescriptions[groupValue], \" \"))\r\n            }\r\n            if (isInnerGroup) {\r\n                text = \"(\".concat(text, \")\")\r\n            }\r\n            result.resolve(text)\r\n        }));\r\n        return result\r\n    },\r\n    getFilterText: function(filterValue, customOperations) {\r\n        var options = {\r\n            customOperations: customOperations,\r\n            columns: this.getController(\"columns\").getFilteringColumns(),\r\n            filterOperationDescriptions: this.option(\"filterBuilder.filterOperationDescriptions\"),\r\n            groupOperationDescriptions: this.option(\"filterBuilder.groupOperationDescriptions\")\r\n        };\r\n        return isCondition(filterValue) ? this.getConditionText(filterValue, options) : this.getGroupText(filterValue, options)\r\n    }\r\n});\r\nexport var filterPanelModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            filterPanel: {\r\n                visible: false,\r\n                filterEnabled: true,\r\n                texts: {\r\n                    createFilter: messageLocalization.format(\"dxDataGrid-filterPanelCreateFilter\"),\r\n                    clearFilter: messageLocalization.format(\"dxDataGrid-filterPanelClearFilter\"),\r\n                    filterEnabledHint: messageLocalization.format(\"dxDataGrid-filterPanelFilterEnabledHint\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    views: {\r\n        filterPanelView: FilterPanelView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                optionChanged: function(args) {\r\n                    switch (args.name) {\r\n                        case \"filterPanel\":\r\n                            this._applyFilter();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.filter_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport core from \"./ui.data_grid.core\";\r\nimport {\r\n    filterPanelModule\r\n} from \"../grid_core/ui.grid_core.filter_panel\";\r\ncore.registerModule(\"filterPanel\", filterPanelModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport dataQuery from \"../../data/query\";\r\nvar SEARCH_PANEL_CLASS = \"search-panel\";\r\nvar SEARCH_TEXT_CLASS = \"search-text\";\r\nvar HEADER_PANEL_CLASS = \"header-panel\";\r\nvar FILTERING_TIMEOUT = 700;\r\n\r\nfunction allowSearch(column) {\r\n    return isDefined(column.allowSearch) ? column.allowSearch : column.allowFiltering\r\n}\r\n\r\nfunction parseValue(column, text) {\r\n    var lookup = column.lookup;\r\n    if (!column.parseValue) {\r\n        return text\r\n    }\r\n    if (lookup) {\r\n        return column.parseValue.call(lookup, text)\r\n    }\r\n    return column.parseValue(text)\r\n}\r\nexport var searchModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            searchPanel: {\r\n                visible: false,\r\n                width: 160,\r\n                placeholder: messageLocalization.format(\"dxDataGrid-searchPanelPlaceholder\"),\r\n                highlightSearchText: true,\r\n                highlightCaseSensitive: false,\r\n                text: \"\",\r\n                searchVisibleColumnsOnly: false\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                publicMethods: function() {\r\n                    return this.callBase().concat([\"searchByText\"])\r\n                },\r\n                _calculateAdditionalFilter: function() {\r\n                    var filter = this.callBase();\r\n                    var searchFilter = function(that, text) {\r\n                        var i;\r\n                        var column;\r\n                        var columns = that._columnsController.getColumns();\r\n                        var searchVisibleColumnsOnly = that.option(\"searchPanel.searchVisibleColumnsOnly\");\r\n                        var lookup;\r\n                        var filters = [];\r\n                        if (!text) {\r\n                            return null\r\n                        }\r\n\r\n                        function onQueryDone(items) {\r\n                            var valueGetter = compileGetter(lookup.valueExpr);\r\n                            for (var _i = 0; _i < items.length; _i++) {\r\n                                var value = valueGetter(items[_i]);\r\n                                filters.push(column.createFilterExpression(value, null, \"search\"))\r\n                            }\r\n                        }\r\n                        for (i = 0; i < columns.length; i++) {\r\n                            column = columns[i];\r\n                            if (searchVisibleColumnsOnly && !column.visible) {\r\n                                continue\r\n                            }\r\n                            if (allowSearch(column) && column.calculateFilterExpression) {\r\n                                lookup = column.lookup;\r\n                                var filterValue = parseValue(column, text);\r\n                                if (lookup && lookup.items) {\r\n                                    dataQuery(lookup.items).filter(column.createFilterExpression.call({\r\n                                        dataField: lookup.displayExpr,\r\n                                        dataType: lookup.dataType,\r\n                                        calculateFilterExpression: column.calculateFilterExpression\r\n                                    }, filterValue, null, \"search\")).enumerate().done(onQueryDone)\r\n                                } else if (void 0 !== filterValue) {\r\n                                    filters.push(column.createFilterExpression(filterValue, null, \"search\"))\r\n                                }\r\n                            }\r\n                        }\r\n                        if (0 === filters.length) {\r\n                            return [\"!\"]\r\n                        }\r\n                        return gridCoreUtils.combineFilters(filters, \"or\")\r\n                    }(this, this.option(\"searchPanel.text\"));\r\n                    return gridCoreUtils.combineFilters([filter, searchFilter])\r\n                },\r\n                searchByText: function(text) {\r\n                    this.option(\"searchPanel.text\", text)\r\n                },\r\n                optionChanged: function(args) {\r\n                    switch (args.fullName) {\r\n                        case \"searchPanel.text\":\r\n                        case \"searchPanel\":\r\n                            this._applyFilter();\r\n                            args.handled = true;\r\n                            break;\r\n                        default:\r\n                            this.callBase(args)\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: function() {\r\n                var getSearchPanelOptions = function(that) {\r\n                    return that.option(\"searchPanel\")\r\n                };\r\n                return {\r\n                    _getToolbarItems: function() {\r\n                        var items = this.callBase();\r\n                        return this._prepareSearchItem(items)\r\n                    },\r\n                    _prepareSearchItem: function(items) {\r\n                        var that = this;\r\n                        var dataController = that.getController(\"data\");\r\n                        var searchPanelOptions = getSearchPanelOptions(that);\r\n                        if (searchPanelOptions && searchPanelOptions.visible) {\r\n                            var toolbarItem = {\r\n                                template: function(data, index, container) {\r\n                                    var $search = $(\"<div>\").addClass(that.addWidgetPrefix(SEARCH_PANEL_CLASS)).appendTo(container);\r\n                                    that.getController(\"editorFactory\").createEditor($search, {\r\n                                        width: searchPanelOptions.width,\r\n                                        placeholder: searchPanelOptions.placeholder,\r\n                                        parentType: \"searchPanel\",\r\n                                        value: that.option(\"searchPanel.text\"),\r\n                                        updateValueTimeout: FILTERING_TIMEOUT,\r\n                                        setValue: function(value) {\r\n                                            dataController.searchByText(value)\r\n                                        },\r\n                                        editorOptions: {\r\n                                            inputAttr: {\r\n                                                \"aria-label\": messageLocalization.format(\"\".concat(that.component.NAME, \"-ariaSearchInGrid\"))\r\n                                            }\r\n                                        }\r\n                                    });\r\n                                    that.resize()\r\n                                },\r\n                                name: \"searchPanel\",\r\n                                location: \"after\",\r\n                                locateInMenu: \"never\",\r\n                                sortIndex: 40\r\n                            };\r\n                            items.push(toolbarItem)\r\n                        }\r\n                        return items\r\n                    },\r\n                    getSearchTextEditor: function() {\r\n                        var that = this;\r\n                        var $element = that.element();\r\n                        var $searchPanel = $element.find(\".\" + that.addWidgetPrefix(SEARCH_PANEL_CLASS)).filter((function() {\r\n                            return $(this).closest(\".\" + that.addWidgetPrefix(HEADER_PANEL_CLASS)).is($element)\r\n                        }));\r\n                        if ($searchPanel.length) {\r\n                            return $searchPanel.dxTextBox(\"instance\")\r\n                        }\r\n                        return null\r\n                    },\r\n                    isVisible: function() {\r\n                        var searchPanelOptions = getSearchPanelOptions(this);\r\n                        return this.callBase() || searchPanelOptions && searchPanelOptions.visible\r\n                    },\r\n                    optionChanged: function(args) {\r\n                        if (\"searchPanel\" === args.name) {\r\n                            if (\"searchPanel.text\" === args.fullName) {\r\n                                var editor = this.getSearchTextEditor();\r\n                                if (editor) {\r\n                                    editor.option(\"value\", args.value)\r\n                                }\r\n                            } else {\r\n                                this._invalidate()\r\n                            }\r\n                            args.handled = true\r\n                        } else {\r\n                            this.callBase(args)\r\n                        }\r\n                    }\r\n                }\r\n            }(),\r\n            rowsView: {\r\n                init: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._searchParams = []\r\n                },\r\n                _getFormattedSearchText: function(column, searchText) {\r\n                    var value = parseValue(column, searchText);\r\n                    var formatOptions = gridCoreUtils.getFormatOptionsByColumn(column, \"search\");\r\n                    return gridCoreUtils.formatValue(value, formatOptions)\r\n                },\r\n                _getStringNormalizer: function() {\r\n                    var isCaseSensitive = this.option(\"searchPanel.highlightCaseSensitive\");\r\n                    return function(str) {\r\n                        return isCaseSensitive ? str : str.toLowerCase()\r\n                    }\r\n                },\r\n                _findHighlightingTextNodes: function(column, cellElement, searchText) {\r\n                    var _$items;\r\n                    var $parent = cellElement.parent();\r\n                    var $items;\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var normalizedSearchText = stringNormalizer(searchText);\r\n                    var resultTextNodes = [];\r\n                    if (!$parent.length) {\r\n                        $parent = $(\"<div>\").append(cellElement)\r\n                    } else if (column) {\r\n                        if (column.groupIndex >= 0 && !column.showWhenGrouped) {\r\n                            $items = cellElement\r\n                        } else {\r\n                            var columnIndex = this._columnsController.getVisibleIndex(column.index);\r\n                            $items = $parent.children(\"td\").eq(columnIndex).find(\"*\")\r\n                        }\r\n                    }\r\n                    $items = null !== (_$items = $items) && void 0 !== _$items && _$items.length ? $items : $parent.find(\"*\");\r\n                    $items.each((function(_, element) {\r\n                        var $contents = $(element).contents();\r\n                        for (var i = 0; i < $contents.length; i++) {\r\n                            var node = $contents.get(i);\r\n                            if (3 === node.nodeType) {\r\n                                var normalizedText = stringNormalizer(node.textContent || node.nodeValue);\r\n                                if (normalizedText.indexOf(normalizedSearchText) > -1) {\r\n                                    resultTextNodes.push(node)\r\n                                }\r\n                            }\r\n                        }\r\n                    }));\r\n                    return resultTextNodes\r\n                },\r\n                _highlightSearchTextCore: function($textNode, searchText) {\r\n                    var $searchTextSpan = $(\"<span>\").addClass(this.addWidgetPrefix(SEARCH_TEXT_CLASS));\r\n                    var text = $textNode.text();\r\n                    var firstContentElement = $textNode[0];\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var index = stringNormalizer(text).indexOf(stringNormalizer(searchText));\r\n                    if (index >= 0) {\r\n                        if (firstContentElement.textContent) {\r\n                            firstContentElement.textContent = text.substr(0, index)\r\n                        } else {\r\n                            firstContentElement.nodeValue = text.substr(0, index)\r\n                        }\r\n                        $textNode.after($searchTextSpan.text(text.substr(index, searchText.length)));\r\n                        $textNode = $(domAdapter.createTextNode(text.substr(index + searchText.length))).insertAfter($searchTextSpan);\r\n                        return this._highlightSearchTextCore($textNode, searchText)\r\n                    }\r\n                },\r\n                _highlightSearchText: function(cellElement, isEquals, column) {\r\n                    var that = this;\r\n                    var stringNormalizer = this._getStringNormalizer();\r\n                    var searchText = that.option(\"searchPanel.text\");\r\n                    if (isEquals && column) {\r\n                        searchText = searchText && that._getFormattedSearchText(column, searchText)\r\n                    }\r\n                    if (searchText && that.option(\"searchPanel.highlightSearchText\")) {\r\n                        var textNodes = that._findHighlightingTextNodes(column, cellElement, searchText);\r\n                        textNodes.forEach(textNode => {\r\n                            if (isEquals) {\r\n                                if (stringNormalizer($(textNode).text()) === stringNormalizer(searchText)) {\r\n                                    $(textNode).replaceWith($(\"<span>\").addClass(that.addWidgetPrefix(SEARCH_TEXT_CLASS)).text($(textNode).text()))\r\n                                }\r\n                            } else {\r\n                                that._highlightSearchTextCore($(textNode), searchText)\r\n                            }\r\n                        })\r\n                    }\r\n                },\r\n                _renderCore: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option().rowTemplate || this.option(\"dataRowTemplate\")) {\r\n                        if (this.option(\"templatesRenderAsynchronously\")) {\r\n                            clearTimeout(this._highlightTimer);\r\n                            this._highlightTimer = setTimeout(function() {\r\n                                this._highlightSearchText(this.getTableElement())\r\n                            }.bind(this))\r\n                        } else {\r\n                            this._highlightSearchText(this.getTableElement())\r\n                        }\r\n                    }\r\n                },\r\n                _updateCell: function($cell, parameters) {\r\n                    var column = parameters.column;\r\n                    var dataType = column.lookup && column.lookup.dataType || column.dataType;\r\n                    var isEquals = \"string\" !== dataType;\r\n                    if (allowSearch(column) && !parameters.isOnForm) {\r\n                        if (this.option(\"templatesRenderAsynchronously\")) {\r\n                            if (!this._searchParams.length) {\r\n                                clearTimeout(this._highlightTimer);\r\n                                this._highlightTimer = setTimeout(function() {\r\n                                    this._searchParams.forEach(function(params) {\r\n                                        this._highlightSearchText.apply(this, params)\r\n                                    }.bind(this));\r\n                                    this._searchParams = []\r\n                                }.bind(this))\r\n                            }\r\n                            this._searchParams.push([$cell, isEquals, column])\r\n                        } else {\r\n                            this._highlightSearchText($cell, isEquals, column)\r\n                        }\r\n                    }\r\n                    this.callBase($cell, parameters)\r\n                },\r\n                dispose: function() {\r\n                    clearTimeout(this._highlightTimer);\r\n                    this.callBase()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.search.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    searchModule\r\n} from \"../grid_core/ui.grid_core.search\";\r\ngridCore.registerModule(\"search\", searchModule);\r\n","/**\r\n * DevExtreme (esm/renovation/component_wrapper/grid_pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Component from \"./common/component\";\r\nexport class GridPagerWrapper extends Component {\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"pageIndex\":\r\n                var pageIndexChanged = this.option(\"pageIndexChanged\");\r\n                if (pageIndexChanged) {\r\n                    pageIndexChanged(args.value)\r\n                }\r\n                break;\r\n            case \"pageSize\":\r\n                var pageSizeChanged = this.option(\"pageSizeChanged\");\r\n                if (pageSizeChanged) {\r\n                    pageSizeChanged(args.value)\r\n                }\r\n        }\r\n        super._optionChanged(args)\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/utils/type_conversion.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport function toNumber(attribute) {\r\n    return attribute ? Number(attribute.replace(\"px\", \"\")) : 0\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/utils/get_element_width.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport getElementComputedStyle from \"../../../utils/get_computed_style\";\r\nimport {\r\n    toNumber\r\n} from \"../../../utils/type_conversion\";\r\nexport function getElementStyle(name, element) {\r\n    var _getElementComputedSt;\r\n    var computedStyle = null !== (_getElementComputedSt = getElementComputedStyle(element)) && void 0 !== _getElementComputedSt ? _getElementComputedSt : {};\r\n    return toNumber(computedStyle[name])\r\n}\r\nexport function getElementWidth(element) {\r\n    return getElementStyle(\"width\", element)\r\n}\r\nexport function getElementMinWidth(element) {\r\n    return getElementStyle(\"minWidth\", element)\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/resizable_container.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"contentTemplate\", \"pagerProps\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport resizeCallbacks from \"../../../core/utils/resize_callbacks\";\r\nimport {\r\n    getElementWidth,\r\n    getElementStyle\r\n} from \"./utils/get_element_width\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        contentAttributes: contentAttributes,\r\n        infoTextRef: infoTextRef,\r\n        infoTextVisible: infoTextVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode,\r\n        pageSizesRef: pageSizesRef,\r\n        pagesRef: pagesRef,\r\n        parentRef: parentRef,\r\n        props: {\r\n            contentTemplate: Content\r\n        }\r\n    } = _ref;\r\n    return Content(_extends({\r\n        rootElementRef: parentRef,\r\n        pageSizesRef: pageSizesRef,\r\n        infoTextRef: infoTextRef,\r\n        pagesRef: pagesRef,\r\n        infoTextVisible: infoTextVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode\r\n    }, contentAttributes))\r\n};\r\nexport function calculateAdaptivityProps(_ref2) {\r\n    var {\r\n        info: infoWidth,\r\n        pageSizes: pageSizesWidth,\r\n        pages: pagesWidth,\r\n        parent: parentWidth\r\n    } = _ref2;\r\n    var minimalWidth = pageSizesWidth + pagesWidth + infoWidth;\r\n    var infoTextVisible = parentWidth - minimalWidth > 0;\r\n    var isLargeDisplayMode = parentWidth - (pageSizesWidth + pagesWidth) > 0;\r\n    return {\r\n        infoTextVisible: infoTextVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode\r\n    }\r\n}\r\n\r\nfunction getElementsWidth(_ref3) {\r\n    var {\r\n        info: info,\r\n        pageSizes: pageSizes,\r\n        pages: pages,\r\n        parent: parent\r\n    } = _ref3;\r\n    var parentWidth = getElementWidth(parent);\r\n    var pageSizesWidth = getElementWidth(pageSizes);\r\n    var infoWidth = getElementWidth(info);\r\n    var pagesHtmlWidth = getElementWidth(pages);\r\n    return {\r\n        parent: parentWidth,\r\n        pageSizes: pageSizesWidth,\r\n        info: infoWidth + getElementStyle(\"marginLeft\", info) + getElementStyle(\"marginRight\", info),\r\n        pages: pagesHtmlWidth\r\n    }\r\n}\r\nexport var ResizableContainerProps = {};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nvar getTemplate = TemplateProp => TemplateProp && (TemplateProp.defaultProps ? props => normalizeProps(createComponentVNode(2, TemplateProp, _extends({}, props))) : TemplateProp);\r\nexport class ResizableContainer extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.parentRef = infernoCreateRef();\r\n        this.pageSizesRef = infernoCreateRef();\r\n        this.infoTextRef = infernoCreateRef();\r\n        this.pagesRef = infernoCreateRef();\r\n        this.state = {\r\n            infoTextVisible: true,\r\n            isLargeDisplayMode: true\r\n        };\r\n        this.subscribeToResize = this.subscribeToResize.bind(this);\r\n        this.effectUpdateChildProps = this.effectUpdateChildProps.bind(this);\r\n        this.updateAdaptivityProps = this.updateAdaptivityProps.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.subscribeToResize, [this.state.infoTextVisible, this.state.isLargeDisplayMode]), new InfernoEffect(this.effectUpdateChildProps, [this.props, this.state.infoTextVisible, this.state.isLargeDisplayMode, this.props.pagerProps, this.props.contentTemplate])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$, _this$_effects$2;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.state.infoTextVisible, this.state.isLargeDisplayMode]);\r\n        null === (_this$_effects$2 = this._effects[1]) || void 0 === _this$_effects$2 ? void 0 : _this$_effects$2.update([this.props, this.state.infoTextVisible, this.state.isLargeDisplayMode, this.props.pagerProps, this.props.contentTemplate])\r\n    }\r\n    subscribeToResize() {\r\n        var callback = () => {\r\n            this.parentWidth > 0 && this.updateAdaptivityProps()\r\n        };\r\n        resizeCallbacks.add(callback);\r\n        return () => {\r\n            resizeCallbacks.remove(callback)\r\n        }\r\n    }\r\n    effectUpdateChildProps() {\r\n        if (this.parentWidth > 0) {\r\n            this.updateAdaptivityProps()\r\n        }\r\n    }\r\n    get contentAttributes() {\r\n        var {\r\n            className: className,\r\n            displayMode: displayMode,\r\n            gridCompatibility: gridCompatibility,\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            infoText: infoText,\r\n            lightModeEnabled: lightModeEnabled,\r\n            maxPagesCount: maxPagesCount,\r\n            onKeyDown: onKeyDown,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes,\r\n            pagesCountText: pagesCountText,\r\n            pagesNavigatorVisible: pagesNavigatorVisible,\r\n            rtlEnabled: rtlEnabled,\r\n            showInfo: showInfo,\r\n            showNavigationButtons: showNavigationButtons,\r\n            showPageSizes: showPageSizes,\r\n            totalCount: totalCount,\r\n            visible: visible\r\n        } = this.props.pagerProps;\r\n        return _extends({}, this.restAttributes, {\r\n            pageSize: pageSize,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pageSizeChange: pageSizeChange,\r\n            gridCompatibility: gridCompatibility,\r\n            className: className,\r\n            showInfo: showInfo,\r\n            infoText: infoText,\r\n            lightModeEnabled: lightModeEnabled,\r\n            displayMode: displayMode,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pagesCountText: pagesCountText,\r\n            visible: visible,\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            pagesNavigatorVisible: pagesNavigatorVisible,\r\n            showPageSizes: showPageSizes,\r\n            pageSizes: pageSizes,\r\n            rtlEnabled: rtlEnabled,\r\n            showNavigationButtons: showNavigationButtons,\r\n            totalCount: totalCount,\r\n            onKeyDown: onKeyDown\r\n        })\r\n    }\r\n    get parentWidth() {\r\n        return this.parentRef.current ? getElementWidth(this.parentRef.current) : 0\r\n    }\r\n    updateAdaptivityProps() {\r\n        var currentElementsWidth = getElementsWidth({\r\n            parent: this.parentRef.current,\r\n            pageSizes: this.pageSizesRef.current,\r\n            info: this.infoTextRef.current,\r\n            pages: this.pagesRef.current\r\n        });\r\n        if (isDefined(this.actualAdaptivityProps) && (this.actualAdaptivityProps.infoTextVisible !== this.state.infoTextVisible || this.actualAdaptivityProps.isLargeDisplayMode !== this.state.isLargeDisplayMode)) {\r\n            return\r\n        }\r\n        var isEmpty = !isDefined(this.elementsWidth);\r\n        if (isEmpty) {\r\n            this.elementsWidth = {}\r\n        }\r\n        if (isEmpty || this.state.isLargeDisplayMode) {\r\n            this.elementsWidth.pageSizes = currentElementsWidth.pageSizes;\r\n            this.elementsWidth.pages = currentElementsWidth.pages\r\n        }\r\n        if (isEmpty || this.state.infoTextVisible) {\r\n            this.elementsWidth.info = currentElementsWidth.info\r\n        }\r\n        this.actualAdaptivityProps = calculateAdaptivityProps(_extends({\r\n            parent: currentElementsWidth.parent\r\n        }, this.elementsWidth));\r\n        this.setState(__state_argument => ({\r\n            infoTextVisible: this.actualAdaptivityProps.infoTextVisible\r\n        }));\r\n        this.setState(__state_argument => ({\r\n            isLargeDisplayMode: this.actualAdaptivityProps.isLargeDisplayMode\r\n        }))\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                contentTemplate: getTemplate(props.contentTemplate)\r\n            }),\r\n            infoTextVisible: this.state.infoTextVisible,\r\n            isLargeDisplayMode: this.state.isLargeDisplayMode,\r\n            parentRef: this.parentRef,\r\n            pageSizesRef: this.pageSizesRef,\r\n            infoTextRef: this.infoTextRef,\r\n            pagesRef: this.pagesRef,\r\n            contentAttributes: this.contentAttributes,\r\n            parentWidth: this.parentWidth,\r\n            updateAdaptivityProps: this.updateAdaptivityProps,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nResizableContainer.defaultProps = ResizableContainerProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/base_pager_props.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var BasePagerProps = {\r\n    gridCompatibility: true,\r\n    showInfo: false,\r\n    displayMode: \"adaptive\",\r\n    maxPagesCount: 10,\r\n    pageCount: 10,\r\n    visible: true,\r\n    hasKnownLastPage: true,\r\n    pagesNavigatorVisible: \"auto\",\r\n    showPageSizes: true,\r\n    get pageSizes() {\r\n        return [5, 10]\r\n    },\r\n    showNavigationButtons: false,\r\n    totalCount: 0\r\n};\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/pager_props.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport {\r\n    BasePagerProps\r\n} from \"./base_pager_props\";\r\nexport var PagerProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BasePagerProps), Object.getOwnPropertyDescriptors({\r\n    defaultPageSize: 5,\r\n    pageSizeChange: () => {},\r\n    defaultPageIndex: 1,\r\n    pageIndexChange: () => {}\r\n})));\r\nexport var InternalPagerProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BasePagerProps), Object.getOwnPropertyDescriptors({\r\n    pageSize: 5,\r\n    pageIndex: 1\r\n})));\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/info.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"infoText\", \"pageCount\", \"pageIndex\", \"rootElementRef\", \"totalCount\"];\r\nimport {\r\n    createVNode\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    format\r\n} from \"../../../core/utils/string\";\r\nimport messageLocalization from \"../../../localization/message\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"./common/pager_props\";\r\nexport var PAGER_INFO_CLASS = \"dx-info\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: {\r\n            rootElementRef: rootElementRef\r\n        },\r\n        text: text\r\n    } = _ref;\r\n    return createVNode(1, \"div\", PAGER_INFO_CLASS, text, 0, null, null, rootElementRef)\r\n};\r\nexport var InfoTextProps = {};\r\nvar InfoTextPropsType = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    },\r\n    get totalCount() {\r\n        return InternalPagerProps.totalCount\r\n    }\r\n};\r\nexport class InfoText extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n    get infoText() {\r\n        var _this$props$infoText;\r\n        return (null !== (_this$props$infoText = this.props.infoText) && void 0 !== _this$props$infoText ? _this$props$infoText : \"\") || messageLocalization.getFormatter(\"dxPager-infoText\")()\r\n    }\r\n    get text() {\r\n        var {\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            totalCount: totalCount\r\n        } = this.props;\r\n        return format(this.infoText, (pageIndex + 1).toString(), pageCount.toString(), totalCount.toString())\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            infoText: this.infoText,\r\n            text: this.text,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nInfoText.defaultProps = InfoTextPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/keyboard_action_context.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    createContext\r\n} from \"@devextreme/runtime/inferno\";\r\nexport var KeyboardActionContext = createContext(void 0);\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/light_button.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"children\", \"className\", \"label\", \"onClick\"];\r\nimport {\r\n    createVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    subscribeToClickEvent\r\n} from \"../../../utils/subscribe_to_event\";\r\nimport {\r\n    KeyboardActionContext\r\n} from \"./keyboard_action_context\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: {\r\n            children: children,\r\n            className: className,\r\n            label: label\r\n        },\r\n        widgetRef: widgetRef\r\n    } = _ref;\r\n    return createVNode(1, \"div\", className, children, 0, {\r\n        tabIndex: 0,\r\n        role: \"button\",\r\n        \"aria-label\": label\r\n    }, null, widgetRef)\r\n};\r\nexport var LightButtonProps = {\r\n    className: \"\",\r\n    label: \"\"\r\n};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class LightButton extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.widgetRef = infernoCreateRef();\r\n        this.keyboardEffect = this.keyboardEffect.bind(this);\r\n        this.subscribeToClick = this.subscribeToClick.bind(this)\r\n    }\r\n    get keyboardContext() {\r\n        if (\"KeyboardActionContext\" in this.context) {\r\n            return this.context.KeyboardActionContext\r\n        }\r\n        return KeyboardActionContext\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.keyboardEffect, [this.keyboardContext, this.props.onClick]), new InfernoEffect(this.subscribeToClick, [this.props.onClick])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$, _this$_effects$2;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.keyboardContext, this.props.onClick]);\r\n        null === (_this$_effects$2 = this._effects[1]) || void 0 === _this$_effects$2 ? void 0 : _this$_effects$2.update([this.props.onClick])\r\n    }\r\n    keyboardEffect() {\r\n        return this.keyboardContext.registerKeyboardAction(this.widgetRef.current, this.props.onClick)\r\n    }\r\n    subscribeToClick() {\r\n        return subscribeToClickEvent(this.widgetRef.current, this.props.onClick)\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            widgetRef: this.widgetRef,\r\n            keyboardContext: this.keyboardContext,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nLightButton.defaultProps = LightButtonProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/common/consts.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var PAGER_CLASS = \"dx-pager\";\r\nexport var LIGHT_MODE_CLASS = \"dx-light-mode\";\r\nexport var PAGER_PAGES_CLASS = \"dx-pages\";\r\nexport var PAGER_PAGE_INDEXES_CLASS = \"dx-page-indexes\";\r\nexport var PAGER_PAGE_CLASS = \"dx-page\";\r\nexport var PAGER_SELECTION_CLASS = \"dx-selection\";\r\nexport var PAGER_PAGE_SIZE_CLASS = \"dx-page-size\";\r\nexport var PAGER_PAGE_SIZES_CLASS = \"dx-page-sizes\";\r\nexport var PAGER_SELECTED_PAGE_SIZE_CLASS = \"\".concat(PAGER_PAGE_SIZE_CLASS, \" \").concat(PAGER_SELECTION_CLASS);\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/page.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"className\", \"index\", \"onClick\", \"selected\"];\r\nimport {\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    LightButton\r\n} from \"../common/light_button\";\r\nimport {\r\n    PAGER_PAGE_CLASS,\r\n    PAGER_SELECTION_CLASS\r\n} from \"../common/consts\";\r\nimport {\r\n    combineClasses\r\n} from \"../../../utils/combine_classes\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        className: className,\r\n        label: label,\r\n        props: {\r\n            onClick: onClick\r\n        },\r\n        value: value\r\n    } = _ref;\r\n    return createComponentVNode(2, LightButton, {\r\n        className: className,\r\n        label: label,\r\n        onClick: onClick,\r\n        children: value\r\n    })\r\n};\r\nexport var PageProps = {\r\n    index: 0,\r\n    selected: false,\r\n    className: PAGER_PAGE_CLASS\r\n};\r\nexport class Page extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {}\r\n    }\r\n    get label() {\r\n        return \"Page \".concat(this.value)\r\n    }\r\n    get value() {\r\n        return this.props.index + 1\r\n    }\r\n    get className() {\r\n        var {\r\n            selected: selected\r\n        } = this.props;\r\n        return combineClasses({\r\n            [\"\".concat(this.props.className)]: !!this.props.className,\r\n            [PAGER_SELECTION_CLASS]: !!selected\r\n        })\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            label: this.label,\r\n            value: this.value,\r\n            className: this.className,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPage.defaultProps = PageProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/large.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageIndexes\"],\r\n    _excluded2 = [\"maxPagesCount\", \"pageCount\", \"pageIndex\", \"pageIndexChange\"];\r\nimport {\r\n    createVNode,\r\n    createFragment,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    Fragment\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    Page\r\n} from \"./page\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport {\r\n    ConfigContext\r\n} from \"../../../common/config_context\";\r\nvar PAGER_PAGE_SEPARATOR_CLASS = \"dx-separator\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pages: pages\r\n    } = _ref;\r\n    var PagesMarkup = pages.map(_ref2 => {\r\n        var {\r\n            key: key,\r\n            pageProps: pageProps\r\n        } = _ref2;\r\n        return pageProps ? createComponentVNode(2, Page, {\r\n            index: pageProps.index,\r\n            selected: pageProps.selected,\r\n            onClick: pageProps.onClick\r\n        }, key) : createVNode(1, \"div\", PAGER_PAGE_SEPARATOR_CLASS, \". . .\", 16, null, key)\r\n    });\r\n    return createFragment(PagesMarkup, 0)\r\n};\r\nvar PAGES_LIMITER = 4;\r\n\r\nfunction getDelimiterType(startIndex, slidingWindowSize, pageCount) {\r\n    if (1 === startIndex) {\r\n        return \"high\"\r\n    }\r\n    if (startIndex + slidingWindowSize === pageCount - 1) {\r\n        return \"low\"\r\n    }\r\n    return \"both\"\r\n}\r\n\r\nfunction createPageIndexesBySlidingWindowIndexes(slidingWindowIndexes, pageCount, delimiter) {\r\n    var pageIndexes = [];\r\n    var indexesForReuse = [];\r\n    switch (delimiter) {\r\n        case \"none\":\r\n            pageIndexes = [...slidingWindowIndexes];\r\n            break;\r\n        case \"both\":\r\n            pageIndexes = [0, \"low\", ...slidingWindowIndexes, \"high\", pageCount - 1];\r\n            indexesForReuse = slidingWindowIndexes.slice(1, -1);\r\n            break;\r\n        case \"high\":\r\n            pageIndexes = [0, ...slidingWindowIndexes, \"high\", pageCount - 1];\r\n            indexesForReuse = slidingWindowIndexes.slice(0, -1);\r\n            break;\r\n        case \"low\":\r\n            pageIndexes = [0, \"low\", ...slidingWindowIndexes, pageCount - 1];\r\n            indexesForReuse = slidingWindowIndexes.slice(1)\r\n    }\r\n    return {\r\n        slidingWindowIndexes: slidingWindowIndexes,\r\n        indexesForReuse: indexesForReuse,\r\n        pageIndexes: pageIndexes\r\n    }\r\n}\r\n\r\nfunction createPageIndexes(startIndex, slidingWindowSize, pageCount, delimiter) {\r\n    var slidingWindowIndexes = [];\r\n    for (var i = 0; i < slidingWindowSize; i += 1) {\r\n        slidingWindowIndexes.push(i + startIndex)\r\n    }\r\n    return createPageIndexesBySlidingWindowIndexes(slidingWindowIndexes, pageCount, delimiter)\r\n}\r\nvar PagesLargePropsType = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get maxPagesCount() {\r\n        return InternalPagerProps.maxPagesCount\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    }\r\n};\r\nexport class PagesLarge extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.canReuseSlidingWindow = this.canReuseSlidingWindow.bind(this);\r\n        this.generatePageIndexes = this.generatePageIndexes.bind(this);\r\n        this.isSlidingWindowMode = this.isSlidingWindowMode.bind(this);\r\n        this.onPageClick = this.onPageClick.bind(this)\r\n    }\r\n    get config() {\r\n        if (\"ConfigContext\" in this.context) {\r\n            return this.context.ConfigContext\r\n        }\r\n        return ConfigContext\r\n    }\r\n    get slidingWindowState() {\r\n        var slidingWindowState = this.slidingWindowStateHolder;\r\n        if (!slidingWindowState) {\r\n            return {\r\n                indexesForReuse: [],\r\n                slidingWindowIndexes: []\r\n            }\r\n        }\r\n        return slidingWindowState\r\n    }\r\n    canReuseSlidingWindow(currentPageCount, pageIndex) {\r\n        var {\r\n            indexesForReuse: indexesForReuse\r\n        } = this.slidingWindowState;\r\n        var currentPageNotExistInIndexes = !indexesForReuse.includes(currentPageCount);\r\n        var pageIndexExistInIndexes = indexesForReuse.includes(pageIndex);\r\n        return currentPageNotExistInIndexes && pageIndexExistInIndexes\r\n    }\r\n    generatePageIndexes() {\r\n        var {\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex\r\n        } = this.props;\r\n        var startIndex = 0;\r\n        var {\r\n            slidingWindowIndexes: slidingWindowIndexes\r\n        } = this.slidingWindowState;\r\n        if (pageIndex === slidingWindowIndexes[0]) {\r\n            startIndex = pageIndex - 1\r\n        } else if (pageIndex === slidingWindowIndexes[slidingWindowIndexes.length - 1]) {\r\n            startIndex = pageIndex + 2 - PAGES_LIMITER\r\n        } else if (pageIndex < PAGES_LIMITER) {\r\n            startIndex = 1\r\n        } else if (pageIndex >= pageCount - PAGES_LIMITER) {\r\n            startIndex = pageCount - PAGES_LIMITER - 1\r\n        } else {\r\n            startIndex = pageIndex - 1\r\n        }\r\n        var slidingWindowSize = PAGES_LIMITER;\r\n        var delimiter = getDelimiterType(startIndex, slidingWindowSize, pageCount);\r\n        var _createPageIndexes = createPageIndexes(startIndex, slidingWindowSize, pageCount, delimiter),\r\n            {\r\n                pageIndexes: pageIndexes\r\n            } = _createPageIndexes,\r\n            slidingWindowState = _objectWithoutPropertiesLoose(_createPageIndexes, _excluded);\r\n        this.slidingWindowStateHolder = slidingWindowState;\r\n        return pageIndexes\r\n    }\r\n    isSlidingWindowMode() {\r\n        var {\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount\r\n        } = this.props;\r\n        return pageCount <= PAGES_LIMITER || pageCount <= maxPagesCount\r\n    }\r\n    onPageClick(pageIndex) {\r\n        this.props.pageIndexChange(pageIndex)\r\n    }\r\n    get pageIndexes() {\r\n        var {\r\n            pageCount: pageCount\r\n        } = this.props;\r\n        if (this.isSlidingWindowMode()) {\r\n            return createPageIndexes(0, pageCount, pageCount, \"none\").pageIndexes\r\n        }\r\n        if (this.canReuseSlidingWindow(pageCount, this.props.pageIndex)) {\r\n            var {\r\n                slidingWindowIndexes: slidingWindowIndexes\r\n            } = this.slidingWindowState;\r\n            var delimiter = getDelimiterType(slidingWindowIndexes[0], PAGES_LIMITER, pageCount);\r\n            return createPageIndexesBySlidingWindowIndexes(slidingWindowIndexes, pageCount, delimiter).pageIndexes\r\n        }\r\n        return this.generatePageIndexes()\r\n    }\r\n    get pages() {\r\n        var _this$config;\r\n        var {\r\n            pageIndex: pageIndex\r\n        } = this.props;\r\n        var createPage = index => {\r\n            var pagerProps = \"low\" === index || \"high\" === index ? null : {\r\n                index: index,\r\n                onClick: () => this.onPageClick(index),\r\n                selected: pageIndex === index\r\n            };\r\n            return {\r\n                key: index.toString(),\r\n                pageProps: pagerProps\r\n            }\r\n        };\r\n        var rtlPageIndexes = null !== (_this$config = this.config) && void 0 !== _this$config && _this$config.rtlEnabled ? [...this.pageIndexes].reverse() : this.pageIndexes;\r\n        return rtlPageIndexes.map(index => createPage(index))\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded2);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            config: this.config,\r\n            pageIndexes: this.pageIndexes,\r\n            pages: this.pages,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPagesLarge.defaultProps = PagesLargePropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/editors/number_box.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"accessKey\", \"activeStateEnabled\", \"className\", \"defaultValue\", \"disabled\", \"focusStateEnabled\", \"height\", \"hint\", \"hoverStateEnabled\", \"invalidValueMessage\", \"max\", \"min\", \"mode\", \"onClick\", \"onKeyDown\", \"rtlEnabled\", \"showSpinButtons\", \"step\", \"tabIndex\", \"useLargeSpinButtons\", \"value\", \"valueChange\", \"visible\", \"width\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport LegacyNumberBox from \"../../../ui/number_box\";\r\nimport {\r\n    DomComponentWrapper\r\n} from \"../common/dom_component_wrapper\";\r\nimport {\r\n    BaseWidgetProps\r\n} from \"../common/base_props\";\r\nvar DEFAULT_VALUE = 0;\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: props,\r\n        restAttributes: restAttributes\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, DomComponentWrapper, _extends({\r\n        componentType: LegacyNumberBox,\r\n        componentProps: props,\r\n        templateNames: []\r\n    }, restAttributes)))\r\n};\r\nexport var NumberBoxProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BaseWidgetProps), Object.getOwnPropertyDescriptors({\r\n    focusStateEnabled: true,\r\n    hoverStateEnabled: true,\r\n    defaultValue: DEFAULT_VALUE,\r\n    isReactComponentWrapper: true\r\n})));\r\nexport class NumberBox extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: void 0 !== this.props.value ? this.props.value : this.props.defaultValue\r\n        }\r\n    }\r\n    get restAttributes() {\r\n        var _this$props$value = _extends({}, this.props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restProps = _objectWithoutPropertiesLoose(_this$props$value, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nNumberBox.defaultProps = NumberBoxProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/utils/calculate_values_fitted_width.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var oneDigitWidth = 10;\r\nexport function calculateValuesFittedWidth(minWidth, values) {\r\n    return minWidth + oneDigitWidth * Math.max(...values).toString().length\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/small.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pagesCountText\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    Page\r\n} from \"./page\";\r\nimport {\r\n    PAGER_INFO_CLASS\r\n} from \"../info\";\r\nimport {\r\n    NumberBox\r\n} from \"../../editors/number_box\";\r\nimport messageLocalization from \"../../../../localization/message\";\r\nimport {\r\n    calculateValuesFittedWidth\r\n} from \"../utils/calculate_values_fitted_width\";\r\nimport {\r\n    getElementMinWidth\r\n} from \"../utils/get_element_width\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nvar PAGER_INFO_TEXT_CLASS = \"\".concat(PAGER_INFO_CLASS, \"  dx-info-text\");\r\nvar PAGER_PAGE_INDEX_CLASS = \"dx-page-index\";\r\nvar LIGHT_PAGES_CLASS = \"dx-light-pages\";\r\nvar PAGER_PAGES_COUNT_CLASS = \"dx-pages-count\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pageIndexRef: pageIndexRef,\r\n        pagesCountText: pagesCountText,\r\n        props: {\r\n            pageCount: pageCount\r\n        },\r\n        selectLastPageIndex: selectLastPageIndex,\r\n        value: value,\r\n        valueChange: valueChange,\r\n        width: width\r\n    } = _ref;\r\n    return createVNode(1, \"div\", LIGHT_PAGES_CLASS, [createComponentVNode(2, NumberBox, {\r\n        className: PAGER_PAGE_INDEX_CLASS,\r\n        min: 1,\r\n        max: pageCount,\r\n        width: width,\r\n        value: value,\r\n        valueChange: valueChange\r\n    }), createVNode(1, \"span\", PAGER_INFO_TEXT_CLASS, pagesCountText, 0), createComponentVNode(2, Page, {\r\n        className: PAGER_PAGES_COUNT_CLASS,\r\n        selected: false,\r\n        index: pageCount - 1,\r\n        onClick: selectLastPageIndex\r\n    })], 4, null, null, pageIndexRef)\r\n};\r\nvar PagerSmallProps = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    }\r\n};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class PagesSmall extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.pageIndexRef = infernoCreateRef();\r\n        this.state = {\r\n            minWidth: 10\r\n        };\r\n        this.updateWidth = this.updateWidth.bind(this);\r\n        this.selectLastPageIndex = this.selectLastPageIndex.bind(this);\r\n        this.valueChange = this.valueChange.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.updateWidth, [this.state.minWidth])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.state.minWidth])\r\n    }\r\n    updateWidth() {\r\n        var _this$pageIndexRef$cu;\r\n        var el = null === (_this$pageIndexRef$cu = this.pageIndexRef.current) || void 0 === _this$pageIndexRef$cu ? void 0 : _this$pageIndexRef$cu.querySelector(\".\".concat(PAGER_PAGE_INDEX_CLASS));\r\n        this.setState(__state_argument => ({\r\n            minWidth: el && getElementMinWidth(el) || __state_argument.minWidth\r\n        }))\r\n    }\r\n    get value() {\r\n        return this.props.pageIndex + 1\r\n    }\r\n    get width() {\r\n        var {\r\n            pageCount: pageCount\r\n        } = this.props;\r\n        return calculateValuesFittedWidth(this.state.minWidth, [pageCount])\r\n    }\r\n    get pagesCountText() {\r\n        var _this$props$pagesCoun;\r\n        return (null !== (_this$props$pagesCoun = this.props.pagesCountText) && void 0 !== _this$props$pagesCoun ? _this$props$pagesCoun : \"\") || messageLocalization.getFormatter(\"dxPager-pagesCountText\")()\r\n    }\r\n    selectLastPageIndex() {\r\n        this.props.pageIndexChange(this.props.pageCount - 1)\r\n    }\r\n    valueChange(value) {\r\n        this.props.pageIndexChange(value - 1)\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            pageIndexRef: this.pageIndexRef,\r\n            value: this.value,\r\n            width: this.width,\r\n            pagesCountText: this.pagesCountText,\r\n            selectLastPageIndex: this.selectLastPageIndex,\r\n            valueChange: this.valueChange,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPagesSmall.defaultProps = PagerSmallProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pages/page_index_selector.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"hasKnownLastPage\", \"isLargeDisplayMode\", \"maxPagesCount\", \"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pagesCountText\", \"showNavigationButtons\", \"totalCount\"];\r\nimport {\r\n    createFragment,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    Fragment\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    LightButton\r\n} from \"../common/light_button\";\r\nimport {\r\n    PagesLarge\r\n} from \"./large\";\r\nimport {\r\n    PagesSmall\r\n} from \"./small\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport {\r\n    ConfigContext\r\n} from \"../../../common/config_context\";\r\nvar PAGER_NAVIGATE_BUTTON = \"dx-navigate-button\";\r\nvar PAGER_PREV_BUTTON_CLASS = \"dx-prev-button\";\r\nvar PAGER_NEXT_BUTTON_CLASS = \"dx-next-button\";\r\nexport var PAGER_BUTTON_DISABLE_CLASS = \"dx-button-disable\";\r\nvar nextButtonClassName = \"\".concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_NEXT_BUTTON_CLASS);\r\nvar prevButtonClassName = \"\".concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_PREV_BUTTON_CLASS);\r\nvar nextButtonDisabledClassName = \"\".concat(PAGER_BUTTON_DISABLE_CLASS, \" \").concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_NEXT_BUTTON_CLASS);\r\nvar prevButtonDisabledClassName = \"\".concat(PAGER_BUTTON_DISABLE_CLASS, \" \").concat(PAGER_NAVIGATE_BUTTON, \" \").concat(PAGER_PREV_BUTTON_CLASS);\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        navigateToNextPage: navigateToNextPage,\r\n        navigateToPrevPage: navigateToPrevPage,\r\n        nextClassName: nextClassName,\r\n        pageIndexChange: pageIndexChange,\r\n        prevClassName: prevClassName,\r\n        props: {\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pagesCountText: pagesCountText\r\n        },\r\n        renderNextButton: renderNextButton,\r\n        renderPrevButton: renderPrevButton\r\n    } = _ref;\r\n    return createFragment([renderPrevButton && createComponentVNode(2, LightButton, {\r\n        className: prevClassName,\r\n        label: \"Previous page\",\r\n        onClick: navigateToPrevPage\r\n    }), isLargeDisplayMode && createComponentVNode(2, PagesLarge, {\r\n        maxPagesCount: maxPagesCount,\r\n        pageCount: pageCount,\r\n        pageIndex: pageIndex,\r\n        pageIndexChange: pageIndexChange\r\n    }), !isLargeDisplayMode && createComponentVNode(2, PagesSmall, {\r\n        pageCount: pageCount,\r\n        pageIndex: pageIndex,\r\n        pageIndexChange: pageIndexChange,\r\n        pagesCountText: pagesCountText\r\n    }), renderNextButton && createComponentVNode(2, LightButton, {\r\n        className: nextClassName,\r\n        label: \"Next page\",\r\n        onClick: navigateToNextPage\r\n    })], 0)\r\n};\r\n\r\nfunction getIncrement(direction) {\r\n    return \"next\" === direction ? 1 : -1\r\n}\r\nexport var PageIndexSelectorProps = {\r\n    isLargeDisplayMode: true\r\n};\r\nvar PageIndexSelectorPropsType = {\r\n    get pageIndex() {\r\n        return InternalPagerProps.pageIndex\r\n    },\r\n    get maxPagesCount() {\r\n        return InternalPagerProps.maxPagesCount\r\n    },\r\n    get pageCount() {\r\n        return InternalPagerProps.pageCount\r\n    },\r\n    get hasKnownLastPage() {\r\n        return InternalPagerProps.hasKnownLastPage\r\n    },\r\n    get showNavigationButtons() {\r\n        return InternalPagerProps.showNavigationButtons\r\n    },\r\n    get totalCount() {\r\n        return InternalPagerProps.totalCount\r\n    },\r\n    get isLargeDisplayMode() {\r\n        return PageIndexSelectorProps.isLargeDisplayMode\r\n    }\r\n};\r\nexport class PageIndexSelector extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.pageIndexChange = this.pageIndexChange.bind(this);\r\n        this.navigateToNextPage = this.navigateToNextPage.bind(this);\r\n        this.navigateToPrevPage = this.navigateToPrevPage.bind(this);\r\n        this.getNextDirection = this.getNextDirection.bind(this);\r\n        this.getPrevDirection = this.getPrevDirection.bind(this);\r\n        this.canNavigateToPage = this.canNavigateToPage.bind(this);\r\n        this.getNextPageIndex = this.getNextPageIndex.bind(this);\r\n        this.canNavigateTo = this.canNavigateTo.bind(this);\r\n        this.navigateToPage = this.navigateToPage.bind(this)\r\n    }\r\n    get config() {\r\n        if (\"ConfigContext\" in this.context) {\r\n            return this.context.ConfigContext\r\n        }\r\n        return ConfigContext\r\n    }\r\n    pageIndexChange(pageIndex) {\r\n        if (this.canNavigateToPage(pageIndex)) {\r\n            this.props.pageIndexChange(pageIndex)\r\n        }\r\n    }\r\n    navigateToNextPage() {\r\n        this.navigateToPage(this.getNextDirection())\r\n    }\r\n    navigateToPrevPage() {\r\n        this.navigateToPage(this.getPrevDirection())\r\n    }\r\n    getNextDirection() {\r\n        var _this$config;\r\n        return !(null !== (_this$config = this.config) && void 0 !== _this$config && _this$config.rtlEnabled) ? \"next\" : \"prev\"\r\n    }\r\n    getPrevDirection() {\r\n        var _this$config2;\r\n        return !(null !== (_this$config2 = this.config) && void 0 !== _this$config2 && _this$config2.rtlEnabled) ? \"prev\" : \"next\"\r\n    }\r\n    canNavigateToPage(pageIndex) {\r\n        if (!this.props.hasKnownLastPage) {\r\n            return pageIndex >= 0\r\n        }\r\n        return pageIndex >= 0 && pageIndex <= this.props.pageCount - 1\r\n    }\r\n    getNextPageIndex(direction) {\r\n        return this.props.pageIndex + getIncrement(direction)\r\n    }\r\n    canNavigateTo(direction) {\r\n        return this.canNavigateToPage(this.getNextPageIndex(direction))\r\n    }\r\n    navigateToPage(direction) {\r\n        this.pageIndexChange(this.getNextPageIndex(direction))\r\n    }\r\n    get renderPrevButton() {\r\n        var {\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            showNavigationButtons: showNavigationButtons\r\n        } = this.props;\r\n        return !isLargeDisplayMode || showNavigationButtons\r\n    }\r\n    get renderNextButton() {\r\n        return this.renderPrevButton || !this.props.hasKnownLastPage\r\n    }\r\n    get nextClassName() {\r\n        var direction = this.getNextDirection();\r\n        var canNavigate = this.canNavigateTo(direction);\r\n        return canNavigate ? nextButtonClassName : nextButtonDisabledClassName\r\n    }\r\n    get prevClassName() {\r\n        var direction = this.getPrevDirection();\r\n        var canNavigate = this.canNavigateTo(direction);\r\n        return canNavigate ? prevButtonClassName : prevButtonDisabledClassName\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            config: this.config,\r\n            pageIndexChange: this.pageIndexChange,\r\n            navigateToNextPage: this.navigateToNextPage,\r\n            navigateToPrevPage: this.navigateToPrevPage,\r\n            renderPrevButton: this.renderPrevButton,\r\n            renderNextButton: this.renderNextButton,\r\n            nextClassName: this.nextClassName,\r\n            prevClassName: this.prevClassName,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageIndexSelector.defaultProps = PageIndexSelectorPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/editors/drop_down_editors/select_box.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"accessKey\", \"activeStateEnabled\", \"className\", \"dataSource\", \"defaultValue\", \"disabled\", \"displayExpr\", \"focusStateEnabled\", \"height\", \"hint\", \"hoverStateEnabled\", \"onClick\", \"onKeyDown\", \"rtlEnabled\", \"tabIndex\", \"value\", \"valueChange\", \"valueExpr\", \"visible\", \"width\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport LegacySelectBox from \"../../../../ui/select_box\";\r\nimport {\r\n    DomComponentWrapper\r\n} from \"../../common/dom_component_wrapper\";\r\nimport {\r\n    BaseWidgetProps\r\n} from \"../../common/base_props\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: props,\r\n        restAttributes: restAttributes\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, DomComponentWrapper, _extends({\r\n        componentType: LegacySelectBox,\r\n        componentProps: props,\r\n        templateNames: [\"dropDownButtonTemplate\", \"groupTemplate\", \"itemTemplate\"]\r\n    }, restAttributes)))\r\n};\r\nexport var SelectBoxProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(BaseWidgetProps), Object.getOwnPropertyDescriptors({\r\n    focusStateEnabled: true,\r\n    hoverStateEnabled: true,\r\n    defaultValue: null,\r\n    isReactComponentWrapper: true\r\n})));\r\nexport class SelectBox extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            value: void 0 !== this.props.value ? this.props.value : this.props.defaultValue\r\n        }\r\n    }\r\n    get restAttributes() {\r\n        var _this$props$value = _extends({}, this.props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restProps = _objectWithoutPropertiesLoose(_this$props$value, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                value: void 0 !== this.props.value ? this.props.value : this.state.value\r\n            }),\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nSelectBox.defaultProps = SelectBoxProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/page_size/small.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageSize\", \"pageSizeChange\", \"pageSizes\", \"parentRef\"];\r\nimport {\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    SelectBox\r\n} from \"../../editors/drop_down_editors/select_box\";\r\nimport {\r\n    calculateValuesFittedWidth\r\n} from \"../utils/calculate_values_fitted_width\";\r\nimport {\r\n    getElementMinWidth\r\n} from \"../utils/get_element_width\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        props: {\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes\r\n        },\r\n        width: width\r\n    } = _ref;\r\n    return createComponentVNode(2, SelectBox, {\r\n        displayExpr: \"text\",\r\n        valueExpr: \"value\",\r\n        dataSource: pageSizes,\r\n        value: pageSize,\r\n        valueChange: pageSizeChange,\r\n        width: width\r\n    })\r\n};\r\nexport var PageSizeSmallProps = {};\r\nvar PageSizeSmallPropsType = {\r\n    get pageSize() {\r\n        return InternalPagerProps.pageSize\r\n    }\r\n};\r\nexport class PageSizeSmall extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            minWidth: 10\r\n        };\r\n        this.updateWidth = this.updateWidth.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.updateWidth, [this.props, this.state.minWidth, this.props.pageSize, this.props.pageSizeChange, this.props.pageSizes])]\r\n    }\r\n    updateEffects() {\r\n        var _this$_effects$;\r\n        null === (_this$_effects$ = this._effects[0]) || void 0 === _this$_effects$ ? void 0 : _this$_effects$.update([this.props, this.state.minWidth, this.props.pageSize, this.props.pageSizeChange, this.props.pageSizes])\r\n    }\r\n    updateWidth() {\r\n        this.setState(__state_argument => ({\r\n            minWidth: getElementMinWidth(this.props.parentRef.current) || __state_argument.minWidth\r\n        }))\r\n    }\r\n    get width() {\r\n        return calculateValuesFittedWidth(this.state.minWidth, this.props.pageSizes.map(p => p.value))\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            width: this.width,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageSizeSmall.defaultProps = PageSizeSmallPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/page_size/large.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"pageSize\", \"pageSizeChange\", \"pageSizes\"];\r\nimport {\r\n    createFragment,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    Fragment\r\n} from \"inferno\";\r\nimport {\r\n    BaseInfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    LightButton\r\n} from \"../common/light_button\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport {\r\n    PAGER_SELECTED_PAGE_SIZE_CLASS,\r\n    PAGER_PAGE_SIZE_CLASS\r\n} from \"../common/consts\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pageSizesText: pageSizesText\r\n    } = _ref;\r\n    return createFragment(pageSizesText.map(_ref2 => {\r\n        var {\r\n            className: className,\r\n            click: click,\r\n            label: label,\r\n            text: text\r\n        } = _ref2;\r\n        return createComponentVNode(2, LightButton, {\r\n            className: className,\r\n            label: label,\r\n            onClick: click,\r\n            children: text\r\n        }, text)\r\n    }), 0)\r\n};\r\nexport var PageSizeLargeProps = {};\r\nvar PageSizeLargePropsType = {\r\n    get pageSize() {\r\n        return InternalPagerProps.pageSize\r\n    }\r\n};\r\nexport class PageSizeLarge extends BaseInfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.__getterCache = {};\r\n        this.onPageSizeChange = this.onPageSizeChange.bind(this)\r\n    }\r\n    get pageSizesText() {\r\n        if (void 0 !== this.__getterCache.pageSizesText) {\r\n            return this.__getterCache.pageSizesText\r\n        }\r\n        return this.__getterCache.pageSizesText = (() => {\r\n            var {\r\n                pageSize: pageSize,\r\n                pageSizes: pageSizes\r\n            } = this.props;\r\n            return pageSizes.map(_ref3 => {\r\n                var {\r\n                    text: text,\r\n                    value: processedPageSize\r\n                } = _ref3;\r\n                var selected = processedPageSize === pageSize;\r\n                var className = selected ? PAGER_SELECTED_PAGE_SIZE_CLASS : PAGER_PAGE_SIZE_CLASS;\r\n                return {\r\n                    className: className,\r\n                    click: this.onPageSizeChange(processedPageSize),\r\n                    label: \"Display \".concat(processedPageSize, \" items on page\"),\r\n                    text: text\r\n                }\r\n            })\r\n        })()\r\n    }\r\n    onPageSizeChange(processedPageSize) {\r\n        return () => {\r\n            this.props.pageSizeChange(processedPageSize);\r\n            return this.props.pageSize\r\n        }\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        if (this.props.pageSize !== nextProps.pageSize || this.props.pageSizes !== nextProps.pageSizes || this.props.pageSizeChange !== nextProps.pageSizeChange) {\r\n            this.__getterCache.pageSizesText = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            pageSizesText: this.pageSizesText,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageSizeLarge.defaultProps = PageSizeLargePropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/page_size/selector.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"isLargeDisplayMode\", \"pageSize\", \"pageSizeChange\", \"pageSizes\", \"rootElementRef\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    PageSizeSmall\r\n} from \"./small\";\r\nimport {\r\n    PageSizeLarge\r\n} from \"./large\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"../common/pager_props\";\r\nimport messageLocalization from \"../../../../localization/message\";\r\nimport {\r\n    PAGER_PAGE_SIZES_CLASS\r\n} from \"../common/consts\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        htmlRef: htmlRef,\r\n        normalizedPageSizes: normalizedPageSizes,\r\n        props: {\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange\r\n        }\r\n    } = _ref;\r\n    return createVNode(1, \"div\", PAGER_PAGE_SIZES_CLASS, [isLargeDisplayMode && createComponentVNode(2, PageSizeLarge, {\r\n        pageSizes: normalizedPageSizes,\r\n        pageSize: pageSize,\r\n        pageSizeChange: pageSizeChange\r\n    }), !isLargeDisplayMode && createComponentVNode(2, PageSizeSmall, {\r\n        parentRef: htmlRef,\r\n        pageSizes: normalizedPageSizes,\r\n        pageSize: pageSize,\r\n        pageSizeChange: pageSizeChange\r\n    })], 0, null, null, htmlRef)\r\n};\r\n\r\nfunction getAllText() {\r\n    return messageLocalization.getFormatter(\"dxPager-pageSizesAllText\")()\r\n}\r\nvar PageSizeSelectorProps = {\r\n    isLargeDisplayMode: true\r\n};\r\nvar PageSizeSelectorPropsType = {\r\n    get pageSize() {\r\n        return InternalPagerProps.pageSize\r\n    },\r\n    get pageSizes() {\r\n        return InternalPagerProps.pageSizes\r\n    },\r\n    get isLargeDisplayMode() {\r\n        return PageSizeSelectorProps.isLargeDisplayMode\r\n    }\r\n};\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class PageSizeSelector extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.htmlRef = infernoCreateRef();\r\n        this.__getterCache = {};\r\n        this.setRootElementRef = this.setRootElementRef.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.setRootElementRef, [])]\r\n    }\r\n    setRootElementRef() {\r\n        var {\r\n            rootElementRef: rootElementRef\r\n        } = this.props;\r\n        if (rootElementRef) {\r\n            rootElementRef.current = this.htmlRef.current\r\n        }\r\n    }\r\n    get normalizedPageSizes() {\r\n        if (void 0 !== this.__getterCache.normalizedPageSizes) {\r\n            return this.__getterCache.normalizedPageSizes\r\n        }\r\n        return this.__getterCache.normalizedPageSizes = (() => {\r\n            var {\r\n                pageSizes: pageSizes\r\n            } = this.props;\r\n            return pageSizes.map(p => \"all\" === p || 0 === p ? {\r\n                text: getAllText(),\r\n                value: 0\r\n            } : {\r\n                text: String(p),\r\n                value: p\r\n            })\r\n        })()\r\n    }\r\n    get restAttributes() {\r\n        var _this$props = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate();\r\n        if (this.props.pageSizes !== nextProps.pageSizes) {\r\n            this.__getterCache.normalizedPageSizes = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            htmlRef: this.htmlRef,\r\n            normalizedPageSizes: this.normalizedPageSizes,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPageSizeSelector.defaultProps = PageSizeSelectorPropsType;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/content.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"className\", \"displayMode\", \"gridCompatibility\", \"hasKnownLastPage\", \"infoText\", \"infoTextRef\", \"infoTextVisible\", \"isLargeDisplayMode\", \"lightModeEnabled\", \"maxPagesCount\", \"onKeyDown\", \"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pageSize\", \"pageSizeChange\", \"pageSizes\", \"pageSizesRef\", \"pagesCountText\", \"pagesNavigatorVisible\", \"pagesRef\", \"rootElementRef\", \"rtlEnabled\", \"showInfo\", \"showNavigationButtons\", \"showPageSizes\", \"totalCount\", \"visible\"];\r\nimport {\r\n    createVNode,\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    InfernoEffect,\r\n    InfernoComponent,\r\n    normalizeStyles\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    InfoText\r\n} from \"./info\";\r\nimport {\r\n    PageIndexSelector\r\n} from \"./pages/page_index_selector\";\r\nimport {\r\n    PageSizeSelector\r\n} from \"./page_size/selector\";\r\nimport {\r\n    PAGER_PAGES_CLASS,\r\n    PAGER_PAGE_INDEXES_CLASS,\r\n    LIGHT_MODE_CLASS,\r\n    PAGER_CLASS\r\n} from \"./common/consts\";\r\nimport {\r\n    InternalPagerProps\r\n} from \"./common/pager_props\";\r\nimport {\r\n    combineClasses\r\n} from \"../../utils/combine_classes\";\r\nimport {\r\n    Widget\r\n} from \"../common/widget\";\r\nimport {\r\n    registerKeyboardAction as _registerKeyboardAction\r\n} from \"../../../ui/shared/accessibility\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        classes: classes,\r\n        infoVisible: infoVisible,\r\n        isLargeDisplayMode: isLargeDisplayMode,\r\n        pageIndexSelectorVisible: pageIndexSelectorVisible,\r\n        pagesContainerVisibility: pagesContainerVisibility,\r\n        pagesContainerVisible: pagesContainerVisible,\r\n        props: {\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            infoText: infoText,\r\n            infoTextRef: infoTextRef,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes,\r\n            pageSizesRef: pageSizesRef,\r\n            pagesCountText: pagesCountText,\r\n            pagesRef: pagesRef,\r\n            rtlEnabled: rtlEnabled,\r\n            showNavigationButtons: showNavigationButtons,\r\n            showPageSizes: showPageSizes,\r\n            totalCount: totalCount,\r\n            visible: visible\r\n        },\r\n        restAttributes: restAttributes,\r\n        widgetRootElementRef: widgetRootElementRef\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, Widget, _extends({\r\n        rootElementRef: widgetRootElementRef,\r\n        rtlEnabled: rtlEnabled,\r\n        classes: classes,\r\n        visible: visible\r\n    }, restAttributes, {\r\n        children: [showPageSizes && createComponentVNode(2, PageSizeSelector, {\r\n            rootElementRef: pageSizesRef,\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            pageSize: pageSize,\r\n            pageSizeChange: pageSizeChange,\r\n            pageSizes: pageSizes\r\n        }), pagesContainerVisible && createVNode(1, \"div\", PAGER_PAGES_CLASS, [infoVisible && createComponentVNode(2, InfoText, {\r\n            rootElementRef: infoTextRef,\r\n            infoText: infoText,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            totalCount: totalCount\r\n        }), pageIndexSelectorVisible && createVNode(1, \"div\", PAGER_PAGE_INDEXES_CLASS, createComponentVNode(2, PageIndexSelector, {\r\n            hasKnownLastPage: hasKnownLastPage,\r\n            isLargeDisplayMode: isLargeDisplayMode,\r\n            maxPagesCount: maxPagesCount,\r\n            pageCount: pageCount,\r\n            pageIndex: pageIndex,\r\n            pageIndexChange: pageIndexChange,\r\n            pagesCountText: pagesCountText,\r\n            showNavigationButtons: showNavigationButtons,\r\n            totalCount: totalCount\r\n        }), 2, null, null, pagesRef)], 0, {\r\n            style: normalizeStyles({\r\n                visibility: pagesContainerVisibility\r\n            })\r\n        })]\r\n    })))\r\n};\r\nexport var PagerContentProps = Object.create(Object.prototype, _extends(Object.getOwnPropertyDescriptors(InternalPagerProps), Object.getOwnPropertyDescriptors({\r\n    infoTextVisible: true,\r\n    isLargeDisplayMode: true\r\n})));\r\nimport {\r\n    createRef as infernoCreateRef\r\n} from \"inferno\";\r\nexport class PagerContent extends InfernoComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {};\r\n        this.widgetRootElementRef = infernoCreateRef();\r\n        this.__getterCache = {};\r\n        this.setRootElementRef = this.setRootElementRef.bind(this);\r\n        this.createFakeInstance = this.createFakeInstance.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [new InfernoEffect(this.setRootElementRef, [])]\r\n    }\r\n    getChildContext() {\r\n        return _extends({}, this.context, {\r\n            KeyboardActionContext: this.keyboardAction\r\n        })\r\n    }\r\n    setRootElementRef() {\r\n        var {\r\n            rootElementRef: rootElementRef\r\n        } = this.props;\r\n        if (rootElementRef) {\r\n            rootElementRef.current = this.widgetRootElementRef.current\r\n        }\r\n    }\r\n    createFakeInstance() {\r\n        return {\r\n            option: () => false,\r\n            element: () => this.widgetRootElementRef.current,\r\n            _createActionByOption: () => e => {\r\n                var _this$props$onKeyDown, _this$props;\r\n                null === (_this$props$onKeyDown = (_this$props = this.props).onKeyDown) || void 0 === _this$props$onKeyDown ? void 0 : _this$props$onKeyDown.call(_this$props, e)\r\n            }\r\n        }\r\n    }\r\n    get keyboardAction() {\r\n        if (void 0 !== this.__getterCache.keyboardAction) {\r\n            return this.__getterCache.keyboardAction\r\n        }\r\n        return this.__getterCache.keyboardAction = (() => ({\r\n            registerKeyboardAction: (element, action) => {\r\n                var fakePagerInstance = this.createFakeInstance();\r\n                return _registerKeyboardAction(\"pager\", fakePagerInstance, element, void 0, action)\r\n            }\r\n        }))()\r\n    }\r\n    get infoVisible() {\r\n        var {\r\n            infoTextVisible: infoTextVisible,\r\n            showInfo: showInfo\r\n        } = this.props;\r\n        return showInfo && infoTextVisible && this.isLargeDisplayMode\r\n    }\r\n    get pageIndexSelectorVisible() {\r\n        return 0 !== this.props.pageSize\r\n    }\r\n    get normalizedDisplayMode() {\r\n        var {\r\n            displayMode: displayMode,\r\n            lightModeEnabled: lightModeEnabled\r\n        } = this.props;\r\n        if (\"adaptive\" === displayMode && void 0 !== lightModeEnabled) {\r\n            return lightModeEnabled ? \"compact\" : \"full\"\r\n        }\r\n        return displayMode\r\n    }\r\n    get pagesContainerVisible() {\r\n        return !!this.props.pagesNavigatorVisible && this.props.pageCount > 0\r\n    }\r\n    get pagesContainerVisibility() {\r\n        if (\"auto\" === this.props.pagesNavigatorVisible && 1 === this.props.pageCount && this.props.hasKnownLastPage) {\r\n            return \"hidden\"\r\n        }\r\n        return\r\n    }\r\n    get isLargeDisplayMode() {\r\n        var displayMode = this.normalizedDisplayMode;\r\n        var result = false;\r\n        if (\"adaptive\" === displayMode) {\r\n            result = this.props.isLargeDisplayMode\r\n        } else {\r\n            result = \"full\" === displayMode\r\n        }\r\n        return result\r\n    }\r\n    get classes() {\r\n        var classesMap = {\r\n            [\"\".concat(this.props.className)]: !!this.props.className,\r\n            [PAGER_CLASS]: true,\r\n            [LIGHT_MODE_CLASS]: !this.isLargeDisplayMode\r\n        };\r\n        return combineClasses(classesMap)\r\n    }\r\n    get restAttributes() {\r\n        var _this$props2 = this.props,\r\n            restProps = _objectWithoutPropertiesLoose(_this$props2, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate();\r\n        if (this.props.onKeyDown !== nextProps.onKeyDown) {\r\n            this.__getterCache.keyboardAction = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props),\r\n            widgetRootElementRef: this.widgetRootElementRef,\r\n            keyboardAction: this.keyboardAction,\r\n            infoVisible: this.infoVisible,\r\n            pageIndexSelectorVisible: this.pageIndexSelectorVisible,\r\n            pagesContainerVisible: this.pagesContainerVisible,\r\n            pagesContainerVisibility: this.pagesContainerVisibility,\r\n            isLargeDisplayMode: this.isLargeDisplayMode,\r\n            classes: this.classes,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPagerContent.defaultProps = PagerContentProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nvar _excluded = [\"className\", \"defaultPageIndex\", \"defaultPageSize\", \"displayMode\", \"gridCompatibility\", \"hasKnownLastPage\", \"infoText\", \"lightModeEnabled\", \"maxPagesCount\", \"onKeyDown\", \"pageCount\", \"pageIndex\", \"pageIndexChange\", \"pageSize\", \"pageSizeChange\", \"pageSizes\", \"pagesCountText\", \"pagesNavigatorVisible\", \"rtlEnabled\", \"showInfo\", \"showNavigationButtons\", \"showPageSizes\", \"totalCount\", \"visible\"];\r\nimport {\r\n    createComponentVNode,\r\n    normalizeProps\r\n} from \"inferno\";\r\nimport {\r\n    InfernoWrapperComponent\r\n} from \"@devextreme/runtime/inferno\";\r\nimport {\r\n    ResizableContainer\r\n} from \"./resizable_container\";\r\nimport {\r\n    PagerProps\r\n} from \"./common/pager_props\";\r\nimport {\r\n    PagerContent\r\n} from \"./content\";\r\nimport {\r\n    combineClasses\r\n} from \"../../utils/combine_classes\";\r\nexport var viewFunction = _ref => {\r\n    var {\r\n        pagerProps: pagerProps,\r\n        restAttributes: restAttributes\r\n    } = _ref;\r\n    return normalizeProps(createComponentVNode(2, ResizableContainer, _extends({\r\n        contentTemplate: PagerContent,\r\n        pagerProps: pagerProps\r\n    }, restAttributes)))\r\n};\r\nimport {\r\n    createReRenderEffect\r\n} from \"@devextreme/runtime/inferno\";\r\nexport class Pager extends InfernoWrapperComponent {\r\n    constructor(props) {\r\n        super(props);\r\n        this.__getterCache = {};\r\n        this.state = {\r\n            pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.props.defaultPageSize,\r\n            pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.props.defaultPageIndex\r\n        };\r\n        this.pageIndexChange = this.pageIndexChange.bind(this);\r\n        this.pageSizeChange = this.pageSizeChange.bind(this)\r\n    }\r\n    createEffects() {\r\n        return [createReRenderEffect()]\r\n    }\r\n    pageIndexChange(newPageIndex) {\r\n        if (this.props.gridCompatibility) {\r\n            var __newValue;\r\n            this.setState(__state_argument => {\r\n                __newValue = newPageIndex + 1;\r\n                return {\r\n                    pageIndex: __newValue\r\n                }\r\n            });\r\n            this.props.pageIndexChange(__newValue)\r\n        } else {\r\n            var _newValue;\r\n            this.setState(__state_argument => {\r\n                _newValue = newPageIndex;\r\n                return {\r\n                    pageIndex: _newValue\r\n                }\r\n            });\r\n            this.props.pageIndexChange(_newValue)\r\n        }\r\n    }\r\n    get pageIndex() {\r\n        if (this.props.gridCompatibility) {\r\n            return (void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex) - 1\r\n        }\r\n        return void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n    }\r\n    pageSizeChange(newPageSize) {\r\n        var __newValue;\r\n        this.setState(__state_argument => {\r\n            __newValue = newPageSize;\r\n            return {\r\n                pageSize: __newValue\r\n            }\r\n        });\r\n        this.props.pageSizeChange(__newValue)\r\n    }\r\n    get className() {\r\n        if (this.props.gridCompatibility) {\r\n            return combineClasses({\r\n                \"dx-datagrid-pager\": true,\r\n                [\"\".concat(this.props.className)]: !!this.props.className\r\n            })\r\n        }\r\n        return this.props.className\r\n    }\r\n    get pagerProps() {\r\n        if (void 0 !== this.__getterCache.pagerProps) {\r\n            return this.__getterCache.pagerProps\r\n        }\r\n        return this.__getterCache.pagerProps = (() => _extends({}, _extends({}, this.props, {\r\n            pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.state.pageSize,\r\n            pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n        }), {\r\n            className: this.className,\r\n            pageIndex: this.pageIndex,\r\n            pageIndexChange: pageIndex => this.pageIndexChange(pageIndex),\r\n            pageSizeChange: pageSize => this.pageSizeChange(pageSize)\r\n        }))()\r\n    }\r\n    get restAttributes() {\r\n        var _this$props$pageSize$ = _extends({}, this.props, {\r\n                pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.state.pageSize,\r\n                pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n            }),\r\n            restProps = _objectWithoutPropertiesLoose(_this$props$pageSize$, _excluded);\r\n        return restProps\r\n    }\r\n    componentWillUpdate(nextProps, nextState, context) {\r\n        super.componentWillUpdate();\r\n        if (this.props !== nextProps || this.props.gridCompatibility !== nextProps.gridCompatibility || this.props.className !== nextProps.className || this.state.pageIndex !== nextState.pageIndex || this.props.pageIndex !== nextProps.pageIndex || this.props.pageIndexChange !== nextProps.pageIndexChange || this.props.pageSizeChange !== nextProps.pageSizeChange) {\r\n            this.__getterCache.pagerProps = void 0\r\n        }\r\n    }\r\n    render() {\r\n        var props = this.props;\r\n        return viewFunction({\r\n            props: _extends({}, props, {\r\n                pageSize: void 0 !== this.props.pageSize ? this.props.pageSize : this.state.pageSize,\r\n                pageIndex: void 0 !== this.props.pageIndex ? this.props.pageIndex : this.state.pageIndex\r\n            }),\r\n            pageIndexChange: this.pageIndexChange,\r\n            pageIndex: this.pageIndex,\r\n            pageSizeChange: this.pageSizeChange,\r\n            className: this.className,\r\n            pagerProps: this.pagerProps,\r\n            restAttributes: this.restAttributes\r\n        })\r\n    }\r\n}\r\nPager.defaultProps = PagerProps;\r\n","/**\r\n * DevExtreme (esm/renovation/ui/pager/pager.j.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../../../core/component_registrator\";\r\nimport {\r\n    GridPagerWrapper\r\n} from \"../../component_wrapper/grid_pager\";\r\nimport {\r\n    Pager as PagerComponent\r\n} from \"./pager\";\r\nexport default class Pager extends GridPagerWrapper {\r\n    getProps() {\r\n        var props = super.getProps();\r\n        props.onKeyDown = this._wrapKeyDownHandler(props.onKeyDown);\r\n        return props\r\n    }\r\n    get _propsInfo() {\r\n        return {\r\n            twoWay: [\r\n                [\"pageSize\", \"defaultPageSize\", \"pageSizeChange\"],\r\n                [\"pageIndex\", \"defaultPageIndex\", \"pageIndexChange\"]\r\n            ],\r\n            allowNull: [],\r\n            elements: [],\r\n            templates: [],\r\n            props: [\"defaultPageSize\", \"pageSizeChange\", \"defaultPageIndex\", \"pageIndexChange\", \"gridCompatibility\", \"className\", \"showInfo\", \"infoText\", \"lightModeEnabled\", \"displayMode\", \"maxPagesCount\", \"pageCount\", \"pagesCountText\", \"visible\", \"hasKnownLastPage\", \"pagesNavigatorVisible\", \"showPageSizes\", \"pageSizes\", \"rtlEnabled\", \"showNavigationButtons\", \"totalCount\", \"onKeyDown\", \"pageSize\", \"pageIndex\"]\r\n        }\r\n    }\r\n    get _viewComponent() {\r\n        return PagerComponent\r\n    }\r\n}\r\nregisterComponent(\"dxPager\", Pager);\r\n","/**\r\n * DevExtreme (esm/ui/pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Widget from \"../renovation/ui/pager/pager.j\";\r\nexport default Widget;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport Pager from \"../pager\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nvar PAGER_CLASS = \"pager\";\r\nvar MAX_PAGES_COUNT = 10;\r\nvar getPageIndex = function(dataController) {\r\n    return 1 + (parseInt(dataController.pageIndex()) || 0)\r\n};\r\nvar PagerView = modules.View.inherit({\r\n    init: function() {\r\n        var dataController = this.getController(\"data\");\r\n        dataController.changed.add(e => {\r\n            if (e && e.repaintChangesOnly) {\r\n                var pager = this._pager;\r\n                if (pager) {\r\n                    pager.option({\r\n                        pageIndex: getPageIndex(dataController),\r\n                        pageSize: dataController.pageSize(),\r\n                        pageCount: dataController.pageCount(),\r\n                        totalCount: dataController.totalCount(),\r\n                        hasKnownLastPage: dataController.hasKnownLastPage()\r\n                    })\r\n                } else {\r\n                    this.render()\r\n                }\r\n            } else if (!e || \"update\" !== e.changeType && \"updateSelection\" !== e.changeType && \"updateFocusedRow\" !== e.changeType) {\r\n                this._pager = null;\r\n                this.render()\r\n            }\r\n        })\r\n    },\r\n    _renderCore: function() {\r\n        var $element = this.element().addClass(this.addWidgetPrefix(PAGER_CLASS));\r\n        var pagerOptions = this.option(\"pager\") || {};\r\n        var dataController = this.getController(\"data\");\r\n        var keyboardController = this.getController(\"keyboardNavigation\");\r\n        var options = {\r\n            maxPagesCount: MAX_PAGES_COUNT,\r\n            pageIndex: getPageIndex(dataController),\r\n            pageCount: dataController.pageCount(),\r\n            pageSize: dataController.pageSize(),\r\n            showPageSizes: pagerOptions.showPageSizeSelector,\r\n            showInfo: pagerOptions.showInfo,\r\n            displayMode: pagerOptions.displayMode,\r\n            pagesNavigatorVisible: pagerOptions.visible,\r\n            showNavigationButtons: pagerOptions.showNavigationButtons,\r\n            pageSizes: this.getPageSizes(),\r\n            totalCount: dataController.totalCount(),\r\n            hasKnownLastPage: dataController.hasKnownLastPage(),\r\n            pageIndexChanged: function(pageIndex) {\r\n                if (dataController.pageIndex() !== pageIndex - 1) {\r\n                    setTimeout((function() {\r\n                        dataController.pageIndex(pageIndex - 1)\r\n                    }))\r\n                }\r\n            },\r\n            pageSizeChanged: function(pageSize) {\r\n                setTimeout((function() {\r\n                    dataController.pageSize(pageSize)\r\n                }))\r\n            },\r\n            onKeyDown: e => keyboardController && keyboardController.executeAction(\"onKeyDown\", e),\r\n            useLegacyKeyboardNavigation: this.option(\"useLegacyKeyboardNavigation\"),\r\n            useKeyboard: this.option(\"keyboardNavigation.enabled\")\r\n        };\r\n        if (isDefined(pagerOptions.infoText)) {\r\n            options.infoText = pagerOptions.infoText\r\n        }\r\n        if (this._pager) {\r\n            this._pager.repaint();\r\n            return\r\n        }\r\n        if (hasWindow()) {\r\n            this._pager = this._createComponent($element, Pager, options)\r\n        } else {\r\n            $element.addClass(\"dx-pager\").html('<div class=\"dx-pages\"><div class=\"dx-page\"></div></div>')\r\n        }\r\n    },\r\n    getPager: function() {\r\n        return this._pager\r\n    },\r\n    getPageSizes: function() {\r\n        var dataController = this.getController(\"data\");\r\n        var pagerOptions = this.option(\"pager\");\r\n        var allowedPageSizes = pagerOptions && pagerOptions.allowedPageSizes;\r\n        var pageSize = dataController.pageSize();\r\n        if (!isDefined(this._pageSizes) || -1 === inArray(pageSize, this._pageSizes)) {\r\n            this._pageSizes = [];\r\n            if (pagerOptions) {\r\n                if (Array.isArray(allowedPageSizes)) {\r\n                    this._pageSizes = allowedPageSizes\r\n                } else if (allowedPageSizes && pageSize > 1) {\r\n                    this._pageSizes = [Math.floor(pageSize / 2), pageSize, 2 * pageSize]\r\n                }\r\n            }\r\n        }\r\n        return this._pageSizes\r\n    },\r\n    isVisible: function() {\r\n        var dataController = this.getController(\"data\");\r\n        var pagerOptions = this.option(\"pager\");\r\n        var pagerVisible = pagerOptions && pagerOptions.visible;\r\n        var scrolling = this.option(\"scrolling\");\r\n        if (\"auto\" === pagerVisible) {\r\n            if (scrolling && (\"virtual\" === scrolling.mode || \"infinite\" === scrolling.mode)) {\r\n                pagerVisible = false\r\n            } else {\r\n                pagerVisible = dataController.pageCount() > 1 || dataController.isLoaded() && !dataController.hasKnownLastPage()\r\n            }\r\n        }\r\n        return pagerVisible\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    optionChanged: function(args) {\r\n        var name = args.name;\r\n        var isPager = \"pager\" === name;\r\n        var isPaging = \"paging\" === name;\r\n        var isDataSource = \"dataSource\" === name;\r\n        var isScrolling = \"scrolling\" === name;\r\n        var dataController = this.getController(\"data\");\r\n        if (isPager || isPaging || isScrolling || isDataSource) {\r\n            args.handled = true;\r\n            if (dataController.skipProcessingPagingChange(args.fullName)) {\r\n                return\r\n            }\r\n            if (isPager || isPaging) {\r\n                this._pageSizes = null\r\n            }\r\n            if (!isDataSource) {\r\n                this._pager = null;\r\n                this._invalidate();\r\n                if (hasWindow() && isPager && this.component) {\r\n                    this.component.resize()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._pager = null\r\n    }\r\n});\r\nexport var pagerModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            pager: {\r\n                visible: \"auto\",\r\n                showPageSizeSelector: false,\r\n                allowedPageSizes: \"auto\"\r\n            }\r\n        }\r\n    },\r\n    views: {\r\n        pagerView: PagerView\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.pager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    pagerModule\r\n} from \"../grid_core/ui.grid_core.pager\";\r\ngridCore.registerModule(\"pager\", pagerModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.columns_resizing_reordering.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setHeight as _setHeight,\r\n    getHeight,\r\n    setWidth,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport Callbacks from \"../../core/utils/callbacks\";\r\nimport {\r\n    isDefined,\r\n    isString,\r\n    isObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    addNamespace,\r\n    eventData as getEventData,\r\n    isTouchEvent\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    start as dragEventStart,\r\n    move as dragEventMove,\r\n    end as dragEventEnd\r\n} from \"../../events/drag\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport fx from \"../../animation/fx\";\r\nimport swatchContainer from \"../widget/swatch_container\";\r\nvar COLUMNS_SEPARATOR_CLASS = \"columns-separator\";\r\nvar COLUMNS_SEPARATOR_TRANSPARENT = \"columns-separator-transparent\";\r\nvar DRAGGING_HEADER_CLASS = \"drag-header\";\r\nvar CELL_CONTENT_CLASS = \"text-content\";\r\nvar HEADERS_DRAG_ACTION_CLASS = \"drag-action\";\r\nvar TRACKER_CLASS = \"tracker\";\r\nvar HEADERS_DROP_HIGHLIGHT_CLASS = \"drop-highlight\";\r\nvar BLOCK_SEPARATOR_CLASS = \"dx-block-separator\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar WIDGET_CLASS = \"dx-widget\";\r\nvar DRAGGING_COMMAND_CELL_CLASS = \"dx-drag-command-cell\";\r\nvar MODULE_NAMESPACE = \"dxDataGridResizingReordering\";\r\nvar COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH = 10;\r\nvar DRAGGING_DELTA = 5;\r\nvar COLUMN_OPACITY = .5;\r\nvar allowResizing = function(that) {\r\n    return that.option(\"allowColumnResizing\") || that.getController(\"columns\").isColumnOptionUsed(\"allowResizing\")\r\n};\r\nvar allowReordering = function(that) {\r\n    return that.option(\"allowColumnReordering\") || that.getController(\"columns\").isColumnOptionUsed(\"allowReordering\")\r\n};\r\nvar TrackerView = modules.View.inherit({\r\n    _renderCore: function() {\r\n        this.callBase();\r\n        this.element().addClass(this.addWidgetPrefix(TRACKER_CLASS));\r\n        this.hide()\r\n    },\r\n    _unsubscribeFromCallback: function() {\r\n        if (this._positionChanged) {\r\n            this._tablePositionController.positionChanged.remove(this._positionChanged)\r\n        }\r\n    },\r\n    _subscribeToCallback: function() {\r\n        var that = this;\r\n        that._positionChanged = function(position) {\r\n            var $element = that.element();\r\n            if ($element && $element.hasClass(that.addWidgetPrefix(TRACKER_CLASS))) {\r\n                $element.css({\r\n                    top: position.top\r\n                });\r\n                _setHeight($element, position.height)\r\n            }\r\n        };\r\n        this._tablePositionController.positionChanged.add(that._positionChanged)\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            this._unsubscribeFromCallback();\r\n            if (args.value) {\r\n                this._subscribeToCallback();\r\n                this._invalidate()\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this._tablePositionController = this.getController(\"tablePosition\");\r\n        this._subscribeToCallback()\r\n    },\r\n    isVisible: function() {\r\n        return allowResizing(this)\r\n    },\r\n    show: function() {\r\n        this.element().show()\r\n    },\r\n    hide: function() {\r\n        this.element() && this.element().hide()\r\n    },\r\n    setHeight: function(value) {\r\n        _setHeight(this.element(), value)\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribeFromCallback();\r\n        this.callBase()\r\n    }\r\n});\r\nvar SeparatorView = modules.View.inherit({\r\n    _renderSeparator: function() {},\r\n    _renderCore: function(options) {\r\n        this.callBase(options);\r\n        this._isShown = true;\r\n        this._renderSeparator();\r\n        this.hide()\r\n    },\r\n    show: function() {\r\n        this._isShown = true\r\n    },\r\n    hide: function() {\r\n        this._isShown = false\r\n    },\r\n    height: function(value) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            if (isDefined(value)) {\r\n                _setHeight($element, value)\r\n            } else {\r\n                return getHeight($element)\r\n            }\r\n        }\r\n    },\r\n    width: function(value) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            if (isDefined(value)) {\r\n                setWidth($element, value)\r\n            } else {\r\n                return getWidth($element)\r\n            }\r\n        }\r\n    }\r\n});\r\nvar ColumnsSeparatorView = SeparatorView.inherit({\r\n    _renderSeparator: function() {\r\n        this.callBase();\r\n        var $element = this.element();\r\n        $element.addClass(this.addWidgetPrefix(COLUMNS_SEPARATOR_CLASS))\r\n    },\r\n    _subscribeToCallback: function() {\r\n        var that = this;\r\n        var $element;\r\n        that._positionChanged = function(position) {\r\n            $element = that.element();\r\n            if ($element) {\r\n                $element.css({\r\n                    top: position.top\r\n                });\r\n                _setHeight($element, position.height)\r\n            }\r\n        };\r\n        that._tablePositionController.positionChanged.add(that._positionChanged)\r\n    },\r\n    _unsubscribeFromCallback: function() {\r\n        this._positionChanged && this._tablePositionController.positionChanged.remove(this._positionChanged)\r\n    },\r\n    _init: function() {\r\n        this._isTransparent = allowResizing(this);\r\n        if (this.isVisible()) {\r\n            this._subscribeToCallback()\r\n        }\r\n    },\r\n    isVisible: function() {\r\n        return this.option(\"showColumnHeaders\") && (allowReordering(this) || allowResizing(this))\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            if (args.value) {\r\n                this._init();\r\n                this._invalidate();\r\n                this.hide(true)\r\n            } else {\r\n                this._unsubscribeFromCallback();\r\n                this._isTransparent = allowResizing(this);\r\n                this.hide(true)\r\n            }\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    init: function() {\r\n        this.callBase();\r\n        this._tablePositionController = this.getController(\"tablePosition\");\r\n        this._init()\r\n    },\r\n    show: function() {\r\n        var $element = this.element();\r\n        if ($element && !this._isShown) {\r\n            if (this._isTransparent) {\r\n                $element.removeClass(this.addWidgetPrefix(COLUMNS_SEPARATOR_TRANSPARENT))\r\n            } else {\r\n                $element.show()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    hide: function(force) {\r\n        var $element = this.element();\r\n        var columnsSeparatorTransparent = this.addWidgetPrefix(COLUMNS_SEPARATOR_TRANSPARENT);\r\n        if ($element && (this._isShown || force)) {\r\n            if (this._isTransparent) {\r\n                $element.addClass(columnsSeparatorTransparent);\r\n                $element.css(\"left\", \"\");\r\n                $element.show()\r\n            } else {\r\n                if ($element.hasClass(columnsSeparatorTransparent)) {\r\n                    $element.removeClass(columnsSeparatorTransparent)\r\n                }\r\n                $element.hide()\r\n            }\r\n        }\r\n        this.callBase()\r\n    },\r\n    moveByX: function(outerX) {\r\n        var $element = this.element();\r\n        if ($element) {\r\n            $element.css(\"left\", null === outerX ? 0 : outerX - this._parentElement().offset().left)\r\n        }\r\n    },\r\n    changeCursor: function(cursorName) {\r\n        cursorName = isDefined(cursorName) ? cursorName : \"\";\r\n        var $element = this.element();\r\n        if ($element) {\r\n            $element.css(\"cursor\", cursorName)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribeFromCallback();\r\n        this.callBase()\r\n    }\r\n});\r\nvar BlockSeparatorView = SeparatorView.inherit({\r\n    init: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        this.getController(\"data\").loadingChanged.add((function(isLoading) {\r\n            if (!isLoading) {\r\n                that.hide()\r\n            }\r\n        }))\r\n    },\r\n    _renderSeparator: function() {\r\n        this.callBase();\r\n        this.element().addClass(BLOCK_SEPARATOR_CLASS).html(\"&nbsp;\")\r\n    },\r\n    hide: function() {\r\n        var $parent = this._parentElement();\r\n        var $element = this.element();\r\n        if ($element && this._isShown) {\r\n            $element.css(\"display\", \"none\")\r\n        }\r\n        if ($parent && !$parent.children(\".\" + BLOCK_SEPARATOR_CLASS).length) {\r\n            $parent.prepend(this.element())\r\n        }\r\n        this.callBase()\r\n    },\r\n    isVisible: function() {\r\n        var groupPanelOptions = this.option(\"groupPanel\");\r\n        var columnChooserOptions = this.option(\"columnChooser\");\r\n        return groupPanelOptions && groupPanelOptions.visible || columnChooserOptions && columnChooserOptions.enabled\r\n    },\r\n    show: function(targetLocation) {\r\n        var $element = this.element();\r\n        var startAnimate = function(toOptions) {\r\n            fx.stop($element, true);\r\n            fx.animate($element, {\r\n                type: \"slide\",\r\n                from: {\r\n                    width: 0,\r\n                    display: toOptions.display\r\n                },\r\n                to: toOptions,\r\n                duration: 300,\r\n                easing: \"swing\"\r\n            })\r\n        };\r\n        if ($element && !this._isShown) {\r\n            switch (targetLocation) {\r\n                case \"group\":\r\n                    startAnimate({\r\n                        width: \"50px\",\r\n                        display: \"inline-block\"\r\n                    });\r\n                    break;\r\n                case \"columnChooser\":\r\n                    startAnimate({\r\n                        width: \"100%\",\r\n                        display: \"block\"\r\n                    });\r\n                    break;\r\n                default:\r\n                    $element.css(\"display\", \"\")\r\n            }\r\n        }\r\n        this.callBase()\r\n    }\r\n});\r\nvar DraggingHeaderView = modules.View.inherit({\r\n    _isDragging: false,\r\n    isDragging: function() {\r\n        return this._isDragging\r\n    },\r\n    _getDraggingPanelByPos: function(pos) {\r\n        var result;\r\n        each(this._dragOptions.draggingPanels, (function(index, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var boundingRect = draggingPanel.getBoundingRect();\r\n                if (boundingRect && (void 0 === boundingRect.bottom || pos.y < boundingRect.bottom) && (void 0 === boundingRect.top || pos.y > boundingRect.top) && (void 0 === boundingRect.left || pos.x > boundingRect.left) && (void 0 === boundingRect.right || pos.x < boundingRect.right)) {\r\n                    result = draggingPanel;\r\n                    return false\r\n                }\r\n            }\r\n        }));\r\n        return result\r\n    },\r\n    _renderCore: function() {\r\n        this.element().addClass(this.addWidgetPrefix(DRAGGING_HEADER_CLASS) + \" \" + this.addWidgetPrefix(CELL_CONTENT_CLASS) + \" \" + WIDGET_CLASS).hide()\r\n    },\r\n    _resetTargetColumnOptions: function() {\r\n        var params = this._dropOptions;\r\n        params.targetColumnIndex = -1;\r\n        delete params.targetColumnElement;\r\n        delete params.isLast;\r\n        delete params.posX;\r\n        delete params.posY\r\n    },\r\n    _getVisibleIndexObject: function(rowIndex, visibleIndex) {\r\n        if (isDefined(rowIndex)) {\r\n            return {\r\n                columnIndex: visibleIndex,\r\n                rowIndex: rowIndex\r\n            }\r\n        }\r\n        return visibleIndex\r\n    },\r\n    dispose: function() {\r\n        var element = this.element();\r\n        this._dragOptions = null;\r\n        element && element.parent().find(\".\" + this.addWidgetPrefix(DRAGGING_HEADER_CLASS)).remove()\r\n    },\r\n    isVisible: function() {\r\n        var columnsController = this.getController(\"columns\");\r\n        var commonColumnSettings = columnsController.getCommonSettings();\r\n        return this.option(\"showColumnHeaders\") && (allowReordering(this) || commonColumnSettings.allowGrouping || commonColumnSettings.allowHiding)\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        this._controller = this.getController(\"draggingHeader\");\r\n        this._columnsResizerViewController = this.getController(\"columnsResizer\");\r\n        this.getController(\"data\").loadingChanged.add((function(isLoading) {\r\n            var element = that.element();\r\n            if (!isLoading && element) {\r\n                element.hide()\r\n            }\r\n        }))\r\n    },\r\n    dragHeader: function(options) {\r\n        var columnElement = options.columnElement;\r\n        var isCommandColumn = !!options.sourceColumn.type;\r\n        this._isDragging = true;\r\n        this._dragOptions = options;\r\n        this._dropOptions = {\r\n            sourceIndex: options.index,\r\n            sourceColumnIndex: this._getVisibleIndexObject(options.rowIndex, options.columnIndex),\r\n            sourceColumnElement: options.columnElement,\r\n            sourceLocation: options.sourceLocation\r\n        };\r\n        var document = domAdapter.getDocument();\r\n        this._onSelectStart = document.onselectstart;\r\n        document.onselectstart = function() {\r\n            return false\r\n        };\r\n        this._controller.drag(this._dropOptions);\r\n        this.element().css({\r\n            textAlign: columnElement && columnElement.css(\"textAlign\"),\r\n            height: columnElement && (isCommandColumn && columnElement.get(0).clientHeight || getHeight(columnElement)),\r\n            width: columnElement && (isCommandColumn && columnElement.get(0).clientWidth || getWidth(columnElement)),\r\n            whiteSpace: columnElement && columnElement.css(\"whiteSpace\")\r\n        }).addClass(this.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS)).toggleClass(DRAGGING_COMMAND_CELL_CLASS, isCommandColumn).text(isCommandColumn ? \"\" : options.sourceColumn.caption);\r\n        this.element().appendTo(swatchContainer.getSwatchContainer(columnElement))\r\n    },\r\n    moveHeader: function(args) {\r\n        var e = args.event;\r\n        var that = e.data.that;\r\n        var eventData = getEventData(e);\r\n        var isResizing = that._columnsResizerViewController ? that._columnsResizerViewController.isResizing() : false;\r\n        var dragOptions = that._dragOptions;\r\n        if (that._isDragging && !isResizing) {\r\n            var $element = that.element();\r\n            var moveDeltaX = Math.abs(eventData.x - dragOptions.columnElement.offset().left - dragOptions.deltaX);\r\n            var moveDeltaY = Math.abs(eventData.y - dragOptions.columnElement.offset().top - dragOptions.deltaY);\r\n            if ($element.is(\":visible\") || moveDeltaX > DRAGGING_DELTA || moveDeltaY > DRAGGING_DELTA) {\r\n                $element.show();\r\n                var newLeft = eventData.x - dragOptions.deltaX;\r\n                var newTop = eventData.y - dragOptions.deltaY;\r\n                $element.css({\r\n                    left: newLeft,\r\n                    top: newTop\r\n                });\r\n                that.dockHeader(eventData)\r\n            }\r\n            e.preventDefault()\r\n        }\r\n    },\r\n    dockHeader: function(eventData) {\r\n        var targetDraggingPanel = this._getDraggingPanelByPos(eventData);\r\n        var controller = this._controller;\r\n        var params = this._dropOptions;\r\n        var dragOptions = this._dragOptions;\r\n        if (targetDraggingPanel) {\r\n            var rtlEnabled = this.option(\"rtlEnabled\");\r\n            var isVerticalOrientation = \"columnChooser\" === targetDraggingPanel.getName();\r\n            var axisName = isVerticalOrientation ? \"y\" : \"x\";\r\n            var targetLocation = targetDraggingPanel.getName();\r\n            var rowIndex = \"headers\" === targetLocation ? dragOptions.rowIndex : void 0;\r\n            var sourceColumn = dragOptions.sourceColumn;\r\n            var columnElements = targetDraggingPanel.getColumnElements(rowIndex, null === sourceColumn || void 0 === sourceColumn ? void 0 : sourceColumn.ownerBand) || [];\r\n            var pointsByTarget = dragOptions.pointsByTarget = dragOptions.pointsByTarget || {};\r\n            var pointsByColumns = \"columnChooser\" === targetLocation ? [] : pointsByTarget[targetLocation] || controller._generatePointsByColumns(extend({}, dragOptions, {\r\n                targetDraggingPanel: targetDraggingPanel,\r\n                columns: targetDraggingPanel.getColumns(rowIndex),\r\n                columnElements: columnElements,\r\n                isVerticalOrientation: isVerticalOrientation,\r\n                startColumnIndex: \"headers\" === targetLocation && $(columnElements[0]).index()\r\n            }));\r\n            pointsByTarget[targetLocation] = pointsByColumns;\r\n            params.targetLocation = targetLocation;\r\n            if (pointsByColumns.length > 0) {\r\n                for (var i = 0; i < pointsByColumns.length; i++) {\r\n                    var centerPosition = pointsByColumns[i + 1] && (pointsByColumns[i][axisName] + pointsByColumns[i + 1][axisName]) / 2;\r\n                    if (void 0 === centerPosition || (rtlEnabled && \"x\" === axisName ? eventData[axisName] > centerPosition : eventData[axisName] < centerPosition)) {\r\n                        params.targetColumnIndex = this._getVisibleIndexObject(rowIndex, pointsByColumns[i].columnIndex);\r\n                        if (columnElements[i]) {\r\n                            params.targetColumnElement = columnElements.eq(i);\r\n                            params.isLast = false\r\n                        } else {\r\n                            params.targetColumnElement = columnElements.last();\r\n                            params.isLast = true\r\n                        }\r\n                        params.posX = pointsByColumns[i].x;\r\n                        params.posY = pointsByColumns[i].y;\r\n                        controller.dock(params);\r\n                        break\r\n                    }\r\n                }\r\n            } else {\r\n                this._resetTargetColumnOptions();\r\n                controller.dock(params)\r\n            }\r\n        }\r\n    },\r\n    dropHeader: function(args) {\r\n        var e = args.event;\r\n        var that = e.data.that;\r\n        var controller = that._controller;\r\n        that.element().hide();\r\n        if (controller && that._isDragging) {\r\n            controller.drop(that._dropOptions)\r\n        }\r\n        that.element().appendTo(that._parentElement());\r\n        that._dragOptions = null;\r\n        that._dropOptions = null;\r\n        that._isDragging = false;\r\n        domAdapter.getDocument().onselectstart = that._onSelectStart || null\r\n    }\r\n});\r\nvar isNextColumnResizingMode = function(that) {\r\n    return \"widget\" !== that.option(\"columnResizingMode\")\r\n};\r\nvar ColumnsResizerViewController = modules.ViewController.inherit({\r\n    _isHeadersRowArea: function(posY) {\r\n        if (this._columnHeadersView) {\r\n            var element = this._columnHeadersView.element();\r\n            if (element) {\r\n                var offsetTop = element.offset().top;\r\n                var headersRowHeight = this._columnHeadersView.getHeadersRowHeight();\r\n                return posY >= offsetTop && posY <= offsetTop + headersRowHeight\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _isRtlParentStyle: function() {\r\n        var _this$_$parentContain;\r\n        return this.option(\"rtlEnabled\") && \"rtl\" === (null === (_this$_$parentContain = this._$parentContainer) || void 0 === _this$_$parentContain ? void 0 : _this$_$parentContain.parent().css(\"direction\"))\r\n    },\r\n    _pointCreated: function(point, cellsLength, columns) {\r\n        var isNextColumnMode = isNextColumnResizingMode(this);\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n        var firstPointColumnIndex = !isNextColumnMode && rtlEnabled && !isRtlParentStyle ? 0 : 1;\r\n        if (point.index >= firstPointColumnIndex && point.index < cellsLength + (!isNextColumnMode && (!rtlEnabled || isRtlParentStyle) ? 1 : 0)) {\r\n            point.columnIndex -= firstPointColumnIndex;\r\n            var currentColumn = columns[point.columnIndex] || {};\r\n            var nextColumn = columns[point.columnIndex + 1] || {};\r\n            return !(isNextColumnMode ? currentColumn.allowResizing && nextColumn.allowResizing : currentColumn.allowResizing)\r\n        }\r\n        return true\r\n    },\r\n    _getTargetPoint: function(pointsByColumns, currentX, deltaX) {\r\n        if (pointsByColumns) {\r\n            for (var i = 0; i < pointsByColumns.length; i++) {\r\n                if (pointsByColumns[i].x === pointsByColumns[0].x && pointsByColumns[i + 1] && pointsByColumns[i].x === pointsByColumns[i + 1].x) {\r\n                    continue\r\n                }\r\n                if (pointsByColumns[i].x - deltaX <= currentX && currentX <= pointsByColumns[i].x + deltaX) {\r\n                    return pointsByColumns[i]\r\n                }\r\n            }\r\n        }\r\n        return null\r\n    },\r\n    _moveSeparator: function(args) {\r\n        var _that$_draggingHeader;\r\n        var e = args.event;\r\n        var that = e.data;\r\n        var columnsSeparatorWidth = that._columnsSeparatorView.width();\r\n        var isNextColumnMode = isNextColumnResizingMode(that);\r\n        var deltaX = columnsSeparatorWidth / 2;\r\n        var parentOffset = that._$parentContainer.offset();\r\n        var parentOffsetLeft = parentOffset.left;\r\n        var eventData = getEventData(e);\r\n        var rtlEnabled = that.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n        var isDragging = null === (_that$_draggingHeader = that._draggingHeaderView) || void 0 === _that$_draggingHeader ? void 0 : _that$_draggingHeader.isDragging();\r\n        if (that._isResizing && that._resizingInfo) {\r\n            if ((parentOffsetLeft <= eventData.x || !isNextColumnMode && isRtlParentStyle) && (!isNextColumnMode || eventData.x <= parentOffsetLeft + getWidth(that._$parentContainer))) {\r\n                if (that._updateColumnsWidthIfNeeded(eventData.x)) {\r\n                    var $cell = that._columnHeadersView.getColumnElements().eq(that._resizingInfo.currentColumnIndex);\r\n                    var cell = $cell[0];\r\n                    if (cell) {\r\n                        var outerWidth = cell.getBoundingClientRect().width;\r\n                        that._columnsSeparatorView.moveByX($cell.offset().left + ((isNextColumnMode || isRtlParentStyle) && rtlEnabled ? 0 : outerWidth));\r\n                        that._tablePositionController.update(that._targetPoint.y);\r\n                        e.preventDefault()\r\n                    }\r\n                }\r\n            }\r\n        } else if (!isDragging) {\r\n            if (that._isHeadersRowArea(eventData.y)) {\r\n                if (that._previousParentOffset) {\r\n                    if (that._previousParentOffset.left !== parentOffset.left || that._previousParentOffset.top !== parentOffset.top) {\r\n                        that.pointsByColumns(null)\r\n                    }\r\n                }\r\n                that._targetPoint = that._getTargetPoint(that.pointsByColumns(), eventData.x, columnsSeparatorWidth);\r\n                that._previousParentOffset = parentOffset;\r\n                that._isReadyResizing = false;\r\n                if (that._targetPoint) {\r\n                    that._columnsSeparatorView.changeCursor(\"col-resize\");\r\n                    that._columnsSeparatorView.moveByX(that._targetPoint.x - deltaX);\r\n                    that._tablePositionController.update(that._targetPoint.y);\r\n                    that._isReadyResizing = true;\r\n                    e.preventDefault()\r\n                } else {\r\n                    that._columnsSeparatorView.changeCursor();\r\n                    that._columnsSeparatorView.moveByX(null)\r\n                }\r\n            } else {\r\n                that.pointsByColumns(null);\r\n                that._isReadyResizing = false;\r\n                that._columnsSeparatorView.changeCursor();\r\n                that._columnsSeparatorView.moveByX(null)\r\n            }\r\n        }\r\n    },\r\n    _endResizing: function(args) {\r\n        var e = args.event;\r\n        var that = e.data;\r\n        if (that._isResizing) {\r\n            that.pointsByColumns(null);\r\n            that._resizingInfo = null;\r\n            that._columnsSeparatorView.hide();\r\n            that._columnsSeparatorView.changeCursor();\r\n            that._trackerView.hide();\r\n            that._isReadyResizing = false;\r\n            that._isResizing = false\r\n        }\r\n    },\r\n    _getNextColumnIndex: function(currentColumnIndex) {\r\n        return currentColumnIndex + 1\r\n    },\r\n    _setupResizingInfo: function(posX) {\r\n        var currentColumnIndex = this._targetPoint.columnIndex;\r\n        var nextColumnIndex = this._getNextColumnIndex(currentColumnIndex);\r\n        var currentHeader = this._columnHeadersView.getHeaderElement(currentColumnIndex);\r\n        var nextHeader = this._columnHeadersView.getHeaderElement(nextColumnIndex);\r\n        this._resizingInfo = {\r\n            startPosX: posX,\r\n            currentColumnIndex: currentColumnIndex,\r\n            currentColumnWidth: currentHeader && currentHeader.length > 0 ? getBoundingRect(currentHeader[0]).width : 0,\r\n            nextColumnIndex: nextColumnIndex,\r\n            nextColumnWidth: nextHeader && nextHeader.length > 0 ? getBoundingRect(nextHeader[0]).width : 0\r\n        }\r\n    },\r\n    _startResizing: function(args) {\r\n        var e = args.event;\r\n        var that = e.data;\r\n        var eventData = getEventData(e);\r\n        if (isTouchEvent(e)) {\r\n            if (that._isHeadersRowArea(eventData.y)) {\r\n                that._targetPoint = that._getTargetPoint(that.pointsByColumns(), eventData.x, COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH);\r\n                if (that._targetPoint) {\r\n                    that._columnsSeparatorView.moveByX(that._targetPoint.x - that._columnsSeparatorView.width() / 2);\r\n                    that._isReadyResizing = true\r\n                }\r\n            } else {\r\n                that._isReadyResizing = false\r\n            }\r\n        }\r\n        if (that._isReadyResizing) {\r\n            that._setupResizingInfo(eventData.x);\r\n            that._isResizing = true;\r\n            that._tablePositionController.update(that._targetPoint.y);\r\n            that._columnsSeparatorView.show();\r\n            that._trackerView.show();\r\n            var scrollable = that.component.getScrollable();\r\n            if (scrollable && that._isRtlParentStyle()) {\r\n                that._scrollRight = getWidth(scrollable.$content()) - getWidth(scrollable.container()) - scrollable.scrollLeft()\r\n            }\r\n            e.preventDefault();\r\n            e.stopPropagation()\r\n        }\r\n        if (this.isResizing()) {\r\n            this.getController(\"editorFactory\").loseFocus()\r\n        }\r\n    },\r\n    _generatePointsByColumns: function() {\r\n        var that = this;\r\n        var columns = that._columnsController ? that._columnsController.getVisibleColumns() : [];\r\n        var cells = that._columnHeadersView.getColumnElements();\r\n        var pointsByColumns = [];\r\n        if (cells && cells.length > 0) {\r\n            pointsByColumns = gridCoreUtils.getPointsByColumns(cells, (function(point) {\r\n                return that._pointCreated(point, cells.length, columns)\r\n            }))\r\n        }\r\n        that._pointsByColumns = pointsByColumns\r\n    },\r\n    _unsubscribeFromEvents: function() {\r\n        this._moveSeparatorHandler && eventsEngine.off(domAdapter.getDocument(), addNamespace(pointerEvents.move, MODULE_NAMESPACE), this._moveSeparatorHandler);\r\n        this._startResizingHandler && eventsEngine.off(this._$parentContainer, addNamespace(pointerEvents.down, MODULE_NAMESPACE), this._startResizingHandler);\r\n        if (this._endResizingHandler) {\r\n            eventsEngine.off(this._columnsSeparatorView.element(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this._endResizingHandler);\r\n            eventsEngine.off(domAdapter.getDocument(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this._endResizingHandler)\r\n        }\r\n    },\r\n    _subscribeToEvents: function() {\r\n        this._moveSeparatorHandler = this.createAction(this._moveSeparator);\r\n        this._startResizingHandler = this.createAction(this._startResizing);\r\n        this._endResizingHandler = this.createAction(this._endResizing);\r\n        eventsEngine.on(domAdapter.getDocument(), addNamespace(pointerEvents.move, MODULE_NAMESPACE), this, this._moveSeparatorHandler);\r\n        eventsEngine.on(this._$parentContainer, addNamespace(pointerEvents.down, MODULE_NAMESPACE), this, this._startResizingHandler);\r\n        eventsEngine.on(this._columnsSeparatorView.element(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this, this._endResizingHandler);\r\n        eventsEngine.on(domAdapter.getDocument(), addNamespace(pointerEvents.up, MODULE_NAMESPACE), this, this._endResizingHandler)\r\n    },\r\n    _updateColumnsWidthIfNeeded: function(posX) {\r\n        var deltaX;\r\n        var needUpdate = false;\r\n        var nextCellWidth;\r\n        var resizingInfo = this._resizingInfo;\r\n        var columnsController = this._columnsController;\r\n        var visibleColumns = columnsController.getVisibleColumns();\r\n        var columnsSeparatorWidth = this._columnsSeparatorView.width();\r\n        var contentWidth = this._rowsView.contentWidth();\r\n        var isNextColumnMode = isNextColumnResizingMode(this);\r\n        var adaptColumnWidthByRatio = isNextColumnMode && this.option(\"adaptColumnWidthByRatio\") && !this.option(\"columnAutoWidth\");\r\n        var minWidth;\r\n        var nextColumn;\r\n        var cellWidth;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isRtlParentStyle = this._isRtlParentStyle();\r\n\r\n        function isPercentWidth(width) {\r\n            return isString(width) && \"%\" === width.slice(-1)\r\n        }\r\n\r\n        function setColumnWidth(column, columnWidth, contentWidth, adaptColumnWidthByRatio) {\r\n            if (column) {\r\n                var oldColumnWidth = column.width;\r\n                if (oldColumnWidth) {\r\n                    adaptColumnWidthByRatio = isPercentWidth(oldColumnWidth)\r\n                }\r\n                if (adaptColumnWidthByRatio) {\r\n                    columnsController.columnOption(column.index, \"visibleWidth\", columnWidth);\r\n                    columnsController.columnOption(column.index, \"width\", (columnWidth / contentWidth * 100).toFixed(3) + \"%\")\r\n                } else {\r\n                    columnsController.columnOption(column.index, \"visibleWidth\", null);\r\n                    columnsController.columnOption(column.index, \"width\", columnWidth)\r\n                }\r\n            }\r\n        }\r\n        deltaX = posX - resizingInfo.startPosX;\r\n        if ((isNextColumnMode || isRtlParentStyle) && rtlEnabled) {\r\n            deltaX = -deltaX\r\n        }\r\n        cellWidth = resizingInfo.currentColumnWidth + deltaX;\r\n        var column = visibleColumns[resizingInfo.currentColumnIndex];\r\n        minWidth = column && column.minWidth || columnsSeparatorWidth;\r\n        needUpdate = cellWidth >= minWidth;\r\n        if (isNextColumnMode) {\r\n            nextCellWidth = resizingInfo.nextColumnWidth - deltaX;\r\n            nextColumn = visibleColumns[resizingInfo.nextColumnIndex];\r\n            minWidth = nextColumn && nextColumn.minWidth || columnsSeparatorWidth;\r\n            needUpdate = needUpdate && nextCellWidth >= minWidth\r\n        }\r\n        if (needUpdate) {\r\n            columnsController.beginUpdate();\r\n            cellWidth = Math.floor(cellWidth);\r\n            contentWidth = function(contentWidth, visibleColumns) {\r\n                var allColumnsHaveWidth = visibleColumns.every(column => column.width);\r\n                if (allColumnsHaveWidth) {\r\n                    var totalPercent = visibleColumns.reduce((sum, column) => {\r\n                        if (isPercentWidth(column.width)) {\r\n                            sum += parseFloat(column.width)\r\n                        }\r\n                        return sum\r\n                    }, 0);\r\n                    if (totalPercent > 100) {\r\n                        contentWidth = contentWidth / totalPercent * 100\r\n                    }\r\n                }\r\n                return contentWidth\r\n            }(contentWidth, visibleColumns);\r\n            setColumnWidth(column, cellWidth, contentWidth, adaptColumnWidthByRatio);\r\n            if (isNextColumnMode) {\r\n                nextCellWidth = Math.floor(nextCellWidth);\r\n                setColumnWidth(nextColumn, nextCellWidth, contentWidth, adaptColumnWidthByRatio)\r\n            } else {\r\n                var columnWidths = this._columnHeadersView.getColumnWidths();\r\n                columnWidths[resizingInfo.currentColumnIndex] = cellWidth;\r\n                var hasScroll = columnWidths.reduce((totalWidth, width) => totalWidth + width, 0) > this._rowsView.contentWidth();\r\n                if (!hasScroll) {\r\n                    var lastColumnIndex = gridCoreUtils.getLastResizableColumnIndex(visibleColumns);\r\n                    if (lastColumnIndex >= 0) {\r\n                        columnsController.columnOption(visibleColumns[lastColumnIndex].index, \"visibleWidth\", \"auto\")\r\n                    }\r\n                }\r\n                for (var i = 0; i < columnWidths.length; i++) {\r\n                    if (visibleColumns[i] && visibleColumns[i] !== column && void 0 === visibleColumns[i].width) {\r\n                        columnsController.columnOption(visibleColumns[i].index, \"width\", columnWidths[i])\r\n                    }\r\n                }\r\n            }\r\n            columnsController.endUpdate();\r\n            if (!isNextColumnMode) {\r\n                this.component.updateDimensions();\r\n                var scrollable = this.component.getScrollable();\r\n                if (scrollable && isRtlParentStyle) {\r\n                    var left = getWidth(scrollable.$content()) - getWidth(scrollable.container()) - this._scrollRight;\r\n                    scrollable.scrollTo({\r\n                        left: left\r\n                    })\r\n                }\r\n            }\r\n        }\r\n        return needUpdate\r\n    },\r\n    _subscribeToCallback: function(callback, handler) {\r\n        callback.add(handler);\r\n        this._subscribesToCallbacks.push({\r\n            callback: callback,\r\n            handler: handler\r\n        })\r\n    },\r\n    _unsubscribeFromCallbacks: function() {\r\n        for (var i = 0; i < this._subscribesToCallbacks.length; i++) {\r\n            var subscribe = this._subscribesToCallbacks[i];\r\n            subscribe.callback.remove(subscribe.handler)\r\n        }\r\n        this._subscribesToCallbacks = []\r\n    },\r\n    _unsubscribes: function() {\r\n        this._unsubscribeFromEvents();\r\n        this._unsubscribeFromCallbacks()\r\n    },\r\n    _init: function() {\r\n        var that = this;\r\n        var generatePointsByColumnsHandler = function() {\r\n            if (!that._isResizing) {\r\n                that.pointsByColumns(null)\r\n            }\r\n        };\r\n        var generatePointsByColumnsScrollHandler = function(offset) {\r\n            if (that._scrollLeft !== offset.left) {\r\n                that._scrollLeft = offset.left;\r\n                that.pointsByColumns(null)\r\n            }\r\n        };\r\n        that._columnsSeparatorView = that.getView(\"columnsSeparatorView\");\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._trackerView = that.getView(\"trackerView\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._tablePositionController = that.getController(\"tablePosition\");\r\n        that._$parentContainer = that.component.$element();\r\n        that._draggingHeaderView = that.component.getView(\"draggingHeaderView\");\r\n        that._subscribeToCallback(that._columnHeadersView.renderCompleted, generatePointsByColumnsHandler);\r\n        that._subscribeToCallback(that._columnHeadersView.resizeCompleted, generatePointsByColumnsHandler);\r\n        that._subscribeToCallback(that._columnsSeparatorView.renderCompleted, (function() {\r\n            that._unsubscribeFromEvents();\r\n            that._subscribeToEvents()\r\n        }));\r\n        that._subscribeToCallback(that._rowsView.renderCompleted, (function() {\r\n            that._rowsView.scrollChanged.remove(generatePointsByColumnsScrollHandler);\r\n            that._rowsView.scrollChanged.add(generatePointsByColumnsScrollHandler)\r\n        }));\r\n        var previousScrollbarVisibility = 0 !== that._rowsView.getScrollbarWidth();\r\n        var previousTableHeight = 0;\r\n        that._subscribeToCallback(that.getController(\"tablePosition\").positionChanged, (function(e) {\r\n            if (that._isResizing && !that._rowsView.isResizing) {\r\n                var scrollbarVisibility = 0 !== that._rowsView.getScrollbarWidth();\r\n                if (previousScrollbarVisibility !== scrollbarVisibility || previousTableHeight && previousTableHeight !== e.height) {\r\n                    previousScrollbarVisibility = scrollbarVisibility;\r\n                    previousTableHeight = e.height;\r\n                    that.component.updateDimensions()\r\n                } else {\r\n                    that._rowsView.updateFreeSpaceRowHeight()\r\n                }\r\n            }\r\n            previousTableHeight = e.height\r\n        }))\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        if (\"allowColumnResizing\" === args.name) {\r\n            if (args.value) {\r\n                this._init();\r\n                this._subscribeToEvents()\r\n            } else {\r\n                this._unsubscribes()\r\n            }\r\n        }\r\n    },\r\n    isResizing: function() {\r\n        return this._isResizing\r\n    },\r\n    init: function() {\r\n        this._subscribesToCallbacks = [];\r\n        if (allowResizing(this)) {\r\n            this._init()\r\n        }\r\n    },\r\n    pointsByColumns: function(value) {\r\n        if (void 0 !== value) {\r\n            this._pointsByColumns = value\r\n        } else {\r\n            if (!this._pointsByColumns) {\r\n                this._generatePointsByColumns()\r\n            }\r\n            return this._pointsByColumns\r\n        }\r\n    },\r\n    dispose: function() {\r\n        this._unsubscribes();\r\n        this.callBase()\r\n    }\r\n});\r\nvar TablePositionViewController = modules.ViewController.inherit({\r\n    update: function(top) {\r\n        var params = {};\r\n        var $element = this._columnHeadersView.element();\r\n        var offset = $element && $element.offset();\r\n        var offsetTop = offset && offset.top || 0;\r\n        var diffOffsetTop = isDefined(top) ? Math.abs(top - offsetTop) : 0;\r\n        var columnsHeadersHeight = this._columnHeadersView ? this._columnHeadersView.getHeight() : 0;\r\n        var scrollBarWidth = this._rowsView.getScrollbarWidth(true);\r\n        var rowsHeight = this._rowsView ? this._rowsView.height() - scrollBarWidth : 0;\r\n        var columnsResizerController = this.component.getController(\"columnsResizer\");\r\n        var draggingHeaderView = this.component.getView(\"draggingHeaderView\");\r\n        params.height = columnsHeadersHeight;\r\n        var isDraggingOrResizing = false !== columnsResizerController.isResizing() || draggingHeaderView.isDragging();\r\n        if (isDraggingOrResizing) {\r\n            params.height += rowsHeight - diffOffsetTop\r\n        }\r\n        if (null !== top && $element && $element.length) {\r\n            params.top = $element[0].offsetTop + diffOffsetTop\r\n        }\r\n        this.positionChanged.fire(params)\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        that._columnHeadersView = this.getView(\"columnHeadersView\");\r\n        that._rowsView = this.getView(\"rowsView\");\r\n        that._pagerView = this.getView(\"pagerView\");\r\n        that._rowsView.resizeCompleted.add((function() {\r\n            if (that.option(\"allowColumnResizing\")) {\r\n                var targetPoint = that.getController(\"columnsResizer\")._targetPoint;\r\n                that.update(targetPoint ? targetPoint.y : null)\r\n            }\r\n        }))\r\n    },\r\n    ctor: function(component) {\r\n        this.callBase(component);\r\n        this.positionChanged = Callbacks()\r\n    }\r\n});\r\nvar DraggingHeaderViewController = modules.ViewController.inherit({\r\n    _generatePointsByColumns: function(options) {\r\n        var that = this;\r\n        return gridCoreUtils.getPointsByColumns(options.columnElements, (function(point) {\r\n            return that._pointCreated(point, options.columns, options.targetDraggingPanel.getName(), options.sourceColumn)\r\n        }), options.isVerticalOrientation, options.startColumnIndex)\r\n    },\r\n    _pointCreated: function(point, columns, location, sourceColumn) {\r\n        var targetColumn = columns[point.columnIndex];\r\n        var prevColumn = columns[point.columnIndex - 1];\r\n        switch (location) {\r\n            case \"columnChooser\":\r\n                return true;\r\n            case \"headers\":\r\n                return sourceColumn && !sourceColumn.allowReordering || (!targetColumn || !targetColumn.allowReordering) && (!prevColumn || !prevColumn.allowReordering);\r\n            default:\r\n                return 0 === columns.length\r\n        }\r\n    },\r\n    _subscribeToEvents: function(draggingHeader, draggingPanels) {\r\n        var that = this;\r\n        each(draggingPanels, (function(_, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var columns;\r\n                var rowCount = draggingPanel.getRowCount ? draggingPanel.getRowCount() : 1;\r\n                var nameDraggingPanel = draggingPanel.getName();\r\n                var subscribeToEvents = function(index, columnElement) {\r\n                    if (!columnElement) {\r\n                        return\r\n                    }\r\n                    var $columnElement = $(columnElement);\r\n                    var column = columns[index];\r\n                    if (draggingPanel.allowDragging(column, nameDraggingPanel, draggingPanels)) {\r\n                        $columnElement.addClass(that.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS));\r\n                        eventsEngine.on($columnElement, addNamespace(dragEventStart, MODULE_NAMESPACE), that.createAction((function(args) {\r\n                            var e = args.event;\r\n                            var eventData = getEventData(e);\r\n                            draggingHeader.dragHeader({\r\n                                deltaX: eventData.x - $(e.currentTarget).offset().left,\r\n                                deltaY: eventData.y - $(e.currentTarget).offset().top,\r\n                                sourceColumn: column,\r\n                                index: column.index,\r\n                                columnIndex: index,\r\n                                columnElement: $columnElement,\r\n                                sourceLocation: nameDraggingPanel,\r\n                                draggingPanels: draggingPanels,\r\n                                rowIndex: that._columnsController.getRowIndex(column.index, true)\r\n                            })\r\n                        })));\r\n                        eventsEngine.on($columnElement, addNamespace(dragEventMove, MODULE_NAMESPACE), {\r\n                            that: draggingHeader\r\n                        }, that.createAction(draggingHeader.moveHeader));\r\n                        eventsEngine.on($columnElement, addNamespace(dragEventEnd, MODULE_NAMESPACE), {\r\n                            that: draggingHeader\r\n                        }, that.createAction(draggingHeader.dropHeader))\r\n                    }\r\n                };\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    var columnElements = draggingPanel.getColumnElements(i) || [];\r\n                    if (columnElements.length) {\r\n                        columns = draggingPanel.getColumns(i) || [];\r\n                        each(columnElements, subscribeToEvents)\r\n                    }\r\n                }\r\n            }\r\n        }))\r\n    },\r\n    _unsubscribeFromEvents: function(draggingHeader, draggingPanels) {\r\n        var that = this;\r\n        each(draggingPanels, (function(_, draggingPanel) {\r\n            if (draggingPanel) {\r\n                var columnElements = draggingPanel.getColumnElements() || [];\r\n                each(columnElements, (function(index, columnElement) {\r\n                    var $columnElement = $(columnElement);\r\n                    eventsEngine.off($columnElement, addNamespace(dragEventStart, MODULE_NAMESPACE));\r\n                    eventsEngine.off($columnElement, addNamespace(dragEventMove, MODULE_NAMESPACE));\r\n                    eventsEngine.off($columnElement, addNamespace(dragEventEnd, MODULE_NAMESPACE));\r\n                    $columnElement.removeClass(that.addWidgetPrefix(HEADERS_DRAG_ACTION_CLASS))\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _getSeparator: function(targetLocation) {\r\n        return \"headers\" === targetLocation ? this._columnsSeparatorView : this._blockSeparatorView\r\n    },\r\n    hideSeparators: function(type) {\r\n        var blockSeparator = this._blockSeparatorView;\r\n        var columnsSeparator = this._columnsSeparatorView;\r\n        this._animationColumnIndex = null;\r\n        blockSeparator && blockSeparator.hide();\r\n        \"block\" !== type && columnsSeparator && columnsSeparator.hide()\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that.callBase();\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._columnHeadersView = that.getView(\"columnHeadersView\");\r\n        that._columnsSeparatorView = that.getView(\"columnsSeparatorView\");\r\n        that._draggingHeaderView = that.getView(\"draggingHeaderView\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._blockSeparatorView = that.getView(\"blockSeparatorView\");\r\n        that._headerPanelView = that.getView(\"headerPanel\");\r\n        that._columnChooserView = that.getView(\"columnChooserView\");\r\n        var subscribeToEvents = function() {\r\n            if (that._draggingHeaderView) {\r\n                var draggingPanels = [that._columnChooserView, that._columnHeadersView, that._headerPanelView];\r\n                that._unsubscribeFromEvents(that._draggingHeaderView, draggingPanels);\r\n                that._subscribeToEvents(that._draggingHeaderView, draggingPanels)\r\n            }\r\n        };\r\n        that._columnHeadersView.renderCompleted.add(subscribeToEvents);\r\n        that._headerPanelView && that._headerPanelView.renderCompleted.add(subscribeToEvents);\r\n        that._columnChooserView && that._columnChooserView.renderCompleted.add(subscribeToEvents)\r\n    },\r\n    allowDrop: function(parameters) {\r\n        return this._columnsController.allowMoveColumn(parameters.sourceColumnIndex, parameters.targetColumnIndex, parameters.sourceLocation, parameters.targetLocation)\r\n    },\r\n    drag: function(parameters) {\r\n        var sourceIndex = parameters.sourceIndex;\r\n        var sourceLocation = parameters.sourceLocation;\r\n        var sourceColumnElement = parameters.sourceColumnElement;\r\n        var headersView = this._columnHeadersView;\r\n        var rowsView = this._rowsView;\r\n        if (sourceColumnElement) {\r\n            sourceColumnElement.css({\r\n                opacity: COLUMN_OPACITY\r\n            });\r\n            if (\"headers\" === sourceLocation) {\r\n                headersView && headersView.setRowsOpacity(sourceIndex, COLUMN_OPACITY);\r\n                rowsView && rowsView.setRowsOpacity(sourceIndex, COLUMN_OPACITY)\r\n            }\r\n        }\r\n    },\r\n    dock: function(parameters) {\r\n        var that = this;\r\n        var targetColumnIndex = isObject(parameters.targetColumnIndex) ? parameters.targetColumnIndex.columnIndex : parameters.targetColumnIndex;\r\n        var sourceLocation = parameters.sourceLocation;\r\n        var targetLocation = parameters.targetLocation;\r\n        var separator = that._getSeparator(targetLocation);\r\n        var hasTargetVisibleIndex = targetColumnIndex >= 0;\r\n        that._columnHeadersView.element().find(\".\" + HEADER_ROW_CLASS).toggleClass(that.addWidgetPrefix(HEADERS_DROP_HIGHLIGHT_CLASS), \"headers\" !== sourceLocation && \"headers\" === targetLocation && !hasTargetVisibleIndex);\r\n        if (separator) {\r\n            if (that.allowDrop(parameters) && hasTargetVisibleIndex) {\r\n                if (\"group\" === targetLocation || \"columnChooser\" === targetLocation) {\r\n                    ! function() {\r\n                        if (that._animationColumnIndex !== targetColumnIndex) {\r\n                            that.hideSeparators();\r\n                            separator.element()[parameters.isLast ? \"insertAfter\" : \"insertBefore\"](parameters.targetColumnElement);\r\n                            that._animationColumnIndex = targetColumnIndex;\r\n                            separator.show(targetLocation)\r\n                        }\r\n                    }()\r\n                } else {\r\n                    that.hideSeparators(\"block\");\r\n                    that.getController(\"tablePosition\").update(parameters.posY);\r\n                    separator.moveByX(parameters.posX - separator.width());\r\n                    separator.show()\r\n                }\r\n            } else {\r\n                that.hideSeparators()\r\n            }\r\n        }\r\n    },\r\n    drop: function(parameters) {\r\n        var sourceColumnElement = parameters.sourceColumnElement;\r\n        if (sourceColumnElement) {\r\n            sourceColumnElement.css({\r\n                opacity: \"\"\r\n            });\r\n            this._columnHeadersView.setRowsOpacity(parameters.sourceIndex, \"\");\r\n            this._rowsView.setRowsOpacity(parameters.sourceIndex, \"\");\r\n            this._columnHeadersView.element().find(\".\" + HEADER_ROW_CLASS).removeClass(this.addWidgetPrefix(HEADERS_DROP_HIGHLIGHT_CLASS))\r\n        }\r\n        if (this.allowDrop(parameters)) {\r\n            var separator = this._getSeparator(parameters.targetLocation);\r\n            if (separator) {\r\n                separator.hide()\r\n            }\r\n            this._columnsController.moveColumn(parameters.sourceColumnIndex, parameters.targetColumnIndex, parameters.sourceLocation, parameters.targetLocation)\r\n        }\r\n    },\r\n    dispose: function() {\r\n        if (this._draggingHeaderView) {\r\n            this._unsubscribeFromEvents(this._draggingHeaderView, [this._columnChooserView, this._columnHeadersView, this._headerPanelView])\r\n        }\r\n    }\r\n});\r\nexport var columnsResizingReorderingModule = {\r\n    views: {\r\n        columnsSeparatorView: ColumnsSeparatorView,\r\n        blockSeparatorView: BlockSeparatorView,\r\n        draggingHeaderView: DraggingHeaderView,\r\n        trackerView: TrackerView\r\n    },\r\n    controllers: {\r\n        draggingHeader: DraggingHeaderViewController,\r\n        tablePosition: TablePositionViewController,\r\n        columnsResizer: ColumnsResizerViewController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _needUpdateRowHeight: function(itemCount) {\r\n                    var wordWrapEnabled = this.option(\"wordWrapEnabled\");\r\n                    var columnsResizerController = this.getController(\"columnsResizer\");\r\n                    var isResizing = columnsResizerController.isResizing();\r\n                    return this.callBase.apply(this, arguments) || itemCount > 0 && wordWrapEnabled && isResizing\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            editorFactory: {\r\n                renderFocusOverlay: function() {\r\n                    if (this.getController(\"columnsResizer\").isResizing()) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.columns_resizing_reordering.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnsResizingReorderingModule\r\n} from \"../grid_core/ui.grid_core.columns_resizing_reordering\";\r\nexport var DraggingHeaderView = columnsResizingReorderingModule.views.draggingHeaderView;\r\nexport var DraggingHeaderViewController = columnsResizingReorderingModule.controllers.draggingHeader;\r\nexport var ColumnsSeparatorView = columnsResizingReorderingModule.views.columnsSeparatorView;\r\nexport var TablePositionViewController = columnsResizingReorderingModule.controllers.tablePosition;\r\nexport var ColumnsResizerViewController = columnsResizingReorderingModule.controllers.columnsResizer;\r\nexport var TrackerView = columnsResizingReorderingModule.views.trackerView;\r\ngridCore.registerModule(\"columnsResizingReordering\", columnsResizingReorderingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.keyboard_navigation.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight,\r\n    getHeight,\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport core from \"./ui.grid_core.modules\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    focused\r\n} from \"../widget/selectors\";\r\nimport {\r\n    addNamespace,\r\n    createEvent,\r\n    isCommandKeyPressed\r\n} from \"../../events/utils/index\";\r\nimport pointerEvents from \"../../events/pointer\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport * as accessibility from \"../shared/accessibility\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    keyboard\r\n} from \"../../events/short\";\r\nimport devices from \"../../core/devices\";\r\nvar ROWS_VIEW_CLASS = \"rowsview\";\r\nvar EDIT_FORM_CLASS = \"edit-form\";\r\nvar GROUP_FOOTER_CLASS = \"group-footer\";\r\nvar ROW_CLASS = \"dx-row\";\r\nvar DATA_ROW_CLASS = \"dx-data-row\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar HEADER_ROW_CLASS = \"dx-header-row\";\r\nvar EDIT_FORM_ITEM_CLASS = \"edit-form-item\";\r\nvar MASTER_DETAIL_ROW_CLASS = \"dx-master-detail-row\";\r\nvar FREESPACE_ROW_CLASS = \"dx-freespace-row\";\r\nvar VIRTUAL_ROW_CLASS = \"dx-virtual-row\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar EDITOR_CELL_CLASS = \"dx-editor-cell\";\r\nvar DROPDOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar COMMAND_EXPAND_CLASS = \"dx-command-expand\";\r\nvar COMMAND_SELECT_CLASS = \"dx-command-select\";\r\nvar COMMAND_EDIT_CLASS = \"dx-command-edit\";\r\nvar COMMAND_CELL_SELECTOR = \"[class^=dx-command]\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar DATEBOX_WIDGET_NAME = \"dxDateBox\";\r\nvar FOCUS_STATE_CLASS = \"dx-state-focused\";\r\nvar WIDGET_CLASS = \"dx-widget\";\r\nvar REVERT_BUTTON_CLASS = \"dx-revert-button\";\r\nvar FAST_EDITING_DELETE_KEY = \"delete\";\r\nvar INTERACTIVE_ELEMENTS_SELECTOR = \"input:not([type='hidden']), textarea, a, select, button, [tabindex], .dx-checkbox\";\r\nvar NON_FOCUSABLE_ELEMENTS_SELECTOR = \"\".concat(INTERACTIVE_ELEMENTS_SELECTOR, \", .dx-dropdowneditor-icon\");\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_CELL = \"cell\";\r\nvar FOCUS_TYPE_ROW = \"row\";\r\nvar FOCUS_TYPE_CELL = \"cell\";\r\nvar COLUMN_HEADERS_VIEW = \"columnHeadersView\";\r\nvar FUNCTIONAL_KEYS = [\"shift\", \"control\", \"alt\"];\r\n\r\nfunction isGroupRow($row) {\r\n    return $row && $row.hasClass(GROUP_ROW_CLASS)\r\n}\r\n\r\nfunction isDetailRow($row) {\r\n    return $row && $row.hasClass(MASTER_DETAIL_ROW_CLASS)\r\n}\r\n\r\nfunction isDataRow($row) {\r\n    return $row && !isGroupRow($row) && !isDetailRow($row)\r\n}\r\n\r\nfunction isNotFocusedRow($row) {\r\n    return !$row || $row.hasClass(FREESPACE_ROW_CLASS) || $row.hasClass(VIRTUAL_ROW_CLASS)\r\n}\r\n\r\nfunction isCellElement($element) {\r\n    return $element.length && \"TD\" === $element[0].tagName\r\n}\r\n\r\nfunction isEditorCell(that, $cell) {\r\n    return !that._isRowEditMode() && $cell && !$cell.hasClass(COMMAND_SELECT_CLASS) && $cell.hasClass(EDITOR_CELL_CLASS)\r\n}\r\n\r\nfunction isElementDefined($element) {\r\n    return isDefined($element) && $element.length > 0\r\n}\r\n\r\nfunction isMobile() {\r\n    return \"desktop\" !== devices.current().deviceType\r\n}\r\n\r\nfunction isCellInHeaderRow($cell) {\r\n    return !!$cell.parent(\".\".concat(HEADER_ROW_CLASS)).length\r\n}\r\n\r\nfunction isFixedColumnIndexOffsetRequired(that, column) {\r\n    var rtlEnabled = that.option(\"rtlEnabled\");\r\n    var result = false;\r\n    if (rtlEnabled) {\r\n        result = !(\"right\" === column.fixedPosition || isDefined(column.command) && !isDefined(column.fixedPosition))\r\n    } else {\r\n        result = !(!isDefined(column.fixedPosition) || \"left\" === column.fixedPosition)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction shouldPreventScroll(that) {\r\n    var keyboardController = that.getController(\"keyboardNavigation\");\r\n    return keyboardController._isVirtualScrolling() ? that.option(\"focusedRowIndex\") === keyboardController.getRowIndex() : false\r\n}\r\nvar KeyboardNavigationController = core.ViewController.inherit({\r\n    init: function() {\r\n        this._dataController = this.getController(\"data\");\r\n        this._selectionController = this.getController(\"selection\");\r\n        this._editingController = this.getController(\"editing\");\r\n        this._headerPanel = this.getView(\"headerPanel\");\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._editorFactory = this.getController(\"editorFactory\");\r\n        if (this.isKeyboardEnabled()) {\r\n            accessibility.subscribeVisibilityChange();\r\n            this._updateFocusTimeout = null;\r\n            this._fastEditingStarted = false;\r\n            this._focusedCellPosition = {};\r\n            this._canceledCellPosition = null;\r\n            this._editorFactory.focused.add($element => {\r\n                this.setupFocusedView();\r\n                if (this._isNeedScroll) {\r\n                    if ($element.is(\":visible\") && this._focusedView && this._focusedView.getScrollable) {\r\n                        this._focusedView._scrollToElement($element);\r\n                        this._isNeedScroll = false\r\n                    }\r\n                }\r\n            });\r\n            this._initViewHandlers();\r\n            this._initDocumentHandlers();\r\n            this.createAction(\"onKeyDown\")\r\n        }\r\n    },\r\n    _initViewHandlers: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var rowsViewFocusHandler = event => {\r\n            var $element = $(event.target);\r\n            var isRelatedTargetInRowsView = $(event.relatedTarget).closest(rowsView.element()).length;\r\n            var isCommandButton = $element.hasClass(\"dx-link\");\r\n            if (isCommandButton && !isRelatedTargetInRowsView && this._isEventInCurrentGrid(event)) {\r\n                var $focusedCell = this._getFocusedCell();\r\n                $focusedCell = !isElementDefined($focusedCell) ? rowsView.getCellElements(0).filter(\"[tabindex]\").eq(0) : $focusedCell;\r\n                if (!$element.closest($focusedCell).length) {\r\n                    event.preventDefault();\r\n                    eventsEngine.trigger($focusedCell, \"focus\")\r\n                }\r\n            }\r\n        };\r\n        rowsView.renderCompleted.add(e => {\r\n            var $rowsView = rowsView.element();\r\n            var isFullUpdate = !e || \"refresh\" === e.changeType;\r\n            var isFocusedViewCorrect = this._focusedView && this._focusedView.name === rowsView.name;\r\n            var needUpdateFocus = false;\r\n            var isAppend = e && (\"append\" === e.changeType || \"prepend\" === e.changeType);\r\n            var $focusedElement = $(\":focus\");\r\n            var isFocusedElementCorrect = !$focusedElement.length || $focusedElement.closest($rowsView).length;\r\n            eventsEngine.off($rowsView, \"focusin\", rowsViewFocusHandler);\r\n            eventsEngine.on($rowsView, \"focusin\", rowsViewFocusHandler);\r\n            this._initPointerEventHandler();\r\n            this._initKeyDownHandler();\r\n            this._setRowsViewAttributes();\r\n            if (isFocusedViewCorrect && isFocusedElementCorrect) {\r\n                needUpdateFocus = this._isNeedFocus ? !isAppend : this._isHiddenFocus && isFullUpdate;\r\n                needUpdateFocus && this._updateFocus(true)\r\n            }\r\n        })\r\n    },\r\n    _initDocumentHandlers: function() {\r\n        var document = domAdapter.getDocument();\r\n        this._documentClickHandler = this.createAction(e => {\r\n            var $target = $(e.event.target);\r\n            var isCurrentRowsViewClick = this._isEventInCurrentGrid(e.event) && $target.closest(\".\".concat(this.addWidgetPrefix(ROWS_VIEW_CLASS))).length;\r\n            var isEditorOverlay = $target.closest(\".\".concat(DROPDOWN_EDITOR_OVERLAY_CLASS)).length;\r\n            var columnsResizerController = this.getController(\"columnsResizer\");\r\n            var isColumnResizing = !!columnsResizerController && columnsResizerController.isResizing();\r\n            if (!isCurrentRowsViewClick && !isEditorOverlay && !isColumnResizing) {\r\n                var targetInsideFocusedView = this._focusedView ? $target.parents().filter(this._focusedView.element()).length > 0 : false;\r\n                !targetInsideFocusedView && this._resetFocusedCell(true);\r\n                this._resetFocusedView()\r\n            }\r\n        });\r\n        eventsEngine.on(document, addNamespace(pointerEvents.down, \"dxDataGridKeyboardNavigation\"), this._documentClickHandler)\r\n    },\r\n    _setRowsViewAttributes: function() {\r\n        var $rowsView = this._getRowsViewElement();\r\n        var isGridEmpty = !this._dataController.getVisibleRows().length;\r\n        if (isGridEmpty) {\r\n            this._applyTabIndexToElement($rowsView)\r\n        }\r\n    },\r\n    _initPointerEventHandler: function() {\r\n        var pointerEventName = !isMobile() ? pointerEvents.down : clickEventName;\r\n        var clickSelector = \".\".concat(ROW_CLASS, \" > td, .\").concat(ROW_CLASS);\r\n        var $rowsView = this._getRowsViewElement();\r\n        if (!isDefined(this._pointerEventAction)) {\r\n            this._pointerEventAction = this.createAction(this._pointerEventHandler)\r\n        }\r\n        eventsEngine.off($rowsView, addNamespace(pointerEventName, \"dxDataGridKeyboardNavigation\"), this._pointerEventAction);\r\n        eventsEngine.on($rowsView, addNamespace(pointerEventName, \"dxDataGridKeyboardNavigation\"), clickSelector, this._pointerEventAction)\r\n    },\r\n    _initKeyDownHandler: function() {\r\n        var $rowsView = this._getRowsViewElement();\r\n        keyboard.off(this._keyDownListener);\r\n        this._keyDownListener = keyboard.on($rowsView, null, e => this._keyDownHandler(e))\r\n    },\r\n    dispose: function() {\r\n        this.callBase();\r\n        this._resetFocusedView();\r\n        keyboard.off(this._keyDownListener);\r\n        eventsEngine.off(domAdapter.getDocument(), addNamespace(pointerEvents.down, \"dxDataGridKeyboardNavigation\"), this._documentClickHandler);\r\n        clearTimeout(this._updateFocusTimeout);\r\n        accessibility.unsubscribeVisibilityChange()\r\n    },\r\n    optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"keyboardNavigation\":\r\n            case \"useLegacyKeyboardNavigation\":\r\n                args.handled = true;\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    isRowFocusType: function() {\r\n        return this.focusType === FOCUS_TYPE_ROW\r\n    },\r\n    isCellFocusType: function() {\r\n        return this.focusType === FOCUS_TYPE_CELL\r\n    },\r\n    setRowFocusType: function() {\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            this.focusType = FOCUS_TYPE_ROW\r\n        }\r\n    },\r\n    setCellFocusType: function() {\r\n        this.focusType = FOCUS_TYPE_CELL\r\n    },\r\n    _keyDownHandler: function(e) {\r\n        var needStopPropagation = true;\r\n        var isHandled = this._processOnKeyDown(e);\r\n        var isEditing = this._editingController.isEditing();\r\n        var originalEvent = e.originalEvent;\r\n        if (originalEvent.isDefaultPrevented()) {\r\n            return\r\n        }\r\n        this._isNeedFocus = true;\r\n        this._isNeedScroll = true;\r\n        FUNCTIONAL_KEYS.indexOf(e.keyName) < 0 && this._updateFocusedCellPositionByTarget(originalEvent.target);\r\n        if (!isHandled) {\r\n            switch (e.keyName) {\r\n                case \"leftArrow\":\r\n                case \"rightArrow\":\r\n                    this._leftRightKeysHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"upArrow\":\r\n                case \"downArrow\":\r\n                    if (e.ctrl) {\r\n                        accessibility.selectView(\"rowsView\", this, originalEvent)\r\n                    } else {\r\n                        this._upDownKeysHandler(e, isEditing)\r\n                    }\r\n                    isHandled = true;\r\n                    break;\r\n                case \"pageUp\":\r\n                case \"pageDown\":\r\n                    this._pageUpDownKeyHandler(e);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"space\":\r\n                    isHandled = this._spaceKeyHandler(e, isEditing);\r\n                    break;\r\n                case \"A\":\r\n                    if (isCommandKeyPressed(e.originalEvent)) {\r\n                        this._ctrlAKeyHandler(e, isEditing);\r\n                        isHandled = true\r\n                    } else {\r\n                        isHandled = this._beginFastEditing(e.originalEvent)\r\n                    }\r\n                    break;\r\n                case \"tab\":\r\n                    this._tabKeyHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"enter\":\r\n                    this._enterKeyHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"escape\":\r\n                    this._escapeKeyHandler(e, isEditing);\r\n                    isHandled = true;\r\n                    break;\r\n                case \"F\":\r\n                    if (isCommandKeyPressed(e.originalEvent)) {\r\n                        this._ctrlFKeyHandler(e);\r\n                        isHandled = true\r\n                    } else {\r\n                        isHandled = this._beginFastEditing(e.originalEvent)\r\n                    }\r\n                    break;\r\n                case \"F2\":\r\n                    this._f2KeyHandler();\r\n                    isHandled = true;\r\n                    break;\r\n                case \"del\":\r\n                case \"backspace\":\r\n                    if (this._isFastEditingAllowed() && !this._isFastEditingStarted()) {\r\n                        isHandled = this._beginFastEditing(originalEvent, true)\r\n                    }\r\n            }\r\n            if (!isHandled && !this._beginFastEditing(originalEvent)) {\r\n                this._isNeedFocus = false;\r\n                this._isNeedScroll = false;\r\n                needStopPropagation = false\r\n            }\r\n            if (needStopPropagation) {\r\n                originalEvent.stopPropagation()\r\n            }\r\n        }\r\n    },\r\n    _processOnKeyDown: function(eventArgs) {\r\n        var originalEvent = eventArgs.originalEvent;\r\n        var args = {\r\n            handled: false,\r\n            event: originalEvent\r\n        };\r\n        this.executeAction(\"onKeyDown\", args);\r\n        eventArgs.ctrl = originalEvent.ctrlKey;\r\n        eventArgs.alt = originalEvent.altKey;\r\n        eventArgs.shift = originalEvent.shiftKey;\r\n        return !!args.handled\r\n    },\r\n    _closeEditCell: function() {\r\n        setTimeout(() => {\r\n            this._editingController.closeEditCell()\r\n        })\r\n    },\r\n    _leftRightKeysHandler: function(eventArgs, isEditing) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $event = eventArgs.originalEvent;\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        var directionCode = this._getDirectionCodeByKey(eventArgs.keyName);\r\n        var isEditingNavigationMode = this._isFastEditingStarted();\r\n        var allowNavigate = (!isEditing || isEditingNavigationMode) && isDataRow($row);\r\n        if (allowNavigate) {\r\n            this.setCellFocusType();\r\n            isEditingNavigationMode && this._closeEditCell();\r\n            if (this._isVirtualColumnRender()) {\r\n                this._processVirtualHorizontalPosition(directionCode)\r\n            }\r\n            var $cell = this._getNextCell(directionCode);\r\n            if (isElementDefined($cell)) {\r\n                this._arrowKeysHandlerFocusCell($event, $cell, directionCode)\r\n            }\r\n            $event && $event.preventDefault()\r\n        }\r\n    },\r\n    _upDownKeysHandler: function(eventArgs, isEditing) {\r\n        var _this$_editingControl;\r\n        var rowIndex = this._focusedCellPosition.rowIndex;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(visibleRowIndex);\r\n        var $event = eventArgs.originalEvent;\r\n        var isUpArrow = \"upArrow\" === eventArgs.keyName;\r\n        var dataSource = this._dataController.dataSource();\r\n        var isRowEditingInCurrentRow = null === (_this$_editingControl = this._editingController) || void 0 === _this$_editingControl ? void 0 : _this$_editingControl.isEditRow(visibleRowIndex);\r\n        var isEditingNavigationMode = this._isFastEditingStarted();\r\n        var allowNavigate = (!isRowEditingInCurrentRow || !isEditing || isEditingNavigationMode) && $row && !isDetailRow($row);\r\n        if (allowNavigate) {\r\n            isEditingNavigationMode && this._closeEditCell();\r\n            if (!this._navigateNextCell($event, eventArgs.keyName)) {\r\n                if (this._isVirtualRowRender() && isUpArrow && dataSource && !dataSource.isLoading()) {\r\n                    var rowHeight = getOuterHeight($row);\r\n                    rowIndex = this._focusedCellPosition.rowIndex - 1;\r\n                    this._scrollBy(0, -rowHeight, rowIndex, $event)\r\n                }\r\n            }\r\n            $event && $event.preventDefault()\r\n        }\r\n    },\r\n    _pageUpDownKeyHandler: function(eventArgs) {\r\n        var pageIndex = this._dataController.pageIndex();\r\n        var pageCount = this._dataController.pageCount();\r\n        var pagingEnabled = this.option(\"paging.enabled\");\r\n        var isPageUp = \"pageUp\" === eventArgs.keyName;\r\n        var pageStep = isPageUp ? -1 : 1;\r\n        var scrollable = this.getView(\"rowsView\").getScrollable();\r\n        if (pagingEnabled && !this._isVirtualScrolling()) {\r\n            if ((isPageUp ? pageIndex > 0 : pageIndex < pageCount - 1) && !this._isVirtualScrolling()) {\r\n                this._dataController.pageIndex(pageIndex + pageStep);\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        } else if (scrollable && getHeight(scrollable.container()) < getHeight(scrollable.$content())) {\r\n            this._scrollBy(0, getHeight(scrollable.container()) * pageStep);\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _spaceKeyHandler: function(eventArgs, isEditing) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $target = $(eventArgs.originalEvent && eventArgs.originalEvent.target);\r\n        if (this.option(\"selection\") && \"none\" !== this.option(\"selection\").mode && !isEditing) {\r\n            var isFocusedRowElement = \"row\" === this._getElementType($target) && this.isRowFocusType() && isDataRow($target);\r\n            var isFocusedSelectionCell = $target.hasClass(COMMAND_SELECT_CLASS);\r\n            if (isFocusedSelectionCell && \"onClick\" === this.option(\"selection.showCheckBoxesMode\")) {\r\n                this._selectionController.startSelectionWithCheckboxes()\r\n            }\r\n            if (isFocusedRowElement || $target.parent().hasClass(DATA_ROW_CLASS) || $target.hasClass(this.addWidgetPrefix(ROWS_VIEW_CLASS))) {\r\n                this._selectionController.changeItemSelection(rowIndex, {\r\n                    shift: eventArgs.shift,\r\n                    control: eventArgs.ctrl\r\n                });\r\n                eventArgs.originalEvent.preventDefault();\r\n                return true\r\n            }\r\n            return false\r\n        } else {\r\n            return this._beginFastEditing(eventArgs.originalEvent)\r\n        }\r\n    },\r\n    _ctrlAKeyHandler: function(eventArgs, isEditing) {\r\n        if (!isEditing && !eventArgs.alt && \"multiple\" === this.option(\"selection.mode\") && this.option(\"selection.allowSelectAll\")) {\r\n            this._selectionController.selectAll();\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _tabKeyHandler: function(eventArgs, isEditing) {\r\n        var editingOptions = this.option(\"editing\");\r\n        var direction = eventArgs.shift ? \"previous\" : \"next\";\r\n        var isCellPositionDefined = isDefined(this._focusedCellPosition) && !isEmptyObject(this._focusedCellPosition);\r\n        var isOriginalHandlerRequired = !isCellPositionDefined || !eventArgs.shift && this._isLastValidCell(this._focusedCellPosition) || eventArgs.shift && this._isFirstValidCell(this._focusedCellPosition);\r\n        var eventTarget = eventArgs.originalEvent.target;\r\n        var focusedViewElement = this._focusedView && this._focusedView.element();\r\n        if (this._handleTabKeyOnMasterDetailCell(eventTarget, direction)) {\r\n            return\r\n        }\r\n        $(focusedViewElement).addClass(FOCUS_STATE_CLASS);\r\n        if (editingOptions && eventTarget && !isOriginalHandlerRequired) {\r\n            if ($(eventTarget).hasClass(this.addWidgetPrefix(ROWS_VIEW_CLASS))) {\r\n                this._resetFocusedCell()\r\n            }\r\n            if (this._isVirtualColumnRender()) {\r\n                this._processVirtualHorizontalPosition(direction)\r\n            }\r\n            if (isEditing) {\r\n                if (!this._editingCellTabHandler(eventArgs, direction)) {\r\n                    return\r\n                }\r\n            } else if (this._targetCellTabHandler(eventArgs, direction)) {\r\n                isOriginalHandlerRequired = true\r\n            }\r\n        }\r\n        if (isOriginalHandlerRequired) {\r\n            this._editorFactory.loseFocus();\r\n            if (this._editingController.isEditing() && !this._isRowEditMode()) {\r\n                this._resetFocusedCell(true);\r\n                this._resetFocusedView();\r\n                this._closeEditCell()\r\n            }\r\n        } else {\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _getMaxHorizontalOffset: function() {\r\n        var scrollable = this.component.getScrollable();\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var offset = scrollable ? scrollable.scrollWidth() - getWidth(rowsView.element()) : 0;\r\n        return offset\r\n    },\r\n    _isColumnRendered: function(columnIndex) {\r\n        var allVisibleColumns = this._columnsController.getVisibleColumns(null, true);\r\n        var renderedVisibleColumns = this._columnsController.getVisibleColumns();\r\n        var column = allVisibleColumns[columnIndex];\r\n        var result = false;\r\n        if (column) {\r\n            result = renderedVisibleColumns.indexOf(column) >= 0\r\n        }\r\n        return result\r\n    },\r\n    _isFixedColumn: function(columnIndex) {\r\n        var allVisibleColumns = this._columnsController.getVisibleColumns(null, true);\r\n        var column = allVisibleColumns[columnIndex];\r\n        return !!column && !!column.fixed\r\n    },\r\n    _isColumnVirtual: function(columnIndex) {\r\n        var localColumnIndex = columnIndex - this._columnsController.getColumnIndexOffset();\r\n        var visibleColumns = this._columnsController.getVisibleColumns();\r\n        var column = visibleColumns[localColumnIndex];\r\n        return !!column && \"virtual\" === column.command\r\n    },\r\n    _processVirtualHorizontalPosition: function(direction) {\r\n        var scrollable = this.component.getScrollable();\r\n        var columnIndex = this.getColumnIndex();\r\n        var nextColumnIndex;\r\n        var horizontalScrollPosition = 0;\r\n        var needToScroll = false;\r\n        switch (direction) {\r\n            case \"next\":\r\n            case \"nextInRow\":\r\n                var columnsCount = this._getVisibleColumnCount();\r\n                nextColumnIndex = columnIndex + 1;\r\n                horizontalScrollPosition = this.option(\"rtlEnabled\") ? this._getMaxHorizontalOffset() : 0;\r\n                if (\"next\" === direction) {\r\n                    needToScroll = columnsCount === nextColumnIndex || this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                } else {\r\n                    needToScroll = columnsCount > nextColumnIndex && this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                }\r\n                break;\r\n            case \"previous\":\r\n            case \"previousInRow\":\r\n                nextColumnIndex = columnIndex - 1;\r\n                horizontalScrollPosition = this.option(\"rtlEnabled\") ? 0 : this._getMaxHorizontalOffset();\r\n                if (\"previous\" === direction) {\r\n                    var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n                    var leftEdgePosition = nextColumnIndex < 0 && 0 === columnIndexOffset;\r\n                    needToScroll = leftEdgePosition || this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                } else {\r\n                    needToScroll = nextColumnIndex >= 0 && this._isFixedColumn(columnIndex) && !this._isColumnRendered(nextColumnIndex)\r\n                }\r\n        }\r\n        if (needToScroll) {\r\n            scrollable.scrollTo({\r\n                left: horizontalScrollPosition\r\n            })\r\n        } else if (isDefined(nextColumnIndex) && isDefined(direction) && this._isColumnVirtual(nextColumnIndex)) {\r\n            horizontalScrollPosition = this._getHorizontalScrollPositionOffset(direction);\r\n            0 !== horizontalScrollPosition && scrollable.scrollBy({\r\n                left: horizontalScrollPosition,\r\n                top: 0\r\n            })\r\n        }\r\n    },\r\n    _getHorizontalScrollPositionOffset: function(direction) {\r\n        var positionOffset = 0;\r\n        var $currentCell = this._getCell(this._focusedCellPosition);\r\n        var currentCellWidth = $currentCell && getOuterWidth($currentCell);\r\n        if (currentCellWidth > 0) {\r\n            var rtlMultiplier = this.option(\"rtlEnabled\") ? -1 : 1;\r\n            positionOffset = \"nextInRow\" === direction || \"next\" === direction ? currentCellWidth * rtlMultiplier : currentCellWidth * rtlMultiplier * -1\r\n        }\r\n        return positionOffset\r\n    },\r\n    _editingCellTabHandler: function(eventArgs, direction) {\r\n        var eventTarget = eventArgs.originalEvent.target;\r\n        var $cell = this._getCellElementFromTarget(eventTarget);\r\n        var isEditingAllowed;\r\n        var $event = eventArgs.originalEvent;\r\n        var elementType = this._getElementType(eventTarget);\r\n        if ($cell.is(COMMAND_CELL_SELECTOR)) {\r\n            return !this._targetCellTabHandler(eventArgs, direction)\r\n        }\r\n        this._updateFocusedCellPosition($cell);\r\n        var nextCellInfo = this._getNextCellByTabKey($event, direction, elementType);\r\n        $cell = nextCellInfo.$cell;\r\n        if (!$cell || this._handleTabKeyOnMasterDetailCell($cell, direction)) {\r\n            return false\r\n        }\r\n        var columnsController = this._columnsController;\r\n        var cellIndex = this.getView(\"rowsView\").getCellIndex($cell);\r\n        var columnIndex = cellIndex + columnsController.getColumnIndexOffset();\r\n        var column = columnsController.getVisibleColumns(null, true)[columnIndex];\r\n        var $row = $cell.parent();\r\n        var rowIndex = this._getRowIndex($row);\r\n        var row = this._dataController.items()[rowIndex];\r\n        var editingController = this._editingController;\r\n        if (column && column.allowEditing) {\r\n            var _isDataRow = !row || \"data\" === row.rowType;\r\n            isEditingAllowed = editingController.allowUpdating({\r\n                row: row\r\n            }) ? _isDataRow : row && row.isNewRow\r\n        }\r\n        if (!isEditingAllowed) {\r\n            this._closeEditCell()\r\n        }\r\n        if (this._focusCell($cell, !nextCellInfo.isHighlighted)) {\r\n            if (!this._isRowEditMode() && isEditingAllowed) {\r\n                this._editFocusedCell()\r\n            } else {\r\n                this._focusInteractiveElement($cell, eventArgs.shift)\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _targetCellTabHandler: function(eventArgs, direction) {\r\n        var $event = eventArgs.originalEvent;\r\n        var eventTarget = $event.target;\r\n        var $cell = this._getCellElementFromTarget(eventTarget);\r\n        var $lastInteractiveElement = this._getInteractiveElement($cell, !eventArgs.shift);\r\n        var isOriginalHandlerRequired = false;\r\n        var elementType;\r\n        if (!isEditorCell(this, $cell) && $lastInteractiveElement.length && eventTarget !== $lastInteractiveElement.get(0)) {\r\n            isOriginalHandlerRequired = true\r\n        } else {\r\n            if (void 0 === this._focusedCellPosition.rowIndex && $(eventTarget).hasClass(ROW_CLASS)) {\r\n                this._updateFocusedCellPosition($cell)\r\n            }\r\n            elementType = this._getElementType(eventTarget);\r\n            if (this.isRowFocusType()) {\r\n                this.setCellFocusType();\r\n                if (\"row\" === elementType && isDataRow($(eventTarget))) {\r\n                    eventTarget = this.getFirstValidCellInRow($(eventTarget));\r\n                    elementType = this._getElementType(eventTarget)\r\n                }\r\n            }\r\n            var nextCellInfo = this._getNextCellByTabKey($event, direction, elementType);\r\n            $cell = nextCellInfo.$cell;\r\n            if (!$cell) {\r\n                return false\r\n            }\r\n            $cell = this._checkNewLineTransition($event, $cell);\r\n            if (!$cell) {\r\n                return false\r\n            }\r\n            this._focusCell($cell, !nextCellInfo.isHighlighted);\r\n            if (!isEditorCell(this, $cell)) {\r\n                this._focusInteractiveElement($cell, eventArgs.shift)\r\n            }\r\n        }\r\n        return isOriginalHandlerRequired\r\n    },\r\n    _getNextCellByTabKey: function($event, direction, elementType) {\r\n        var $cell = this._getNextCell(direction, elementType);\r\n        var args = $cell && this._fireFocusedCellChanging($event, $cell, true);\r\n        if (!args || args.cancel) {\r\n            return {}\r\n        }\r\n        if (args.$newCellElement) {\r\n            $cell = args.$newCellElement\r\n        }\r\n        return {\r\n            $cell: $cell,\r\n            isHighlighted: args.isHighlighted\r\n        }\r\n    },\r\n    _checkNewLineTransition: function($event, $cell) {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = $cell.parent();\r\n        if (rowIndex !== this._getRowIndex($row)) {\r\n            var cellPosition = this._getCellPosition($cell);\r\n            var args = this._fireFocusedRowChanging($event, $row);\r\n            if (args.cancel) {\r\n                return\r\n            }\r\n            if (args.rowIndexChanged) {\r\n                this.setFocusedColumnIndex(cellPosition.columnIndex);\r\n                $cell = this._getFocusedCell()\r\n            }\r\n        }\r\n        return $cell\r\n    },\r\n    _enterKeyHandler: function(eventArgs, isEditing) {\r\n        var $cell = this._getFocusedCell();\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        if (this.option(\"grouping.allowCollapsing\") && isGroupRow($row) || this.option(\"masterDetail.enabled\") && $cell && $cell.hasClass(COMMAND_EXPAND_CLASS)) {\r\n            var key = this._dataController.getKeyByRowIndex(rowIndex);\r\n            var item = this._dataController.items()[rowIndex];\r\n            if (void 0 !== key && item && item.data && !item.data.isContinuation) {\r\n                this._dataController.changeRowExpand(key)\r\n            }\r\n        } else {\r\n            this._processEnterKeyForDataCell(eventArgs, isEditing)\r\n        }\r\n    },\r\n    _processEnterKeyForDataCell: function(eventArgs, isEditing) {\r\n        var direction = this._getEnterKeyDirection(eventArgs);\r\n        var allowEditingOnEnterKey = this._allowEditingOnEnterKey();\r\n        if (isEditing || !allowEditingOnEnterKey && direction) {\r\n            this._handleEnterKeyEditingCell(eventArgs.originalEvent);\r\n            if (\"next\" === direction || \"previous\" === direction) {\r\n                this._targetCellTabHandler(eventArgs, direction)\r\n            } else if (\"upArrow\" === direction || \"downArrow\" === direction) {\r\n                this._navigateNextCell(eventArgs.originalEvent, direction)\r\n            }\r\n        } else if (allowEditingOnEnterKey) {\r\n            this._startEditing(eventArgs)\r\n        }\r\n    },\r\n    _getEnterKeyDirection: function(eventArgs) {\r\n        var enterKeyDirection = this.option(\"keyboardNavigation.enterKeyDirection\");\r\n        var isShift = eventArgs.shift;\r\n        if (\"column\" === enterKeyDirection) {\r\n            return isShift ? \"upArrow\" : \"downArrow\"\r\n        }\r\n        if (\"row\" === enterKeyDirection) {\r\n            return isShift ? \"previous\" : \"next\"\r\n        }\r\n    },\r\n    _handleEnterKeyEditingCell: function(event) {\r\n        var target = event.target;\r\n        var $cell = this._getCellElementFromTarget(target);\r\n        var isRowEditMode = this._isRowEditMode();\r\n        this._updateFocusedCellPosition($cell);\r\n        if (isRowEditMode) {\r\n            this._focusEditFormCell($cell);\r\n            setTimeout(this._editingController.saveEditData.bind(this._editingController))\r\n        } else {\r\n            eventsEngine.trigger($(target), \"change\");\r\n            this._closeEditCell();\r\n            event.preventDefault()\r\n        }\r\n    },\r\n    _escapeKeyHandler: function(eventArgs, isEditing) {\r\n        var $cell = this._getCellElementFromTarget(eventArgs.originalEvent.target);\r\n        if (isEditing) {\r\n            this._updateFocusedCellPosition($cell);\r\n            if (!this._isRowEditMode()) {\r\n                if (\"cell\" === this._editingController.getEditMode()) {\r\n                    this._editingController.cancelEditData()\r\n                } else {\r\n                    this._closeEditCell()\r\n                }\r\n            } else {\r\n                this._focusEditFormCell($cell);\r\n                this._editingController.cancelEditData();\r\n                if (0 === this._dataController.items().length) {\r\n                    this._resetFocusedCell();\r\n                    this._editorFactory.loseFocus()\r\n                }\r\n            }\r\n            eventArgs.originalEvent.preventDefault()\r\n        }\r\n    },\r\n    _ctrlFKeyHandler: function(eventArgs) {\r\n        if (this.option(\"searchPanel.visible\")) {\r\n            var searchTextEditor = this._headerPanel.getSearchTextEditor();\r\n            if (searchTextEditor) {\r\n                searchTextEditor.focus();\r\n                eventArgs.originalEvent.preventDefault()\r\n            }\r\n        }\r\n    },\r\n    _f2KeyHandler: function() {\r\n        var isEditing = this._editingController.isEditing();\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var $row = this._focusedView && this._focusedView.getRow(rowIndex);\r\n        if (!isEditing && isDataRow($row)) {\r\n            this._startEditing()\r\n        }\r\n    },\r\n    _navigateNextCell: function($event, keyCode) {\r\n        var $cell = this._getNextCell(keyCode);\r\n        var directionCode = this._getDirectionCodeByKey(keyCode);\r\n        var isCellValid = $cell && this._isCellValid($cell);\r\n        var result = isCellValid ? this._arrowKeysHandlerFocusCell($event, $cell, directionCode) : false;\r\n        return result\r\n    },\r\n    _arrowKeysHandlerFocusCell: function($event, $nextCell, direction) {\r\n        var isVerticalDirection = \"prevRow\" === direction || \"nextRow\" === direction;\r\n        var args = this._fireFocusChangingEvents($event, $nextCell, isVerticalDirection, true);\r\n        $nextCell = args.$newCellElement;\r\n        if (!args.cancel && this._isCellValid($nextCell)) {\r\n            this._focus($nextCell, !args.isHighlighted);\r\n            return true\r\n        }\r\n        return false\r\n    },\r\n    _beginFastEditing: function(originalEvent, isDeleting) {\r\n        if (!this._isFastEditingAllowed() || originalEvent.altKey || originalEvent.ctrlKey || this._editingController.isEditing()) {\r\n            return false\r\n        }\r\n        if (isDeleting) {\r\n            this._startEditing(originalEvent, FAST_EDITING_DELETE_KEY)\r\n        } else {\r\n            var key = originalEvent.key;\r\n            var keyCode = originalEvent.keyCode || originalEvent.which;\r\n            var fastEditingKey = key || keyCode && String.fromCharCode(keyCode);\r\n            if (fastEditingKey && (1 === fastEditingKey.length || fastEditingKey === FAST_EDITING_DELETE_KEY)) {\r\n                this._startEditing(originalEvent, fastEditingKey)\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _pointerEventHandler: function(e) {\r\n        var event = e.event || e;\r\n        var $target = $(event.currentTarget);\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var focusedViewElement = rowsView && rowsView.element();\r\n        var $parent = $target.parent();\r\n        var isInteractiveElement = $(event.target).is(INTERACTIVE_ELEMENTS_SELECTOR);\r\n        var isRevertButton = !!$(event.target).closest(\".\".concat(REVERT_BUTTON_CLASS)).length;\r\n        var isExpandCommandCell = $target.hasClass(COMMAND_EXPAND_CLASS);\r\n        if (!this._isEventInCurrentGrid(event)) {\r\n            return\r\n        }\r\n        if (!isRevertButton && (this._isCellValid($target, !isInteractiveElement) || isExpandCommandCell)) {\r\n            $target = this._isInsideEditForm($target) ? $(event.target) : $target;\r\n            this._focusView();\r\n            $(focusedViewElement).removeClass(FOCUS_STATE_CLASS);\r\n            if ($parent.hasClass(FREESPACE_ROW_CLASS)) {\r\n                this._updateFocusedCellPosition($target);\r\n                this._applyTabIndexToElement(this._focusedView.element());\r\n                this._focusedView.focus()\r\n            } else if (!this._isMasterDetailCell($target)) {\r\n                this._clickTargetCellHandler(event, $target)\r\n            } else {\r\n                this._updateFocusedCellPosition($target)\r\n            }\r\n        } else if ($target.is(\"td\")) {\r\n            this._resetFocusedCell()\r\n        }\r\n    },\r\n    _clickTargetCellHandler: function(event, $cell) {\r\n        var columnIndex = this.getView(\"rowsView\").getCellIndex($cell);\r\n        var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n        var isCellEditMode = this._isCellEditMode();\r\n        this.setCellFocusType();\r\n        var args = this._fireFocusChangingEvents(event, $cell, true);\r\n        $cell = args.$newCellElement;\r\n        if (!args.cancel) {\r\n            if (args.resetFocusedRow) {\r\n                this.getController(\"focus\")._resetFocusedRow();\r\n                return\r\n            }\r\n            if (args.rowIndexChanged) {\r\n                $cell = this._getFocusedCell()\r\n            }\r\n            if (!args.isHighlighted && !isCellEditMode) {\r\n                this.setRowFocusType()\r\n            }\r\n            this._updateFocusedCellPosition($cell);\r\n            if (this._allowRowUpdating() && isCellEditMode && column && column.allowEditing) {\r\n                this._isNeedFocus = false;\r\n                this._isHiddenFocus = false\r\n            } else {\r\n                var $target = event && $(event.target).closest(NON_FOCUSABLE_ELEMENTS_SELECTOR + \", td\");\r\n                var skipFocusEvent = $target && $target.not($cell).is(NON_FOCUSABLE_ELEMENTS_SELECTOR);\r\n                var isEditor = !!column && !column.command && $cell.hasClass(EDITOR_CELL_CLASS);\r\n                var isDisabled = !isEditor && (!args.isHighlighted || skipFocusEvent);\r\n                this._focus($cell, isDisabled, skipFocusEvent)\r\n            }\r\n        } else {\r\n            this.setRowFocusType();\r\n            this.setFocusedRowIndex(args.prevRowIndex);\r\n            $cell = this._getFocusedCell();\r\n            if (this._editingController.isEditing() && isCellEditMode) {\r\n                this._closeEditCell()\r\n            }\r\n        }\r\n    },\r\n    _allowRowUpdating: function() {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var row = this._dataController.items()[rowIndex];\r\n        return this._editingController.allowUpdating({\r\n            row: row\r\n        }, \"click\")\r\n    },\r\n    focus: function(element) {\r\n        var activeElementSelector;\r\n        var focusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n        var isHighlighted = isCellElement($(element));\r\n        if (!element) {\r\n            activeElementSelector = \".dx-datagrid-rowsview .dx-row[tabindex]\";\r\n            if (!focusedRowEnabled) {\r\n                activeElementSelector += \", .dx-datagrid-rowsview .dx-row > td[tabindex]\"\r\n            }\r\n            element = this.component.$element().find(activeElementSelector).first()\r\n        }\r\n        element && this._focusElement($(element), isHighlighted)\r\n    },\r\n    getFocusedView: function() {\r\n        return this._focusedView\r\n    },\r\n    setupFocusedView: function() {\r\n        if (this.isKeyboardEnabled() && !isDefined(this._focusedView)) {\r\n            this._focusView()\r\n        }\r\n    },\r\n    _focusElement: function($element, isHighlighted) {\r\n        var rowsViewElement = $(this._getRowsViewElement());\r\n        var $focusedView = $element.closest(rowsViewElement);\r\n        var isRowFocusType = this.isRowFocusType();\r\n        var args = {};\r\n        if (!$focusedView.length || isCellElement($element) && !this._isCellValid($element)) {\r\n            return\r\n        }\r\n        this._focusView();\r\n        this._isNeedFocus = true;\r\n        this._isNeedScroll = true;\r\n        if (isCellElement($element) || isGroupRow($element)) {\r\n            this.setCellFocusType();\r\n            args = this._fireFocusChangingEvents(null, $element, false, isHighlighted);\r\n            $element = args.$newCellElement;\r\n            if (isRowFocusType && !args.isHighlighted) {\r\n                this.setRowFocusType()\r\n            }\r\n        }\r\n        if (!args.cancel) {\r\n            this._focus($element, !args.isHighlighted);\r\n            this._focusInteractiveElement($element)\r\n        }\r\n    },\r\n    _getFocusedViewByElement: function($element) {\r\n        var view = this.getFocusedView();\r\n        var $view = view && $(view.element());\r\n        return $element && 0 !== $element.closest($view).length\r\n    },\r\n    _focusView: function() {\r\n        this._focusedView = this.getView(\"rowsView\")\r\n    },\r\n    _resetFocusedView: function() {\r\n        this.setRowFocusType();\r\n        this._focusedView = null\r\n    },\r\n    _focusInteractiveElement: function($cell, isLast) {\r\n        if (!$cell) {\r\n            return\r\n        }\r\n        var $focusedElement = this._getInteractiveElement($cell, isLast);\r\n        gridCoreUtils.focusAndSelectElement(this, $focusedElement)\r\n    },\r\n    _focus: function($cell, disableFocus, skipFocusEvent) {\r\n        var $row = $cell && !$cell.hasClass(ROW_CLASS) ? $cell.closest(\".\".concat(ROW_CLASS)) : $cell;\r\n        if ($row && isNotFocusedRow($row)) {\r\n            return\r\n        }\r\n        var focusedView = this._focusedView;\r\n        var $focusViewElement = focusedView && focusedView.element();\r\n        var $focusElement;\r\n        this._isHiddenFocus = disableFocus;\r\n        var isRowFocus = isGroupRow($row) || this.isRowFocusType();\r\n        if (isRowFocus) {\r\n            $focusElement = $row;\r\n            if (focusedView) {\r\n                this.setFocusedRowIndex(this._getRowIndex($row))\r\n            }\r\n        } else if (isCellElement($cell)) {\r\n            $focusElement = $cell;\r\n            this._updateFocusedCellPosition($cell)\r\n        }\r\n        if ($focusElement) {\r\n            if ($focusViewElement) {\r\n                $focusViewElement.find(\".dx-row[tabindex], .dx-row > td[tabindex]\").not($focusElement).removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabindex\")\r\n            }\r\n            eventsEngine.one($focusElement, \"blur\", e => {\r\n                if (e.relatedTarget) {\r\n                    $focusElement.removeClass(CELL_FOCUS_DISABLED_CLASS)\r\n                }\r\n            });\r\n            if (!skipFocusEvent) {\r\n                this._applyTabIndexToElement($focusElement);\r\n                eventsEngine.trigger($focusElement, \"focus\")\r\n            }\r\n            if (disableFocus) {\r\n                $focusElement.addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                if (isRowFocus) {\r\n                    $cell.addClass(CELL_FOCUS_DISABLED_CLASS)\r\n                }\r\n            } else {\r\n                this._editorFactory.focus($focusElement)\r\n            }\r\n        }\r\n    },\r\n    _updateFocus: function(isRenderView) {\r\n        this._updateFocusTimeout = setTimeout(() => {\r\n            var editingController = this._editingController;\r\n            var isCellEditMode = editingController.getEditMode() === EDIT_MODE_CELL;\r\n            var isBatchEditMode = editingController.getEditMode() === EDIT_MODE_BATCH;\r\n            if (isCellEditMode && editingController.hasChanges() || isBatchEditMode && editingController.isNewRowInEditMode()) {\r\n                editingController._focusEditingCell();\r\n                return\r\n            }\r\n            var $cell = this._getFocusedCell();\r\n            var isEditing = editingController.isEditing();\r\n            if ($cell && !(this._isMasterDetailCell($cell) && !this._isRowEditMode())) {\r\n                if (this._hasSkipRow($cell.parent())) {\r\n                    var direction = this._focusedCellPosition && this._focusedCellPosition.rowIndex > 0 ? \"upArrow\" : \"downArrow\";\r\n                    $cell = this._getNextCell(direction)\r\n                }\r\n                if (isElementDefined($cell)) {\r\n                    if (isRenderView && !isEditing && this._checkCellOverlapped($cell)) {\r\n                        return\r\n                    }\r\n                    if ($cell.is(\"td\") || $cell.hasClass(this.addWidgetPrefix(EDIT_FORM_ITEM_CLASS))) {\r\n                        var isCommandCell = $cell.is(COMMAND_CELL_SELECTOR);\r\n                        var $focusedElementInsideCell = $cell.find(\":focus\");\r\n                        var isFocusedElementDefined = isElementDefined($focusedElementInsideCell);\r\n                        if ((isRenderView || !isCommandCell) && this._editorFactory.focus()) {\r\n                            if (isCommandCell && isFocusedElementDefined) {\r\n                                gridCoreUtils.focusAndSelectElement(this, $focusedElementInsideCell);\r\n                                return\r\n                            }!isFocusedElementDefined && this._focus($cell)\r\n                        } else if (!isFocusedElementDefined && (this._isNeedFocus || this._isHiddenFocus)) {\r\n                            this._focus($cell, this._isHiddenFocus)\r\n                        }\r\n                        if (isEditing) {\r\n                            this._focusInteractiveElement.bind(this)($cell)\r\n                        }\r\n                    } else {\r\n                        eventsEngine.trigger($cell, \"focus\")\r\n                    }\r\n                }\r\n            }\r\n        })\r\n    },\r\n    _checkCellOverlapped: function($cell) {\r\n        var cellOffset = $cell.offset();\r\n        var hasScrollable = this.component.getScrollable && this.component.getScrollable();\r\n        var isOverlapped = false;\r\n        if (hasScrollable) {\r\n            if (cellOffset.left < 0) {\r\n                isOverlapped = getWidth($cell) + cellOffset.left <= 0\r\n            } else if (cellOffset.top < 0) {\r\n                isOverlapped = getHeight($cell) + cellOffset.top <= 0\r\n            }\r\n        }\r\n        return isOverlapped\r\n    },\r\n    _getFocusedCell: function() {\r\n        return $(this._getCell(this._focusedCellPosition))\r\n    },\r\n    _updateFocusedCellPositionByTarget: function(target) {\r\n        var _this$_focusedCellPos;\r\n        var elementType = this._getElementType(target);\r\n        if (\"row\" === elementType && isDefined(null === (_this$_focusedCellPos = this._focusedCellPosition) || void 0 === _this$_focusedCellPos ? void 0 : _this$_focusedCellPos.columnIndex)) {\r\n            var $row = $(target);\r\n            this._focusedView && isGroupRow($row) && this.setFocusedRowIndex(this._getRowIndex($row))\r\n        } else {\r\n            this._updateFocusedCellPosition(this._getCellElementFromTarget(target))\r\n        }\r\n    },\r\n    _updateFocusedCellPosition: function($cell, direction) {\r\n        var position = this._getCellPosition($cell, direction);\r\n        if (position) {\r\n            if (!$cell.length || position.rowIndex >= 0 && position.columnIndex >= 0) {\r\n                this.setFocusedCellPosition(position.rowIndex, position.columnIndex)\r\n            }\r\n        }\r\n        return position\r\n    },\r\n    _getFocusedColumnIndexOffset: function(columnIndex) {\r\n        var offset = 0;\r\n        var column = this._columnsController.getVisibleColumns()[columnIndex];\r\n        if (column && column.fixed) {\r\n            offset = this._getFixedColumnIndexOffset(column)\r\n        } else if (columnIndex >= 0) {\r\n            offset = this._columnsController.getColumnIndexOffset()\r\n        }\r\n        return offset\r\n    },\r\n    _getFixedColumnIndexOffset: function(column) {\r\n        var offset = isFixedColumnIndexOffsetRequired(this, column) ? this._getVisibleColumnCount() - this._columnsController.getVisibleColumns().length : 0;\r\n        return offset\r\n    },\r\n    _getCellPosition: function($cell, direction) {\r\n        var columnIndex;\r\n        var $row = isElementDefined($cell) && $cell.closest(\"tr\");\r\n        var rowsView = this.getView(\"rowsView\");\r\n        if (isElementDefined($row)) {\r\n            var rowIndex = this._getRowIndex($row);\r\n            columnIndex = rowsView.getCellIndex($cell, rowIndex);\r\n            columnIndex += this._getFocusedColumnIndexOffset(columnIndex);\r\n            if (direction) {\r\n                columnIndex = \"previous\" === direction ? columnIndex - 1 : columnIndex + 1;\r\n                columnIndex = this._applyColumnIndexBoundaries(columnIndex)\r\n            }\r\n            return {\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            }\r\n        }\r\n    },\r\n    _focusCell: function($cell, isDisabled) {\r\n        if (this._isCellValid($cell)) {\r\n            this._focus($cell, isDisabled);\r\n            return true\r\n        }\r\n    },\r\n    _focusEditFormCell: function($cell) {\r\n        if ($cell.hasClass(MASTER_DETAIL_CELL_CLASS)) {\r\n            this._editorFactory.focus($cell, true)\r\n        }\r\n    },\r\n    _resetFocusedCell: function(preventScroll) {\r\n        var _this$_focusedView;\r\n        var $cell = this._getFocusedCell();\r\n        isElementDefined($cell) && $cell.removeAttr(\"tabindex\");\r\n        this._isNeedFocus = false;\r\n        this._isNeedScroll = false;\r\n        this._focusedCellPosition = {};\r\n        clearTimeout(this._updateFocusTimeout);\r\n        null === (_this$_focusedView = this._focusedView) || void 0 === _this$_focusedView ? void 0 : _this$_focusedView.renderFocusState({\r\n            preventScroll: preventScroll\r\n        })\r\n    },\r\n    restoreFocusableElement: function(rowIndex, $event) {\r\n        var args;\r\n        var $rowElement;\r\n        var isUpArrow = isDefined(rowIndex);\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var $rowsViewElement = rowsView.element();\r\n        var columnIndex = this._focusedCellPosition.columnIndex;\r\n        var rowIndexOffset = this._dataController.getRowIndexOffset();\r\n        rowIndex = isUpArrow ? rowIndex : rowsView.getTopVisibleItemIndex() + rowIndexOffset;\r\n        if (!isUpArrow) {\r\n            this._editorFactory.loseFocus();\r\n            this._applyTabIndexToElement($rowsViewElement);\r\n            eventsEngine.trigger($rowsViewElement, \"focus\")\r\n        } else {\r\n            $rowElement = rowsView.getRow(rowIndex - rowIndexOffset);\r\n            args = this._fireFocusedRowChanging($event, $rowElement);\r\n            if (!args.cancel && args.rowIndexChanged) {\r\n                rowIndex = args.newRowIndex\r\n            }\r\n        }\r\n        if (!isUpArrow || !args.cancel) {\r\n            this.setFocusedCellPosition(rowIndex, columnIndex)\r\n        }\r\n        isUpArrow && this._updateFocus()\r\n    },\r\n    _getNewPositionByCode: function(cellPosition, elementType, code) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var rowIndex = cellPosition.rowIndex;\r\n        var visibleColumnsCount;\r\n        if (void 0 === cellPosition.rowIndex && \"next\" === code) {\r\n            return {\r\n                columnIndex: 0,\r\n                rowIndex: 0\r\n            }\r\n        }\r\n        switch (code) {\r\n            case \"nextInRow\":\r\n            case \"next\":\r\n                visibleColumnsCount = this._getVisibleColumnCount();\r\n                if (columnIndex < visibleColumnsCount - 1 && \"row\" !== elementType && this._hasValidCellAfterPosition({\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })) {\r\n                    columnIndex++\r\n                } else if (!this._isLastRow(rowIndex) && \"next\" === code) {\r\n                    columnIndex = 0;\r\n                    rowIndex++\r\n                }\r\n                break;\r\n            case \"previousInRow\":\r\n            case \"previous\":\r\n                if (columnIndex > 0 && \"row\" !== elementType && this._hasValidCellBeforePosition({\r\n                        columnIndex: columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })) {\r\n                    columnIndex--\r\n                } else if (rowIndex > 0 && \"previous\" === code) {\r\n                    rowIndex--;\r\n                    visibleColumnsCount = this._getVisibleColumnCount();\r\n                    columnIndex = visibleColumnsCount - 1\r\n                }\r\n                break;\r\n            case \"upArrow\":\r\n                rowIndex = rowIndex > 0 ? rowIndex - 1 : rowIndex;\r\n                break;\r\n            case \"downArrow\":\r\n                rowIndex = !this._isLastRow(rowIndex) ? rowIndex + 1 : rowIndex\r\n        }\r\n        return {\r\n            columnIndex: columnIndex,\r\n            rowIndex: rowIndex\r\n        }\r\n    },\r\n    setFocusedCellPosition: function(rowIndex, columnIndex) {\r\n        this.setFocusedRowIndex(rowIndex);\r\n        this.setFocusedColumnIndex(columnIndex)\r\n    },\r\n    setFocusedRowIndex: function(rowIndex) {\r\n        if (!this._focusedCellPosition) {\r\n            this._focusedCellPosition = {}\r\n        }\r\n        this._focusedCellPosition.rowIndex = rowIndex\r\n    },\r\n    setFocusedColumnIndex: function(columnIndex) {\r\n        if (!this._focusedCellPosition) {\r\n            this._focusedCellPosition = {}\r\n        }\r\n        this._focusedCellPosition.columnIndex = columnIndex\r\n    },\r\n    getRowIndex: function() {\r\n        return this._focusedCellPosition ? this._focusedCellPosition.rowIndex : -1\r\n    },\r\n    getColumnIndex: function() {\r\n        return this._focusedCellPosition ? this._focusedCellPosition.columnIndex : -1\r\n    },\r\n    getVisibleRowIndex: function() {\r\n        var rowIndex = this._focusedCellPosition && this._focusedCellPosition.rowIndex;\r\n        if (!isDefined(rowIndex) || rowIndex < 0) {\r\n            return -1\r\n        }\r\n        return rowIndex - this._dataController.getRowIndexOffset()\r\n    },\r\n    getVisibleColumnIndex: function() {\r\n        var columnIndex = this._focusedCellPosition && this._focusedCellPosition.columnIndex;\r\n        if (!isDefined(columnIndex)) {\r\n            return -1\r\n        }\r\n        return columnIndex - this._columnsController.getColumnIndexOffset()\r\n    },\r\n    _applyColumnIndexBoundaries: function(columnIndex) {\r\n        var visibleColumnsCount = this._getVisibleColumnCount();\r\n        if (columnIndex < 0) {\r\n            columnIndex = 0\r\n        } else if (columnIndex >= visibleColumnsCount) {\r\n            columnIndex = visibleColumnsCount - 1\r\n        }\r\n        return columnIndex\r\n    },\r\n    _isCellByPositionValid: function(cellPosition) {\r\n        var $cell = $(this._getCell(cellPosition));\r\n        return this._isCellValid($cell)\r\n    },\r\n    _isLastRow: function(rowIndex) {\r\n        var dataController = this._dataController;\r\n        if (this._isVirtualRowRender()) {\r\n            return rowIndex >= dataController.getMaxRowIndex()\r\n        }\r\n        return rowIndex === dataController.items().length - 1\r\n    },\r\n    _isFirstValidCell: function(cellPosition) {\r\n        var isFirstValidCell = false;\r\n        if (0 === cellPosition.rowIndex && cellPosition.columnIndex >= 0) {\r\n            isFirstValidCell = isFirstValidCell || !this._hasValidCellBeforePosition(cellPosition)\r\n        }\r\n        return isFirstValidCell\r\n    },\r\n    _hasValidCellBeforePosition: function(cellPosition) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var hasValidCells = false;\r\n        while (columnIndex > 0 && !hasValidCells) {\r\n            var checkingPosition = {\r\n                columnIndex: --columnIndex,\r\n                rowIndex: cellPosition.rowIndex\r\n            };\r\n            hasValidCells = this._isCellByPositionValid(checkingPosition)\r\n        }\r\n        return hasValidCells\r\n    },\r\n    _hasValidCellAfterPosition: function(cellPosition) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var hasValidCells = false;\r\n        var visibleColumnCount = this._getVisibleColumnCount();\r\n        while (columnIndex < visibleColumnCount - 1 && !hasValidCells) {\r\n            var checkingPosition = {\r\n                columnIndex: ++columnIndex,\r\n                rowIndex: cellPosition.rowIndex\r\n            };\r\n            hasValidCells = this._isCellByPositionValid(checkingPosition)\r\n        }\r\n        return hasValidCells\r\n    },\r\n    _isLastValidCell: function(cellPosition) {\r\n        var nextColumnIndex = cellPosition.columnIndex >= 0 ? cellPosition.columnIndex + 1 : 0;\r\n        var rowIndex = cellPosition.rowIndex;\r\n        var checkingPosition = {\r\n            columnIndex: nextColumnIndex,\r\n            rowIndex: rowIndex\r\n        };\r\n        var visibleRows = this._dataController.getVisibleRows();\r\n        var row = visibleRows && visibleRows[rowIndex];\r\n        var isLastRow = this._isLastRow(rowIndex);\r\n        if (!isLastRow) {\r\n            return false\r\n        }\r\n        if (row && \"group\" === row.rowType && cellPosition.columnIndex > 0) {\r\n            return true\r\n        }\r\n        if (cellPosition.columnIndex === this._getVisibleColumnCount() - 1) {\r\n            return true\r\n        }\r\n        if (this._isCellByPositionValid(checkingPosition)) {\r\n            return false\r\n        }\r\n        return this._isLastValidCell(checkingPosition)\r\n    },\r\n    _isCellValid: function($cell, isClick) {\r\n        if (isElementDefined($cell)) {\r\n            var rowsView = this.getView(\"rowsView\");\r\n            var $row = $cell.parent();\r\n            var columnsController = this._columnsController;\r\n            var columnIndex = rowsView.getCellIndex($cell) + columnsController.getColumnIndexOffset();\r\n            var column = columnsController.getVisibleColumns(null, true)[columnIndex];\r\n            var visibleColumnCount = this._getVisibleColumnCount();\r\n            var editingController = this._editingController;\r\n            var isMasterDetailRow = isDetailRow($row);\r\n            var isShowWhenGrouped = column && column.showWhenGrouped;\r\n            var isDataCell = column && !$cell.hasClass(COMMAND_EXPAND_CLASS) && isDataRow($row);\r\n            if (this._isMasterDetailCell($cell)) {\r\n                return true\r\n            }\r\n            if (visibleColumnCount > columnIndex && (!isMasterDetailRow && column && (!isDefined(column.groupIndex) || isShowWhenGrouped && isDataCell) || parseInt($cell.attr(\"colspan\")) > 1)) {\r\n                var rowItems = this._dataController.items();\r\n                var visibleRowIndex = rowsView.getRowIndex($row);\r\n                var row = rowItems[visibleRowIndex];\r\n                var isCellEditing = editingController && this._isCellEditMode() && editingController.isEditing();\r\n                var isRowEditingInCurrentRow = editingController && editingController.isEditRow(visibleRowIndex);\r\n                var isEditing = isRowEditingInCurrentRow || isCellEditing;\r\n                if (column.command) {\r\n                    if (this._isLegacyNavigation()) {\r\n                        return !isEditing && \"expand\" === column.command\r\n                    }\r\n                    if (isCellEditing) {\r\n                        return false\r\n                    }\r\n                    if (isRowEditingInCurrentRow) {\r\n                        return \"select\" !== column.command\r\n                    }\r\n                    return !isEditing\r\n                }\r\n                if (isCellEditing && row && \"data\" !== row.rowType) {\r\n                    return false\r\n                }\r\n                return !isEditing || column.allowEditing || isClick\r\n            }\r\n        }\r\n    },\r\n    getFirstValidCellInRow: function($row, columnIndex) {\r\n        var $cells = $row.find(\"> td\");\r\n        var $cell;\r\n        var $result;\r\n        columnIndex = columnIndex || 0;\r\n        for (var i = columnIndex; i < $cells.length; ++i) {\r\n            $cell = $cells.eq(i);\r\n            if (this._isCellValid($cell)) {\r\n                $result = $cell;\r\n                break\r\n            }\r\n        }\r\n        return $result\r\n    },\r\n    _getNextCell: function(keyCode, elementType, cellPosition) {\r\n        var focusedCellPosition = cellPosition || this._focusedCellPosition;\r\n        var isRowFocusType = this.isRowFocusType();\r\n        var includeCommandCells = isRowFocusType || inArray(keyCode, [\"next\", \"previous\"]) > -1;\r\n        var $cell;\r\n        var $row;\r\n        if (this._focusedView && focusedCellPosition) {\r\n            var newFocusedCellPosition = this._getNewPositionByCode(focusedCellPosition, elementType, keyCode);\r\n            $cell = $(this._getCell(newFocusedCellPosition));\r\n            var isLastCellOnDirection = \"previous\" === keyCode ? this._isFirstValidCell(newFocusedCellPosition) : this._isLastValidCell(newFocusedCellPosition);\r\n            if (isElementDefined($cell) && !this._isCellValid($cell) && this._isCellInRow(newFocusedCellPosition, includeCommandCells) && !isLastCellOnDirection) {\r\n                if (isRowFocusType) {\r\n                    $cell = this.getFirstValidCellInRow($cell.parent(), newFocusedCellPosition.columnIndex)\r\n                } else {\r\n                    $cell = this._getNextCell(keyCode, \"cell\", newFocusedCellPosition)\r\n                }\r\n            }\r\n            $row = isElementDefined($cell) && $cell.parent();\r\n            if (this._hasSkipRow($row)) {\r\n                var rowIndex = this._getRowIndex($row);\r\n                if (!this._isLastRow(rowIndex)) {\r\n                    $cell = this._getNextCell(keyCode, \"row\", {\r\n                        columnIndex: focusedCellPosition.columnIndex,\r\n                        rowIndex: rowIndex\r\n                    })\r\n                } else {\r\n                    return null\r\n                }\r\n            }\r\n            return isElementDefined($cell) ? $cell : null\r\n        }\r\n        return null\r\n    },\r\n    _startEditing: function(eventArgs, fastEditingKey) {\r\n        var focusedCellPosition = this._focusedCellPosition;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var visibleColumnIndex = this.getVisibleColumnIndex();\r\n        var row = this._dataController.items()[visibleRowIndex];\r\n        var column = this._columnsController.getVisibleColumns()[visibleColumnIndex];\r\n        if (this._isAllowEditing(row, column)) {\r\n            if (this._isRowEditMode()) {\r\n                this._editingController.editRow(visibleRowIndex)\r\n            } else if (focusedCellPosition) {\r\n                this._startEditCell(eventArgs, fastEditingKey)\r\n            }\r\n        }\r\n    },\r\n    _isAllowEditing: function(row, column) {\r\n        return this._editingController.allowUpdating({\r\n            row: row\r\n        }) && column && column.allowEditing\r\n    },\r\n    _editFocusedCell: function() {\r\n        var rowIndex = this.getVisibleRowIndex();\r\n        var colIndex = this.getVisibleColumnIndex();\r\n        return this._editingController.editCell(rowIndex, colIndex)\r\n    },\r\n    _startEditCell: function(eventArgs, fastEditingKey) {\r\n        this._fastEditingStarted = isDefined(fastEditingKey);\r\n        var editResult = this._editFocusedCell();\r\n        if (this._isFastEditingStarted()) {\r\n            if (true === editResult) {\r\n                this._editingCellHandler(eventArgs, fastEditingKey)\r\n            } else if (editResult && editResult.done) {\r\n                var editorValue = fastEditingKey !== FAST_EDITING_DELETE_KEY ? fastEditingKey : \"\";\r\n                editResult.done(() => this._editingCellHandler(eventArgs, editorValue))\r\n            }\r\n        }\r\n    },\r\n    _editingCellHandler: function(eventArgs, editorValue) {\r\n        var _$input$get$select, _$input$get;\r\n        var $input = this._getFocusedCell().find(INTERACTIVE_ELEMENTS_SELECTOR).eq(0);\r\n        var keyDownEvent = createEvent(eventArgs, {\r\n            type: \"keydown\",\r\n            target: $input.get(0)\r\n        });\r\n        var keyPressEvent = createEvent(eventArgs, {\r\n            type: \"keypress\",\r\n            target: $input.get(0)\r\n        });\r\n        var inputEvent = createEvent(eventArgs, {\r\n            type: \"input\",\r\n            target: $input.get(0)\r\n        });\r\n        null === (_$input$get$select = (_$input$get = $input.get(0)).select) || void 0 === _$input$get$select ? void 0 : _$input$get$select.call(_$input$get);\r\n        eventsEngine.trigger($input, keyDownEvent);\r\n        if (!keyDownEvent.isDefaultPrevented()) {\r\n            eventsEngine.trigger($input, keyPressEvent);\r\n            if (!keyPressEvent.isDefaultPrevented()) {\r\n                var timeout = browser.mozilla ? 25 : 0;\r\n                setTimeout(() => {\r\n                    $input.val(editorValue);\r\n                    var $widgetContainer = $input.closest(\".\".concat(WIDGET_CLASS));\r\n                    eventsEngine.off($widgetContainer, \"focusout\");\r\n                    eventsEngine.one($widgetContainer, \"focusout\", (function() {\r\n                        eventsEngine.trigger($input, \"change\")\r\n                    }));\r\n                    eventsEngine.trigger($input, inputEvent)\r\n                }, timeout)\r\n            }\r\n        }\r\n    },\r\n    _fireFocusChangingEvents: function($event, $cell, fireRowEvent, isHighlighted) {\r\n        var args = {};\r\n        var cellPosition = this._getCellPosition($cell) || {};\r\n        if (this.isCellFocusType()) {\r\n            args = this._fireFocusedCellChanging($event, $cell, isHighlighted);\r\n            if (!args.cancel) {\r\n                cellPosition.columnIndex = args.newColumnIndex;\r\n                cellPosition.rowIndex = args.newRowIndex;\r\n                isHighlighted = args.isHighlighted;\r\n                $cell = $(this._getCell(cellPosition))\r\n            }\r\n        }\r\n        if (!args.cancel && fireRowEvent && $cell) {\r\n            args = this._fireFocusedRowChanging($event, $cell.parent());\r\n            if (!args.cancel) {\r\n                cellPosition.rowIndex = args.newRowIndex;\r\n                args.isHighlighted = isHighlighted\r\n            }\r\n        }\r\n        args.$newCellElement = $(this._getCell(cellPosition));\r\n        if (!args.$newCellElement.length) {\r\n            args.$newCellElement = $cell\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedCellChanging: function($event, $cellElement, isHighlighted) {\r\n        var prevCellIndex = this.option(\"focusedColumnIndex\");\r\n        var prevRowIndex = this.option(\"focusedRowIndex\");\r\n        var cellPosition = this._getCellPosition($cellElement);\r\n        var columnIndex = cellPosition ? cellPosition.columnIndex : -1;\r\n        var rowIndex = cellPosition ? cellPosition.rowIndex : -1;\r\n        var args = {\r\n            cellElement: $cellElement,\r\n            prevColumnIndex: prevCellIndex,\r\n            prevRowIndex: prevRowIndex,\r\n            newColumnIndex: columnIndex,\r\n            newRowIndex: rowIndex,\r\n            rows: this._dataController.getVisibleRows(),\r\n            columns: this._columnsController.getVisibleColumns(),\r\n            event: $event,\r\n            isHighlighted: isHighlighted || false,\r\n            cancel: false\r\n        };\r\n        this._canceledCellPosition = null;\r\n        this.executeAction(\"onFocusedCellChanging\", args);\r\n        if (args.newColumnIndex !== columnIndex || args.newRowIndex !== rowIndex) {\r\n            args.$newCellElement = $(this._getCell({\r\n                columnIndex: args.newColumnIndex,\r\n                rowIndex: args.newRowIndex\r\n            }))\r\n        }\r\n        if (args.cancel) {\r\n            this._canceledCellPosition = {\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            }\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedCellChanged: function($cellElement, prevCellIndex, prevRowIndex) {\r\n        var dataController = this._dataController;\r\n        var columnIndex = this.getView(\"rowsView\").getCellIndex($cellElement);\r\n        var rowIndex = this._getRowIndex($cellElement && $cellElement.parent());\r\n        var localRowIndex = Math.min(rowIndex - dataController.getRowIndexOffset(), dataController.items().length - 1);\r\n        var isEditingCell = this._editingController.isEditCell(localRowIndex, columnIndex);\r\n        var row = dataController.items()[localRowIndex];\r\n        if (!isEditingCell && (prevCellIndex !== columnIndex || prevRowIndex !== rowIndex)) {\r\n            this.executeAction(\"onFocusedCellChanged\", {\r\n                cellElement: $cellElement,\r\n                columnIndex: columnIndex,\r\n                rowIndex: rowIndex,\r\n                row: row,\r\n                column: this._columnsController.getVisibleColumns()[columnIndex]\r\n            })\r\n        }\r\n    },\r\n    _fireFocusedRowChanging: function(eventArgs, $newFocusedRow) {\r\n        var newRowIndex = this._getRowIndex($newFocusedRow);\r\n        var dataController = this._dataController;\r\n        var prevFocusedRowIndex = this.option(\"focusedRowIndex\");\r\n        var loadingOperationTypes = dataController.loadingOperationTypes();\r\n        var args = {\r\n            rowElement: $newFocusedRow,\r\n            prevRowIndex: prevFocusedRowIndex,\r\n            newRowIndex: newRowIndex,\r\n            event: eventArgs,\r\n            rows: dataController.getVisibleRows(),\r\n            cancel: false\r\n        };\r\n        if (!dataController || dataController.isLoading() && (loadingOperationTypes.reload || loadingOperationTypes.paging)) {\r\n            args.cancel = true;\r\n            return args\r\n        }\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            this.executeAction(\"onFocusedRowChanging\", args);\r\n            if (!args.cancel && args.newRowIndex !== newRowIndex) {\r\n                args.resetFocusedRow = args.newRowIndex < 0;\r\n                if (!args.resetFocusedRow) {\r\n                    this.setFocusedRowIndex(args.newRowIndex)\r\n                }\r\n                args.rowIndexChanged = true\r\n            }\r\n        }\r\n        return args\r\n    },\r\n    _fireFocusedRowChanged: function($rowElement) {\r\n        var row;\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        var focusController = this.getController(\"focus\");\r\n        var focusedRowIndex = null === focusController || void 0 === focusController ? void 0 : focusController.getFocusedRowIndexByKey(focusedRowKey);\r\n        if (this.option(\"focusedRowEnabled\")) {\r\n            if (focusedRowIndex >= 0) {\r\n                var dataController = this._dataController;\r\n                row = focusedRowIndex >= 0 && dataController.getVisibleRows()[focusedRowIndex - dataController.getRowIndexOffset()]\r\n            }\r\n            this.executeAction(\"onFocusedRowChanged\", {\r\n                rowElement: $rowElement,\r\n                rowIndex: focusedRowIndex,\r\n                row: row\r\n            })\r\n        }\r\n    },\r\n    _isEventInCurrentGrid: function(event) {\r\n        return gridCoreUtils.isElementInCurrentGrid(this, $(event.target))\r\n    },\r\n    _isRowEditMode: function() {\r\n        var editMode = this._editingController.getEditMode();\r\n        return editMode === EDIT_MODE_ROW || editMode === EDIT_MODE_FORM\r\n    },\r\n    _isCellEditMode: function() {\r\n        var editMode = this._editingController.getEditMode();\r\n        return editMode === EDIT_MODE_CELL || editMode === EDIT_MODE_BATCH\r\n    },\r\n    _isFastEditingAllowed: function() {\r\n        return this._isCellEditMode() && this.option(\"keyboardNavigation.editOnKeyPress\")\r\n    },\r\n    _getInteractiveElement: function($cell, isLast) {\r\n        var $focusedElement = $cell.find(INTERACTIVE_ELEMENTS_SELECTOR).filter(\":visible\");\r\n        return isLast ? $focusedElement.last() : $focusedElement.first()\r\n    },\r\n    _applyTabIndexToElement: function($element) {\r\n        var tabIndex = this.option(\"tabIndex\") || 0;\r\n        $element.attr(\"tabindex\", isDefined(tabIndex) ? tabIndex : 0)\r\n    },\r\n    _getCell: function(cellPosition) {\r\n        if (this._focusedView && cellPosition) {\r\n            var rowIndexOffset = this._dataController.getRowIndexOffset();\r\n            var column = this._columnsController.getVisibleColumns(null, true)[cellPosition.columnIndex];\r\n            var columnIndexOffset = column && column.fixed ? this._getFixedColumnIndexOffset(column) : this._columnsController.getColumnIndexOffset();\r\n            var rowIndex = cellPosition.rowIndex >= 0 ? cellPosition.rowIndex - rowIndexOffset : -1;\r\n            var columnIndex = cellPosition.columnIndex >= 0 ? cellPosition.columnIndex - columnIndexOffset : -1;\r\n            return this._focusedView.getCell({\r\n                rowIndex: rowIndex,\r\n                columnIndex: columnIndex\r\n            })\r\n        }\r\n    },\r\n    _getRowIndex: function($row) {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        var rowIndex = rowsView.getRowIndex($row);\r\n        if (rowIndex >= 0) {\r\n            rowIndex += this._dataController.getRowIndexOffset()\r\n        }\r\n        return rowIndex\r\n    },\r\n    _hasSkipRow: function($row) {\r\n        var row = $row && $row.get(0);\r\n        return row && (\"none\" === row.style.display || $row.hasClass(this.addWidgetPrefix(GROUP_FOOTER_CLASS)) || isDetailRow($row) && !$row.hasClass(this.addWidgetPrefix(EDIT_FORM_CLASS)))\r\n    },\r\n    _allowEditingOnEnterKey: function() {\r\n        return \"startEdit\" === this.option(\"keyboardNavigation.enterKeyAction\")\r\n    },\r\n    _isLegacyNavigation: function() {\r\n        return this.option(\"useLegacyKeyboardNavigation\")\r\n    },\r\n    _getDirectionCodeByKey: function(key) {\r\n        var directionCode;\r\n        switch (key) {\r\n            case \"upArrow\":\r\n                directionCode = \"prevRow\";\r\n                break;\r\n            case \"downArrow\":\r\n                directionCode = \"nextRow\";\r\n                break;\r\n            case \"leftArrow\":\r\n                directionCode = this.option(\"rtlEnabled\") ? \"nextInRow\" : \"previousInRow\";\r\n                break;\r\n            case \"rightArrow\":\r\n                directionCode = this.option(\"rtlEnabled\") ? \"previousInRow\" : \"nextInRow\"\r\n        }\r\n        return directionCode\r\n    },\r\n    _isVirtualScrolling: function() {\r\n        var scrollingMode = this.option(\"scrolling.mode\");\r\n        return \"virtual\" === scrollingMode || \"infinite\" === scrollingMode\r\n    },\r\n    _isVirtualRowRender: function() {\r\n        return this._isVirtualScrolling() || gridCoreUtils.isVirtualRowRendering(this)\r\n    },\r\n    _isVirtualColumnRender: function() {\r\n        return \"virtual\" === this.option(\"scrolling.columnRenderingMode\")\r\n    },\r\n    _scrollBy: function(left, top, rowIndex, $event) {\r\n        var that = this;\r\n        var scrollable = this.getView(\"rowsView\").getScrollable();\r\n        if (that._focusedCellPosition) {\r\n            scrollable.on(\"scroll\", (function scrollHandler() {\r\n                scrollable.off(\"scroll\", scrollHandler);\r\n                setTimeout(that.restoreFocusableElement.bind(that, rowIndex, $event))\r\n            }))\r\n        }\r\n        return scrollable.scrollBy({\r\n            left: left,\r\n            top: top\r\n        })\r\n    },\r\n    _isInsideEditForm: function(element) {\r\n        return $(element).closest(\".\" + this.addWidgetPrefix(EDIT_FORM_CLASS)).length > 0\r\n    },\r\n    _isMasterDetailCell: function(element) {\r\n        var $masterDetailCell = $(element).closest(\".\" + MASTER_DETAIL_CELL_CLASS);\r\n        var $masterDetailGrid = $masterDetailCell.closest(\".\" + this.getWidgetContainerClass()).parent();\r\n        return $masterDetailCell.length && $masterDetailGrid.is(this.component.$element())\r\n    },\r\n    _processNextCellInMasterDetail: function($nextCell) {\r\n        if (!this._isInsideEditForm($nextCell) && $nextCell) {\r\n            this._applyTabIndexToElement($nextCell)\r\n        }\r\n    },\r\n    _handleTabKeyOnMasterDetailCell: function(target, direction) {\r\n        if (this._isMasterDetailCell(target)) {\r\n            this._updateFocusedCellPosition($(target), direction);\r\n            var $nextCell = this._getNextCell(direction, \"row\");\r\n            this._processNextCellInMasterDetail($nextCell);\r\n            return true\r\n        }\r\n        return false\r\n    },\r\n    _getElementType: function(target) {\r\n        return $(target).is(\"tr\") ? \"row\" : \"cell\"\r\n    },\r\n    _isFastEditingStarted: function() {\r\n        return this._isFastEditingAllowed() && this._fastEditingStarted\r\n    },\r\n    _getVisibleColumnCount: function() {\r\n        return this._columnsController.getVisibleColumns(null, true).length\r\n    },\r\n    _isCellInRow: function(cellPosition, includeCommandCells) {\r\n        var columnIndex = cellPosition.columnIndex;\r\n        var visibleColumnsCount = this._getVisibleColumnCount();\r\n        return includeCommandCells ? columnIndex >= 0 && columnIndex <= visibleColumnsCount - 1 : columnIndex > 0 && columnIndex < visibleColumnsCount - 1\r\n    },\r\n    _getCellElementFromTarget: function(target) {\r\n        var elementType = this._getElementType(target);\r\n        var $targetElement = $(target);\r\n        var $cell;\r\n        if (\"cell\" === elementType) {\r\n            $cell = $targetElement.closest(\".\".concat(ROW_CLASS, \" > td\"))\r\n        } else {\r\n            $cell = $targetElement.children().not(\".\" + COMMAND_EXPAND_CLASS).first()\r\n        }\r\n        return $cell\r\n    },\r\n    _getRowsViewElement: function() {\r\n        var rowsView = this.getView(\"rowsView\");\r\n        return rowsView && rowsView.element()\r\n    },\r\n    isKeyboardEnabled: function() {\r\n        return this.option(\"keyboardNavigation.enabled\")\r\n    },\r\n    _processCanceledEditCellPosition: function(rowIndex, columnIndex) {\r\n        if (this._canceledCellPosition) {\r\n            var isCanceled = this._canceledCellPosition.rowIndex === rowIndex && this._canceledCellPosition.columnIndex === columnIndex;\r\n            this._canceledCellPosition = null;\r\n            return isCanceled\r\n        }\r\n    },\r\n    updateFocusedRowIndex: function() {\r\n        var dataController = this._dataController;\r\n        var visibleRowIndex = this.getVisibleRowIndex();\r\n        var visibleItems = dataController.items();\r\n        var lastVisibleIndex = visibleItems.length ? visibleItems.length - 1 : -1;\r\n        var rowIndexOffset = dataController.getRowIndexOffset();\r\n        lastVisibleIndex >= 0 && visibleRowIndex > lastVisibleIndex && this.setFocusedRowIndex(lastVisibleIndex + rowIndexOffset)\r\n    }\r\n});\r\nexport var keyboardNavigationModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            useLegacyKeyboardNavigation: false,\r\n            keyboardNavigation: {\r\n                enabled: true,\r\n                enterKeyAction: \"startEdit\",\r\n                enterKeyDirection: \"none\",\r\n                editOnKeyPress: false\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        keyboardNavigation: KeyboardNavigationController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _rowClick: function(e) {\r\n                    var editRowIndex = this.getController(\"editing\").getEditRowIndex();\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    if (editRowIndex === e.rowIndex) {\r\n                        keyboardController.setCellFocusType()\r\n                    }\r\n                    var needTriggerPointerEventHandler = isMobile() && this.option(\"focusedRowEnabled\");\r\n                    if (needTriggerPointerEventHandler) {\r\n                        this._triggerPointerDownEventHandler(e)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _triggerPointerDownEventHandler: function(e) {\r\n                    var originalEvent = e.event.originalEvent;\r\n                    if (originalEvent) {\r\n                        var keyboardController = this.getController(\"keyboardNavigation\");\r\n                        var $cell = $(originalEvent.target);\r\n                        var columnIndex = this.getCellIndex($cell);\r\n                        var column = this.getController(\"columns\").getVisibleColumns()[columnIndex];\r\n                        var row = this.getController(\"data\").items()[e.rowIndex];\r\n                        if (keyboardController._isAllowEditing(row, column)) {\r\n                            var eventArgs = createEvent(originalEvent, {\r\n                                currentTarget: originalEvent.target\r\n                            });\r\n                            keyboardController._pointerEventHandler(eventArgs)\r\n                        }\r\n                    }\r\n                },\r\n                renderFocusState: function(params) {\r\n                    var {\r\n                        preventScroll: preventScroll,\r\n                        pageSizeChanged: pageSizeChanged\r\n                    } = null !== params && void 0 !== params ? params : {};\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var $rowsViewElement = this.element();\r\n                    if ($rowsViewElement && !focused($rowsViewElement)) {\r\n                        $rowsViewElement.attr(\"tabindex\", null)\r\n                    }\r\n                    pageSizeChanged && keyboardController.updateFocusedRowIndex();\r\n                    var rowIndex = keyboardController.getVisibleRowIndex();\r\n                    if (!isDefined(rowIndex) || rowIndex < 0) {\r\n                        rowIndex = 0\r\n                    }\r\n                    var cellElements = this.getCellElements(rowIndex);\r\n                    if (keyboardController.isKeyboardEnabled() && cellElements.length) {\r\n                        this.updateFocusElementTabIndex(cellElements, preventScroll)\r\n                    }\r\n                },\r\n                updateFocusElementTabIndex: function(cellElements) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var $row = cellElements.eq(0).parent();\r\n                    if (isGroupRow($row)) {\r\n                        keyboardController._applyTabIndexToElement($row)\r\n                    } else {\r\n                        var columnIndex = keyboardController.getColumnIndex();\r\n                        if (!isDefined(columnIndex) || columnIndex < 0) {\r\n                            columnIndex = 0\r\n                        }\r\n                        this._updateFocusedCellTabIndex(cellElements, columnIndex)\r\n                    }\r\n                },\r\n                _updateFocusedCellTabIndex: function(cellElements, columnIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var cellElementsLength = cellElements ? cellElements.length : -1;\r\n                    var updateCellTabIndex = function($cell) {\r\n                        var isMasterDetailCell = keyboardController._isMasterDetailCell($cell);\r\n                        var isValidCell = keyboardController._isCellValid($cell);\r\n                        if (!isMasterDetailCell && isValidCell && isCellElement($cell)) {\r\n                            keyboardController._applyTabIndexToElement($cell);\r\n                            keyboardController.setCellFocusType();\r\n                            return true\r\n                        }\r\n                    };\r\n                    var $cell = cellElements.filter(\"[aria-colindex='\".concat(columnIndex + 1, \"']\"));\r\n                    if ($cell.length) {\r\n                        updateCellTabIndex($cell)\r\n                    } else {\r\n                        if (cellElementsLength <= columnIndex) {\r\n                            columnIndex = cellElementsLength - 1\r\n                        }\r\n                        for (var i = columnIndex; i < cellElementsLength; ++i) {\r\n                            if (updateCellTabIndex($(cellElements[i]))) {\r\n                                break\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                renderDelayedTemplates: function(change) {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._renderFocusByChange(change)\r\n                },\r\n                _renderFocusByChange(change) {\r\n                    var {\r\n                        operationTypes: operationTypes,\r\n                        repaintChangesOnly: repaintChangesOnly\r\n                    } = null !== change && void 0 !== change ? change : {};\r\n                    var {\r\n                        fullReload: fullReload,\r\n                        pageSize: pageSize\r\n                    } = null !== operationTypes && void 0 !== operationTypes ? operationTypes : {};\r\n                    if (!change || !repaintChangesOnly || fullReload || pageSize) {\r\n                        var preventScroll = shouldPreventScroll(this);\r\n                        this.renderFocusState({\r\n                            preventScroll: preventScroll,\r\n                            pageSizeChanged: pageSize\r\n                        })\r\n                    }\r\n                },\r\n                _renderCore: function(change) {\r\n                    this.callBase.apply(this, arguments);\r\n                    this._renderFocusByChange(change)\r\n                },\r\n                _editCellPrepared: function($cell) {\r\n                    var editorInstance = this._getEditorInstance($cell);\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var isEditingNavigationMode = keyboardController && keyboardController._isFastEditingStarted();\r\n                    if (editorInstance && isEditingNavigationMode) {\r\n                        this._handleEditingNavigationMode(editorInstance)\r\n                    }\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _handleEditingNavigationMode: function(editorInstance) {\r\n                    [\"downArrow\", \"upArrow\"].forEach((function(keyName) {\r\n                        var originalKeyHandler = editorInstance._supportedKeys()[keyName];\r\n                        editorInstance.registerKeyHandler(keyName, e => {\r\n                            var isDropDownOpened = \"true\" === editorInstance._input().attr(\"aria-expanded\");\r\n                            if (isDropDownOpened) {\r\n                                return originalKeyHandler && originalKeyHandler.call(editorInstance, e)\r\n                            }\r\n                        })\r\n                    }));\r\n                    editorInstance.registerKeyHandler(\"leftArrow\", noop);\r\n                    editorInstance.registerKeyHandler(\"rightArrow\", noop);\r\n                    var isDateBoxWithMask = editorInstance.NAME === DATEBOX_WIDGET_NAME && editorInstance.option(\"useMaskBehavior\");\r\n                    if (isDateBoxWithMask) {\r\n                        editorInstance.registerKeyHandler(\"enter\", noop)\r\n                    }\r\n                },\r\n                _getEditorInstance: function($cell) {\r\n                    var $editor = $cell.find(\".dx-texteditor\").eq(0);\r\n                    return gridCoreUtils.getWidgetInstance($editor)\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            editing: {\r\n                editCell: function(rowIndex, columnIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    if (keyboardController._processCanceledEditCellPosition(rowIndex, columnIndex)) {\r\n                        return false\r\n                    }\r\n                    var isCellEditing = this.callBase(rowIndex, columnIndex);\r\n                    if (isCellEditing) {\r\n                        keyboardController.setupFocusedView()\r\n                    }\r\n                    return isCellEditing\r\n                },\r\n                editRow: function(rowIndex) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var visibleColumnIndex = keyboardController.getVisibleColumnIndex();\r\n                    var column = this._columnsController.getVisibleColumns()[visibleColumnIndex];\r\n                    if (column && column.type || this.option(\"editing.mode\") === EDIT_MODE_FORM) {\r\n                        keyboardController._resetFocusedCell()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                addRow: function(parentKey) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    keyboardController.setupFocusedView();\r\n                    keyboardController.setCellFocusType();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                getFocusedCellInRow: function(rowIndex) {\r\n                    var keyboardNavigationController = this.getController(\"keyboardNavigation\");\r\n                    var $cell = this.callBase(rowIndex);\r\n                    if (keyboardNavigationController.isKeyboardEnabled() && keyboardNavigationController._focusedCellPosition.rowIndex === rowIndex) {\r\n                        var $focusedCell = keyboardNavigationController._getFocusedCell();\r\n                        if (isElementDefined($focusedCell) && !$focusedCell.hasClass(COMMAND_EDIT_CLASS)) {\r\n                            $cell = $focusedCell\r\n                        }\r\n                    }\r\n                    return $cell\r\n                },\r\n                _processCanceledEditingCell: function() {\r\n                    this.closeEditCell().done(() => {\r\n                        var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                        keyboardNavigation._updateFocus()\r\n                    })\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._keyboardNavigationController = this.getController(\"keyboardNavigation\")\r\n                },\r\n                closeEditCell: function() {\r\n                    var keyboardNavigation = this._keyboardNavigationController;\r\n                    keyboardNavigation._fastEditingStarted = false;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    keyboardNavigation._updateFocus();\r\n                    return result\r\n                },\r\n                _delayedInputFocus: function() {\r\n                    this._keyboardNavigationController._isNeedScroll = true;\r\n                    this.callBase.apply(this, arguments)\r\n                },\r\n                _isEditingStart: function() {\r\n                    var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                    var cancel = this.callBase.apply(this, arguments);\r\n                    if (cancel && !keyboardNavigation._isNeedFocus) {\r\n                        var $cell = keyboardNavigation._getFocusedCell();\r\n                        keyboardNavigation._focus($cell, true)\r\n                    }\r\n                    return cancel\r\n                }\r\n            },\r\n            data: {\r\n                _correctRowIndices: function(getRowIndexCorrection) {\r\n                    var that = this;\r\n                    var keyboardNavigationController = that.getController(\"keyboardNavigation\");\r\n                    var editorFactory = that.getController(\"editorFactory\");\r\n                    var focusedCellPosition = keyboardNavigationController._focusedCellPosition;\r\n                    that.callBase.apply(that, arguments);\r\n                    if (focusedCellPosition && focusedCellPosition.rowIndex >= 0) {\r\n                        var focusedRowIndexCorrection = getRowIndexCorrection(focusedCellPosition.rowIndex);\r\n                        if (focusedRowIndexCorrection) {\r\n                            focusedCellPosition.rowIndex += focusedRowIndexCorrection;\r\n                            editorFactory.refocus()\r\n                        }\r\n                    }\r\n                },\r\n                getMaxRowIndex: function() {\r\n                    var result = this.items().length - 1;\r\n                    var virtualItemsCount = this.virtualItemsCount();\r\n                    if (virtualItemsCount) {\r\n                        var rowIndexOffset = this.getRowIndexOffset();\r\n                        result += rowIndexOffset + virtualItemsCount.end\r\n                    }\r\n                    return result\r\n                }\r\n            },\r\n            adaptiveColumns: {\r\n                _showHiddenCellsInView: function(_ref) {\r\n                    var {\r\n                        viewName: viewName,\r\n                        $cells: $cells,\r\n                        isCommandColumn: isCommandColumn\r\n                    } = _ref;\r\n                    this.callBase.apply(this, arguments);\r\n                    viewName === COLUMN_HEADERS_VIEW && !isCommandColumn && $cells.each((_, cellElement) => {\r\n                        var $cell = $(cellElement);\r\n                        isCellInHeaderRow($cell) && $cell.attr(\"tabindex\", 0)\r\n                    })\r\n                },\r\n                _hideVisibleCellInView: function(_ref2) {\r\n                    var {\r\n                        viewName: viewName,\r\n                        $cell: $cell,\r\n                        isCommandColumn: isCommandColumn\r\n                    } = _ref2;\r\n                    this.callBase.apply(this, arguments);\r\n                    if (viewName === COLUMN_HEADERS_VIEW && !isCommandColumn && isCellInHeaderRow($cell)) {\r\n                        $cell.removeAttr(\"tabindex\")\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.keyboard_navigation.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    keyboardNavigationModule\r\n} from \"../grid_core/ui.grid_core.keyboard_navigation\";\r\ngridCore.registerModule(\"keyboardNavigation\", keyboardNavigationModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/aggregate_calculator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    errors\r\n} from \"../../data/errors\";\r\nimport {\r\n    aggregators\r\n} from \"../../data/utils\";\r\n\r\nfunction depthFirstSearch(i, depth, root, callback) {\r\n    var j = 0;\r\n    if (i < depth) {\r\n        for (; j < root.items.length; j++) {\r\n            depthFirstSearch(i + 1, depth, root.items[j], callback)\r\n        }\r\n    }\r\n    if (i === depth) {\r\n        callback(root)\r\n    }\r\n}\r\n\r\nfunction map(array, callback) {\r\n    var i;\r\n    if (\"map\" in array) {\r\n        return array.map(callback)\r\n    }\r\n    var result = new Array(array.length);\r\n    for (i in array) {\r\n        result[i] = callback(array[i], i)\r\n    }\r\n    return result\r\n}\r\n\r\nfunction isEmpty(x) {\r\n    return x !== x || \"\" === x || null === x || void 0 === x\r\n}\r\n\r\nfunction isCount(aggregator) {\r\n    return aggregator === aggregators.count\r\n}\r\n\r\nfunction normalizeAggregate(aggregate) {\r\n    var selector = compileGetter(aggregate.selector);\r\n    var skipEmptyValues = \"skipEmptyValues\" in aggregate ? aggregate.skipEmptyValues : true;\r\n    var aggregator = aggregate.aggregator;\r\n    if (\"string\" === typeof aggregator) {\r\n        aggregator = aggregators[aggregator];\r\n        if (!aggregator) {\r\n            throw errors.Error(\"E4001\", aggregate.aggregator)\r\n        }\r\n    }\r\n    return {\r\n        selector: selector,\r\n        aggregator: aggregator,\r\n        skipEmptyValues: skipEmptyValues\r\n    }\r\n}\r\nexport default Class.inherit({\r\n    ctor: function(options) {\r\n        this._data = options.data;\r\n        this._groupLevel = options.groupLevel || 0;\r\n        this._totalAggregates = map(options.totalAggregates || [], normalizeAggregate);\r\n        this._groupAggregates = map(options.groupAggregates || [], normalizeAggregate);\r\n        this._totals = []\r\n    },\r\n    calculate: function() {\r\n        if (this._totalAggregates.length) {\r\n            this._calculateTotals(0, {\r\n                items: this._data\r\n            })\r\n        }\r\n        if (this._groupAggregates.length && this._groupLevel > 0) {\r\n            this._calculateGroups({\r\n                items: this._data\r\n            })\r\n        }\r\n    },\r\n    totalAggregates: function() {\r\n        return this._totals\r\n    },\r\n    _aggregate: function(aggregates, data, container) {\r\n        var length = data.items ? data.items.length : 0;\r\n        for (var i = 0; i < aggregates.length; i++) {\r\n            if (isCount(aggregates[i].aggregator)) {\r\n                container[i] = (container[i] || 0) + length;\r\n                continue\r\n            }\r\n            for (var j = 0; j < length; j++) {\r\n                this._accumulate(i, aggregates[i], container, data.items[j])\r\n            }\r\n        }\r\n    },\r\n    _calculateTotals: function(level, data) {\r\n        if (0 === level) {\r\n            this._totals = this._seed(this._totalAggregates)\r\n        }\r\n        if (level === this._groupLevel) {\r\n            this._aggregate(this._totalAggregates, data, this._totals)\r\n        } else {\r\n            for (var i = 0; i < data.items.length; i++) {\r\n                this._calculateTotals(level + 1, data.items[i])\r\n            }\r\n        }\r\n        if (0 === level) {\r\n            this._totals = this._finalize(this._totalAggregates, this._totals)\r\n        }\r\n    },\r\n    _calculateGroups: function(root) {\r\n        var maxLevel = this._groupLevel;\r\n        var currentLevel = maxLevel + 1;\r\n        var seedFn = this._seed.bind(this, this._groupAggregates);\r\n        var stepFn = this._aggregate.bind(this, this._groupAggregates);\r\n        var finalizeFn = this._finalize.bind(this, this._groupAggregates);\r\n\r\n        function aggregator(node) {\r\n            node.aggregates = seedFn(currentLevel - 1);\r\n            if (currentLevel === maxLevel) {\r\n                stepFn(node, node.aggregates)\r\n            } else {\r\n                depthFirstSearch(currentLevel, maxLevel, node, (function(innerNode) {\r\n                    stepFn(innerNode, node.aggregates)\r\n                }))\r\n            }\r\n            node.aggregates = finalizeFn(node.aggregates)\r\n        }\r\n        while (--currentLevel > 0) {\r\n            depthFirstSearch(0, currentLevel, root, aggregator)\r\n        }\r\n    },\r\n    _seed: function(aggregates, groupIndex) {\r\n        return map(aggregates, (function(aggregate) {\r\n            var aggregator = aggregate.aggregator;\r\n            var seed = \"seed\" in aggregator ? isFunction(aggregator.seed) ? aggregator.seed(groupIndex) : aggregator.seed : NaN;\r\n            return seed\r\n        }))\r\n    },\r\n    _accumulate: function(aggregateIndex, aggregate, results, item) {\r\n        var value = aggregate.selector(item);\r\n        var aggregator = aggregate.aggregator;\r\n        var skipEmptyValues = aggregate.skipEmptyValues;\r\n        if (skipEmptyValues && isEmpty(value)) {\r\n            return\r\n        }\r\n        if (results[aggregateIndex] !== results[aggregateIndex]) {\r\n            results[aggregateIndex] = value\r\n        } else {\r\n            results[aggregateIndex] = aggregator.step(results[aggregateIndex], value)\r\n        }\r\n    },\r\n    _finalize: function(aggregates, results) {\r\n        return map(aggregates, (function(aggregate, index) {\r\n            var fin = aggregate.aggregator.finalize;\r\n            return fin ? fin(results[index]) : results[index]\r\n        }))\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.summary.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject,\r\n    isString,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport errors from \"../widget/ui.errors\";\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport dataSourceAdapter from \"./ui.data_grid.data_source_adapter\";\r\nimport {\r\n    ColumnsView\r\n} from \"../grid_core/ui.grid_core.columns_view\";\r\nimport AggregateCalculator from \"./aggregate_calculator\";\r\nimport dataQuery from \"../../data/query\";\r\nimport storeHelper from \"../../data/store_helper\";\r\nimport {\r\n    normalizeSortingInfo\r\n} from \"../../data/utils\";\r\nvar DATAGRID_TOTAL_FOOTER_CLASS = \"dx-datagrid-total-footer\";\r\nvar DATAGRID_SUMMARY_ITEM_CLASS = \"dx-datagrid-summary-item\";\r\nvar DATAGRID_TEXT_CONTENT_CLASS = \"dx-datagrid-text-content\";\r\nvar DATAGRID_GROUP_FOOTER_CLASS = \"dx-datagrid-group-footer\";\r\nvar DATAGRID_GROUP_TEXT_CONTENT_CLASS = \"dx-datagrid-group-text-content\";\r\nvar DATAGRID_NOWRAP_CLASS = \"dx-datagrid-nowrap\";\r\nvar DATAGRID_FOOTER_ROW_CLASS = \"dx-footer-row\";\r\nvar DATAGRID_GROUP_FOOTER_ROW_TYPE = \"groupFooter\";\r\nvar DATAGRID_TOTAL_FOOTER_ROW_TYPE = \"totalFooter\";\r\nexport var renderSummaryCell = function(cell, options) {\r\n    var $cell = $(cell);\r\n    var column = options.column;\r\n    var summaryItems = options.summaryItems;\r\n    var $summaryItems = [];\r\n    if (!column.command && summaryItems) {\r\n        for (var i = 0; i < summaryItems.length; i++) {\r\n            var summaryItem = summaryItems[i];\r\n            $summaryItems.push($(\"<div>\").css(\"textAlign\", summaryItem.alignment || column.alignment).addClass(DATAGRID_SUMMARY_ITEM_CLASS).addClass(DATAGRID_TEXT_CONTENT_CLASS).addClass(summaryItem.cssClass).toggleClass(DATAGRID_GROUP_TEXT_CONTENT_CLASS, \"group\" === options.rowType).text(gridCore.getSummaryText(summaryItem, options.summaryTexts)))\r\n        }\r\n        $cell.append($summaryItems)\r\n    }\r\n};\r\nvar getSummaryCellOptions = function(that, options) {\r\n    var summaryTexts = that.option(\"summary.texts\") || {};\r\n    return {\r\n        totalItem: options.row,\r\n        summaryItems: options.row.summaryCells[options.columnIndex],\r\n        summaryTexts: summaryTexts\r\n    }\r\n};\r\nvar getGroupAggregates = function(data) {\r\n    return data.summary || data.aggregates || []\r\n};\r\nvar recalculateWhileEditing = function(that) {\r\n    return that.option(\"summary.recalculateWhileEditing\")\r\n};\r\nexport var FooterView = ColumnsView.inherit({\r\n    _getRows: function() {\r\n        return this._dataController.footerItems()\r\n    },\r\n    _getCellOptions: function(options) {\r\n        return extend(this.callBase(options), getSummaryCellOptions(this, options))\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        renderSummaryCell($cell, options);\r\n        this.callBase($cell, options)\r\n    },\r\n    _renderCore: function(change) {\r\n        var needUpdateScrollLeft = false;\r\n        var totalItem = this._dataController.footerItems()[0];\r\n        if (!change || !change.columnIndices) {\r\n            this.element().empty().addClass(DATAGRID_TOTAL_FOOTER_CLASS).toggleClass(DATAGRID_NOWRAP_CLASS, !this.option(\"wordWrapEnabled\"));\r\n            needUpdateScrollLeft = true\r\n        }\r\n        if (totalItem && totalItem.summaryCells && totalItem.summaryCells.length) {\r\n            this._updateContent(this._renderTable({\r\n                change: change\r\n            }), change);\r\n            needUpdateScrollLeft && this._updateScrollLeftPosition()\r\n        }\r\n    },\r\n    _updateContent: function($newTable, change) {\r\n        if (change && \"update\" === change.changeType && change.columnIndices) {\r\n            var $row = this.getTableElement().find(\".dx-row\");\r\n            var $newRow = $newTable.find(\".dx-row\");\r\n            this._updateCells($row, $newRow, change.columnIndices[0])\r\n        } else {\r\n            return this.callBase.apply(this, arguments)\r\n        }\r\n    },\r\n    _rowClick: function(e) {\r\n        var item = this._dataController.footerItems()[e.rowIndex] || {};\r\n        this.executeAction(\"onRowClick\", extend({}, e, item))\r\n    },\r\n    _columnOptionChanged: function(e) {\r\n        var optionNames = e.optionNames;\r\n        if (e.changeTypes.grouping) {\r\n            return\r\n        }\r\n        if (optionNames.width || optionNames.visibleWidth) {\r\n            this.callBase(e)\r\n        }\r\n    },\r\n    _handleDataChanged: function(e) {\r\n        var changeType = e.changeType;\r\n        if (\"update\" === e.changeType && e.repaintChangesOnly) {\r\n            if (!e.totalColumnIndices) {\r\n                this.render()\r\n            } else if (e.totalColumnIndices.length) {\r\n                this.render(null, {\r\n                    changeType: \"update\",\r\n                    columnIndices: [e.totalColumnIndices]\r\n                })\r\n            }\r\n        } else if (\"refresh\" === changeType || \"append\" === changeType || \"prepend\" === changeType) {\r\n            this.render()\r\n        }\r\n    },\r\n    _createRow: function(row) {\r\n        var $row = this.callBase.apply(this, arguments);\r\n        if (row.rowType === DATAGRID_TOTAL_FOOTER_ROW_TYPE) {\r\n            $row.addClass(DATAGRID_FOOTER_ROW_CLASS)\r\n        }\r\n        return $row\r\n    },\r\n    getHeight: function() {\r\n        return this.getElementHeight()\r\n    },\r\n    isVisible: function() {\r\n        return !!this._dataController.footerItems().length\r\n    }\r\n});\r\nvar SummaryDataSourceAdapterExtender = {\r\n    init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._totalAggregates = [];\r\n        this._summaryGetter = noop\r\n    },\r\n    summaryGetter: function(_summaryGetter) {\r\n        if (!arguments.length) {\r\n            return this._summaryGetter\r\n        }\r\n        if (isFunction(_summaryGetter)) {\r\n            this._summaryGetter = _summaryGetter\r\n        }\r\n    },\r\n    summary: function(_summary) {\r\n        if (!arguments.length) {\r\n            return this._summaryGetter()\r\n        }\r\n        this._summaryGetter = function() {\r\n            return _summary\r\n        }\r\n    },\r\n    totalAggregates: function() {\r\n        return this._totalAggregates\r\n    },\r\n    isLastLevelGroupItemsPagingLocal: function() {\r\n        var summary = this.summary();\r\n        var sortByGroupsInfo = summary && summary.sortByGroups();\r\n        return sortByGroupsInfo && sortByGroupsInfo.length\r\n    },\r\n    sortLastLevelGroupItems: function(items, groups, paths) {\r\n        var groupedItems = storeHelper.multiLevelGroup(dataQuery(items), groups).toArray();\r\n        var result = [];\r\n        paths.forEach((function(path) {\r\n            ! function forEachGroup(groups, groupCount, callback, path) {\r\n                path = path || [];\r\n                for (var i = 0; i < groups.length; i++) {\r\n                    path.push(groups[i].key);\r\n                    if (1 === groupCount) {\r\n                        callback(path, groups[i].items)\r\n                    } else {\r\n                        forEachGroup(groups[i].items, groupCount - 1, callback, path)\r\n                    }\r\n                    path.pop()\r\n                }\r\n            }(groupedItems, groups.length, (function(itemsPath, items) {\r\n                if (path.toString() === itemsPath.toString()) {\r\n                    result = result.concat(items)\r\n                }\r\n            }))\r\n        }));\r\n        return result\r\n    }\r\n};\r\nvar SummaryDataSourceAdapterClientExtender = function() {\r\n    var calculateAggregates = function(that, summary, data, groupLevel) {\r\n        var calculator;\r\n        if (recalculateWhileEditing(that)) {\r\n            var editingController = that.getController(\"editing\");\r\n            if (editingController) {\r\n                var insertedData = editingController.getInsertedData();\r\n                if (insertedData.length) {\r\n                    data = function applyAddedData(data, insertedData, groupLevel) {\r\n                        if (groupLevel) {\r\n                            return applyAddedData(data, insertedData.map(item => ({\r\n                                items: [item]\r\n                            }), groupLevel - 1))\r\n                        }\r\n                        return data.concat(insertedData)\r\n                    }(data, insertedData, groupLevel)\r\n                }\r\n                var removedData = editingController.getRemovedData();\r\n                if (removedData.length) {\r\n                    data = function applyRemovedData(data, removedData, groupLevel) {\r\n                        if (groupLevel) {\r\n                            return data.map(data => {\r\n                                var updatedData = {};\r\n                                var updatedItems = applyRemovedData(data.items || [], removedData, groupLevel - 1);\r\n                                Object.defineProperty(updatedData, \"aggregates\", {\r\n                                    get: () => data.aggregates,\r\n                                    set: value => {\r\n                                        data.aggregates = value\r\n                                    }\r\n                                });\r\n                                return extend(updatedData, data, {\r\n                                    items: updatedItems\r\n                                })\r\n                            })\r\n                        }\r\n                        return data.filter(data => removedData.indexOf(data) < 0)\r\n                    }(data, removedData, groupLevel)\r\n                }\r\n            }\r\n        }\r\n        if (summary) {\r\n            calculator = new AggregateCalculator({\r\n                totalAggregates: summary.totalAggregates,\r\n                groupAggregates: summary.groupAggregates,\r\n                data: data,\r\n                groupLevel: groupLevel\r\n            });\r\n            calculator.calculate()\r\n        }\r\n        return calculator ? calculator.totalAggregates() : []\r\n    };\r\n    var sortGroupsBySummary = function(data, group, summary) {\r\n        var sortByGroups = summary && summary.sortByGroups && summary.sortByGroups();\r\n        if (sortByGroups && sortByGroups.length) {\r\n            return function sortGroupsBySummaryCore(items, groups, sortByGroups) {\r\n                if (!items || !groups.length) {\r\n                    return items\r\n                }\r\n                var group = groups[0];\r\n                var sorts = sortByGroups[0];\r\n                var query;\r\n                if (group && sorts && sorts.length) {\r\n                    query = dataQuery(items);\r\n                    each(sorts, (function(index) {\r\n                        if (0 === index) {\r\n                            query = query.sortBy(this.selector, this.desc)\r\n                        } else {\r\n                            query = query.thenBy(this.selector, this.desc)\r\n                        }\r\n                    }));\r\n                    query.enumerate().done((function(sortedItems) {\r\n                        items = sortedItems\r\n                    }))\r\n                }\r\n                groups = groups.slice(1);\r\n                sortByGroups = sortByGroups.slice(1);\r\n                if (groups.length && sortByGroups.length) {\r\n                    each(items, (function() {\r\n                        this.items = sortGroupsBySummaryCore(this.items, groups, sortByGroups)\r\n                    }))\r\n                }\r\n                return items\r\n            }(data, group, sortByGroups)\r\n        }\r\n        return data\r\n    };\r\n    return {\r\n        _customizeRemoteOperations: function(options) {\r\n            var summary = this.summary();\r\n            if (summary) {\r\n                if (options.remoteOperations.summary) {\r\n                    if (!options.isCustomLoading || options.storeLoadOptions.isLoadingAll) {\r\n                        if (options.storeLoadOptions.group) {\r\n                            if (options.remoteOperations.grouping) {\r\n                                options.storeLoadOptions.groupSummary = summary.groupAggregates\r\n                            } else if (summary.groupAggregates.length) {\r\n                                options.remoteOperations.paging = false\r\n                            }\r\n                        }\r\n                        options.storeLoadOptions.totalSummary = summary.totalAggregates\r\n                    }\r\n                } else if (summary.totalAggregates.length || summary.groupAggregates.length && options.storeLoadOptions.group) {\r\n                    options.remoteOperations.paging = false\r\n                }\r\n            }\r\n            this.callBase.apply(this, arguments);\r\n            var cachedExtra = options.cachedData.extra;\r\n            if (cachedExtra && cachedExtra.summary && !options.isCustomLoading) {\r\n                options.storeLoadOptions.totalSummary = void 0\r\n            }\r\n        },\r\n        _handleDataLoadedCore: function(options) {\r\n            var groups = normalizeSortingInfo(options.storeLoadOptions.group || options.loadOptions.group || []);\r\n            var remoteOperations = options.remoteOperations || {};\r\n            var summary = this.summaryGetter()(remoteOperations);\r\n            if (!options.isCustomLoading || options.storeLoadOptions.isLoadingAll) {\r\n                if (remoteOperations.summary) {\r\n                    if (!remoteOperations.paging && groups.length && summary) {\r\n                        if (!remoteOperations.grouping) {\r\n                            calculateAggregates(this, {\r\n                                groupAggregates: summary.groupAggregates\r\n                            }, options.data, groups.length)\r\n                        }\r\n                        options.data = sortGroupsBySummary(options.data, groups, summary)\r\n                    }\r\n                } else if (!remoteOperations.paging && summary) {\r\n                    var _options$cachedData, _options$cachedData$e;\r\n                    var operationTypes = options.operationTypes || {};\r\n                    var hasOperations = Object.keys(operationTypes).some(type => operationTypes[type]);\r\n                    if (!hasOperations || !(null !== (_options$cachedData = options.cachedData) && void 0 !== _options$cachedData && null !== (_options$cachedData$e = _options$cachedData.extra) && void 0 !== _options$cachedData$e && _options$cachedData$e.summary) || groups.length && summary.groupAggregates.length) {\r\n                        var totalAggregates = calculateAggregates(this, summary, options.data, groups.length);\r\n                        options.extra = isPlainObject(options.extra) ? options.extra : {};\r\n                        options.extra.summary = totalAggregates;\r\n                        if (options.cachedData) {\r\n                            options.cachedData.extra = options.extra\r\n                        }\r\n                    }\r\n                    options.data = sortGroupsBySummary(options.data, groups, summary)\r\n                }\r\n            }\r\n            if (!options.isCustomLoading) {\r\n                this._totalAggregates = options.extra && options.extra.summary || this._totalAggregates\r\n            }\r\n            this.callBase(options)\r\n        }\r\n    }\r\n}();\r\ndataSourceAdapter.extend(SummaryDataSourceAdapterExtender);\r\ndataSourceAdapter.extend(SummaryDataSourceAdapterClientExtender);\r\ngridCore.registerModule(\"summary\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            summary: {\r\n                groupItems: void 0,\r\n                totalItems: void 0,\r\n                calculateCustomSummary: void 0,\r\n                skipEmptyValues: true,\r\n                recalculateWhileEditing: false,\r\n                texts: {\r\n                    sum: messageLocalization.format(\"dxDataGrid-summarySum\"),\r\n                    sumOtherColumn: messageLocalization.format(\"dxDataGrid-summarySumOtherColumn\"),\r\n                    min: messageLocalization.format(\"dxDataGrid-summaryMin\"),\r\n                    minOtherColumn: messageLocalization.format(\"dxDataGrid-summaryMinOtherColumn\"),\r\n                    max: messageLocalization.format(\"dxDataGrid-summaryMax\"),\r\n                    maxOtherColumn: messageLocalization.format(\"dxDataGrid-summaryMaxOtherColumn\"),\r\n                    avg: messageLocalization.format(\"dxDataGrid-summaryAvg\"),\r\n                    avgOtherColumn: messageLocalization.format(\"dxDataGrid-summaryAvgOtherColumn\"),\r\n                    count: messageLocalization.format(\"dxDataGrid-summaryCount\")\r\n                }\r\n            },\r\n            sortByGroupSummaryInfo: void 0\r\n        }\r\n    },\r\n    views: {\r\n        footerView: FooterView\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                _isDataColumn: function(column) {\r\n                    return column && (!isDefined(column.groupIndex) || column.showWhenGrouped)\r\n                },\r\n                _isGroupFooterVisible: function() {\r\n                    var groupItems = this.option(\"summary.groupItems\") || [];\r\n                    for (var i = 0; i < groupItems.length; i++) {\r\n                        var groupItem = groupItems[i];\r\n                        var column = this._columnsController.columnOption(groupItem.showInColumn || groupItem.column);\r\n                        if (groupItem.showInGroupFooter && this._isDataColumn(column)) {\r\n                            return true\r\n                        }\r\n                    }\r\n                    return false\r\n                },\r\n                _processGroupItems: function(items, groupCount, options) {\r\n                    var data = options && options.data;\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    if (options) {\r\n                        if (void 0 === options.isGroupFooterVisible) {\r\n                            options.isGroupFooterVisible = this._isGroupFooterVisible()\r\n                        }\r\n                        if (data && data.items && options.isGroupFooterVisible && (options.collectContinuationItems || !data.isContinuationOnNextPage)) {\r\n                            result.push({\r\n                                rowType: DATAGRID_GROUP_FOOTER_ROW_TYPE,\r\n                                key: options.path.slice(),\r\n                                data: data,\r\n                                groupIndex: options.path.length - 1,\r\n                                values: []\r\n                            })\r\n                        }\r\n                    }\r\n                    return result\r\n                },\r\n                _processGroupItem: function(groupItem, options) {\r\n                    var that = this;\r\n                    if (!options.summaryGroupItems) {\r\n                        options.summaryGroupItems = that.option(\"summary.groupItems\") || []\r\n                    }\r\n                    if (\"group\" === groupItem.rowType) {\r\n                        var groupColumnIndex = -1;\r\n                        var afterGroupColumnIndex = -1;\r\n                        each(options.visibleColumns, (function(visibleIndex) {\r\n                            var prevColumn = options.visibleColumns[visibleIndex - 1];\r\n                            if (groupItem.groupIndex === this.groupIndex) {\r\n                                groupColumnIndex = this.index\r\n                            }\r\n                            if (visibleIndex > 0 && \"expand\" === prevColumn.command && \"expand\" !== this.command) {\r\n                                afterGroupColumnIndex = this.index\r\n                            }\r\n                        }));\r\n                        groupItem.summaryCells = this._calculateSummaryCells(options.summaryGroupItems, getGroupAggregates(groupItem.data), options.visibleColumns, (function(summaryItem, column) {\r\n                            if (summaryItem.showInGroupFooter) {\r\n                                return -1\r\n                            }\r\n                            if (summaryItem.alignByColumn && column && !isDefined(column.groupIndex) && column.index !== afterGroupColumnIndex) {\r\n                                return column.index\r\n                            } else {\r\n                                return groupColumnIndex\r\n                            }\r\n                        }), true)\r\n                    }\r\n                    if (groupItem.rowType === DATAGRID_GROUP_FOOTER_ROW_TYPE) {\r\n                        groupItem.summaryCells = this._calculateSummaryCells(options.summaryGroupItems, getGroupAggregates(groupItem.data), options.visibleColumns, (function(summaryItem, column) {\r\n                            return summaryItem.showInGroupFooter && that._isDataColumn(column) ? column.index : -1\r\n                        }))\r\n                    }\r\n                    return groupItem\r\n                },\r\n                _calculateSummaryCells: function(summaryItems, aggregates, visibleColumns, calculateTargetColumnIndex, isGroupRow) {\r\n                    var that = this;\r\n                    var summaryCells = [];\r\n                    var summaryCellsByColumns = {};\r\n                    each(summaryItems, (function(summaryIndex, summaryItem) {\r\n                        var column = that._columnsController.columnOption(summaryItem.column);\r\n                        var showInColumn = summaryItem.showInColumn && that._columnsController.columnOption(summaryItem.showInColumn) || column;\r\n                        var columnIndex = calculateTargetColumnIndex(summaryItem, showInColumn);\r\n                        if (columnIndex >= 0) {\r\n                            if (!summaryCellsByColumns[columnIndex]) {\r\n                                summaryCellsByColumns[columnIndex] = []\r\n                            }\r\n                            var aggregate = aggregates[summaryIndex];\r\n                            if (aggregate === aggregate) {\r\n                                var valueFormat;\r\n                                if (isDefined(summaryItem.valueFormat)) {\r\n                                    valueFormat = summaryItem.valueFormat\r\n                                } else if (\"count\" !== summaryItem.summaryType) {\r\n                                    valueFormat = gridCore.getFormatByDataType(column && column.dataType)\r\n                                }\r\n                                summaryCellsByColumns[columnIndex].push(extend({}, summaryItem, {\r\n                                    value: isString(aggregate) && column && column.deserializeValue ? column.deserializeValue(aggregate) : aggregate,\r\n                                    valueFormat: valueFormat,\r\n                                    columnCaption: column && column.index !== columnIndex ? column.caption : void 0\r\n                                }))\r\n                            }\r\n                        }\r\n                    }));\r\n                    if (!isEmptyObject(summaryCellsByColumns)) {\r\n                        visibleColumns.forEach((column, visibleIndex) => {\r\n                            var prevColumn = visibleColumns[visibleIndex - 1];\r\n                            var columnIndex = isGroupRow && (\"expand\" === (null === prevColumn || void 0 === prevColumn ? void 0 : prevColumn.command) || \"expand\" === column.command) ? null === prevColumn || void 0 === prevColumn ? void 0 : prevColumn.index : column.index;\r\n                            summaryCells.push(summaryCellsByColumns[columnIndex] || [])\r\n                        })\r\n                    }\r\n                    return summaryCells\r\n                },\r\n                _getSummaryCells: function(summaryTotalItems, totalAggregates) {\r\n                    var that = this;\r\n                    var columnsController = that._columnsController;\r\n                    return that._calculateSummaryCells(summaryTotalItems, totalAggregates, columnsController.getVisibleColumns(), (function(summaryItem, column) {\r\n                        return that._isDataColumn(column) ? column.index : -1\r\n                    }))\r\n                },\r\n                _updateItemsCore: function(change) {\r\n                    var summaryCells;\r\n                    var dataSource = this._dataSource;\r\n                    var footerItems = this._footerItems;\r\n                    var oldSummaryCells = footerItems && footerItems[0] && footerItems[0].summaryCells;\r\n                    var summaryTotalItems = this.option(\"summary.totalItems\");\r\n                    this._footerItems = [];\r\n                    if (dataSource && summaryTotalItems && summaryTotalItems.length) {\r\n                        var totalAggregates = dataSource.totalAggregates();\r\n                        summaryCells = this._getSummaryCells(summaryTotalItems, totalAggregates);\r\n                        if (change && change.repaintChangesOnly && oldSummaryCells) {\r\n                            change.totalColumnIndices = summaryCells.map((function(summaryCell, index) {\r\n                                if (JSON.stringify(summaryCell) !== JSON.stringify(oldSummaryCells[index])) {\r\n                                    return index\r\n                                }\r\n                                return -1\r\n                            })).filter(index => index >= 0)\r\n                        }\r\n                        if (summaryCells.length) {\r\n                            this._footerItems.push({\r\n                                rowType: DATAGRID_TOTAL_FOOTER_ROW_TYPE,\r\n                                summaryCells: summaryCells\r\n                            })\r\n                        }\r\n                    }\r\n                    this.callBase(change)\r\n                },\r\n                _prepareUnsavedDataSelector: function(selector) {\r\n                    if (recalculateWhileEditing(this)) {\r\n                        var editingController = this.getController(\"editing\");\r\n                        if (editingController) {\r\n                            return function(data) {\r\n                                data = editingController.getUpdatedData(data);\r\n                                return selector(data)\r\n                            }\r\n                        }\r\n                    }\r\n                    return selector\r\n                },\r\n                _prepareAggregateSelector: function(selector, aggregator) {\r\n                    selector = this._prepareUnsavedDataSelector(selector);\r\n                    if (\"avg\" === aggregator || \"sum\" === aggregator) {\r\n                        return function(data) {\r\n                            var value = selector(data);\r\n                            return isDefined(value) ? Number(value) : value\r\n                        }\r\n                    }\r\n                    return selector\r\n                },\r\n                _getAggregates: function(summaryItems, remoteOperations) {\r\n                    var that = this;\r\n                    var columnsController = that.getController(\"columns\");\r\n                    var calculateCustomSummary = that.option(\"summary.calculateCustomSummary\");\r\n                    var commonSkipEmptyValues = that.option(\"summary.skipEmptyValues\");\r\n                    return map(summaryItems || [], (function(summaryItem) {\r\n                        var column = columnsController.columnOption(summaryItem.column);\r\n                        var calculateCellValue = column && column.calculateCellValue ? column.calculateCellValue.bind(column) : compileGetter(column ? column.dataField : summaryItem.column);\r\n                        var aggregator = summaryItem.summaryType || \"count\";\r\n                        var selector = summaryItem.column;\r\n                        var skipEmptyValues = isDefined(summaryItem.skipEmptyValues) ? summaryItem.skipEmptyValues : commonSkipEmptyValues;\r\n                        if (remoteOperations) {\r\n                            return {\r\n                                selector: summaryItem.column,\r\n                                summaryType: aggregator\r\n                            }\r\n                        } else {\r\n                            selector = that._prepareAggregateSelector(calculateCellValue, aggregator);\r\n                            if (\"custom\" === aggregator) {\r\n                                if (!calculateCustomSummary) {\r\n                                    errors.log(\"E1026\");\r\n                                    calculateCustomSummary = function() {}\r\n                                }\r\n                                var options = {\r\n                                    component: that.component,\r\n                                    name: summaryItem.name\r\n                                };\r\n                                calculateCustomSummary(options);\r\n                                options.summaryProcess = \"calculate\";\r\n                                aggregator = {\r\n                                    seed: function(groupIndex) {\r\n                                        options.summaryProcess = \"start\";\r\n                                        options.totalValue = void 0;\r\n                                        options.groupIndex = groupIndex;\r\n                                        delete options.value;\r\n                                        calculateCustomSummary(options);\r\n                                        return options.totalValue\r\n                                    },\r\n                                    step: function(totalValue, value) {\r\n                                        options.summaryProcess = \"calculate\";\r\n                                        options.totalValue = totalValue;\r\n                                        options.value = value;\r\n                                        calculateCustomSummary(options);\r\n                                        return options.totalValue\r\n                                    },\r\n                                    finalize: function(totalValue) {\r\n                                        options.summaryProcess = \"finalize\";\r\n                                        options.totalValue = totalValue;\r\n                                        delete options.value;\r\n                                        calculateCustomSummary(options);\r\n                                        return options.totalValue\r\n                                    }\r\n                                }\r\n                            }\r\n                            return {\r\n                                selector: selector,\r\n                                aggregator: aggregator,\r\n                                skipEmptyValues: skipEmptyValues\r\n                            }\r\n                        }\r\n                    }))\r\n                },\r\n                _addSortInfo: function(sortByGroups, groupColumn, selector, sortOrder) {\r\n                    if (groupColumn) {\r\n                        var groupIndex = groupColumn.groupIndex;\r\n                        sortOrder = sortOrder || groupColumn.sortOrder;\r\n                        if (isDefined(groupIndex)) {\r\n                            sortByGroups[groupIndex] = sortByGroups[groupIndex] || [];\r\n                            sortByGroups[groupIndex].push({\r\n                                selector: selector,\r\n                                desc: \"desc\" === sortOrder\r\n                            })\r\n                        }\r\n                    }\r\n                },\r\n                _findSummaryItem: function(summaryItems, name) {\r\n                    var summaryItemIndex = -1;\r\n                    if (isDefined(name)) {\r\n                        each(summaryItems || [], (function(index) {\r\n                            if (this.name === name || index === name || this.summaryType === name || this.column === name || (summaryItem = this, summaryType = summaryItem.summaryType, column = summaryItem.column, summaryType && column && summaryType + \"_\" + column) === name) {\r\n                                summaryItemIndex = index;\r\n                                return false\r\n                            }\r\n                            var summaryItem, summaryType, column\r\n                        }))\r\n                    }\r\n                    return summaryItemIndex\r\n                },\r\n                _getSummarySortByGroups: function(sortByGroupSummaryInfo, groupSummaryItems) {\r\n                    var that = this;\r\n                    var columnsController = that._columnsController;\r\n                    var groupColumns = columnsController.getGroupColumns();\r\n                    var sortByGroups = [];\r\n                    if (!groupSummaryItems || !groupSummaryItems.length) {\r\n                        return\r\n                    }\r\n                    each(sortByGroupSummaryInfo || [], (function() {\r\n                        var sortOrder = this.sortOrder;\r\n                        var groupColumn = this.groupColumn;\r\n                        var summaryItemIndex = that._findSummaryItem(groupSummaryItems, this.summaryItem);\r\n                        if (summaryItemIndex < 0) {\r\n                            return\r\n                        }\r\n                        var selector = function(data) {\r\n                            return getGroupAggregates(data)[summaryItemIndex]\r\n                        };\r\n                        if (isDefined(groupColumn)) {\r\n                            groupColumn = columnsController.columnOption(groupColumn);\r\n                            that._addSortInfo(sortByGroups, groupColumn, selector, sortOrder)\r\n                        } else {\r\n                            each(groupColumns, (function(groupIndex, groupColumn) {\r\n                                that._addSortInfo(sortByGroups, groupColumn, selector, sortOrder)\r\n                            }))\r\n                        }\r\n                    }));\r\n                    return sortByGroups\r\n                },\r\n                _createDataSourceAdapterCore: function(dataSource, remoteOperations) {\r\n                    var that = this;\r\n                    var dataSourceAdapter = this.callBase(dataSource, remoteOperations);\r\n                    dataSourceAdapter.summaryGetter((function(currentRemoteOperations) {\r\n                        return that._getSummaryOptions(currentRemoteOperations || remoteOperations)\r\n                    }));\r\n                    return dataSourceAdapter\r\n                },\r\n                _getSummaryOptions: function(remoteOperations) {\r\n                    var that = this;\r\n                    var groupSummaryItems = that.option(\"summary.groupItems\");\r\n                    var totalSummaryItems = that.option(\"summary.totalItems\");\r\n                    var sortByGroupSummaryInfo = that.option(\"sortByGroupSummaryInfo\");\r\n                    var groupAggregates = that._getAggregates(groupSummaryItems, remoteOperations && remoteOperations.grouping && remoteOperations.summary);\r\n                    var totalAggregates = that._getAggregates(totalSummaryItems, remoteOperations && remoteOperations.summary);\r\n                    if (groupAggregates.length || totalAggregates.length) {\r\n                        return {\r\n                            groupAggregates: groupAggregates,\r\n                            totalAggregates: totalAggregates,\r\n                            sortByGroups: function() {\r\n                                return that._getSummarySortByGroups(sortByGroupSummaryInfo, groupSummaryItems)\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                publicMethods: function() {\r\n                    var methods = this.callBase();\r\n                    methods.push(\"getTotalSummaryValue\");\r\n                    return methods\r\n                },\r\n                getTotalSummaryValue: function(summaryItemName) {\r\n                    var summaryItemIndex = this._findSummaryItem(this.option(\"summary.totalItems\"), summaryItemName);\r\n                    var aggregates = this._dataSource.totalAggregates();\r\n                    if (aggregates.length && summaryItemIndex > -1) {\r\n                        return aggregates[summaryItemIndex]\r\n                    }\r\n                },\r\n                optionChanged: function(args) {\r\n                    if (\"summary\" === args.name || \"sortByGroupSummaryInfo\" === args.name) {\r\n                        args.name = \"dataSource\"\r\n                    }\r\n                    this.callBase(args)\r\n                },\r\n                init: function() {\r\n                    this._footerItems = [];\r\n                    this.callBase()\r\n                },\r\n                footerItems: function() {\r\n                    return this._footerItems\r\n                }\r\n            },\r\n            editing: {\r\n                _refreshSummary: function() {\r\n                    if (recalculateWhileEditing(this) && !this.isSaving()) {\r\n                        this._dataController.refresh({\r\n                            load: true,\r\n                            changesOnly: true\r\n                        })\r\n                    }\r\n                },\r\n                _addChange: function(params) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    if (params.type) {\r\n                        this._refreshSummary()\r\n                    }\r\n                    return result\r\n                },\r\n                _removeChange: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    this._refreshSummary();\r\n                    return result\r\n                },\r\n                cancelEditData: function() {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    this._refreshSummary();\r\n                    return result\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    row && $row.addClass(row.rowType === DATAGRID_GROUP_FOOTER_ROW_TYPE ? DATAGRID_GROUP_FOOTER_CLASS : \"\");\r\n                    return $row\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (\"group\" === options.row.rowType && options.row.summaryCells && options.row.summaryCells.length) {\r\n                        this._renderGroupSummaryCells($row, options)\r\n                    }\r\n                },\r\n                _hasAlignByColumnSummaryItems: function(columnIndex, options) {\r\n                    return !isDefined(options.columns[columnIndex].groupIndex) && options.row.summaryCells[columnIndex].length\r\n                },\r\n                _getAlignByColumnCellCount: function(groupCellColSpan, options) {\r\n                    var alignByColumnCellCount = 0;\r\n                    for (var i = 1; i < groupCellColSpan; i++) {\r\n                        var columnIndex = options.row.summaryCells.length - i;\r\n                        alignByColumnCellCount = this._hasAlignByColumnSummaryItems(columnIndex, options) ? i : alignByColumnCellCount\r\n                    }\r\n                    return alignByColumnCellCount\r\n                },\r\n                _renderGroupSummaryCells: function($row, options) {\r\n                    var $groupCell = $row.children().last();\r\n                    var groupCellColSpan = Number($groupCell.attr(\"colSpan\")) || 1;\r\n                    var alignByColumnCellCount = this._getAlignByColumnCellCount(groupCellColSpan, options);\r\n                    this._renderGroupSummaryCellsCore($groupCell, options, groupCellColSpan, alignByColumnCellCount)\r\n                },\r\n                _renderGroupSummaryCellsCore: function($groupCell, options, groupCellColSpan, alignByColumnCellCount) {\r\n                    if (alignByColumnCellCount > 0) {\r\n                        $groupCell.attr(\"colSpan\", groupCellColSpan - alignByColumnCellCount);\r\n                        for (var i = 0; i < alignByColumnCellCount; i++) {\r\n                            var columnIndex = options.columns.length - alignByColumnCellCount + i;\r\n                            this._renderCell($groupCell.parent(), extend({\r\n                                column: options.columns[columnIndex],\r\n                                columnIndex: this._getSummaryCellIndex(columnIndex, options.columns)\r\n                            }, options))\r\n                        }\r\n                    }\r\n                },\r\n                _getSummaryCellIndex: function(columnIndex) {\r\n                    return columnIndex\r\n                },\r\n                _getCellTemplate: function(options) {\r\n                    if (!options.column.command && !isDefined(options.column.groupIndex) && options.summaryItems && options.summaryItems.length) {\r\n                        return renderSummaryCell\r\n                    } else {\r\n                        return this.callBase(options)\r\n                    }\r\n                },\r\n                _getCellOptions: function(options) {\r\n                    var parameters = this.callBase(options);\r\n                    if (options.row.summaryCells) {\r\n                        return extend(parameters, getSummaryCellOptions(this, options))\r\n                    } else {\r\n                        return parameters\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.column_fixing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    name as wheelEventName\r\n} from \"../../events/core/wheel\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport gridCoreUtils from \"../grid_core/ui.grid_core.utils\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport browser from \"../../core/utils/browser\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nvar CONTENT_CLASS = \"content\";\r\nvar CONTENT_FIXED_CLASS = \"content-fixed\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar FIRST_CELL_CLASS = \"dx-first-cell\";\r\nvar LAST_CELL_CLASS = \"dx-last-cell\";\r\nvar HOVER_STATE_CLASS = \"dx-state-hover\";\r\nvar FIXED_COL_CLASS = \"dx-col-fixed\";\r\nvar FIXED_COLUMNS_CLASS = \"dx-fixed-columns\";\r\nvar POINTER_EVENTS_NONE_CLASS = \"dx-pointer-events-none\";\r\nvar COMMAND_TRANSPARENT = \"transparent\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar getTransparentColumnIndex = function(fixedColumns) {\r\n    var transparentColumnIndex = -1;\r\n    each(fixedColumns, (function(index, column) {\r\n        if (column.command === COMMAND_TRANSPARENT) {\r\n            transparentColumnIndex = index;\r\n            return false\r\n        }\r\n    }));\r\n    return transparentColumnIndex\r\n};\r\nvar normalizeColumnWidths = function(fixedColumns, widths, fixedWidths) {\r\n    var fixedColumnIndex = 0;\r\n    if (fixedColumns && widths && fixedWidths) {\r\n        for (var i = 0; i < fixedColumns.length; i++) {\r\n            if (fixedColumns[i].command === COMMAND_TRANSPARENT) {\r\n                fixedColumnIndex += fixedColumns[i].colspan\r\n            } else {\r\n                if (widths[fixedColumnIndex] < fixedWidths[i]) {\r\n                    widths[fixedColumnIndex] = fixedWidths[i]\r\n                }\r\n                fixedColumnIndex++\r\n            }\r\n        }\r\n    }\r\n    return widths\r\n};\r\nvar baseFixedColumns = {\r\n    init: function() {\r\n        this.callBase();\r\n        this._isFixedTableRendering = false;\r\n        this._isFixedColumns = false\r\n    },\r\n    _createCol: function(column) {\r\n        return this.callBase(column).toggleClass(FIXED_COL_CLASS, !!(this._isFixedTableRendering && (column.fixed || column.command && column.command !== COMMAND_TRANSPARENT)))\r\n    },\r\n    _correctColumnIndicesForFixedColumns: function(fixedColumns, change) {\r\n        var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n        var transparentColspan = fixedColumns[transparentColumnIndex].colspan;\r\n        var columnIndices = change && change.columnIndices;\r\n        if (columnIndices) {\r\n            change.columnIndices = columnIndices.map((function(columnIndices) {\r\n                if (columnIndices) {\r\n                    return columnIndices.map((function(columnIndex) {\r\n                        if (columnIndex < transparentColumnIndex) {\r\n                            return columnIndex\r\n                        } else if (columnIndex >= transparentColumnIndex + transparentColspan) {\r\n                            return columnIndex - transparentColspan + 1\r\n                        }\r\n                        return -1\r\n                    })).filter((function(columnIndex) {\r\n                        return columnIndex >= 0\r\n                    }))\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    _partialUpdateFixedTable(fixedColumns) {\r\n        var fixedTableElement = this._fixedTableElement;\r\n        var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n        var transparentColumn = fixedColumns[transparentColumnIndex];\r\n        var columnIndexOffset = this._columnsController.getColumnIndexOffset();\r\n        var $rows = this._getRowElementsCore(fixedTableElement);\r\n        var $colgroup = fixedTableElement.children(\"colgroup\");\r\n        $colgroup.replaceWith(this._createColGroup(fixedColumns));\r\n        for (var i = 0; i < $rows.length; i++) {\r\n            var cellElements = $rows[i].childNodes;\r\n            var colIndex = columnIndexOffset + 1;\r\n            for (var j = 0; j < cellElements.length; j++) {\r\n                cellElements[j].setAttribute(\"aria-colindex\", colIndex);\r\n                if (j === transparentColumnIndex) {\r\n                    cellElements[j].setAttribute(\"colspan\", transparentColumn.colspan);\r\n                    colIndex += transparentColumn.colspan\r\n                } else {\r\n                    colIndex++\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _renderTable: function(options) {\r\n        var $fixedTable;\r\n        var fixedColumns = this.getFixedColumns();\r\n        this._isFixedColumns = !!fixedColumns.length;\r\n        var $table = this.callBase(options);\r\n        if (this._isFixedColumns) {\r\n            var change = null === options || void 0 === options ? void 0 : options.change;\r\n            this._isFixedTableRendering = true;\r\n            if (null !== change && void 0 !== change && change.virtualColumnsScrolling && true !== this.option(\"scrolling.legacyMode\")) {\r\n                this._partialUpdateFixedTable(fixedColumns)\r\n            } else {\r\n                var columnIndices = null === change || void 0 === change ? void 0 : change.columnIndices;\r\n                this._correctColumnIndicesForFixedColumns(fixedColumns, change);\r\n                $fixedTable = this._createTable(fixedColumns);\r\n                this._renderRows($fixedTable, extend({}, options, {\r\n                    columns: fixedColumns\r\n                }));\r\n                this._updateContent($fixedTable, change);\r\n                if (columnIndices) {\r\n                    change.columnIndices = columnIndices\r\n                }\r\n            }\r\n            this._isFixedTableRendering = false\r\n        } else {\r\n            this._fixedTableElement && this._fixedTableElement.parent().remove();\r\n            this._fixedTableElement = null\r\n        }\r\n        return $table\r\n    },\r\n    _renderRow: function($table, options) {\r\n        var fixedCorrection;\r\n        var cells = options.row.cells;\r\n        this.callBase.apply(this, arguments);\r\n        if (this._isFixedTableRendering && cells && cells.length) {\r\n            fixedCorrection = 0;\r\n            var fixedCells = options.row.cells || [];\r\n            cells = cells.slice();\r\n            options.row.cells = cells;\r\n            for (var i = 0; i < fixedCells.length; i++) {\r\n                if (fixedCells[i].column && fixedCells[i].column.command === COMMAND_TRANSPARENT) {\r\n                    fixedCorrection = (fixedCells[i].column.colspan || 1) - 1;\r\n                    continue\r\n                }\r\n                cells[i + fixedCorrection] = fixedCells[i]\r\n            }\r\n        }\r\n    },\r\n    _createCell: function(options) {\r\n        var that = this;\r\n        var column = options.column;\r\n        var columnCommand = column && column.command;\r\n        var rowType = options.rowType;\r\n        var $cell = that.callBase.apply(that, arguments);\r\n        var fixedColumns;\r\n        var prevFixedColumn;\r\n        var transparentColumnIndex;\r\n        if (that._isFixedTableRendering || \"filter\" === rowType) {\r\n            fixedColumns = that.getFixedColumns();\r\n            transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n            prevFixedColumn = fixedColumns[transparentColumnIndex - 1]\r\n        }\r\n        if (that._isFixedTableRendering) {\r\n            if (columnCommand === COMMAND_TRANSPARENT) {\r\n                $cell.addClass(POINTER_EVENTS_NONE_CLASS).toggleClass(FIRST_CELL_CLASS, 0 === transparentColumnIndex || prevFixedColumn && \"expand\" === prevFixedColumn.command).toggleClass(LAST_CELL_CLASS, fixedColumns.length && transparentColumnIndex === fixedColumns.length - 1);\r\n                if (\"freeSpace\" !== rowType) {\r\n                    gridCoreUtils.setEmptyText($cell)\r\n                }\r\n            }\r\n        } else if (\"filter\" === rowType) {\r\n            $cell.toggleClass(FIRST_CELL_CLASS, options.columnIndex === transparentColumnIndex)\r\n        }\r\n        var isRowAltStyle = that.option(\"rowAlternationEnabled\") && options.isAltRow;\r\n        if (browser.mozilla && options.column.fixed && \"group\" !== options.rowType && !isRowAltStyle) {\r\n            $cell.addClass(FIXED_COL_CLASS)\r\n        }\r\n        return $cell\r\n    },\r\n    _wrapTableInScrollContainer: function() {\r\n        var $scrollContainer = this.callBase.apply(this, arguments);\r\n        if (this._isFixedTableRendering) {\r\n            $scrollContainer.addClass(this.addWidgetPrefix(CONTENT_FIXED_CLASS))\r\n        }\r\n        return $scrollContainer\r\n    },\r\n    _renderCellContent: function($cell, options) {\r\n        var isEmptyCell;\r\n        var column = options.column;\r\n        var isFixedTableRendering = this._isFixedTableRendering;\r\n        var isGroupCell = \"group\" === options.rowType && isDefined(column.groupIndex);\r\n        if (isFixedTableRendering && isGroupCell && !column.command && !column.groupCellTemplate) {\r\n            $cell.css(\"pointerEvents\", \"none\")\r\n        }\r\n        if (!isFixedTableRendering && this._isFixedColumns) {\r\n            isEmptyCell = column.fixed || column.command && false !== column.fixed;\r\n            if (isGroupCell) {\r\n                isEmptyCell = false;\r\n                if (options.row.summaryCells && options.row.summaryCells.length) {\r\n                    var columns = this._columnsController.getVisibleColumns();\r\n                    var alignByFixedColumnCellCount = this._getAlignByColumnCellCount ? this._getAlignByColumnCellCount(column.colspan, {\r\n                        columns: columns,\r\n                        row: options.row,\r\n                        isFixed: true\r\n                    }) : 0;\r\n                    if (alignByFixedColumnCellCount > 0) {\r\n                        var transparentColumnIndex = getTransparentColumnIndex(this._columnsController.getFixedColumns());\r\n                        isEmptyCell = columns.length - alignByFixedColumnCellCount < transparentColumnIndex\r\n                    }\r\n                }\r\n            }\r\n            if (isEmptyCell) {\r\n                if (column.command && \"buttons\" !== column.type || \"group\" === options.rowType) {\r\n                    $cell.html(\"&nbsp;\").addClass(column.cssClass);\r\n                    return\r\n                } else {\r\n                    $cell.addClass(\"dx-hidden-cell\")\r\n                }\r\n            }\r\n        }\r\n        if (column.command !== COMMAND_TRANSPARENT) {\r\n            this.callBase($cell, options)\r\n        }\r\n    },\r\n    _getCellElementsCore: function(rowIndex) {\r\n        var cellElements = this.callBase.apply(this, arguments);\r\n        var isGroupRow = cellElements.parent().hasClass(GROUP_ROW_CLASS);\r\n        var headerRowIndex = \"columnHeadersView\" === this.name ? rowIndex : void 0;\r\n        if (this._fixedTableElement && cellElements) {\r\n            var fixedColumns = this.getFixedColumns(headerRowIndex);\r\n            var fixedCellElements = this._getRowElements(this._fixedTableElement).eq(rowIndex).children(\"td\");\r\n            each(fixedCellElements, (columnIndex, cell) => {\r\n                if (isGroupRow) {\r\n                    if (cellElements[columnIndex] && \"hidden\" !== cell.style.visibility) {\r\n                        cellElements[columnIndex] = cell\r\n                    }\r\n                } else {\r\n                    var fixedColumn = fixedColumns[columnIndex];\r\n                    if (fixedColumn) {\r\n                        if (fixedColumn.command === COMMAND_TRANSPARENT) {\r\n                            if (fixedCellElements.eq(columnIndex).hasClass(MASTER_DETAIL_CELL_CLASS)) {\r\n                                cellElements[columnIndex] = cell || cellElements[columnIndex]\r\n                            }\r\n                        } else {\r\n                            var fixedColumnIndex = this._columnsController.getVisibleIndexByColumn(fixedColumn, headerRowIndex);\r\n                            cellElements[fixedColumnIndex] = cell || cellElements[fixedColumnIndex]\r\n                        }\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        return cellElements\r\n    },\r\n    getColumnWidths: function() {\r\n        var fixedWidths;\r\n        var result = this.callBase();\r\n        var fixedColumns = this.getFixedColumns();\r\n        if (this._fixedTableElement && result.length) {\r\n            fixedWidths = this.callBase(this._fixedTableElement)\r\n        }\r\n        return normalizeColumnWidths(fixedColumns, result, fixedWidths)\r\n    },\r\n    getTableElement: function() {\r\n        var tableElement = this._isFixedTableRendering ? this._fixedTableElement : this.callBase();\r\n        return tableElement\r\n    },\r\n    setTableElement: function(tableElement) {\r\n        if (this._isFixedTableRendering) {\r\n            this._fixedTableElement = tableElement.addClass(POINTER_EVENTS_NONE_CLASS)\r\n        } else {\r\n            this.callBase(tableElement)\r\n        }\r\n    },\r\n    getColumns: function(rowIndex, $tableElement) {\r\n        $tableElement = $tableElement || this.getTableElement();\r\n        if (this._isFixedTableRendering || $tableElement && $tableElement.closest(\"table\").parent(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).length) {\r\n            return this.getFixedColumns(rowIndex)\r\n        }\r\n        return this.callBase(rowIndex, $tableElement)\r\n    },\r\n    getRowIndex: function($row) {\r\n        var $fixedTable = this._fixedTableElement;\r\n        if ($fixedTable && $fixedTable.find($row).length) {\r\n            return this._getRowElements($fixedTable).index($row)\r\n        }\r\n        return this.callBase($row)\r\n    },\r\n    getTableElements: function() {\r\n        var result = this.callBase.apply(this, arguments);\r\n        if (this._fixedTableElement) {\r\n            result = $([result.get(0), this._fixedTableElement.get(0)])\r\n        }\r\n        return result\r\n    },\r\n    getFixedColumns: function(rowIndex) {\r\n        return this._columnsController.getFixedColumns(rowIndex)\r\n    },\r\n    getFixedColumnsOffset: function() {\r\n        var offset = {\r\n            left: 0,\r\n            right: 0\r\n        };\r\n        var $transparentColumn;\r\n        if (this._fixedTableElement) {\r\n            $transparentColumn = this.getTransparentColumnElement();\r\n            var positionTransparentColumn = $transparentColumn.position();\r\n            offset = {\r\n                left: positionTransparentColumn.left,\r\n                right: getOuterWidth(this.element(), true) - (getOuterWidth($transparentColumn, true) + positionTransparentColumn.left)\r\n            }\r\n        }\r\n        return offset\r\n    },\r\n    getTransparentColumnElement: function() {\r\n        return this._fixedTableElement && this._fixedTableElement.find(\".\" + POINTER_EVENTS_NONE_CLASS).first()\r\n    },\r\n    getFixedTableElement: function() {\r\n        return this._fixedTableElement\r\n    },\r\n    isFixedColumns: function() {\r\n        return this._isFixedColumns\r\n    },\r\n    _resizeCore: function() {\r\n        this.callBase();\r\n        this.synchronizeRows()\r\n    },\r\n    setColumnWidths: function(options) {\r\n        var columns;\r\n        var visibleColumns = this._columnsController.getVisibleColumns();\r\n        var widths = options.widths;\r\n        var isWidthsSynchronized = widths && widths.length && isDefined(visibleColumns[0].visibleWidth);\r\n        var optionNames = options.optionNames;\r\n        var isColumnWidthChanged = optionNames && optionNames.width;\r\n        var useVisibleColumns = false;\r\n        this.callBase.apply(this, arguments);\r\n        if (this._fixedTableElement) {\r\n            var hasAutoWidth = widths && widths.some((function(width) {\r\n                return \"auto\" === width\r\n            }));\r\n            useVisibleColumns = hasAutoWidth && (!isWidthsSynchronized || !this.isScrollbarVisible(true));\r\n            if (useVisibleColumns) {\r\n                columns = visibleColumns\r\n            }\r\n            this.callBase(extend({}, options, {\r\n                $tableElement: this._fixedTableElement,\r\n                columns: columns,\r\n                fixed: true\r\n            }))\r\n        }\r\n        if (isWidthsSynchronized || isColumnWidthChanged && this.option(\"wordWrapEnabled\")) {\r\n            this.synchronizeRows()\r\n        }\r\n    },\r\n    _createColGroup: function(columns) {\r\n        if (this._isFixedTableRendering && !this.option(\"columnAutoWidth\")) {\r\n            var visibleColumns = this._columnsController.getVisibleColumns();\r\n            var useVisibleColumns = visibleColumns.filter((function(column) {\r\n                return !column.width\r\n            })).length;\r\n            if (useVisibleColumns) {\r\n                columns = visibleColumns\r\n            }\r\n        }\r\n        return this.callBase(columns)\r\n    },\r\n    _getClientHeight: function(element) {\r\n        var boundingClientRectElement = element.getBoundingClientRect && getBoundingRect(element);\r\n        return boundingClientRectElement && boundingClientRectElement.height ? boundingClientRectElement.height : element.clientHeight\r\n    },\r\n    synchronizeRows: function() {\r\n        var rowHeights = [];\r\n        var fixedRowHeights = [];\r\n        var rowIndex;\r\n        var $rowElements;\r\n        var $fixedRowElements;\r\n        var $contentElement;\r\n        if (this._isFixedColumns && this._tableElement && this._fixedTableElement) {\r\n            var heightTable = this._getClientHeight(this._tableElement.get(0));\r\n            var heightFixedTable = this._getClientHeight(this._fixedTableElement.get(0));\r\n            $rowElements = this._getRowElements(this._tableElement);\r\n            $fixedRowElements = this._getRowElements(this._fixedTableElement);\r\n            $contentElement = this._findContentElement();\r\n            if (heightTable !== heightFixedTable) {\r\n                $contentElement && $contentElement.css(\"height\", heightTable);\r\n                $rowElements.css(\"height\", \"\");\r\n                $fixedRowElements.css(\"height\", \"\");\r\n                for (rowIndex = 0; rowIndex < $rowElements.length; rowIndex++) {\r\n                    rowHeights.push(this._getClientHeight($rowElements.get(rowIndex)));\r\n                    fixedRowHeights.push(this._getClientHeight($fixedRowElements.get(rowIndex)))\r\n                }\r\n                for (rowIndex = 0; rowIndex < $rowElements.length; rowIndex++) {\r\n                    var rowHeight = rowHeights[rowIndex];\r\n                    var fixedRowHeight = fixedRowHeights[rowIndex];\r\n                    if (rowHeight > fixedRowHeight) {\r\n                        $fixedRowElements.eq(rowIndex).css(\"height\", rowHeight)\r\n                    } else if (rowHeight < fixedRowHeight) {\r\n                        $rowElements.eq(rowIndex).css(\"height\", fixedRowHeight)\r\n                    }\r\n                }\r\n                $contentElement && $contentElement.css(\"height\", \"\")\r\n            }\r\n        }\r\n    },\r\n    setScrollerSpacing: function(width) {\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        this.callBase(width);\r\n        this.element().children(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).css({\r\n            paddingLeft: rtlEnabled ? width : \"\",\r\n            paddingRight: !rtlEnabled ? width : \"\"\r\n        })\r\n    }\r\n};\r\nvar ColumnHeadersViewFixedColumnsExtender = extend({}, baseFixedColumns, {\r\n    _getRowVisibleColumns: function(rowIndex) {\r\n        if (this._isFixedTableRendering) {\r\n            return this.getFixedColumns(rowIndex)\r\n        }\r\n        return this.callBase(rowIndex)\r\n    },\r\n    getContextMenuItems: function(options) {\r\n        var column = options.column;\r\n        var columnFixingOptions = this.option(\"columnFixing\");\r\n        var items = this.callBase(options);\r\n        if (options.row && \"header\" === options.row.rowType) {\r\n            if (true === columnFixingOptions.enabled && column && column.allowFixing) {\r\n                var onItemClick = params => {\r\n                    switch (params.itemData.value) {\r\n                        case \"none\":\r\n                            this._columnsController.columnOption(column.index, \"fixed\", false);\r\n                            break;\r\n                        case \"left\":\r\n                            this._columnsController.columnOption(column.index, {\r\n                                fixed: true,\r\n                                fixedPosition: \"left\"\r\n                            });\r\n                            break;\r\n                        case \"right\":\r\n                            this._columnsController.columnOption(column.index, {\r\n                                fixed: true,\r\n                                fixedPosition: \"right\"\r\n                            })\r\n                    }\r\n                };\r\n                items = items || [];\r\n                items.push({\r\n                    text: columnFixingOptions.texts.fix,\r\n                    beginGroup: true,\r\n                    items: [{\r\n                        text: columnFixingOptions.texts.leftPosition,\r\n                        value: \"left\",\r\n                        disabled: column.fixed && (!column.fixedPosition || \"left\" === column.fixedPosition),\r\n                        onItemClick: onItemClick\r\n                    }, {\r\n                        text: columnFixingOptions.texts.rightPosition,\r\n                        value: \"right\",\r\n                        disabled: column.fixed && \"right\" === column.fixedPosition,\r\n                        onItemClick: onItemClick\r\n                    }]\r\n                }, {\r\n                    text: columnFixingOptions.texts.unfix,\r\n                    value: \"none\",\r\n                    disabled: !column.fixed,\r\n                    onItemClick: onItemClick\r\n                })\r\n            }\r\n        }\r\n        return items\r\n    },\r\n    getFixedColumnElements: function(rowIndex) {\r\n        if (isDefined(rowIndex)) {\r\n            return this._fixedTableElement && this._getRowElements(this._fixedTableElement).eq(rowIndex).children()\r\n        }\r\n        var columnElements = this.getColumnElements();\r\n        var $transparentColumnElement = this.getTransparentColumnElement();\r\n        if (columnElements && $transparentColumnElement && $transparentColumnElement.length) {\r\n            var transparentColumnIndex = getTransparentColumnIndex(this.getFixedColumns());\r\n            columnElements.splice(transparentColumnIndex, $transparentColumnElement.get(0).colSpan, $transparentColumnElement.get(0))\r\n        }\r\n        return columnElements\r\n    },\r\n    getColumnWidths: function() {\r\n        var fixedWidths;\r\n        var result = this.callBase();\r\n        var $fixedColumnElements = this.getFixedColumnElements();\r\n        var fixedColumns = this.getFixedColumns();\r\n        if (this._fixedTableElement) {\r\n            if ($fixedColumnElements && $fixedColumnElements.length) {\r\n                fixedWidths = this._getWidths($fixedColumnElements)\r\n            } else {\r\n                fixedWidths = this.callBase(this._fixedTableElement)\r\n            }\r\n        }\r\n        return normalizeColumnWidths(fixedColumns, result, fixedWidths)\r\n    }\r\n});\r\nvar RowsViewFixedColumnsExtender = extend({}, baseFixedColumns, {\r\n    _detachHoverEvents: function() {\r\n        this._fixedTableElement && eventsEngine.off(this._fixedTableElement, \"mouseover mouseout\", \".dx-data-row\");\r\n        this._tableElement && eventsEngine.off(this._tableElement, \"mouseover mouseout\", \".dx-data-row\")\r\n    },\r\n    _attachHoverEvents: function() {\r\n        var that = this;\r\n        var attachHoverEvent = function($table) {\r\n            eventsEngine.on($table, \"mouseover mouseout\", \".dx-data-row\", that.createAction((function(args) {\r\n                var event = args.event;\r\n                var rowIndex = that.getRowIndex($(event.target).closest(\".dx-row\"));\r\n                var isHover = \"mouseover\" === event.type;\r\n                if (rowIndex >= 0) {\r\n                    that._tableElement && that._getRowElements(that._tableElement).eq(rowIndex).toggleClass(HOVER_STATE_CLASS, isHover);\r\n                    that._fixedTableElement && that._getRowElements(that._fixedTableElement).eq(rowIndex).toggleClass(HOVER_STATE_CLASS, isHover)\r\n                }\r\n            })))\r\n        };\r\n        if (that._fixedTableElement && that._tableElement) {\r\n            attachHoverEvent(that._fixedTableElement);\r\n            attachHoverEvent(that._tableElement)\r\n        }\r\n    },\r\n    _findContentElement: function() {\r\n        var that = this;\r\n        var $content;\r\n        var scrollTop;\r\n        var contentClass = that.addWidgetPrefix(CONTENT_CLASS);\r\n        var element = that.element();\r\n        var scrollDelay = browser.mozilla ? 60 : 0;\r\n        if (element && that._isFixedTableRendering) {\r\n            $content = element.children(\".\" + contentClass);\r\n            var scrollable = that.getScrollable();\r\n            if (!$content.length && scrollable) {\r\n                $content = $(\"<div>\").addClass(contentClass);\r\n                eventsEngine.on($content, \"scroll\", (function(e) {\r\n                    clearTimeout(that._fixedScrollTimeout);\r\n                    that._fixedScrollTimeout = setTimeout((function() {\r\n                        scrollTop = $(e.target).scrollTop();\r\n                        scrollable.scrollTo({\r\n                            y: scrollTop\r\n                        })\r\n                    }), scrollDelay)\r\n                }));\r\n                eventsEngine.on($content, wheelEventName, (function(e) {\r\n                    var $nearestScrollable = $(e.target).closest(\".dx-scrollable\");\r\n                    var shouldScroll = false;\r\n                    if (scrollable && scrollable.$element().is($nearestScrollable)) {\r\n                        shouldScroll = true\r\n                    } else {\r\n                        var nearestScrollableInstance = $nearestScrollable.length && Scrollable.getInstance($nearestScrollable.get(0));\r\n                        var nearestScrollableHasVerticalScrollbar = nearestScrollableInstance && nearestScrollableInstance.scrollHeight() - nearestScrollableInstance.clientHeight() > 0;\r\n                        shouldScroll = nearestScrollableInstance && !nearestScrollableHasVerticalScrollbar\r\n                    }\r\n                    if (shouldScroll) {\r\n                        scrollTop = scrollable.scrollTop();\r\n                        scrollable.scrollTo({\r\n                            y: scrollTop - e.delta\r\n                        });\r\n                        if (scrollable.scrollTop() > 0 && scrollable.scrollTop() + scrollable.clientHeight() < scrollable.scrollHeight() + that.getScrollbarWidth()) {\r\n                            return false\r\n                        }\r\n                    }\r\n                }));\r\n                $content.appendTo(element)\r\n            }\r\n            return $content\r\n        }\r\n        return that.callBase()\r\n    },\r\n    _updateScrollable: function() {\r\n        this.callBase();\r\n        var scrollable = this.getScrollable();\r\n        if (null !== scrollable && void 0 !== scrollable && scrollable._disposed) {\r\n            return\r\n        }\r\n        var scrollTop = scrollable && scrollable.scrollOffset().top;\r\n        this._updateFixedTablePosition(scrollTop)\r\n    },\r\n    _renderContent: function(contentElement, tableElement) {\r\n        if (this._isFixedTableRendering) {\r\n            return contentElement.empty().addClass(this.addWidgetPrefix(CONTENT_CLASS) + \" \" + this.addWidgetPrefix(CONTENT_FIXED_CLASS)).append(tableElement)\r\n        }\r\n        return this.callBase(contentElement, tableElement)\r\n    },\r\n    _getGroupCellOptions: function(options) {\r\n        if (this._isFixedTableRendering) {\r\n            return this.callBase(extend({}, options, {\r\n                columns: this._columnsController.getVisibleColumns()\r\n            }))\r\n        }\r\n        return this.callBase(options)\r\n    },\r\n    _renderGroupedCells: function($row, options) {\r\n        return this.callBase($row, extend({}, options, {\r\n            columns: this._columnsController.getVisibleColumns()\r\n        }))\r\n    },\r\n    _renderGroupSummaryCells: function($row, options) {\r\n        if (this._isFixedTableRendering) {\r\n            this.callBase($row, extend({}, options, {\r\n                columns: this._columnsController.getVisibleColumns()\r\n            }))\r\n        } else {\r\n            this.callBase($row, options)\r\n        }\r\n    },\r\n    _hasAlignByColumnSummaryItems: function(columnIndex, options) {\r\n        var result = this.callBase.apply(this, arguments);\r\n        var column = options.columns[columnIndex];\r\n        if (options.isFixed) {\r\n            return column.fixed && (result || \"right\" === column.fixedPosition)\r\n        }\r\n        return result && (!this._isFixedColumns || !column.fixed)\r\n    },\r\n    _renderGroupSummaryCellsCore: function($groupCell, options, groupCellColSpan, alignByColumnCellCount) {\r\n        var alignByFixedColumnCellCount;\r\n        if (this._isFixedTableRendering) {\r\n            options.isFixed = true;\r\n            alignByFixedColumnCellCount = this._getAlignByColumnCellCount(groupCellColSpan, options);\r\n            options.isFixed = false;\r\n            var startColumnIndex = options.columns.length - alignByFixedColumnCellCount;\r\n            options = extend({}, options, {\r\n                columns: this.getFixedColumns()\r\n            });\r\n            var transparentColumnIndex = getTransparentColumnIndex(options.columns);\r\n            if (startColumnIndex < transparentColumnIndex) {\r\n                alignByFixedColumnCellCount -= options.columns[transparentColumnIndex].colspan - 1 || 0;\r\n                groupCellColSpan -= options.columns[transparentColumnIndex].colspan - 1 || 0\r\n            } else if (alignByColumnCellCount > 0) {\r\n                $groupCell.css(\"visibility\", \"hidden\")\r\n            }\r\n            alignByColumnCellCount = alignByFixedColumnCellCount\r\n        }\r\n        this.callBase($groupCell, options, groupCellColSpan, alignByColumnCellCount)\r\n    },\r\n    _getSummaryCellIndex: function(columnIndex, columns) {\r\n        if (this._isFixedTableRendering) {\r\n            var transparentColumnIndex = getTransparentColumnIndex(columns);\r\n            if (columnIndex > transparentColumnIndex) {\r\n                columnIndex += columns[transparentColumnIndex].colspan - 1\r\n            }\r\n            return columnIndex\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _renderCore: function(change) {\r\n        this._detachHoverEvents();\r\n        this.callBase(change);\r\n        var isFixedColumns = this._isFixedColumns;\r\n        this.element().toggleClass(FIXED_COLUMNS_CLASS, isFixedColumns);\r\n        if (this.option(\"hoverStateEnabled\") && isFixedColumns) {\r\n            this._attachHoverEvents()\r\n        }\r\n    },\r\n    setRowsOpacity: function(columnIndex, value) {\r\n        this.callBase(columnIndex, value);\r\n        var $rows = this._getRowElements(this._fixedTableElement);\r\n        this._setRowsOpacityCore($rows, this.getFixedColumns(), columnIndex, value)\r\n    },\r\n    optionChanged: function(args) {\r\n        this.callBase(args);\r\n        if (\"hoverStateEnabled\" === args.name && this._isFixedColumns) {\r\n            args.value ? this._attachHoverEvents() : this._detachHoverEvents()\r\n        }\r\n    },\r\n    getCellIndex: function($cell) {\r\n        var $fixedTable = this._fixedTableElement;\r\n        var cellIndex = 0;\r\n        if ($fixedTable && $cell.is(\"td\") && $cell.closest($fixedTable).length) {\r\n            var columns = this.getFixedColumns();\r\n            each(columns, (function(index, column) {\r\n                if (index === $cell[0].cellIndex) {\r\n                    return false\r\n                }\r\n                if (column.colspan) {\r\n                    cellIndex += column.colspan;\r\n                    return\r\n                }\r\n                cellIndex++\r\n            }));\r\n            return cellIndex\r\n        }\r\n        return this.callBase.apply(this, arguments)\r\n    },\r\n    _updateFixedTablePosition: function(scrollTop, needFocus) {\r\n        if (this._fixedTableElement && this._tableElement) {\r\n            var $focusedElement;\r\n            var editorFactory = this.getController(\"editorFactory\");\r\n            this._fixedTableElement.parent().scrollTop(scrollTop);\r\n            if (needFocus && editorFactory) {\r\n                $focusedElement = editorFactory.focus();\r\n                $focusedElement && editorFactory.focus($focusedElement)\r\n            }\r\n        }\r\n    },\r\n    setScrollerSpacing: function(vWidth, hWidth) {\r\n        var styles = {\r\n            marginBottom: 0\r\n        };\r\n        var $fixedContent = this.element().children(\".\" + this.addWidgetPrefix(CONTENT_FIXED_CLASS));\r\n        if ($fixedContent.length && this._fixedTableElement) {\r\n            $fixedContent.css(styles);\r\n            this._fixedTableElement.css(styles);\r\n            styles[this.option(\"rtlEnabled\") ? \"marginLeft\" : \"marginRight\"] = vWidth;\r\n            styles.marginBottom = hWidth;\r\n            var useNativeScrolling = this._scrollable && this._scrollable.option(\"useNative\");\r\n            (useNativeScrolling ? $fixedContent : this._fixedTableElement).css(styles)\r\n        }\r\n    },\r\n    _getElasticScrollTop: function(e) {\r\n        var elasticScrollTop = 0;\r\n        if (e.scrollOffset.top < 0) {\r\n            elasticScrollTop = -e.scrollOffset.top\r\n        } else if (e.reachedBottom) {\r\n            var $scrollableContent = $(this._findContentElement());\r\n            var $scrollableContainer = $(e.component.container());\r\n            var maxScrollTop = Math.max($scrollableContent.get(0).clientHeight - $scrollableContainer.get(0).clientHeight, 0);\r\n            elasticScrollTop = maxScrollTop - e.scrollOffset.top\r\n        }\r\n        return Math.floor(elasticScrollTop)\r\n    },\r\n    _applyElasticScrolling: function(e) {\r\n        if (this._fixedTableElement) {\r\n            var elasticScrollTop = this._getElasticScrollTop(e);\r\n            if (0 !== Math.ceil(elasticScrollTop)) {\r\n                move(this._fixedTableElement, {\r\n                    top: elasticScrollTop\r\n                })\r\n            } else {\r\n                this._fixedTableElement.css(\"transform\", \"\")\r\n            }\r\n        }\r\n    },\r\n    _handleScroll: function(e) {\r\n        this._updateFixedTablePosition(e.scrollOffset.top, true);\r\n        this._applyElasticScrolling(e);\r\n        this.callBase(e)\r\n    },\r\n    _updateContentPosition: function(isRender) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!isRender) {\r\n            this._updateFixedTablePosition(this._scrollTop)\r\n        }\r\n    },\r\n    _afterRowPrepared: function(e) {\r\n        if (this._isFixedTableRendering) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _scrollToElement: function($element) {\r\n        this.callBase($element, this.getFixedColumnsOffset())\r\n    },\r\n    dispose: function() {\r\n        this.callBase.apply(this, arguments);\r\n        clearTimeout(this._fixedScrollTimeout)\r\n    }\r\n});\r\nvar FooterViewFixedColumnsExtender = baseFixedColumns;\r\nexport var columnFixingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnFixing: {\r\n                enabled: false,\r\n                texts: {\r\n                    fix: messageLocalization.format(\"dxDataGrid-columnFixingFix\"),\r\n                    unfix: messageLocalization.format(\"dxDataGrid-columnFixingUnfix\"),\r\n                    leftPosition: messageLocalization.format(\"dxDataGrid-columnFixingLeftPosition\"),\r\n                    rightPosition: messageLocalization.format(\"dxDataGrid-columnFixingRightPosition\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        views: {\r\n            columnHeadersView: ColumnHeadersViewFixedColumnsExtender,\r\n            rowsView: RowsViewFixedColumnsExtender,\r\n            footerView: FooterViewFixedColumnsExtender\r\n        },\r\n        controllers: function() {\r\n            var normalizeColumnIndicesByPoints = function(columns, fixedColumns, pointsByColumns) {\r\n                var transparentColumnIndex = getTransparentColumnIndex(fixedColumns);\r\n                var correctIndex = columns.length - fixedColumns.length;\r\n                each(pointsByColumns, (function(_, point) {\r\n                    if (point.index > transparentColumnIndex) {\r\n                        point.columnIndex += correctIndex;\r\n                        point.index += correctIndex\r\n                    }\r\n                }));\r\n                return pointsByColumns\r\n            };\r\n            return {\r\n                draggingHeader: {\r\n                    _generatePointsByColumns: function(options) {\r\n                        var visibleColumns = options.columns;\r\n                        var targetDraggingPanel = options.targetDraggingPanel;\r\n                        if (targetDraggingPanel && \"headers\" === targetDraggingPanel.getName() && targetDraggingPanel.isFixedColumns()) {\r\n                            if (options.sourceColumn.fixed) {\r\n                                if (!options.rowIndex) {\r\n                                    options.columnElements = targetDraggingPanel.getFixedColumnElements(0)\r\n                                }\r\n                                options.columns = targetDraggingPanel.getFixedColumns(options.rowIndex);\r\n                                var pointsByColumns = this.callBase(options);\r\n                                normalizeColumnIndicesByPoints(visibleColumns, options.columns, pointsByColumns);\r\n                                return pointsByColumns\r\n                            }\r\n                        }\r\n                        return this.callBase(options)\r\n                    },\r\n                    _pointCreated: function(point, columns, location, sourceColumn) {\r\n                        var result = this.callBase.apply(this, arguments);\r\n                        var targetColumn = columns[point.columnIndex];\r\n                        var $transparentColumn = this._columnHeadersView.getTransparentColumnElement();\r\n                        if (!result && \"headers\" === location && $transparentColumn && $transparentColumn.length) {\r\n                            var boundingRect = getBoundingRect($transparentColumn.get(0));\r\n                            if (sourceColumn && sourceColumn.fixed) {\r\n                                return \"right\" === sourceColumn.fixedPosition ? point.x < boundingRect.right : point.x > boundingRect.left\r\n                            } else {\r\n                                if (targetColumn && targetColumn.fixed && \"right\" !== targetColumn.fixedPosition) {\r\n                                    return true\r\n                                }\r\n                                return point.x < boundingRect.left || point.x > boundingRect.right\r\n                            }\r\n                        }\r\n                        return result\r\n                    }\r\n                },\r\n                columnsResizer: {\r\n                    _generatePointsByColumns: function() {\r\n                        var that = this;\r\n                        var columnsController = that._columnsController;\r\n                        var columns = columnsController && that._columnsController.getVisibleColumns();\r\n                        var fixedColumns = columnsController && that._columnsController.getFixedColumns();\r\n                        var cells = that._columnHeadersView.getFixedColumnElements();\r\n                        var pointsByFixedColumns = [];\r\n                        that.callBase();\r\n                        if (cells && cells.length > 0) {\r\n                            pointsByFixedColumns = gridCoreUtils.getPointsByColumns(cells, (function(point) {\r\n                                return that._pointCreated(point, cells.length, fixedColumns)\r\n                            }));\r\n                            that._pointsByFixedColumns = normalizeColumnIndicesByPoints(columns, fixedColumns, pointsByFixedColumns)\r\n                        }\r\n                    },\r\n                    _pointCreated: function(point, cellsLength, columns) {\r\n                        var isWidgetResizingMode = \"widget\" === this.option(\"columnResizingMode\");\r\n                        if (point.index > 0 && point.index < cellsLength) {\r\n                            var currentColumn = columns[point.columnIndex - 1] || {};\r\n                            var nextColumn = columns[point.columnIndex] || {};\r\n                            if (currentColumn.fixed || nextColumn.fixed) {\r\n                                point.columnIndex -= 1;\r\n                                return !((currentColumn.allowResizing || currentColumn.command === COMMAND_TRANSPARENT) && (isWidgetResizingMode || nextColumn.allowResizing || nextColumn.command === COMMAND_TRANSPARENT))\r\n                            }\r\n                        }\r\n                        return this.callBase.apply(this, arguments)\r\n                    },\r\n                    _getTargetPoint: function(pointsByColumns, currentX, deltaX) {\r\n                        var $transparentColumn = this._columnHeadersView.getTransparentColumnElement();\r\n                        if ($transparentColumn && $transparentColumn.length) {\r\n                            var boundingRect = getBoundingRect($transparentColumn.get(0));\r\n                            if (currentX <= boundingRect.left || currentX >= boundingRect.right) {\r\n                                return this.callBase(this._pointsByFixedColumns, currentX, deltaX)\r\n                            }\r\n                        }\r\n                        return this.callBase(pointsByColumns, currentX, deltaX)\r\n                    }\r\n                }\r\n            }\r\n        }()\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.column_fixing.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    columnFixingModule\r\n} from \"../grid_core/ui.grid_core.column_fixing\";\r\ngridCore.registerModule(\"columnFixing\", columnFixingModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.adaptivity.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    addNamespace\r\n} from \"../../events/utils/index\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../events/click\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport Guid from \"../../core/guid\";\r\nimport modules from \"./ui.grid_core.modules\";\r\nimport Form from \"../form\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport messageLocalization from \"../../localization/message\";\r\nvar COLUMN_HEADERS_VIEW = \"columnHeadersView\";\r\nvar ROWS_VIEW = \"rowsView\";\r\nvar FOOTER_VIEW = \"footerView\";\r\nvar COLUMN_VIEWS = [COLUMN_HEADERS_VIEW, ROWS_VIEW, FOOTER_VIEW];\r\nvar ADAPTIVE_NAMESPACE = \"dxDataGridAdaptivity\";\r\nvar HIDDEN_COLUMNS_WIDTH = \"adaptiveHidden\";\r\nvar ADAPTIVE_ROW_TYPE = \"detailAdaptive\";\r\nvar FORM_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nvar FORM_ITEM_MODIFIED = \"dx-item-modified\";\r\nvar HIDDEN_COLUMN_CLASS = \"hidden-column\";\r\nvar ADAPTIVE_COLUMN_BUTTON_CLASS = \"adaptive-more\";\r\nvar ADAPTIVE_COLUMN_NAME_CLASS = \"dx-command-adaptive\";\r\nvar COMMAND_ADAPTIVE_HIDDEN_CLASS = \"dx-command-adaptive-hidden\";\r\nvar ADAPTIVE_DETAIL_ROW_CLASS = \"dx-adaptive-detail-row\";\r\nvar ADAPTIVE_ITEM_TEXT_CLASS = \"dx-adaptive-item-text\";\r\nvar MASTER_DETAIL_CELL_CLASS = \"dx-master-detail-cell\";\r\nvar LAST_DATA_CELL_CLASS = \"dx-last-data-cell\";\r\nvar ADAPTIVE_COLUMN_NAME = \"adaptive\";\r\nvar EDIT_MODE_BATCH = \"batch\";\r\nvar EDIT_MODE_ROW = \"row\";\r\nvar EDIT_MODE_FORM = \"form\";\r\nvar EDIT_MODE_POPUP = \"popup\";\r\nvar REVERT_TOOLTIP_CLASS = \"revert-tooltip\";\r\nvar GROUP_CELL_CLASS = \"dx-group-cell\";\r\nvar GROUP_ROW_CLASS = \"dx-group-row\";\r\nvar EXPAND_ARIA_NAME = \"dxDataGrid-ariaAdaptiveExpand\";\r\nvar COLLAPSE_ARIA_NAME = \"dxDataGrid-ariaAdaptiveCollapse\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\n\r\nfunction getColumnId(that, column) {\r\n    return that._columnsController.getColumnId(column)\r\n}\r\n\r\nfunction getDataCellElements($row) {\r\n    return $row.find(\"td:not(.dx-datagrid-hidden-column):not([class*='dx-command-'])\")\r\n}\r\n\r\nfunction adaptiveCellTemplate(container, options) {\r\n    var $adaptiveColumnButton;\r\n    var $container = $(container);\r\n    var adaptiveColumnsController = options.component.getController(\"adaptiveColumns\");\r\n    if (\"data\" === options.rowType) {\r\n        $adaptiveColumnButton = $(\"<span>\").addClass(adaptiveColumnsController.addWidgetPrefix(ADAPTIVE_COLUMN_BUTTON_CLASS));\r\n        eventsEngine.on($adaptiveColumnButton, addNamespace(clickEventName, ADAPTIVE_NAMESPACE), adaptiveColumnsController.createAction((function() {\r\n            adaptiveColumnsController.toggleExpandAdaptiveDetailRow(options.key)\r\n        })));\r\n        $adaptiveColumnButton.appendTo($container)\r\n    } else {\r\n        gridCoreUtils.setEmptyText($container)\r\n    }\r\n}\r\nvar AdaptiveColumnsController = modules.ViewController.inherit({\r\n    _isRowEditMode: function() {\r\n        var editMode = this._getEditMode();\r\n        return editMode === EDIT_MODE_ROW\r\n    },\r\n    _isItemModified: function(item, cellOptions) {\r\n        var columnIndex = this._columnsController.getVisibleIndex(item.column.index);\r\n        var rowIndex = this._dataController.getRowIndexByKey(cellOptions.key);\r\n        var row = this._dataController.items()[rowIndex + 1];\r\n        return row && row.modifiedValues && isDefined(row.modifiedValues[columnIndex])\r\n    },\r\n    _renderFormViewTemplate: function(item, cellOptions, $container) {\r\n        var column = item.column;\r\n        var focusAction = this.createAction((function() {\r\n            eventsEngine.trigger($container, clickEventName)\r\n        }));\r\n        var value = column.calculateCellValue(cellOptions.data);\r\n        var displayValue = gridCoreUtils.getDisplayValue(column, value, cellOptions.data, cellOptions.rowType);\r\n        var text = gridCoreUtils.formatValue(displayValue, column);\r\n        var isCellOrBatchEditMode = this._editingController.isCellOrBatchEditMode();\r\n        var rowsView = this._rowsView;\r\n        if (column.allowEditing && this.getController(\"keyboardNavigation\").isKeyboardEnabled()) {\r\n            $container.attr(\"tabIndex\", this.option(\"tabIndex\"));\r\n            if (isCellOrBatchEditMode) {\r\n                eventsEngine.off($container, \"focus\", focusAction);\r\n                eventsEngine.on($container, \"focus\", focusAction)\r\n            }\r\n        }\r\n        if (column.cellTemplate) {\r\n            var templateOptions = extend({}, cellOptions, {\r\n                value: value,\r\n                displayValue: displayValue,\r\n                text: text,\r\n                column: column\r\n            });\r\n            var isDomElement = !!$container.closest(getWindow().document).length;\r\n            rowsView.renderTemplate($container, column.cellTemplate, templateOptions, isDomElement).done(() => {\r\n                rowsView._cellPrepared($container, cellOptions)\r\n            })\r\n        } else {\r\n            var container = $container.get(0);\r\n            if (column.encodeHtml) {\r\n                container.textContent = text\r\n            } else {\r\n                container.innerHTML = text\r\n            }\r\n            $container.addClass(ADAPTIVE_ITEM_TEXT_CLASS);\r\n            if (!isDefined(text) || \"\" === text) {\r\n                $container.html(\"&nbsp;\")\r\n            }\r\n            if (!this._isRowEditMode()) {\r\n                if (this._isItemModified(item, cellOptions)) {\r\n                    $container.addClass(FORM_ITEM_MODIFIED)\r\n                }\r\n            }\r\n            rowsView._cellPrepared($container, cellOptions)\r\n        }\r\n    },\r\n    _getTemplate: function(item, cellOptions) {\r\n        var that = this;\r\n        var column = item.column;\r\n        var editingController = this.getController(\"editing\");\r\n        return function(options, container) {\r\n            var $container = $(container);\r\n            var columnIndex = that._columnsController.getVisibleIndex(column.index);\r\n            var templateOptions = extend({}, cellOptions);\r\n            var renderFormTemplate = function() {\r\n                var isItemEdited = that._isItemEdited(item);\r\n                templateOptions.value = cellOptions.row.values[columnIndex];\r\n                if (isItemEdited || column.showEditorAlways) {\r\n                    editingController.renderFormEditTemplate(templateOptions, item, options, $container, !isItemEdited)\r\n                } else {\r\n                    templateOptions.column = column;\r\n                    templateOptions.columnIndex = columnIndex;\r\n                    that._renderFormViewTemplate(item, templateOptions, $container)\r\n                }\r\n            };\r\n            renderFormTemplate();\r\n            templateOptions.watch && templateOptions.watch((function() {\r\n                return {\r\n                    isItemEdited: that._isItemEdited(item),\r\n                    value: cellOptions.row.values[columnIndex]\r\n                }\r\n            }), (function() {\r\n                $container.contents().remove();\r\n                $container.removeClass(ADAPTIVE_ITEM_TEXT_CLASS);\r\n                renderFormTemplate()\r\n            }))\r\n        }\r\n    },\r\n    _isVisibleColumnsValid: function(visibleColumns) {\r\n        if (visibleColumns < 2) {\r\n            return false\r\n        }\r\n        if (visibleColumns.length - function() {\r\n                var result = 0;\r\n                for (var j = 0; j < visibleColumns.length; j++) {\r\n                    var visibleColumn = visibleColumns[j];\r\n                    if (visibleColumn.command) {\r\n                        result++\r\n                    }\r\n                }\r\n                return result\r\n            }() <= 1) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    _calculatePercentWidths: function(widths, visibleColumns) {\r\n        var that = this;\r\n        var percentWidths = 0;\r\n        visibleColumns.forEach((function(item, index) {\r\n            if (widths[index] !== HIDDEN_COLUMNS_WIDTH) {\r\n                percentWidths += that._getItemPercentWidth(item)\r\n            }\r\n        }));\r\n        return percentWidths\r\n    },\r\n    _isPercentWidth: function(width) {\r\n        return isString(width) && \"%\" === width.slice(-1)\r\n    },\r\n    _isColumnHidden: function(column) {\r\n        return this._hiddenColumns.filter((function(hiddenColumn) {\r\n            return hiddenColumn.index === column.index\r\n        })).length > 0\r\n    },\r\n    _getAverageColumnsWidth: function(containerWidth, columns, columnsCanFit) {\r\n        var that = this;\r\n        var fixedColumnsWidth = 0;\r\n        var columnsWithoutFixedWidthCount = 0;\r\n        columns.forEach((function(column) {\r\n            if (!that._isColumnHidden(column)) {\r\n                var width = column.width;\r\n                if (isDefined(width) && !isNaN(parseFloat(width))) {\r\n                    fixedColumnsWidth += that._isPercentWidth(width) ? that._calculatePercentWidth({\r\n                        visibleIndex: column.visibleIndex,\r\n                        columnsCount: columns.length,\r\n                        columnsCanFit: columnsCanFit,\r\n                        bestFitWidth: column.bestFitWidth,\r\n                        columnWidth: width,\r\n                        containerWidth: containerWidth\r\n                    }) : parseFloat(width)\r\n                } else {\r\n                    columnsWithoutFixedWidthCount++\r\n                }\r\n            }\r\n        }));\r\n        return (containerWidth - fixedColumnsWidth) / columnsWithoutFixedWidthCount\r\n    },\r\n    _calculateColumnWidth: function(column, containerWidth, contentColumns, columnsCanFit) {\r\n        var columnId = getColumnId(this, column);\r\n        var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n        var bestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n        var columnsCount = contentColumns.length;\r\n        var colWidth;\r\n        if (widthOption && \"auto\" !== widthOption) {\r\n            if (this._isPercentWidth(widthOption)) {\r\n                colWidth = this._calculatePercentWidth({\r\n                    visibleIndex: column.visibleIndex,\r\n                    columnsCount: columnsCount,\r\n                    columnsCanFit: columnsCanFit,\r\n                    bestFitWidth: bestFitWidth,\r\n                    columnWidth: widthOption,\r\n                    containerWidth: containerWidth\r\n                })\r\n            } else {\r\n                return parseFloat(widthOption)\r\n            }\r\n        } else {\r\n            var columnAutoWidth = this.option(\"columnAutoWidth\");\r\n            colWidth = columnAutoWidth || !!column.command ? bestFitWidth : this._getAverageColumnsWidth(containerWidth, contentColumns, columnsCanFit)\r\n        }\r\n        return colWidth\r\n    },\r\n    _calculatePercentWidth: function(options) {\r\n        var columnFitted = options.visibleIndex < options.columnsCount - 1 && options.columnsCanFit;\r\n        var partialWidth = options.containerWidth * parseFloat(options.columnWidth) / 100;\r\n        var resultWidth = options.columnsCanFit && partialWidth < options.bestFitWidth ? options.bestFitWidth : partialWidth;\r\n        return columnFitted ? options.containerWidth * parseFloat(options.columnWidth) / 100 : resultWidth\r\n    },\r\n    _getNotTruncatedColumnWidth: function(column, containerWidth, contentColumns, columnsCanFit) {\r\n        var columnId = getColumnId(this, column);\r\n        var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n        var bestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n        if (widthOption && \"auto\" !== widthOption && !this._isPercentWidth(widthOption)) {\r\n            return parseFloat(widthOption)\r\n        }\r\n        var colWidth = this._calculateColumnWidth(column, containerWidth, contentColumns, columnsCanFit);\r\n        return colWidth < bestFitWidth ? null : colWidth\r\n    },\r\n    _getItemPercentWidth: function(item) {\r\n        var result = 0;\r\n        if (item.width && this._isPercentWidth(item.width)) {\r\n            result = parseFloat(item.width)\r\n        }\r\n        return result\r\n    },\r\n    _getCommandColumnsWidth: function() {\r\n        var that = this;\r\n        var columns = that._columnsController.getVisibleColumns();\r\n        var colWidth = 0;\r\n        each(columns, (function(index, column) {\r\n            if (column.index < 0 || column.command) {\r\n                colWidth += that._columnsController.columnOption(getColumnId(that, column), \"bestFitWidth\") || 0\r\n            }\r\n        }));\r\n        return colWidth\r\n    },\r\n    _isItemEdited: function(item) {\r\n        if (this.isFormOrPopupEditMode()) {\r\n            return false\r\n        }\r\n        if (this._isRowEditMode()) {\r\n            var editRowKey = this.option(\"editing.editRowKey\");\r\n            if (equalByValue(editRowKey, this._dataController.adaptiveExpandedKey())) {\r\n                return true\r\n            }\r\n        } else {\r\n            var rowIndex = this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey()) + 1;\r\n            var columnIndex = this._columnsController.getVisibleIndex(item.column.index);\r\n            return this._editingController.isEditCell(rowIndex, columnIndex)\r\n        }\r\n    },\r\n    _getFormItemsByHiddenColumns: function(hiddenColumns) {\r\n        var items = [];\r\n        each(hiddenColumns, (function(_, column) {\r\n            items.push({\r\n                column: column,\r\n                name: column.name,\r\n                dataField: column.dataField,\r\n                visibleIndex: column.visibleIndex\r\n            })\r\n        }));\r\n        return items\r\n    },\r\n    _getAdaptiveColumnVisibleIndex: function(visibleColumns) {\r\n        for (var i = 0; i < visibleColumns.length; i++) {\r\n            var column = visibleColumns[i];\r\n            if (column.command === ADAPTIVE_COLUMN_NAME) {\r\n                return i\r\n            }\r\n        }\r\n    },\r\n    _hideAdaptiveColumn: function(resultWidths, visibleColumns) {\r\n        var visibleIndex = this._getAdaptiveColumnVisibleIndex(visibleColumns);\r\n        if (isDefined(visibleIndex)) {\r\n            resultWidths[visibleIndex] = HIDDEN_COLUMNS_WIDTH;\r\n            this._hideVisibleColumn({\r\n                isCommandColumn: true,\r\n                visibleIndex: visibleIndex\r\n            })\r\n        }\r\n    },\r\n    _showHiddenCellsInView: function(_ref) {\r\n        var {\r\n            $cells: $cells,\r\n            isCommandColumn: isCommandColumn\r\n        } = _ref;\r\n        var cssClassNameToRemove = isCommandColumn ? COMMAND_ADAPTIVE_HIDDEN_CLASS : this.addWidgetPrefix(HIDDEN_COLUMN_CLASS);\r\n        $cells.removeClass(cssClassNameToRemove)\r\n    },\r\n    _showHiddenColumns: function() {\r\n        for (var i = 0; i < COLUMN_VIEWS.length; i++) {\r\n            var view = this.getView(COLUMN_VIEWS[i]);\r\n            if (view && view.isVisible() && view.element()) {\r\n                var viewName = view.name;\r\n                var $hiddenCommandCells = view.element().find(\".\" + COMMAND_ADAPTIVE_HIDDEN_CLASS);\r\n                this._showHiddenCellsInView({\r\n                    viewName: viewName,\r\n                    $cells: $hiddenCommandCells,\r\n                    isCommandColumn: true\r\n                });\r\n                var $hiddenCells = view.element().find(\".\" + this.addWidgetPrefix(HIDDEN_COLUMN_CLASS));\r\n                this._showHiddenCellsInView({\r\n                    viewName: viewName,\r\n                    $cells: $hiddenCells\r\n                })\r\n            }\r\n        }\r\n    },\r\n    _isCellValid: function($cell) {\r\n        return $cell && $cell.length && !$cell.hasClass(MASTER_DETAIL_CELL_CLASS) && !$cell.hasClass(GROUP_CELL_CLASS)\r\n    },\r\n    _hideVisibleColumn: function(_ref2) {\r\n        var {\r\n            isCommandColumn: isCommandColumn,\r\n            visibleIndex: visibleIndex\r\n        } = _ref2;\r\n        var that = this;\r\n        COLUMN_VIEWS.forEach((function(viewName) {\r\n            var view = that.getView(viewName);\r\n            view && that._hideVisibleColumnInView({\r\n                view: view,\r\n                isCommandColumn: isCommandColumn,\r\n                visibleIndex: visibleIndex\r\n            })\r\n        }))\r\n    },\r\n    _hideVisibleColumnInView: function(_ref3) {\r\n        var {\r\n            view: view,\r\n            isCommandColumn: isCommandColumn,\r\n            visibleIndex: visibleIndex\r\n        } = _ref3;\r\n        var viewName = view.name;\r\n        var $cellElement;\r\n        var column = this._columnsController.getVisibleColumns()[visibleIndex];\r\n        var editFormRowIndex = this._editingController && this._editingController.getEditFormRowIndex();\r\n        if (view && view.isVisible() && column) {\r\n            var rowsCount = view.getRowsCount();\r\n            var $rowElements = view._getRowElements();\r\n            for (var rowIndex = 0; rowIndex < rowsCount; rowIndex++) {\r\n                var cancelClassAdding = rowIndex === editFormRowIndex && viewName === ROWS_VIEW && \"popup\" !== this.option(\"editing.mode\");\r\n                if (!cancelClassAdding) {\r\n                    var currentVisibleIndex = viewName === COLUMN_HEADERS_VIEW ? this._columnsController.getVisibleIndex(column.index, rowIndex) : visibleIndex;\r\n                    if (currentVisibleIndex >= 0) {\r\n                        var $rowElement = $rowElements.eq(rowIndex);\r\n                        $cellElement = this._findCellElementInRow($rowElement, currentVisibleIndex);\r\n                        this._isCellValid($cellElement) && this._hideVisibleCellInView({\r\n                            viewName: viewName,\r\n                            isCommandColumn: isCommandColumn,\r\n                            $cell: $cellElement\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _findCellElementInRow($rowElement, visibleColumnIndex) {\r\n        var $rowCells = $rowElement.children();\r\n        var visibleIndex = visibleColumnIndex;\r\n        var cellIsInsideGroup = false;\r\n        if ($rowElement.hasClass(GROUP_ROW_CLASS)) {\r\n            var $groupCell = $rowElement.find(\".\".concat(GROUP_CELL_CLASS));\r\n            var colSpan = $groupCell.attr(\"colspan\");\r\n            if ($groupCell.length && isDefined(colSpan)) {\r\n                var groupCellLength = parseInt(colSpan);\r\n                var endGroupIndex = $groupCell.index() + groupCellLength - 1;\r\n                if (visibleColumnIndex > endGroupIndex) {\r\n                    visibleIndex = visibleColumnIndex - groupCellLength + 1\r\n                } else {\r\n                    cellIsInsideGroup = true\r\n                }\r\n            }\r\n        }\r\n        var $cellElement = !cellIsInsideGroup ? $rowCells.eq(visibleIndex) : void 0;\r\n        return $cellElement\r\n    },\r\n    _hideVisibleCellInView: function(_ref4) {\r\n        var {\r\n            $cell: $cell,\r\n            isCommandColumn: isCommandColumn\r\n        } = _ref4;\r\n        var cssClassNameToAdd = isCommandColumn ? COMMAND_ADAPTIVE_HIDDEN_CLASS : this.addWidgetPrefix(HIDDEN_COLUMN_CLASS);\r\n        $cell.addClass(cssClassNameToAdd)\r\n    },\r\n    _getEditMode: function() {\r\n        return this._editingController.getEditMode()\r\n    },\r\n    isFormOrPopupEditMode: function() {\r\n        var editMode = this._getEditMode();\r\n        return editMode === EDIT_MODE_FORM || editMode === EDIT_MODE_POPUP\r\n    },\r\n    hideRedundantColumns: function(resultWidths, visibleColumns, hiddenQueue) {\r\n        this._hiddenColumns = [];\r\n        if (this._isVisibleColumnsValid(visibleColumns) && hiddenQueue.length) {\r\n            var totalWidth = 0;\r\n            var $rootElement = this.component.$element();\r\n            var rootElementWidth = getWidth($rootElement) - this._getCommandColumnsWidth();\r\n            var getVisibleContentColumns = function() {\r\n                return visibleColumns.filter(item => !item.command && 0 === this._hiddenColumns.filter(i => i.index === item.index).length)\r\n            }.bind(this);\r\n            var visibleContentColumns = getVisibleContentColumns();\r\n            var contentColumnsCount = visibleContentColumns.length;\r\n            var i;\r\n            var hasHiddenColumns;\r\n            var needHideColumn;\r\n            do {\r\n                needHideColumn = false;\r\n                totalWidth = 0;\r\n                var percentWidths = this._calculatePercentWidths(resultWidths, visibleColumns);\r\n                var columnsCanFit = percentWidths < 100 && 0 !== percentWidths;\r\n                for (i = 0; i < visibleColumns.length; i++) {\r\n                    var visibleColumn = visibleColumns[i];\r\n                    var columnWidth = this._getNotTruncatedColumnWidth(visibleColumn, rootElementWidth, visibleContentColumns, columnsCanFit);\r\n                    var columnId = getColumnId(this, visibleColumn);\r\n                    var widthOption = this._columnsController.columnOption(columnId, \"width\");\r\n                    var minWidth = this._columnsController.columnOption(columnId, \"minWidth\");\r\n                    var columnBestFitWidth = this._columnsController.columnOption(columnId, \"bestFitWidth\");\r\n                    if (resultWidths[i] === HIDDEN_COLUMNS_WIDTH) {\r\n                        hasHiddenColumns = true;\r\n                        continue\r\n                    }\r\n                    if (!columnWidth && !visibleColumn.command && !visibleColumn.fixed) {\r\n                        needHideColumn = true;\r\n                        break\r\n                    }\r\n                    if (!widthOption || \"auto\" === widthOption) {\r\n                        columnWidth = Math.max(columnBestFitWidth || 0, minWidth || 0)\r\n                    }\r\n                    if (visibleColumn.command !== ADAPTIVE_COLUMN_NAME || hasHiddenColumns) {\r\n                        totalWidth += columnWidth\r\n                    }\r\n                }\r\n                needHideColumn = needHideColumn || totalWidth > getWidth($rootElement);\r\n                if (needHideColumn) {\r\n                    var column = hiddenQueue.pop();\r\n                    var visibleIndex = this._columnsController.getVisibleIndex(column.index);\r\n                    rootElementWidth += this._calculateColumnWidth(column, rootElementWidth, visibleContentColumns, columnsCanFit);\r\n                    this._hideVisibleColumn({\r\n                        visibleIndex: visibleIndex\r\n                    });\r\n                    resultWidths[visibleIndex] = HIDDEN_COLUMNS_WIDTH;\r\n                    this._hiddenColumns.push(column);\r\n                    visibleContentColumns = getVisibleContentColumns()\r\n                }\r\n            } while (needHideColumn && visibleContentColumns.length > 1 && hiddenQueue.length);\r\n            if (contentColumnsCount === visibleContentColumns.length) {\r\n                this._hideAdaptiveColumn(resultWidths, visibleColumns)\r\n            }\r\n        } else {\r\n            this._hideAdaptiveColumn(resultWidths, visibleColumns)\r\n        }\r\n    },\r\n    getItemContentByColumnIndex: function(visibleColumnIndex) {\r\n        var $itemContent;\r\n        for (var i = 0; i < this._$itemContents.length; i++) {\r\n            $itemContent = this._$itemContents.eq(i);\r\n            var item = $itemContent.data(\"dx-form-item\");\r\n            if (item && item.column && this._columnsController.getVisibleIndex(item.column.index) === visibleColumnIndex) {\r\n                return $itemContent\r\n            }\r\n        }\r\n    },\r\n    toggleExpandAdaptiveDetailRow: function(key, alwaysExpanded) {\r\n        if (!(this.isFormOrPopupEditMode() && this._editingController.isEditing())) {\r\n            this.getController(\"data\").toggleExpandAdaptiveDetailRow(key, alwaysExpanded)\r\n        }\r\n    },\r\n    createFormByHiddenColumns: function(container, options) {\r\n        var that = this;\r\n        var $container = $(container);\r\n        var userFormOptions = {\r\n            items: that._getFormItemsByHiddenColumns(that._hiddenColumns),\r\n            formID: \"dx-\" + new Guid\r\n        };\r\n        var defaultFormOptions = isMaterial() ? {\r\n            colCount: 2\r\n        } : {};\r\n        this.executeAction(\"onAdaptiveDetailRowPreparing\", {\r\n            formOptions: userFormOptions\r\n        });\r\n        that._$itemContents = null;\r\n        that._form = that._createComponent($(\"<div>\").appendTo($container), Form, extend(defaultFormOptions, userFormOptions, {\r\n            customizeItem: function(item) {\r\n                var column = item.column || that._columnsController.columnOption(item.name || item.dataField);\r\n                if (column) {\r\n                    item.label = item.label || {};\r\n                    item.label.text = item.label.text || column.caption;\r\n                    item.column = column;\r\n                    item.template = that._getTemplate(item, options, that.updateForm.bind(that))\r\n                }\r\n                userFormOptions.customizeItem && userFormOptions.customizeItem.call(this, item)\r\n            },\r\n            onContentReady: function(e) {\r\n                userFormOptions.onContentReady && userFormOptions.onContentReady.call(this, e);\r\n                that._$itemContents = $container.find(\".\" + FORM_ITEM_CONTENT_CLASS)\r\n            }\r\n        }))\r\n    },\r\n    hasAdaptiveDetailRowExpanded: function() {\r\n        return isDefined(this._dataController.adaptiveExpandedKey())\r\n    },\r\n    updateForm: function(hiddenColumns) {\r\n        if (this.hasAdaptiveDetailRowExpanded()) {\r\n            if (this._form && isDefined(this._form._contentReadyAction)) {\r\n                if (hiddenColumns && hiddenColumns.length) {\r\n                    this._form.option(\"items\", this._getFormItemsByHiddenColumns(hiddenColumns))\r\n                } else {\r\n                    this._form.repaint()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    updateHidingQueue: function(columns) {\r\n        var hideableColumns = columns.filter((function(column) {\r\n            return column.visible && !column.type && !column.fixed && !(isDefined(column.groupIndex) && column.groupIndex >= 0)\r\n        }));\r\n        var columnsHasHidingPriority;\r\n        var i;\r\n        this._hidingColumnsQueue = [];\r\n        if (this.option(\"allowColumnResizing\") && \"widget\" === this.option(\"columnResizingMode\")) {\r\n            return this._hidingColumnsQueue\r\n        }\r\n        for (i = 0; i < hideableColumns.length; i++) {\r\n            if (isDefined(hideableColumns[i].hidingPriority) && hideableColumns[i].hidingPriority >= 0) {\r\n                columnsHasHidingPriority = true;\r\n                this._hidingColumnsQueue[hideableColumns[i].hidingPriority] = hideableColumns[i]\r\n            }\r\n        }\r\n        if (columnsHasHidingPriority) {\r\n            this._hidingColumnsQueue.reverse()\r\n        } else if (this.option(\"columnHidingEnabled\")) {\r\n            for (i = 0; i < hideableColumns.length; i++) {\r\n                var visibleIndex = this._columnsController.getVisibleIndex(hideableColumns[i].index);\r\n                this._hidingColumnsQueue[visibleIndex] = hideableColumns[i]\r\n            }\r\n        }\r\n        this._hidingColumnsQueue = this._hidingColumnsQueue.filter(Object);\r\n        return this._hidingColumnsQueue\r\n    },\r\n    getHiddenColumns: function() {\r\n        return this._hiddenColumns\r\n    },\r\n    hasHiddenColumns: function() {\r\n        return this._hiddenColumns.length > 0\r\n    },\r\n    getHidingColumnsQueue: function() {\r\n        return this._hidingColumnsQueue\r\n    },\r\n    init: function() {\r\n        var that = this;\r\n        that._columnsController = that.getController(\"columns\");\r\n        that._dataController = that.getController(\"data\");\r\n        that._rowsView = that.getView(\"rowsView\");\r\n        that._columnsController.addCommandColumn({\r\n            type: ADAPTIVE_COLUMN_NAME,\r\n            command: ADAPTIVE_COLUMN_NAME,\r\n            visible: true,\r\n            adaptiveHidden: true,\r\n            cssClass: ADAPTIVE_COLUMN_NAME_CLASS,\r\n            alignment: \"center\",\r\n            width: \"auto\",\r\n            cellTemplate: adaptiveCellTemplate,\r\n            fixedPosition: \"right\"\r\n        });\r\n        that._columnsController.columnsChanged.add((function() {\r\n            var isAdaptiveVisible = !!that.updateHidingQueue(that._columnsController.getColumns()).length;\r\n            that._columnsController.columnOption(\"command:adaptive\", \"adaptiveHidden\", !isAdaptiveVisible, true)\r\n        }));\r\n        that._editingController = that.getController(\"editing\");\r\n        that._hidingColumnsQueue = [];\r\n        that._hiddenColumns = [];\r\n        that.createAction(\"onAdaptiveDetailRowPreparing\");\r\n        that.callBase()\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"columnHidingEnabled\" === args.name) {\r\n            this._columnsController.columnOption(\"command:adaptive\", \"adaptiveHidden\", !args.value)\r\n        }\r\n        this.callBase(args)\r\n    },\r\n    publicMethods: function() {\r\n        return [\"isAdaptiveDetailRowExpanded\", \"expandAdaptiveDetailRow\", \"collapseAdaptiveDetailRow\"]\r\n    },\r\n    isAdaptiveDetailRowExpanded: function(key) {\r\n        return this._dataController.adaptiveExpandedKey() && equalByValue(this._dataController.adaptiveExpandedKey(), key)\r\n    },\r\n    expandAdaptiveDetailRow: function(key) {\r\n        if (!this.hasAdaptiveDetailRowExpanded()) {\r\n            this.toggleExpandAdaptiveDetailRow(key)\r\n        }\r\n    },\r\n    collapseAdaptiveDetailRow: function() {\r\n        if (this.hasAdaptiveDetailRowExpanded()) {\r\n            this.toggleExpandAdaptiveDetailRow()\r\n        }\r\n    },\r\n    updateCommandAdaptiveAriaLabel: function(key, label) {\r\n        var rowIndex = this._dataController.getRowIndexByKey(key);\r\n        if (-1 === rowIndex) {\r\n            return\r\n        }\r\n        var $row = $(this.component.getRowElement(rowIndex));\r\n        this.setCommandAdaptiveAriaLabel($row, label)\r\n    },\r\n    setCommandAdaptiveAriaLabel: function($row, labelName) {\r\n        var $adaptiveCommand = $row.find(\".dx-command-adaptive\");\r\n        $adaptiveCommand.attr(\"aria-label\", messageLocalization.format(labelName))\r\n    }\r\n});\r\nexport var adaptivityModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            columnHidingEnabled: false,\r\n            onAdaptiveDetailRowPreparing: null\r\n        }\r\n    },\r\n    controllers: {\r\n        adaptiveColumns: AdaptiveColumnsController\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: {\r\n                _getCellTemplate: function(options) {\r\n                    var that = this;\r\n                    var column = options.column;\r\n                    if (options.rowType === ADAPTIVE_ROW_TYPE && \"detail\" === column.command) {\r\n                        return function(container, options) {\r\n                            that._adaptiveColumnsController.createFormByHiddenColumns($(container), options)\r\n                        }\r\n                    }\r\n                    return that.callBase(options)\r\n                },\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (row && row.rowType === ADAPTIVE_ROW_TYPE && row.key === this._dataController.adaptiveExpandedKey()) {\r\n                        $row.addClass(ADAPTIVE_DETAIL_ROW_CLASS)\r\n                    }\r\n                    return $row\r\n                },\r\n                _renderCells: function($row, options) {\r\n                    this.callBase($row, options);\r\n                    var adaptiveColumnsController = this._adaptiveColumnsController;\r\n                    var hidingColumnsQueueLength = adaptiveColumnsController.getHidingColumnsQueue().length;\r\n                    var hiddenColumnsLength = adaptiveColumnsController.getHiddenColumns().length;\r\n                    if (hidingColumnsQueueLength && !hiddenColumnsLength) {\r\n                        getDataCellElements($row).last().addClass(LAST_DATA_CELL_CLASS)\r\n                    }\r\n                    if (\"data\" === options.row.rowType) {\r\n                        adaptiveColumnsController.setCommandAdaptiveAriaLabel($row, EXPAND_ARIA_NAME)\r\n                    }\r\n                },\r\n                _getColumnIndexByElementCore: function($element) {\r\n                    var $itemContent = $element.closest(\".\" + FORM_ITEM_CONTENT_CLASS);\r\n                    if ($itemContent.length && $itemContent.closest(this.component.$element()).length) {\r\n                        var formItem = $itemContent.length ? $itemContent.first().data(\"dx-form-item\") : null;\r\n                        return formItem && formItem.column && this._columnsController.getVisibleIndex(formItem.column.index)\r\n                    } else {\r\n                        return this.callBase($element)\r\n                    }\r\n                },\r\n                _cellPrepared: function($cell, options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (options.row.rowType !== ADAPTIVE_ROW_TYPE && options.column.visibleWidth === HIDDEN_COLUMNS_WIDTH) {\r\n                        $cell.addClass(this.addWidgetPrefix(HIDDEN_COLUMN_CLASS))\r\n                    }\r\n                },\r\n                _getCellElement: function(rowIndex, columnIdentifier) {\r\n                    var item = this._dataController.items()[rowIndex];\r\n                    if (item && item.rowType === ADAPTIVE_ROW_TYPE) {\r\n                        return this._adaptiveColumnsController.getItemContentByColumnIndex(columnIdentifier)\r\n                    } else {\r\n                        return this.callBase.apply(this, arguments)\r\n                    }\r\n                },\r\n                getContextMenuItems: function(options) {\r\n                    if (options.row && \"detailAdaptive\" === options.row.rowType) {\r\n                        var view = this.component.getView(\"columnHeadersView\");\r\n                        var formItem = $(options.targetElement).closest(\".dx-field-item-label\").next().data(\"dx-form-item\");\r\n                        options.column = formItem ? formItem.column : options.column;\r\n                        return view.getContextMenuItems && view.getContextMenuItems(options)\r\n                    }\r\n                    return this.callBase && this.callBase(options)\r\n                },\r\n                isClickableElement: function($target) {\r\n                    var isClickable = this.callBase ? this.callBase($target) : false;\r\n                    return isClickable || !!$target.closest(\".\" + ADAPTIVE_COLUMN_NAME_CLASS).length\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveColumnsController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            }\r\n        },\r\n        controllers: {\r\n            export: {\r\n                _updateColumnWidth: function(column, width) {\r\n                    this.callBase(column, column.visibleWidth === HIDDEN_COLUMNS_WIDTH ? column.bestFitWidth : width)\r\n                }\r\n            },\r\n            columnsResizer: {\r\n                _pointCreated: function(point, cellsLength, columns) {\r\n                    var result = this.callBase(point, cellsLength, columns);\r\n                    var currentColumn = columns[point.columnIndex] || {};\r\n                    var nextColumnIndex = this._getNextColumnIndex(point.columnIndex);\r\n                    var nextColumn = columns[nextColumnIndex] || {};\r\n                    var hasHiddenColumnsOnly = nextColumnIndex !== point.columnIndex + 1 && nextColumn.command;\r\n                    var hasAdaptiveHiddenWidth = currentColumn.visibleWidth === HIDDEN_COLUMNS_WIDTH || hasHiddenColumnsOnly;\r\n                    return result || hasAdaptiveHiddenWidth\r\n                },\r\n                _getNextColumnIndex: function(currentColumnIndex) {\r\n                    var visibleColumns = this._columnsController.getVisibleColumns();\r\n                    var index = this.callBase(currentColumnIndex);\r\n                    while (visibleColumns[index] && visibleColumns[index].visibleWidth === HIDDEN_COLUMNS_WIDTH) {\r\n                        index++\r\n                    }\r\n                    return index\r\n                }\r\n            },\r\n            draggingHeader: {\r\n                _pointCreated: function(point, columns, location, sourceColumn) {\r\n                    var result = this.callBase(point, columns, location, sourceColumn);\r\n                    var column = columns[point.columnIndex - 1] || {};\r\n                    var hasAdaptiveHiddenWidth = column.visibleWidth === HIDDEN_COLUMNS_WIDTH;\r\n                    return result || hasAdaptiveHiddenWidth\r\n                }\r\n            },\r\n            editing: {\r\n                _isRowEditMode: function() {\r\n                    return this.getEditMode() === EDIT_MODE_ROW\r\n                },\r\n                _getFormEditItemTemplate: function(cellOptions, column) {\r\n                    if (this.getEditMode() !== EDIT_MODE_ROW && \"detailAdaptive\" === cellOptions.rowType) {\r\n                        cellOptions.columnIndex = this._columnsController.getVisibleIndex(column.index);\r\n                        return this.getColumnTemplate(cellOptions)\r\n                    }\r\n                    return this.callBase(cellOptions, column)\r\n                },\r\n                _closeEditItem: function($targetElement) {\r\n                    var $itemContents = $targetElement.closest(\".\" + FORM_ITEM_CONTENT_CLASS);\r\n                    var rowIndex = this._dataController.getRowIndexByKey(this._dataController.adaptiveExpandedKey()) + 1;\r\n                    var formItem = $itemContents.length ? $itemContents.first().data(\"dx-form-item\") : null;\r\n                    var columnIndex = formItem && formItem.column && this._columnsController.getVisibleIndex(formItem.column.index);\r\n                    if (!this.isEditCell(rowIndex, columnIndex)) {\r\n                        this.callBase($targetElement)\r\n                    }\r\n                },\r\n                _beforeUpdateItems: function(rowIndices, rowIndex) {\r\n                    if (!this._adaptiveController.isFormOrPopupEditMode() && this._adaptiveController.hasHiddenColumns()) {\r\n                        var items = this._dataController.items();\r\n                        var item = items[rowIndex];\r\n                        var oldExpandRowIndex = gridCoreUtils.getIndexByKey(this._dataController.adaptiveExpandedKey(), items);\r\n                        this._isForceRowAdaptiveExpand = !this._adaptiveController.hasAdaptiveDetailRowExpanded();\r\n                        if (oldExpandRowIndex >= 0) {\r\n                            rowIndices.push(oldExpandRowIndex + 1)\r\n                        }\r\n                        rowIndices.push(rowIndex + 1);\r\n                        this._dataController.adaptiveExpandedKey(item.key)\r\n                    }\r\n                },\r\n                _afterInsertRow: function(key) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this._adaptiveController.hasHiddenColumns()) {\r\n                        this._adaptiveController.toggleExpandAdaptiveDetailRow(key, this.isRowEditMode());\r\n                        this._isForceRowAdaptiveExpand = true\r\n                    }\r\n                },\r\n                _collapseAdaptiveDetailRow: function() {\r\n                    if (this._isRowEditMode() && this._isForceRowAdaptiveExpand) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow();\r\n                        this._isForceRowAdaptiveExpand = false\r\n                    }\r\n                },\r\n                _cancelEditAdaptiveDetailRow: function() {\r\n                    if (this._adaptiveController.hasHiddenColumns()) {\r\n                        this._collapseAdaptiveDetailRow()\r\n                    }\r\n                },\r\n                _afterSaveEditData: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    var deferred = new Deferred;\r\n                    if (this._isRowEditMode() && this._adaptiveController.hasHiddenColumns()) {\r\n                        when(this.getController(\"validating\").validate(true)).done(isValid => {\r\n                            if (isValid) {\r\n                                this._cancelEditAdaptiveDetailRow()\r\n                            }\r\n                            deferred.resolve()\r\n                        })\r\n                    } else {\r\n                        deferred.resolve()\r\n                    }\r\n                    return deferred.promise()\r\n                },\r\n                _beforeCancelEditData: function() {\r\n                    this.callBase();\r\n                    this._cancelEditAdaptiveDetailRow()\r\n                },\r\n                _getRowIndicesForCascadeUpdating: function(row) {\r\n                    var rowIndices = this.callBase.apply(this, arguments);\r\n                    if (this._adaptiveController.isAdaptiveDetailRowExpanded(row.key)) {\r\n                        rowIndices.push(row.rowType === ADAPTIVE_ROW_TYPE ? row.rowIndex - 1 : row.rowIndex + 1)\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                _beforeCloseEditCellInBatchMode: function(rowIndices) {\r\n                    var expandedKey = this._dataController._adaptiveExpandedKey;\r\n                    if (expandedKey) {\r\n                        var rowIndex = gridCoreUtils.getIndexByKey(expandedKey, this._dataController.items());\r\n                        if (rowIndex > -1) {\r\n                            rowIndices.unshift(rowIndex)\r\n                        }\r\n                    }\r\n                },\r\n                editRow: function(rowIndex) {\r\n                    if (this._adaptiveController.isFormOrPopupEditMode()) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                deleteRow: function(rowIndex) {\r\n                    var rowKey = this._dataController.getKeyByRowIndex(rowIndex);\r\n                    if (this.getEditMode() === EDIT_MODE_BATCH && this._adaptiveController.isAdaptiveDetailRowExpanded(rowKey)) {\r\n                        this._adaptiveController.collapseAdaptiveDetailRow()\r\n                    }\r\n                    this.callBase(rowIndex)\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            },\r\n            resizing: {\r\n                _needBestFit: function() {\r\n                    return this.callBase() || !!this._adaptiveColumnsController.getHidingColumnsQueue().length\r\n                },\r\n                _correctColumnWidths: function(resultWidths, visibleColumns) {\r\n                    var adaptiveController = this._adaptiveColumnsController;\r\n                    var oldHiddenColumns = adaptiveController.getHiddenColumns();\r\n                    var hidingColumnsQueue = adaptiveController.updateHidingQueue(this._columnsController.getColumns());\r\n                    adaptiveController.hideRedundantColumns(resultWidths, visibleColumns, hidingColumnsQueue);\r\n                    var hiddenColumns = adaptiveController.getHiddenColumns();\r\n                    if (adaptiveController.hasAdaptiveDetailRowExpanded()) {\r\n                        if (oldHiddenColumns.length !== hiddenColumns.length) {\r\n                            adaptiveController.updateForm(hiddenColumns)\r\n                        }\r\n                    }!hiddenColumns.length && adaptiveController.collapseAdaptiveDetailRow();\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _toggleBestFitMode: function(isBestFit) {\r\n                    isBestFit && this._adaptiveColumnsController._showHiddenColumns();\r\n                    this.callBase(isBestFit)\r\n                },\r\n                _needStretch: function() {\r\n                    var adaptiveColumnsController = this._adaptiveColumnsController;\r\n                    return this.callBase.apply(this, arguments) || adaptiveColumnsController.getHidingColumnsQueue().length || adaptiveColumnsController.hasHiddenColumns()\r\n                },\r\n                init: function() {\r\n                    this._adaptiveColumnsController = this.getController(\"adaptiveColumns\");\r\n                    this.callBase()\r\n                },\r\n                dispose: function() {\r\n                    this.callBase.apply(this, arguments);\r\n                    clearTimeout(this._updateScrollableTimeoutID)\r\n                }\r\n            },\r\n            data: {\r\n                _processItems: function(items, change) {\r\n                    var changeType = change.changeType;\r\n                    items = this.callBase.apply(this, arguments);\r\n                    if (\"loadingAll\" === changeType || !isDefined(this._adaptiveExpandedKey)) {\r\n                        return items\r\n                    }\r\n                    var expandRowIndex = gridCoreUtils.getIndexByKey(this._adaptiveExpandedKey, items);\r\n                    var newMode = false === this.option(LEGACY_SCROLLING_MODE);\r\n                    if (expandRowIndex >= 0) {\r\n                        var item = items[expandRowIndex];\r\n                        items.splice(expandRowIndex + 1, 0, {\r\n                            visible: true,\r\n                            rowType: ADAPTIVE_ROW_TYPE,\r\n                            key: item.key,\r\n                            data: item.data,\r\n                            node: item.node,\r\n                            modifiedValues: item.modifiedValues,\r\n                            isNewRow: item.isNewRow,\r\n                            values: item.values\r\n                        })\r\n                    } else if (\"refresh\" === changeType && !(newMode && change.repaintChangesOnly)) {\r\n                        this._adaptiveExpandedKey = void 0\r\n                    }\r\n                    return items\r\n                },\r\n                _getRowIndicesForExpand: function(key) {\r\n                    var rowIndices = this.callBase.apply(this, arguments);\r\n                    if (this.getController(\"adaptiveColumns\").isAdaptiveDetailRowExpanded(key)) {\r\n                        var lastRowIndex = rowIndices[rowIndices.length - 1];\r\n                        rowIndices.push(lastRowIndex + 1)\r\n                    }\r\n                    return rowIndices\r\n                },\r\n                adaptiveExpandedKey: function(value) {\r\n                    if (isDefined(value)) {\r\n                        this._adaptiveExpandedKey = value\r\n                    } else {\r\n                        return this._adaptiveExpandedKey\r\n                    }\r\n                },\r\n                toggleExpandAdaptiveDetailRow: function(key, alwaysExpanded) {\r\n                    var oldExpandLoadedRowIndex = gridCoreUtils.getIndexByKey(this._adaptiveExpandedKey, this._items);\r\n                    var newExpandLoadedRowIndex = gridCoreUtils.getIndexByKey(key, this._items);\r\n                    if (oldExpandLoadedRowIndex >= 0 && oldExpandLoadedRowIndex === newExpandLoadedRowIndex && !alwaysExpanded) {\r\n                        key = void 0;\r\n                        newExpandLoadedRowIndex = -1\r\n                    }\r\n                    var oldKey = this._adaptiveExpandedKey;\r\n                    this._adaptiveExpandedKey = key;\r\n                    if (oldExpandLoadedRowIndex >= 0) {\r\n                        oldExpandLoadedRowIndex++\r\n                    }\r\n                    if (newExpandLoadedRowIndex >= 0) {\r\n                        newExpandLoadedRowIndex++\r\n                    }\r\n                    var rowIndexDelta = this.getRowIndexDelta();\r\n                    this.updateItems({\r\n                        allowInvisibleRowIndices: true,\r\n                        changeType: \"update\",\r\n                        rowIndices: [oldExpandLoadedRowIndex - rowIndexDelta, newExpandLoadedRowIndex - rowIndexDelta]\r\n                    });\r\n                    var adaptiveColumnsController = this.getController(\"adaptiveColumns\");\r\n                    adaptiveColumnsController.updateCommandAdaptiveAriaLabel(key, COLLAPSE_ARIA_NAME);\r\n                    adaptiveColumnsController.updateCommandAdaptiveAriaLabel(oldKey, EXPAND_ARIA_NAME)\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveExpandedKey = void 0\r\n                }\r\n            },\r\n            editorFactory: {\r\n                _getFocusCellSelector: function() {\r\n                    return this.callBase() + \", .dx-adaptive-detail-row .dx-field-item > .dx-field-item-content\"\r\n                },\r\n                _getTooltipsSelector: function() {\r\n                    return this.callBase() + \", .dx-field-item-content .\" + this.addWidgetPrefix(REVERT_TOOLTIP_CLASS)\r\n                }\r\n            },\r\n            columns: {\r\n                _isColumnVisible: function(column) {\r\n                    return this.callBase(column) && !column.adaptiveHidden\r\n                }\r\n            },\r\n            keyboardNavigation: {\r\n                _isCellValid: function($cell) {\r\n                    return this.callBase.apply(this, arguments) && !$cell.hasClass(this.addWidgetPrefix(HIDDEN_COLUMN_CLASS))\r\n                },\r\n                _processNextCellInMasterDetail: function($nextCell) {\r\n                    this.callBase($nextCell);\r\n                    var isCellOrBatchMode = this._editingController.isCellOrBatchEditMode();\r\n                    if (!this._isInsideEditForm($nextCell) && $nextCell && isCellOrBatchMode) {\r\n                        eventsEngine.on($nextCell, \"focus\", (function focusHandler() {\r\n                            eventsEngine.off($nextCell, \"focus\", focusHandler);\r\n                            eventsEngine.trigger($nextCell, \"dxclick\")\r\n                        }))\r\n                    }\r\n                },\r\n                _handleTabKeyOnMasterDetailCell: function(eventTarget, direction) {\r\n                    var result = this.callBase(eventTarget, direction);\r\n                    var $currentCell = this._getFocusedCell();\r\n                    var $row = $currentCell && $currentCell.parent();\r\n                    if (!result && $row && $row.length) {\r\n                        var $dataCells = getDataCellElements($row);\r\n                        var $targetCell = \"next\" === direction ? $dataCells.last() : $dataCells.first();\r\n                        var rowIndex = $row.get(0).rowIndex;\r\n                        var adaptiveController = this._adaptiveController;\r\n                        var key = this._dataController.getKeyByRowIndex(\"next\" === direction ? rowIndex : rowIndex - 1);\r\n                        var isCellElementsEquals = $currentCell && $targetCell && $currentCell.get(0) === $targetCell.get(0);\r\n                        return adaptiveController.isAdaptiveDetailRowExpanded(key) && isCellElementsEquals\r\n                    }\r\n                    return result\r\n                },\r\n                init: function() {\r\n                    this.callBase();\r\n                    this._adaptiveController = this.getController(\"adaptiveColumns\")\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns_core.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport function foreachColumnInfo(info, callback, rowIndex, offsets, columnCount, lastProcessedIndexes) {\r\n    rowIndex = rowIndex || 0;\r\n    offsets = offsets || [];\r\n    lastProcessedIndexes = lastProcessedIndexes || [];\r\n    offsets[rowIndex] = offsets[rowIndex] || 0;\r\n    var row = info[rowIndex];\r\n    var startIndex = lastProcessedIndexes[rowIndex] + 1 || 0;\r\n    var processedColumnCount = 0;\r\n    var colIndex;\r\n    if (!row) {\r\n        return\r\n    }\r\n    for (colIndex = startIndex; colIndex < row.length; colIndex++) {\r\n        var cell = row[colIndex];\r\n        var visibleIndex = colIndex + offsets[rowIndex];\r\n        var colspan = cell.colspan || 1;\r\n        foreachColumnInfo(info, callback, rowIndex + (cell.rowspan || 1), offsets, colspan, lastProcessedIndexes);\r\n        offsets[rowIndex] += colspan - 1;\r\n        processedColumnCount += colspan;\r\n        if (cell.rowspan) {\r\n            for (var i = rowIndex + 1; i < rowIndex + cell.rowspan; i++) {\r\n                offsets[i] = offsets[i] || 0;\r\n                offsets[i] += cell.colspan || 1\r\n            }\r\n        }\r\n        if (false === callback(cell, visibleIndex, rowIndex, colIndex)) {\r\n            break\r\n        }\r\n        if (void 0 !== columnCount && processedColumnCount >= columnCount) {\r\n            break\r\n        }\r\n    }\r\n    lastProcessedIndexes[rowIndex] = colIndex\r\n}\r\nexport function createColumnsInfo(info, startIndex, endIndex) {\r\n    var newInfo = [];\r\n    foreachColumnInfo(info, (function(columnInfo, visibleIndex, rowIndex) {\r\n        var cell = columnInfo;\r\n        var colspan;\r\n        var cellColspan = cell.colspan || 1;\r\n        var isVisible = visibleIndex + cellColspan - 1 >= startIndex && visibleIndex < endIndex;\r\n        newInfo[rowIndex] = newInfo[rowIndex] || [];\r\n        if (isVisible) {\r\n            if (visibleIndex < startIndex) {\r\n                colspan = cellColspan - (startIndex - visibleIndex);\r\n                visibleIndex = startIndex\r\n            } else {\r\n                colspan = cellColspan\r\n            }\r\n            if (visibleIndex + colspan > endIndex) {\r\n                colspan = endIndex - visibleIndex\r\n            }\r\n            if (colspan !== cellColspan) {\r\n                cell = extend({}, cell, {\r\n                    colspan: colspan\r\n                })\r\n            }\r\n            newInfo[rowIndex].push(cell)\r\n        } else if (visibleIndex > endIndex) {\r\n            return false\r\n        }\r\n    }));\r\n    for (var i = 0; i < newInfo.length; i++) {\r\n        newInfo[i] = newInfo[i] || []\r\n    }\r\n    return newInfo\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.adaptivity.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    adaptivityModule\r\n} from \"../grid_core/ui.grid_core.adaptivity\";\r\ngridCore.registerModule(\"adaptivity\", adaptivityModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.virtual_columns.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../../core/utils/size\";\r\nimport {\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    createColumnsInfo\r\n} from \"./ui.grid_core.virtual_columns_core\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar DEFAULT_COLUMN_WIDTH = 50;\r\nvar VirtualScrollingRowsViewExtender = {\r\n    _resizeCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._columnsController.resize()\r\n    },\r\n    _handleScroll: function(e) {\r\n        var that = this;\r\n        var scrollable = this.getScrollable();\r\n        var left = e.scrollOffset.left;\r\n        that.callBase.apply(that, arguments);\r\n        if (that.option(\"rtlEnabled\") && scrollable) {\r\n            left = getWidth(scrollable.$content()) - getWidth(scrollable.$element()) - left\r\n        }\r\n        that._columnsController.setScrollPosition(left)\r\n    }\r\n};\r\nvar HeaderViewExtender = {\r\n    _renderCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._columnsController.isVirtualMode()) {\r\n            this._updateScrollLeftPosition()\r\n        }\r\n    }\r\n};\r\nvar ColumnsControllerExtender = function() {\r\n    var getWidths = function(columns) {\r\n        return columns.map(column => column.visibleWidth || parseFloat(column.width) || DEFAULT_COLUMN_WIDTH)\r\n    };\r\n    var members = {\r\n        init: function() {\r\n            this.callBase();\r\n            this._beginPageIndex = 0;\r\n            this._endPageIndex = 0;\r\n            this._position = 0;\r\n            this._virtualVisibleColumns = {}\r\n        },\r\n        resetColumnsCache: function() {\r\n            this.callBase();\r\n            this._virtualVisibleColumns = {}\r\n        },\r\n        getBeginPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.floor(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return 0\r\n        },\r\n        getTotalWidth: function() {\r\n            var width = this.option(\"width\");\r\n            if (\"number\" === typeof width) {\r\n                return width\r\n            }\r\n            return this.getController(\"resizing\")._lastWidth || getOuterWidth(this.component.$element())\r\n        },\r\n        getEndPageIndex: function(position) {\r\n            var visibleColumns = this.getVisibleColumns(void 0, true);\r\n            var widths = getWidths(visibleColumns);\r\n            var currentPosition = 0;\r\n            position += this.getTotalWidth();\r\n            for (var index = 0; index < widths.length; index++) {\r\n                if (currentPosition >= position) {\r\n                    return Math.ceil(index / this.getColumnPageSize())\r\n                }\r\n                currentPosition += widths[index]\r\n            }\r\n            return Math.ceil(widths.length / this.getColumnPageSize())\r\n        },\r\n        getColumnPageSize: function() {\r\n            return this.option(\"scrolling.columnPageSize\")\r\n        },\r\n        _fireColumnsChanged: function() {\r\n            var date = new Date;\r\n            this.columnsChanged.fire({\r\n                optionNames: {\r\n                    all: true,\r\n                    length: 1\r\n                },\r\n                changeTypes: {\r\n                    columns: true,\r\n                    virtualColumnsScrolling: true,\r\n                    length: 2\r\n                }\r\n            });\r\n            this._renderTime = new Date - date\r\n        },\r\n        getScrollingTimeout: function() {\r\n            var renderingThreshold = this.option(\"scrolling.columnRenderingThreshold\");\r\n            var renderAsync = this.option(\"scrolling.renderAsync\");\r\n            var scrollingTimeout = 0;\r\n            if (!isDefined(renderAsync) && this._renderTime > renderingThreshold || renderAsync) {\r\n                scrollingTimeout = this.option(\"scrolling.timeout\")\r\n            }\r\n            return scrollingTimeout\r\n        },\r\n        setScrollPosition: function(position) {\r\n            var scrollingTimeout = this.getScrollingTimeout();\r\n            if (scrollingTimeout > 0) {\r\n                clearTimeout(this._changedTimeout);\r\n                this._changedTimeout = setTimeout(() => {\r\n                    this._setScrollPositionCore(position)\r\n                }, scrollingTimeout)\r\n            } else {\r\n                this._setScrollPositionCore(position)\r\n            }\r\n        },\r\n        isVirtualMode: function() {\r\n            return hasWindow() && \"virtual\" === this.option(\"scrolling.columnRenderingMode\")\r\n        },\r\n        resize: function() {\r\n            this._setScrollPositionCore(this._position)\r\n        },\r\n        _setScrollPositionCore: function(position) {\r\n            if (this.isVirtualMode()) {\r\n                var beginPageIndex = this.getBeginPageIndex(position);\r\n                var endPageIndex = this.getEndPageIndex(position);\r\n                var needColumnsChanged = position < this._position ? this._beginPageIndex > beginPageIndex : this._endPageIndex < endPageIndex;\r\n                this._position = position;\r\n                if (needColumnsChanged) {\r\n                    this._beginPageIndex = beginPageIndex;\r\n                    this._endPageIndex = endPageIndex;\r\n                    this._fireColumnsChanged()\r\n                }\r\n            }\r\n        },\r\n        getFixedColumns: function(rowIndex, isBase) {\r\n            var fixedColumns = this.callBase(rowIndex);\r\n            if (this.isVirtualMode() && !isBase && fixedColumns.length) {\r\n                var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n                fixedColumns[transparentColumnIndex].colspan = this.getVisibleColumns().length - this.callBase().length + 1;\r\n                return fixedColumns\r\n            }\r\n            return fixedColumns\r\n        },\r\n        getVisibleColumns: function(rowIndex, isBase) {\r\n            if (isBase || !this.isVirtualMode()) {\r\n                return this.callBase(rowIndex)\r\n            }\r\n            if (!this._beginPageIndex && !this._endPageIndex) {\r\n                this._beginPageIndex = this.getBeginPageIndex(this._position);\r\n                this._endPageIndex = this.getEndPageIndex(this._position)\r\n            }\r\n            var beginPageIndex = this._beginPageIndex;\r\n            var endPageIndex = this._endPageIndex;\r\n            var visibleColumnsHash = rowIndex + \"-\" + beginPageIndex + \"-\" + endPageIndex;\r\n            if (this._virtualVisibleColumns[visibleColumnsHash]) {\r\n                return this._virtualVisibleColumns[visibleColumnsHash]\r\n            }\r\n            var visibleColumns = this.callBase();\r\n            var rowCount = this.getRowCount();\r\n            var pageSize = this.getColumnPageSize();\r\n            var startIndex = beginPageIndex * pageSize;\r\n            var endIndex = endPageIndex * pageSize;\r\n            var fixedColumns = this.getFixedColumns(void 0, true);\r\n            var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n            var beginFixedColumnCount = fixedColumns.length ? transparentColumnIndex : 0;\r\n            var beginFixedColumns = visibleColumns.slice(0, beginFixedColumnCount);\r\n            var beginColumns = visibleColumns.slice(beginFixedColumnCount, startIndex);\r\n            var beginWidth = getWidths(beginColumns).reduce((a, b) => a + b, 0);\r\n            if (!beginWidth) {\r\n                startIndex = 0\r\n            }\r\n            var endFixedColumnCount = fixedColumns.length ? fixedColumns.length - transparentColumnIndex - 1 : 0;\r\n            var endFixedColumns = visibleColumns.slice(visibleColumns.length - endFixedColumnCount);\r\n            var endColumns = visibleColumns.slice(endIndex, visibleColumns.length - endFixedColumnCount);\r\n            var endWidth = getWidths(endColumns).reduce((a, b) => a + b, 0);\r\n            if (!endWidth) {\r\n                endIndex = visibleColumns.length\r\n            }\r\n            if (rowCount > 1 && \"number\" === typeof rowIndex) {\r\n                var columnsInfo = [];\r\n                for (var i = 0; i < rowCount; i++) {\r\n                    columnsInfo.push(this.callBase(i))\r\n                }\r\n                beginFixedColumns = createColumnsInfo(columnsInfo, 0, beginFixedColumns.length)[rowIndex] || [];\r\n                endFixedColumns = createColumnsInfo(columnsInfo, visibleColumns.length - endFixedColumns.length, visibleColumns.length)[rowIndex] || [];\r\n                visibleColumns = createColumnsInfo(columnsInfo, startIndex, endIndex)[rowIndex] || []\r\n            } else {\r\n                visibleColumns = visibleColumns.slice(startIndex, endIndex)\r\n            }\r\n            if (beginWidth) {\r\n                visibleColumns.unshift({\r\n                    command: \"virtual\",\r\n                    width: beginWidth\r\n                });\r\n                visibleColumns = beginFixedColumns.concat(visibleColumns)\r\n            }\r\n            if (endWidth) {\r\n                visibleColumns.push({\r\n                    command: \"virtual\",\r\n                    width: endWidth\r\n                });\r\n                visibleColumns = visibleColumns.concat(endFixedColumns)\r\n            }\r\n            this._virtualVisibleColumns[visibleColumnsHash] = visibleColumns;\r\n            return visibleColumns\r\n        },\r\n        getColumnIndexOffset: function() {\r\n            var offset = 0;\r\n            if (this._beginPageIndex > 0) {\r\n                var fixedColumns = this.getFixedColumns();\r\n                var transparentColumnIndex = fixedColumns.map(c => c.command).indexOf(\"transparent\");\r\n                var leftFixedColumnCount = transparentColumnIndex >= 0 ? transparentColumnIndex : 0;\r\n                offset = this._beginPageIndex * this.getColumnPageSize() - leftFixedColumnCount - 1\r\n            }\r\n            return offset > 0 ? offset : 0\r\n        },\r\n        dispose: function() {\r\n            clearTimeout(this._changedTimeout);\r\n            this.callBase.apply(this, arguments)\r\n        }\r\n    };\r\n    return members\r\n}();\r\nexport var virtualColumnsModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            scrolling: {\r\n                columnRenderingMode: \"standard\",\r\n                columnPageSize: 5,\r\n                columnRenderingThreshold: 300\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            columns: ColumnsControllerExtender\r\n        },\r\n        views: {\r\n            columnHeadersView: HeaderViewExtender,\r\n            rowsView: VirtualScrollingRowsViewExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.virtual_columns.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    virtualColumnsModule\r\n} from \"../grid_core/ui.grid_core.virtual_columns\";\r\ngridCore.registerModule(\"virtualColumns\", virtualColumnsModule);\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.export_mixin.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport default {\r\n    _getEmptyCell: function() {\r\n        return {\r\n            text: \"\",\r\n            value: void 0,\r\n            colspan: 1,\r\n            rowspan: 1\r\n        }\r\n    },\r\n    _defaultSetter: function(value) {\r\n        return !value ? 1 : value\r\n    },\r\n    _cloneItem: function(item) {\r\n        return extend({}, item, this._getEmptyCell())\r\n    },\r\n    _prepareItems: function(items) {\r\n        var that = this;\r\n        var resultItems = [];\r\n        var cols = (items[0] || []).reduce((sum, item) => sum + that._defaultSetter(item.colspan), 0);\r\n        var getItem = function(items) {\r\n            var rowIndex = 0;\r\n            var cellIndex = 0;\r\n            return function() {\r\n                var row = items[rowIndex] || [];\r\n                var item = row[cellIndex++];\r\n                if (cellIndex >= row.length) {\r\n                    rowIndex++;\r\n                    cellIndex = 0\r\n                }\r\n                if (item) {\r\n                    item.colspan = that._defaultSetter(item.colspan);\r\n                    item.rowspan = that._defaultSetter(item.rowspan)\r\n                }\r\n                return item\r\n            }\r\n        }(items);\r\n\r\n        function addItem(rowIndex, cellIndex, item) {\r\n            var row = resultItems[rowIndex] = resultItems[rowIndex] || [];\r\n            row[cellIndex] = item;\r\n            if (item.colspan > 1 || item.rowspan > 1) {\r\n                var clone = that._cloneItem(item);\r\n                for (var c = 1; c < item.colspan; c++) {\r\n                    addItem(rowIndex, cellIndex + c, clone)\r\n                }\r\n                for (var r = 1; r < item.rowspan; r++) {\r\n                    for (var _c = 0; _c < item.colspan; _c++) {\r\n                        addItem(rowIndex + r, cellIndex + _c, clone)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var item = getItem();\r\n        var rowIndex = 0;\r\n        while (item) {\r\n            for (var cellIndex = 0; cellIndex < cols; cellIndex++) {\r\n                if (!item) {\r\n                    break\r\n                }\r\n                if (resultItems[rowIndex] && resultItems[rowIndex][cellIndex]) {\r\n                    continue\r\n                }\r\n                addItem(rowIndex, cellIndex, item);\r\n                cellIndex += item.colspan - 1;\r\n                item = getItem()\r\n            }\r\n            rowIndex++\r\n        }\r\n        return resultItems\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/exporter/file_saver.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    getWindow,\r\n    getNavigator\r\n} from \"../core/utils/window\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport errors from \"../ui/widget/ui.errors\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    logger\r\n} from \"../core/utils/console\";\r\nvar window = getWindow();\r\nvar navigator = getNavigator();\r\nvar FILE_EXTESIONS = {\r\n    EXCEL: \"xlsx\",\r\n    CSS: \"css\",\r\n    PNG: \"png\",\r\n    JPEG: \"jpeg\",\r\n    GIF: \"gif\",\r\n    SVG: \"svg\",\r\n    PDF: \"pdf\"\r\n};\r\nexport var MIME_TYPES = {\r\n    CSS: \"text/css\",\r\n    EXCEL: \"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\",\r\n    PNG: \"image/png\",\r\n    JPEG: \"image/jpeg\",\r\n    GIF: \"image/gif\",\r\n    SVG: \"image/svg+xml\",\r\n    PDF: \"application/pdf\"\r\n};\r\nexport var fileSaver = {\r\n    _revokeObjectURLTimeout: 3e4,\r\n    _getDataUri: function(format, data) {\r\n        var mimeType = this._getMimeType(format);\r\n        return \"data:\".concat(mimeType, \";base64,\").concat(data)\r\n    },\r\n    _getMimeType: function(format) {\r\n        return MIME_TYPES[format] || \"application/octet-stream\"\r\n    },\r\n    _linkDownloader: function(fileName, href) {\r\n        var exportLinkElement = domAdapter.createElement(\"a\");\r\n        exportLinkElement.download = fileName;\r\n        exportLinkElement.href = href;\r\n        exportLinkElement.target = \"_blank\";\r\n        return exportLinkElement\r\n    },\r\n    _formDownloader: function(proxyUrl, fileName, contentType, data) {\r\n        var formAttributes = {\r\n            method: \"post\",\r\n            action: proxyUrl,\r\n            enctype: \"multipart/form-data\"\r\n        };\r\n        var exportForm = $(\"<form>\").css({\r\n            display: \"none\"\r\n        }).attr(formAttributes);\r\n\r\n        function setAttributes(element, attributes) {\r\n            for (var key in attributes) {\r\n                element.setAttribute(key, attributes[key])\r\n            }\r\n            return element\r\n        }\r\n        exportForm.append(setAttributes(domAdapter.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"fileName\",\r\n            value: fileName\r\n        }));\r\n        exportForm.append(setAttributes(domAdapter.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"contentType\",\r\n            value: contentType\r\n        }));\r\n        exportForm.append(setAttributes(domAdapter.createElement(\"input\"), {\r\n            type: \"hidden\",\r\n            name: \"data\",\r\n            value: data\r\n        }));\r\n        exportForm.appendTo(\"body\");\r\n        eventsEngine.trigger(exportForm, \"submit\");\r\n        if (eventsEngine.trigger(exportForm, \"submit\")) {\r\n            exportForm.remove()\r\n        }\r\n    },\r\n    _saveByProxy: function(proxyUrl, fileName, format, data) {\r\n        var contentType = this._getMimeType(format);\r\n        return this._formDownloader(proxyUrl, fileName, contentType, data)\r\n    },\r\n    _winJSBlobSave: function(blob, fileName, format) {\r\n        var savePicker = new Windows.Storage.Pickers.FileSavePicker;\r\n        savePicker.suggestedStartLocation = Windows.Storage.Pickers.PickerLocationId.documentsLibrary;\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            var mimeType = this._getMimeType(format);\r\n            savePicker.fileTypeChoices.insert(mimeType, [\".\" + fileExtension])\r\n        }\r\n        savePicker.suggestedFileName = fileName;\r\n        savePicker.pickSaveFileAsync().then((function(file) {\r\n            if (file) {\r\n                file.openAsync(Windows.Storage.FileAccessMode.readWrite).then((function(outputStream) {\r\n                    var inputStream = blob.msDetachStream();\r\n                    Windows.Storage.Streams.RandomAccessStream.copyAsync(inputStream, outputStream).then((function() {\r\n                        outputStream.flushAsync().done((function() {\r\n                            inputStream.close();\r\n                            outputStream.close()\r\n                        }))\r\n                    }))\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _click: function(link) {\r\n        try {\r\n            link.dispatchEvent(new MouseEvent(\"click\", {\r\n                cancelable: true\r\n            }))\r\n        } catch (e) {\r\n            var event = domAdapter.getDocument().createEvent(\"MouseEvents\");\r\n            event.initMouseEvent(\"click\", true, true, window, 0, 0, 0, 80, 20, false, false, false, false, 0, null);\r\n            link.dispatchEvent(event)\r\n        }\r\n    },\r\n    _saveBlobAs: function(fileName, format, data) {\r\n        this._blobSaved = false;\r\n        if (isDefined(navigator.msSaveOrOpenBlob)) {\r\n            navigator.msSaveOrOpenBlob(data, fileName);\r\n            this._blobSaved = true\r\n        } else if (isDefined(window.WinJS)) {\r\n            this._winJSBlobSave(data, fileName, format);\r\n            this._blobSaved = true\r\n        } else {\r\n            var URL = window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL;\r\n            if (isDefined(URL)) {\r\n                var objectURL = URL.createObjectURL(data);\r\n                var downloadLink = this._linkDownloader(fileName, objectURL);\r\n                setTimeout(() => {\r\n                    URL.revokeObjectURL(objectURL);\r\n                    this._objectUrlRevoked = true\r\n                }, this._revokeObjectURLTimeout);\r\n                this._click(downloadLink)\r\n            } else {\r\n                logger.warn(\"window.URL || window.webkitURL || window.mozURL || window.msURL || window.oURL is not defined\")\r\n            }\r\n        }\r\n    },\r\n    saveAs: function(fileName, format, data, proxyURL, forceProxy) {\r\n        var fileExtension = FILE_EXTESIONS[format];\r\n        if (fileExtension) {\r\n            fileName += \".\" + fileExtension\r\n        }\r\n        if (isDefined(proxyURL)) {\r\n            errors.log(\"W0001\", \"Export\", \"proxyURL\", \"19.2\", \"This option is no longer required\")\r\n        }\r\n        if (forceProxy) {\r\n            this._saveByProxy(proxyURL, fileName, format, data)\r\n        } else if (isFunction(window.Blob)) {\r\n            this._saveBlobAs(fileName, format, data)\r\n        } else if (isDefined(proxyURL) && !isDefined(navigator.userAgent.match(/iPad/i))) {\r\n            this._saveByProxy(proxyURL, fileName, format, data)\r\n        } else {\r\n            if (!isDefined(navigator.userAgent.match(/iPad/i))) {\r\n                errors.log(\"E1034\")\r\n            }\r\n            var downloadLink = this._linkDownloader(fileName, this._getDataUri(format, data));\r\n            this._click(downloadLink)\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/exporter/excel_format_converter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    format as stringFormat\r\n} from \"../core/utils/string\";\r\nimport numberFormatter from \"../localization/number\";\r\nimport dateLocalization from \"../localization/date\";\r\nimport {\r\n    isDefined,\r\n    isString\r\n} from \"../core/utils/type\";\r\nimport {\r\n    getFormat\r\n} from \"../localization/ldml/date.format\";\r\nimport {\r\n    getLanguageId\r\n} from \"../localization/language_codes\";\r\nimport \"../localization/currency\";\r\nvar ARABIC_ZERO_CODE = 1632;\r\nvar DEFINED_NUMBER_FORMTATS = {\r\n    thousands: \"#,##0{0},&quot;K&quot;\",\r\n    millions: \"#,##0{0},,&quot;M&quot;\",\r\n    billions: \"#,##0{0},,,&quot;B&quot;\",\r\n    trillions: \"#,##0{0},,,,&quot;T&quot;\",\r\n    percent: \"0{0}%\",\r\n    decimal: \"#{0}\",\r\n    fixedpoint: \"#,##0{0}\",\r\n    exponential: \"0{0}E+00\",\r\n    currency: \" \"\r\n};\r\nvar PERIOD_REGEXP = /a+/g;\r\nvar DAY_REGEXP = /E/g;\r\nvar DO_REGEXP = /dE+/g;\r\nvar STANDALONE_MONTH_REGEXP = /L/g;\r\nvar HOUR_REGEXP = /h/g;\r\nvar ANY_REGEXP = /./g;\r\nvar excelFormatConverter = {\r\n    _applyPrecision: function(format, precision) {\r\n        var result;\r\n        var i;\r\n        if (precision > 0) {\r\n            result = \"decimal\" !== format ? \".\" : \"\";\r\n            for (i = 0; i < precision; i++) {\r\n                result += \"0\"\r\n            }\r\n            return result\r\n        }\r\n        return \"\"\r\n    },\r\n    _hasArabicDigits: function(text) {\r\n        var code;\r\n        for (var i = 0; i < text.length; i++) {\r\n            code = text.charCodeAt(i);\r\n            if (code >= ARABIC_ZERO_CODE && code < ARABIC_ZERO_CODE + 10) {\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _convertDateFormatToOpenXml: function(format) {\r\n        return format.split(\"/\").join(\"\\\\/\").split(\"'\").map((function(datePart, index) {\r\n            if (index % 2 === 0) {\r\n                return datePart.replace(PERIOD_REGEXP, \"AM/PM\").replace(DO_REGEXP, \"d\").replace(DAY_REGEXP, \"d\").replace(STANDALONE_MONTH_REGEXP, \"M\").replace(HOUR_REGEXP, \"H\").split(\"[\").join(\"\\\\[\").split(\"]\").join(\"\\\\]\")\r\n            }\r\n            if (datePart) {\r\n                return datePart.replace(ANY_REGEXP, \"\\\\$&\")\r\n            }\r\n            return \"'\"\r\n        })).join(\"\")\r\n    },\r\n    _convertDateFormat: function(format) {\r\n        var formattedValue = (dateLocalization.format(new Date(2009, 8, 8, 6, 5, 4), format) || \"\").toString();\r\n        var result = getFormat(value => dateLocalization.format(value, format));\r\n        if (result) {\r\n            result = this._convertDateFormatToOpenXml(result);\r\n            result = this._getLanguageInfo(formattedValue) + result\r\n        }\r\n        return result\r\n    },\r\n    _getLanguageInfo: function(defaultPattern) {\r\n        var languageID = getLanguageId();\r\n        var languageIDStr = languageID ? languageID.toString(16) : \"\";\r\n        var languageInfo = \"\";\r\n        if (this._hasArabicDigits(defaultPattern)) {\r\n            while (languageIDStr.length < 3) {\r\n                languageIDStr = \"0\" + languageIDStr\r\n            }\r\n            languageInfo = \"[$-2010\" + languageIDStr + \"]\"\r\n        } else if (languageIDStr) {\r\n            languageInfo = \"[$-\" + languageIDStr + \"]\"\r\n        }\r\n        return languageInfo\r\n    },\r\n    _convertNumberFormat: function(format, precision, currency) {\r\n        var result;\r\n        var excelFormat;\r\n        if (\"currency\" === format) {\r\n            excelFormat = numberFormatter.getOpenXmlCurrencyFormat(currency)\r\n        } else {\r\n            excelFormat = DEFINED_NUMBER_FORMTATS[format.toLowerCase()]\r\n        }\r\n        if (excelFormat) {\r\n            result = stringFormat(excelFormat, this._applyPrecision(format, precision))\r\n        }\r\n        return result\r\n    },\r\n    convertFormat: function(format, precision, type, currency) {\r\n        if (isDefined(format)) {\r\n            if (\"date\" === type) {\r\n                return excelFormatConverter._convertDateFormat(format)\r\n            } else if (isString(format) && DEFINED_NUMBER_FORMTATS[format.toLowerCase()]) {\r\n                return excelFormatConverter._convertNumberFormat(format, precision, currency)\r\n            }\r\n        }\r\n    }\r\n};\r\nexport default excelFormatConverter;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.tag_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nvar tagHelper = {\r\n    toXml: function(tagName, attributes, content) {\r\n        var result = [\"<\", tagName];\r\n        for (var attributeName in attributes) {\r\n            var attributeValue = attributes[attributeName];\r\n            if (isDefined(attributeValue)) {\r\n                result.push(\" \", attributeName, '=\"', attributeValue, '\"')\r\n            }\r\n        }\r\n        if (isDefined(content) && \"\" !== content) {\r\n            result.push(\">\", content, \"</\", tagName, \">\")\r\n        } else {\r\n            result.push(\" />\")\r\n        }\r\n        return result.join(\"\")\r\n    }\r\n};\r\nexport default tagHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.cell_alignment_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nvar cellAlignmentHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                vertical: sourceObj.vertical,\r\n                wrapText: sourceObj.wrapText,\r\n                horizontal: sourceObj.horizontal\r\n            };\r\n            if (cellAlignmentHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.horizontal) {\r\n                result.horizontal = source.horizontal\r\n            }\r\n            if (void 0 !== source.vertical) {\r\n                result.vertical = source.vertical\r\n            }\r\n            if (void 0 !== source.wrapText) {\r\n                result.wrapText = source.wrapText\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return cellAlignmentHelper.isEmpty(leftTag) && cellAlignmentHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.vertical === rightTag.vertical && leftTag.wrapText === rightTag.wrapText && leftTag.horizontal === rightTag.horizontal\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.vertical) && !isDefined(tag.wrapText) && !isDefined(tag.horizontal)\r\n    },\r\n    toXml: function(tag) {\r\n        return tagHelper.toXml(\"alignment\", {\r\n            vertical: tag.vertical,\r\n            wrapText: isDefined(tag.wrapText) ? Number(tag.wrapText) : void 0,\r\n            horizontal: tag.horizontal\r\n        })\r\n    }\r\n};\r\nexport default cellAlignmentHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.color_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nvar colorHelper = {\r\n    _tryConvertColor: function(source) {\r\n        if (\"string\" !== typeof source) {\r\n            return source\r\n        }\r\n        var result;\r\n        if (source.length > 0 && \"#\" === source[0]) {\r\n            var colorCode = source.substr(1, source.length);\r\n            if (6 === colorCode.length) {\r\n                result = \"FF\" + colorCode\r\n            } else if (8 === colorCode.length) {\r\n                result = colorCode[6] + colorCode[7] + colorCode.substr(0, 6)\r\n            } else {\r\n                result = colorCode\r\n            }\r\n        } else {\r\n            result = source\r\n        }\r\n        return result\r\n    },\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            if (\"string\" === typeof sourceObj) {\r\n                result = {\r\n                    rgb: this._tryConvertColor(sourceObj)\r\n                }\r\n            } else {\r\n                result = {\r\n                    rgb: this._tryConvertColor(sourceObj.rgb),\r\n                    theme: sourceObj.theme\r\n                }\r\n            }\r\n            if (colorHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            if (\"string\" === typeof source) {\r\n                result = source\r\n            } else {\r\n                result = {};\r\n                if (void 0 !== source.rgb) {\r\n                    result.rgb = source.rgb\r\n                }\r\n                if (void 0 !== source.theme) {\r\n                    result.theme = source.theme\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.rgb) && !isDefined(tag.theme)\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return colorHelper.isEmpty(leftTag) && colorHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.rgb === rightTag.rgb && leftTag.theme === rightTag.theme\r\n    },\r\n    toXml: function(tagName, tag) {\r\n        return tagHelper.toXml(tagName, {\r\n            rgb: tag.rgb,\r\n            theme: tag.theme\r\n        })\r\n    }\r\n};\r\nexport default colorHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.pattern_fill_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport colorHelper from \"./excel.color_helper\";\r\nvar patternFillHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                patternType: sourceObj.patternType,\r\n                backgroundColor: colorHelper.tryCreateTag(sourceObj.backgroundColor),\r\n                foregroundColor: colorHelper.tryCreateTag(sourceObj.foregroundColor)\r\n            };\r\n            if (patternFillHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.patternType) {\r\n                result.patternType = source.patternType\r\n            }\r\n            if (void 0 !== source.backgroundColor) {\r\n                result.backgroundColor = colorHelper.copy(source.backgroundColor)\r\n            }\r\n            if (void 0 !== source.foregroundColor) {\r\n                result.foregroundColor = colorHelper.copy(source.foregroundColor)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return patternFillHelper.isEmpty(leftTag) && patternFillHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.patternType === rightTag.patternType && colorHelper.areEqual(leftTag.backgroundColor, rightTag.backgroundColor) && colorHelper.areEqual(leftTag.foregroundColor, rightTag.foregroundColor)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.patternType)\r\n    },\r\n    toXml: function(tag) {\r\n        var content = [isDefined(tag.foregroundColor) ? colorHelper.toXml(\"fgColor\", tag.foregroundColor) : \"\", isDefined(tag.backgroundColor) ? colorHelper.toXml(\"bgColor\", tag.backgroundColor) : \"\"].join(\"\");\r\n        return tagHelper.toXml(\"patternFill\", {\r\n            patternType: tag.patternType\r\n        }, content)\r\n    }\r\n};\r\nexport default patternFillHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.fill_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport patternFillHelper from \"./excel.pattern_fill_helper\";\r\nvar fillHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                patternFill: patternFillHelper.tryCreateTag(sourceObj.patternFill)\r\n            };\r\n            if (fillHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    tryCreateFillFromSimpleFormat: function() {\r\n        var {\r\n            backgroundColor: backgroundColor,\r\n            fillPatternType: fillPatternType,\r\n            fillPatternColor: fillPatternColor\r\n        } = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {};\r\n        if (isDefined(backgroundColor) && !(isDefined(fillPatternType) && isDefined(fillPatternColor))) {\r\n            return {\r\n                patternFill: {\r\n                    patternType: \"solid\",\r\n                    foregroundColor: {\r\n                        rgb: backgroundColor\r\n                    }\r\n                }\r\n            }\r\n        } else if (isDefined(fillPatternType) && isDefined(fillPatternColor)) {\r\n            return {\r\n                patternFill: {\r\n                    patternType: fillPatternType,\r\n                    foregroundColor: {\r\n                        rgb: fillPatternColor\r\n                    },\r\n                    backgroundColor: {\r\n                        rgb: backgroundColor\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    copySimpleFormat: function(source, target) {\r\n        if (void 0 !== source.backgroundColor) {\r\n            target.backgroundColor = source.backgroundColor\r\n        }\r\n        if (void 0 !== source.fillPatternType) {\r\n            target.fillPatternType = source.fillPatternType\r\n        }\r\n        if (void 0 !== source.fillPatternColor) {\r\n            target.fillPatternColor = source.fillPatternColor\r\n        }\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.patternFill) {\r\n                result.patternFill = patternFillHelper.copy(source.patternFill)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return fillHelper.isEmpty(leftTag) && fillHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && patternFillHelper.areEqual(leftTag.patternFill, rightTag.patternFill)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || patternFillHelper.isEmpty(tag.patternFill)\r\n    },\r\n    toXml: function(tag) {\r\n        return tagHelper.toXml(\"fill\", {}, patternFillHelper.toXml(tag.patternFill))\r\n    }\r\n};\r\nexport default fillHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.font_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport colorHelper from \"./excel.color_helper\";\r\nvar fontHelper = {\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            result = {\r\n                size: sourceObj.size,\r\n                name: sourceObj.name,\r\n                family: sourceObj.family,\r\n                scheme: sourceObj.scheme,\r\n                bold: sourceObj.bold,\r\n                italic: sourceObj.italic,\r\n                underline: sourceObj.underline,\r\n                color: colorHelper.tryCreateTag(sourceObj.color)\r\n            };\r\n            if (fontHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result = null;\r\n        if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.size) {\r\n                result.size = source.size\r\n            }\r\n            if (void 0 !== source.name) {\r\n                result.name = source.name\r\n            }\r\n            if (void 0 !== source.family) {\r\n                result.family = source.family\r\n            }\r\n            if (void 0 !== source.scheme) {\r\n                result.scheme = source.scheme\r\n            }\r\n            if (void 0 !== source.bold) {\r\n                result.bold = source.bold\r\n            }\r\n            if (void 0 !== source.italic) {\r\n                result.italic = source.italic\r\n            }\r\n            if (void 0 !== source.underline) {\r\n                result.underline = source.underline\r\n            }\r\n            if (void 0 !== source.color) {\r\n                result.color = colorHelper.copy(source.color)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return fontHelper.isEmpty(leftTag) && fontHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.size === rightTag.size && leftTag.name === rightTag.name && leftTag.family === rightTag.family && leftTag.scheme === rightTag.scheme && (leftTag.bold === rightTag.bold || !leftTag.bold === !rightTag.bold) && (leftTag.italic === rightTag.italic || !leftTag.italic === !rightTag.italic) && leftTag.underline === rightTag.underline && colorHelper.areEqual(leftTag.color, rightTag.color)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.size) && !isDefined(tag.name) && !isDefined(tag.family) && !isDefined(tag.scheme) && (!isDefined(tag.bold) || !tag.bold) && (!isDefined(tag.italic) || !tag.italic) && !isDefined(tag.underline) && colorHelper.isEmpty(tag.color)\r\n    },\r\n    toXml: function(tag) {\r\n        var content = [isDefined(tag.bold) && tag.bold ? tagHelper.toXml(\"b\", {}) : \"\", isDefined(tag.size) ? tagHelper.toXml(\"sz\", {\r\n            val: tag.size\r\n        }) : \"\", isDefined(tag.color) ? colorHelper.toXml(\"color\", tag.color) : \"\", isDefined(tag.name) ? tagHelper.toXml(\"name\", {\r\n            val: tag.name\r\n        }) : \"\", isDefined(tag.family) ? tagHelper.toXml(\"family\", {\r\n            val: tag.family\r\n        }) : \"\", isDefined(tag.scheme) ? tagHelper.toXml(\"scheme\", {\r\n            val: tag.scheme\r\n        }) : \"\", isDefined(tag.italic) && tag.italic ? tagHelper.toXml(\"i\", {}) : \"\", isDefined(tag.underline) ? tagHelper.toXml(\"u\", {\r\n            val: tag.underline\r\n        }) : \"\"].join(\"\");\r\n        return tagHelper.toXml(\"font\", {}, content)\r\n    }\r\n};\r\nexport default fontHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.cell_format_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport cellAlignmentHelper from \"./excel.cell_alignment_helper\";\r\nimport fillHelper from \"./excel.fill_helper\";\r\nimport fontHelper from \"./excel.font_helper\";\r\nvar cellFormatHelper = {\r\n    tryCreateTag: function(sourceObj, sharedItemsContainer) {\r\n        var result = null;\r\n        if (isDefined(sourceObj)) {\r\n            var numberFormatId;\r\n            if (\"number\" === typeof sourceObj.numberFormat) {\r\n                numberFormatId = sourceObj.numberFormat\r\n            } else {\r\n                numberFormatId = sharedItemsContainer.registerNumberFormat(sourceObj.numberFormat)\r\n            }\r\n            var fill = sourceObj.fill;\r\n            if (!isDefined(fill)) {\r\n                fill = fillHelper.tryCreateFillFromSimpleFormat(sourceObj)\r\n            }\r\n            result = {\r\n                numberFormatId: numberFormatId,\r\n                alignment: cellAlignmentHelper.tryCreateTag(sourceObj.alignment),\r\n                fontId: sharedItemsContainer.registerFont(sourceObj.font),\r\n                fillId: sharedItemsContainer.registerFill(fill)\r\n            };\r\n            if (cellFormatHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    copy: function(source) {\r\n        var result;\r\n        if (null === source) {\r\n            result = null\r\n        } else if (isDefined(source)) {\r\n            result = {};\r\n            if (void 0 !== source.numberFormat) {\r\n                result.numberFormat = source.numberFormat\r\n            }\r\n            if (void 0 !== source.fill) {\r\n                result.fill = fillHelper.copy(source.fill)\r\n            } else {\r\n                fillHelper.copySimpleFormat(source, result)\r\n            }\r\n            if (void 0 !== source.alignment) {\r\n                result.alignment = cellAlignmentHelper.copy(source.alignment)\r\n            }\r\n            if (void 0 !== source.font) {\r\n                result.font = fontHelper.copy(source.font)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return cellFormatHelper.isEmpty(leftTag) && cellFormatHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.fontId === rightTag.fontId && leftTag.numberFormatId === rightTag.numberFormatId && leftTag.fillId === rightTag.fillId && cellAlignmentHelper.areEqual(leftTag.alignment, rightTag.alignment)\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.fontId) && !isDefined(tag.numberFormatId) && !isDefined(tag.fillId) && cellAlignmentHelper.isEmpty(tag.alignment)\r\n    },\r\n    toXml: function(tag) {\r\n        var isAlignmentEmpty = cellAlignmentHelper.isEmpty(tag.alignment);\r\n        var applyNumberFormat;\r\n        if (isDefined(tag.numberFormatId)) {\r\n            applyNumberFormat = tag.numberFormatId > 0 ? 1 : 0\r\n        }\r\n        return tagHelper.toXml(\"xf\", {\r\n            xfId: 0,\r\n            applyAlignment: isAlignmentEmpty ? null : 1,\r\n            fontId: tag.fontId,\r\n            applyNumberFormat: applyNumberFormat,\r\n            fillId: tag.fillId,\r\n            numFmtId: tag.numberFormatId\r\n        }, isAlignmentEmpty ? null : cellAlignmentHelper.toXml(tag.alignment))\r\n    }\r\n};\r\nexport default cellFormatHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.number_format_helper.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nvar numberFormatHelper = {\r\n    ID_PROPERTY_NAME: \"id\",\r\n    tryCreateTag: function(sourceObj) {\r\n        var result = null;\r\n        if (\"string\" === typeof sourceObj) {\r\n            result = {\r\n                formatCode: sourceObj\r\n            };\r\n            if (numberFormatHelper.isEmpty(result)) {\r\n                result = null\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    areEqual: function(leftTag, rightTag) {\r\n        return numberFormatHelper.isEmpty(leftTag) && numberFormatHelper.isEmpty(rightTag) || isDefined(leftTag) && isDefined(rightTag) && leftTag.formatCode === rightTag.formatCode\r\n    },\r\n    isEmpty: function(tag) {\r\n        return !isDefined(tag) || !isDefined(tag.formatCode) || \"\" === tag.formatCode\r\n    },\r\n    toXml: function(tag) {\r\n        return tagHelper.toXml(\"numFmt\", {\r\n            numFmtId: tag[numberFormatHelper.ID_PROPERTY_NAME],\r\n            formatCode: tag.formatCode\r\n        })\r\n    }\r\n};\r\nexport default numberFormatHelper;\r\n","/**\r\n * DevExtreme (esm/exporter/excel/excel.file.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport tagHelper from \"./excel.tag_helper\";\r\nimport cellFormatHelper from \"./excel.cell_format_helper\";\r\nimport fillHelper from \"./excel.fill_helper\";\r\nimport fontHelper from \"./excel.font_helper\";\r\nimport numberFormatHelper from \"./excel.number_format_helper\";\r\nexport default class ExcelFile {\r\n    constructor() {\r\n        this._cellFormatTags = [];\r\n        this._fillTags = [];\r\n        this._fontTags = [];\r\n        this._numberFormatTags = [];\r\n        this._fillTags.push(fillHelper.tryCreateTag({\r\n            patternFill: {\r\n                patternType: \"none\"\r\n            }\r\n        }))\r\n    }\r\n    registerCellFormat(cellFormat) {\r\n        var result;\r\n        var cellFormatTag = cellFormatHelper.tryCreateTag(cellFormat, {\r\n            registerFill: this.registerFill.bind(this),\r\n            registerFont: this.registerFont.bind(this),\r\n            registerNumberFormat: this.registerNumberFormat.bind(this)\r\n        });\r\n        if (isDefined(cellFormatTag)) {\r\n            for (var i = 0; i < this._cellFormatTags.length; i++) {\r\n                if (cellFormatHelper.areEqual(this._cellFormatTags[i], cellFormatTag)) {\r\n                    result = i;\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                result = this._cellFormatTags.push(cellFormatTag) - 1\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    static copyCellFormat(source) {\r\n        return cellFormatHelper.copy(source)\r\n    }\r\n    generateCellFormatsXml() {\r\n        var cellFormatTagsAsXmlStringsArray = this._cellFormatTags.map(tag => cellFormatHelper.toXml(tag));\r\n        return tagHelper.toXml(\"cellXfs\", {\r\n            count: cellFormatTagsAsXmlStringsArray.length\r\n        }, cellFormatTagsAsXmlStringsArray.join(\"\"))\r\n    }\r\n    registerFill(fill) {\r\n        var result;\r\n        var fillTag = fillHelper.tryCreateTag(fill);\r\n        if (isDefined(fillTag)) {\r\n            for (var i = 0; i < this._fillTags.length; i++) {\r\n                if (fillHelper.areEqual(this._fillTags[i], fillTag)) {\r\n                    result = i;\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                if (this._fillTags.length < 2) {\r\n                    this._fillTags.push(fillHelper.tryCreateTag({\r\n                        patternFill: {\r\n                            patternType: \"Gray125\"\r\n                        }\r\n                    }))\r\n                }\r\n                result = this._fillTags.push(fillTag) - 1\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    generateFillsXml() {\r\n        var tagsAsXmlStringsArray = this._fillTags.map(tag => fillHelper.toXml(tag));\r\n        return tagHelper.toXml(\"fills\", {\r\n            count: tagsAsXmlStringsArray.length\r\n        }, tagsAsXmlStringsArray.join(\"\"))\r\n    }\r\n    registerFont(font) {\r\n        var result;\r\n        var fontTag = fontHelper.tryCreateTag(font);\r\n        if (isDefined(fontTag)) {\r\n            for (var i = 0; i < this._fontTags.length; i++) {\r\n                if (fontHelper.areEqual(this._fontTags[i], fontTag)) {\r\n                    result = i;\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                result = this._fontTags.push(fontTag) - 1\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    generateFontsXml() {\r\n        var xmlStringsArray = this._fontTags.map(tag => fontHelper.toXml(tag));\r\n        return tagHelper.toXml(\"fonts\", {\r\n            count: xmlStringsArray.length\r\n        }, xmlStringsArray.join(\"\"))\r\n    }\r\n    _convertNumberFormatIndexToId(index) {\r\n        return 165 + index\r\n    }\r\n    registerNumberFormat(numberFormat) {\r\n        var result;\r\n        var tag = numberFormatHelper.tryCreateTag(numberFormat);\r\n        if (isDefined(tag)) {\r\n            for (var i = 0; i < this._numberFormatTags.length; i++) {\r\n                if (numberFormatHelper.areEqual(this._numberFormatTags[i], tag)) {\r\n                    result = this._numberFormatTags[i][numberFormatHelper.ID_PROPERTY_NAME];\r\n                    break\r\n                }\r\n            }\r\n            if (void 0 === result) {\r\n                tag[numberFormatHelper.ID_PROPERTY_NAME] = this._convertNumberFormatIndexToId(this._numberFormatTags.length);\r\n                result = tag[numberFormatHelper.ID_PROPERTY_NAME];\r\n                this._numberFormatTags.push(tag)\r\n            }\r\n        }\r\n        return result\r\n    }\r\n    generateNumberFormatsXml() {\r\n        if (this._numberFormatTags.length > 0) {\r\n            var xmlStringsArray = this._numberFormatTags.map(tag => numberFormatHelper.toXml(tag));\r\n            return tagHelper.toXml(\"numFmts\", {\r\n                count: xmlStringsArray.length\r\n            }, xmlStringsArray.join(\"\"))\r\n        } else {\r\n            return \"\"\r\n        }\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/excel_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../core/class\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    isDefined,\r\n    isString,\r\n    isDate,\r\n    isBoolean,\r\n    isObject,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport errors from \"../ui/widget/ui.errors\";\r\nimport {\r\n    encodeHtml\r\n} from \"../core/utils/string\";\r\nimport JSZip from \"jszip\";\r\nimport {\r\n    MIME_TYPES\r\n} from \"./file_saver\";\r\nimport excelFormatConverter from \"./excel_format_converter\";\r\nimport ExcelFile from \"./excel/excel.file\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar XML_TAG = '<?xml version=\"1.0\" encoding=\"utf-8\"?>';\r\nvar GROUP_SHEET_PR_XML = '<sheetPr><outlinePr summaryBelow=\"0\"/></sheetPr>';\r\nvar SINGLE_SHEET_PR_XML = \"<sheetPr/>\";\r\nvar BASE_STYLE_XML2 = '<borders count=\"1\"><border><left style=\"thin\"><color rgb=\"FFD3D3D3\"/></left><right style=\"thin\"><color rgb=\"FFD3D3D3\"/></right><top style=\"thin\"><color rgb=\"FFD3D3D3\"/></top><bottom style=\"thin\"><color rgb=\"FFD3D3D3\"/></bottom></border></borders><cellStyleXfs count=\"1\"><xf numFmtId=\"0\" fontId=\"0\" fillId=\"0\" borderId=\"0\"/></cellStyleXfs>';\r\nvar OPEN_XML_FORMAT_URL = \"http://schemas.openxmlformats.org\";\r\nvar RELATIONSHIP_PART_NAME = \"rels\";\r\nvar XL_FOLDER_NAME = \"xl\";\r\nvar WORKBOOK_FILE_NAME = \"workbook.xml\";\r\nvar CONTENTTYPES_FILE_NAME = \"[Content_Types].xml\";\r\nvar SHAREDSTRING_FILE_NAME = \"sharedStrings.xml\";\r\nvar STYLE_FILE_NAME = \"styles.xml\";\r\nvar WORKSHEETS_FOLDER = \"worksheets\";\r\nvar WORKSHEET_FILE_NAME = \"sheet1.xml\";\r\nvar WORKSHEET_HEADER_XML = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\"?><worksheet xmlns=\"http://schemas.openxmlformats.org/spreadsheetml/2006/main\" xmlns:r=\"http://schemas.openxmlformats.org/officeDocument/2006/relationships\" xmlns:mc=\"http://schemas.openxmlformats.org/markup-compatibility/2006\" mc:Ignorable=\"x14ac\" xmlns:x14ac=\"http://schemas.microsoft.com/office/spreadsheetml/2009/9/ac\">';\r\nvar VALID_TYPES = {\r\n    boolean: \"b\",\r\n    date: \"d\",\r\n    number: \"n\",\r\n    string: \"s\"\r\n};\r\nvar EXCEL_START_TIME = Date.UTC(1899, 11, 30);\r\nvar DAYS_COUNT_BEFORE_29_FEB_1900 = 60;\r\nvar MAX_DIGIT_WIDTH_IN_PIXELS = 7;\r\nvar UNSUPPORTED_FORMAT_MAPPING = {\r\n    quarter: \"shortDate\",\r\n    quarterAndYear: \"shortDate\",\r\n    minute: \"longTime\",\r\n    millisecond: \"longTime\"\r\n};\r\nexport var ExcelCreator = Class.inherit({\r\n    _getXMLTag: function(tagName, attributes, content) {\r\n        var result = \"<\" + tagName;\r\n        var i;\r\n        var length = attributes.length;\r\n        var attr;\r\n        for (i = 0; i < length; i++) {\r\n            attr = attributes[i];\r\n            if (void 0 !== attr.value) {\r\n                result = result + \" \" + attr.name + '=\"' + attr.value + '\"'\r\n            }\r\n        }\r\n        return isDefined(content) ? result + \">\" + content + \"</\" + tagName + \">\" : result + \" />\"\r\n    },\r\n    _convertToExcelCellRef: function(zeroBasedRowIndex, zeroBasedCellIndex) {\r\n        var columnName = \"\";\r\n        var charCode;\r\n        var isCellIndexFound;\r\n        while (!isCellIndexFound) {\r\n            charCode = 65 + (zeroBasedCellIndex >= 26 ? zeroBasedCellIndex % 26 : Math.ceil(zeroBasedCellIndex));\r\n            columnName = String.fromCharCode(charCode) + columnName;\r\n            if (zeroBasedCellIndex >= 26) {\r\n                zeroBasedCellIndex = Math.floor(zeroBasedCellIndex / 26) - 1\r\n            } else {\r\n                isCellIndexFound = true\r\n            }\r\n        }\r\n        return columnName + (zeroBasedRowIndex + 1)\r\n    },\r\n    _convertToExcelCellRefAndTrackMaxIndex: function(rowIndex, cellIndex) {\r\n        if (this._maxRowIndex < Number(rowIndex)) {\r\n            this._maxRowIndex = Number(rowIndex)\r\n        }\r\n        if (this._maxColumnIndex < Number(cellIndex)) {\r\n            this._maxColumnIndex = Number(cellIndex)\r\n        }\r\n        return this._convertToExcelCellRef(rowIndex, cellIndex)\r\n    },\r\n    _getDataType: function(dataType) {\r\n        return VALID_TYPES[dataType] || VALID_TYPES.string\r\n    },\r\n    _tryGetExcelCellDataType: function(object) {\r\n        if (isDefined(object)) {\r\n            if (\"number\" === typeof object) {\r\n                if (isFinite(object)) {\r\n                    return VALID_TYPES.number\r\n                } else {\r\n                    return VALID_TYPES.string\r\n                }\r\n            } else if (isString(object)) {\r\n                return VALID_TYPES.string\r\n            } else if (isDate(object)) {\r\n                return VALID_TYPES.number\r\n            } else if (isBoolean(object)) {\r\n                return VALID_TYPES.boolean\r\n            }\r\n        }\r\n    },\r\n    _formatObjectConverter: function(format, dataType) {\r\n        var result = {\r\n            format: format,\r\n            precision: format && format.precision,\r\n            dataType: dataType\r\n        };\r\n        if (isObject(format)) {\r\n            return extend(result, format, {\r\n                format: format.formatter || format.type,\r\n                currency: format.currency\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _tryConvertToExcelNumberFormat: function(format, dataType) {\r\n        var newFormat = this._formatObjectConverter(format, dataType);\r\n        format = newFormat.format;\r\n        var currency = newFormat.currency;\r\n        dataType = newFormat.dataType;\r\n        if (isDefined(format) && \"date\" === dataType) {\r\n            format = UNSUPPORTED_FORMAT_MAPPING[format && format.type || format] || format\r\n        }\r\n        return excelFormatConverter.convertFormat(format, newFormat.precision, dataType, currency)\r\n    },\r\n    _appendString: function(value) {\r\n        if (isDefined(value)) {\r\n            value = String(value);\r\n            if (value.length) {\r\n                value = encodeHtml(value);\r\n                if (void 0 === this._stringHash[value]) {\r\n                    this._stringHash[value] = this._stringArray.length;\r\n                    this._stringArray.push(value)\r\n                }\r\n                return this._stringHash[value]\r\n            }\r\n        }\r\n    },\r\n    _tryGetExcelDateValue: function(date) {\r\n        var days;\r\n        var totalTime;\r\n        if (isDate(date)) {\r\n            days = Math.floor((Date.UTC(date.getFullYear(), date.getMonth(), date.getDate()) - EXCEL_START_TIME) / 864e5);\r\n            if (days < DAYS_COUNT_BEFORE_29_FEB_1900) {\r\n                days--\r\n            }\r\n            totalTime = (3600 * date.getHours() + 60 * date.getMinutes() + date.getSeconds()) / 86400;\r\n            return days + totalTime\r\n        }\r\n    },\r\n    _prepareValue: function(rowIndex, cellIndex) {\r\n        var dataProvider = this._dataProvider;\r\n        var {\r\n            cellSourceData: cellSourceData\r\n        } = dataProvider.getCellData(rowIndex, cellIndex) || {};\r\n        var {\r\n            value: value\r\n        } = dataProvider.getCellData(rowIndex, cellIndex) || {};\r\n        var sourceValue;\r\n        var type = this._getDataType(dataProvider.getCellType(rowIndex, cellIndex));\r\n        if (type === VALID_TYPES.date && !isDate(value)) {\r\n            type = VALID_TYPES.string\r\n        }\r\n        switch (type) {\r\n            case VALID_TYPES.string:\r\n                sourceValue = value;\r\n                value = this._appendString(value);\r\n                break;\r\n            case VALID_TYPES.date:\r\n                sourceValue = value;\r\n                value = this._tryGetExcelDateValue(value);\r\n                type = VALID_TYPES.number\r\n        }\r\n        return {\r\n            value: value,\r\n            type: type,\r\n            sourceValue: sourceValue,\r\n            cellSourceData: cellSourceData\r\n        }\r\n    },\r\n    _callCustomizeExcelCell: function(_ref) {\r\n        var {\r\n            dataProvider: dataProvider,\r\n            value: value,\r\n            style: style,\r\n            sourceData: sourceData\r\n        } = _ref;\r\n        var styleCopy = ExcelFile.copyCellFormat(style);\r\n        var args = {\r\n            value: value,\r\n            numberFormat: styleCopy.numberFormat,\r\n            clearStyle: function() {\r\n                this.horizontalAlignment = null;\r\n                this.verticalAlignment = null;\r\n                this.wrapTextEnabled = null;\r\n                this.font = null;\r\n                this.numberFormat = null\r\n            }\r\n        };\r\n        if (isDefined(styleCopy)) {\r\n            if (isDefined(styleCopy.alignment)) {\r\n                args.horizontalAlignment = styleCopy.alignment.horizontal;\r\n                args.verticalAlignment = styleCopy.alignment.vertical;\r\n                args.wrapTextEnabled = styleCopy.alignment.wrapText\r\n            }\r\n            args.backgroundColor = styleCopy.backgroundColor;\r\n            args.fillPatternType = styleCopy.fillPatternType;\r\n            args.fillPatternColor = styleCopy.fillPatternColor;\r\n            args.font = styleCopy.font\r\n        }\r\n        dataProvider.customizeExcelCell(args, sourceData);\r\n        var newStyle = styleCopy || {};\r\n        newStyle.font = args.font;\r\n        newStyle.alignment = newStyle.alignment || {};\r\n        newStyle.alignment.horizontal = args.horizontalAlignment;\r\n        newStyle.alignment.vertical = args.verticalAlignment;\r\n        newStyle.alignment.wrapText = args.wrapTextEnabled;\r\n        newStyle.backgroundColor = args.backgroundColor;\r\n        newStyle.fillPatternType = args.fillPatternType;\r\n        newStyle.fillPatternColor = args.fillPatternColor;\r\n        newStyle.numberFormat = args.numberFormat;\r\n        return {\r\n            value: args.value,\r\n            style: newStyle\r\n        }\r\n    },\r\n    _getDataArray: function() {\r\n        var rowIndex;\r\n        var cellIndex;\r\n        var cellsArray;\r\n        var cellData;\r\n        var result = [];\r\n        var dataProvider = this._dataProvider;\r\n        var rowsLength = dataProvider.getRowsCount();\r\n        var columns = dataProvider.getColumns();\r\n        var cellsLength;\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            cellsArray = [];\r\n            cellsLength = columns.length;\r\n            for (cellIndex = 0; cellIndex !== cellsLength; cellIndex++) {\r\n                cellData = this._prepareValue(rowIndex, cellIndex);\r\n                var styleArrayIndex = dataProvider.getStyleId(rowIndex, cellIndex);\r\n                var cellStyleId = this._styleArrayIndexToCellStyleIdMap[styleArrayIndex];\r\n                if (dataProvider.hasCustomizeExcelCell && dataProvider.hasCustomizeExcelCell()) {\r\n                    var value = cellData.sourceValue || cellData.value;\r\n                    var modifiedExcelCell = this._callCustomizeExcelCell({\r\n                        dataProvider: dataProvider,\r\n                        value: value,\r\n                        style: this._styleArray[styleArrayIndex],\r\n                        sourceData: cellData.cellSourceData\r\n                    });\r\n                    if (modifiedExcelCell.value !== value) {\r\n                        if (typeof modifiedExcelCell.value !== typeof value || \"number\" === typeof modifiedExcelCell.value && !isFinite(modifiedExcelCell.value)) {\r\n                            var cellDataType = this._tryGetExcelCellDataType(modifiedExcelCell.value);\r\n                            if (isDefined(cellDataType)) {\r\n                                cellData.type = cellDataType\r\n                            }\r\n                        }\r\n                        switch (cellData.type) {\r\n                            case VALID_TYPES.string:\r\n                                cellData.value = this._appendString(modifiedExcelCell.value);\r\n                                break;\r\n                            case VALID_TYPES.date:\r\n                                cellData.value = modifiedExcelCell.value;\r\n                                break;\r\n                            case VALID_TYPES.number:\r\n                                var newValue = modifiedExcelCell.value;\r\n                                var excelDateValue = this._tryGetExcelDateValue(newValue);\r\n                                if (isDefined(excelDateValue)) {\r\n                                    newValue = excelDateValue\r\n                                }\r\n                                cellData.value = newValue;\r\n                                break;\r\n                            default:\r\n                                cellData.value = modifiedExcelCell.value\r\n                        }\r\n                    }\r\n                    cellStyleId = this._excelFile.registerCellFormat(modifiedExcelCell.style)\r\n                }\r\n                cellsArray.push({\r\n                    style: cellStyleId,\r\n                    value: cellData.value,\r\n                    type: cellData.type\r\n                })\r\n            }\r\n            if (!this._needSheetPr && dataProvider.getGroupLevel(rowIndex) > 0) {\r\n                this._needSheetPr = true\r\n            }\r\n            result.push(cellsArray)\r\n        }\r\n        return result\r\n    },\r\n    _calculateWidth: function(pixelsWidth) {\r\n        pixelsWidth = parseInt(pixelsWidth, 10);\r\n        if (!pixelsWidth || pixelsWidth < 5) {\r\n            pixelsWidth = 100\r\n        }\r\n        return Math.min(255, Math.floor((pixelsWidth - 5) / MAX_DIGIT_WIDTH_IN_PIXELS * 100 + .5) / 100)\r\n    },\r\n    _prepareStyleData: function() {\r\n        var that = this;\r\n        var styles = that._dataProvider.getStyles();\r\n        that._dataProvider.getColumns().forEach((function(column) {\r\n            that._colsArray.push(that._calculateWidth(column.width))\r\n        }));\r\n        var fonts = [{\r\n            size: 11,\r\n            color: {\r\n                theme: 1\r\n            },\r\n            name: \"Calibri\",\r\n            family: 2,\r\n            scheme: \"minor\",\r\n            bold: false\r\n        }, {\r\n            size: 11,\r\n            color: {\r\n                theme: 1\r\n            },\r\n            name: \"Calibri\",\r\n            family: 2,\r\n            scheme: \"minor\",\r\n            bold: true\r\n        }];\r\n        this._excelFile.registerFont(fonts[0]);\r\n        this._excelFile.registerFont(fonts[1]);\r\n        styles.forEach((function(style) {\r\n            var numberFormat = that._tryConvertToExcelNumberFormat(style.format, style.dataType);\r\n            if (!isDefined(numberFormat)) {\r\n                numberFormat = 0\r\n            }\r\n            that._styleArray.push({\r\n                font: fonts[Number(!!style.bold)],\r\n                numberFormat: numberFormat,\r\n                alignment: {\r\n                    vertical: \"top\",\r\n                    wrapText: !!style.wrapText,\r\n                    horizontal: style.alignment || \"left\"\r\n                }\r\n            })\r\n        }));\r\n        that._styleArrayIndexToCellStyleIdMap = that._styleArray.map(item => this._excelFile.registerCellFormat(item))\r\n    },\r\n    _prepareCellData: function() {\r\n        this._cellsArray = this._getDataArray()\r\n    },\r\n    _createXMLRelationships: function(xmlRelationships) {\r\n        return this._getXMLTag(\"Relationships\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/package/2006/relationships\"\r\n        }], xmlRelationships)\r\n    },\r\n    _createXMLRelationship: function(id, type, target) {\r\n        return this._getXMLTag(\"Relationship\", [{\r\n            name: \"Id\",\r\n            value: \"rId\" + id\r\n        }, {\r\n            name: \"Type\",\r\n            value: OPEN_XML_FORMAT_URL + \"/officeDocument/2006/relationships/\" + type\r\n        }, {\r\n            name: \"Target\",\r\n            value: target\r\n        }])\r\n    },\r\n    _getWorkbookContent: function() {\r\n        return XML_TAG + this._getXMLTag(\"workbook\", [{\r\n            name: \"xmlns:r\",\r\n            value: OPEN_XML_FORMAT_URL + \"/officeDocument/2006/relationships\"\r\n        }, {\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }], '<bookViews><workbookView xWindow=\"0\" yWindow=\"0\" windowWidth=\"0\" windowHeight=\"0\"/></bookViews><sheets><sheet name=\"Sheet\" sheetId=\"1\" r:id=\"rId1\" /></sheets><definedNames><definedName name=\"_xlnm.Print_Titles\" localSheetId=\"0\">Sheet!$1:$1</definedName><definedName name=\"_xlnm._FilterDatabase\" hidden=\"0\" localSheetId=\"0\">Sheet!$A$1:$F$6332</definedName></definedNames>')\r\n    },\r\n    _getContentTypesContent: function() {\r\n        return XML_TAG + '<Types xmlns=\"' + OPEN_XML_FORMAT_URL + '/package/2006/content-types\"><Default Extension=\"rels\" ContentType=\"application/vnd.openxmlformats-package.relationships+xml\" /><Default Extension=\"xml\" ContentType=\"application/xml\" /><Override PartName=\"/xl/worksheets/sheet1.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml\" /><Override PartName=\"/xl/styles.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml\" /><Override PartName=\"/xl/sharedStrings.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml\" /><Override PartName=\"/xl/workbook.xml\" ContentType=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml\" /></Types>'\r\n    },\r\n    _generateStylesXML: function() {\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var XML = \"\";\r\n        XML += this._excelFile.generateNumberFormatsXml();\r\n        XML += this._excelFile.generateFontsXml();\r\n        XML += this._excelFile.generateFillsXml();\r\n        XML += BASE_STYLE_XML2;\r\n        XML += this._excelFile.generateCellFormatsXml();\r\n        XML += this._getXMLTag(\"cellStyles\", [{\r\n            name: \"count\",\r\n            value: 1\r\n        }], this._getXMLTag(\"cellStyle\", [{\r\n            name: \"name\",\r\n            value: \"Normal\"\r\n        }, {\r\n            name: \"xfId\",\r\n            value: 0\r\n        }, {\r\n            name: \"builtinId\",\r\n            value: 0\r\n        }]));\r\n        XML = XML_TAG + this._getXMLTag(\"styleSheet\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }], XML);\r\n        folder.file(STYLE_FILE_NAME, XML);\r\n        this._styleArray = []\r\n    },\r\n    _generateStringsXML: function() {\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var stringIndex;\r\n        var stringsLength = this._stringArray.length;\r\n        var sharedStringXml = XML_TAG;\r\n        for (stringIndex = 0; stringIndex < stringsLength; stringIndex++) {\r\n            this._stringArray[stringIndex] = this._getXMLTag(\"si\", [], this._getXMLTag(\"t\", [], this._stringArray[stringIndex]))\r\n        }\r\n        sharedStringXml += this._getXMLTag(\"sst\", [{\r\n            name: \"xmlns\",\r\n            value: OPEN_XML_FORMAT_URL + \"/spreadsheetml/2006/main\"\r\n        }, {\r\n            name: \"count\",\r\n            value: this._stringArray.length\r\n        }, {\r\n            name: \"uniqueCount\",\r\n            value: this._stringArray.length\r\n        }], this._stringArray.join(\"\"));\r\n        folder.file(SHAREDSTRING_FILE_NAME, sharedStringXml);\r\n        this._stringArray = []\r\n    },\r\n    _getPaneXML: function() {\r\n        var attributes = [{\r\n            name: \"activePane\",\r\n            value: \"bottomLeft\"\r\n        }, {\r\n            name: \"state\",\r\n            value: \"frozen\"\r\n        }];\r\n        var frozenArea = this._dataProvider.getFrozenArea();\r\n        if (!(frozenArea.x || frozenArea.y)) {\r\n            return \"\"\r\n        }\r\n        if (frozenArea.x) {\r\n            attributes.push({\r\n                name: \"xSplit\",\r\n                value: frozenArea.x\r\n            })\r\n        }\r\n        if (frozenArea.y) {\r\n            attributes.push({\r\n                name: \"ySplit\",\r\n                value: frozenArea.y\r\n            })\r\n        }\r\n        attributes.push({\r\n            name: \"topLeftCell\",\r\n            value: this._convertToExcelCellRefAndTrackMaxIndex(frozenArea.y, frozenArea.x)\r\n        });\r\n        return this._getXMLTag(\"pane\", attributes)\r\n    },\r\n    _getAutoFilterXML: function(maxCellIndex) {\r\n        if (this._options.autoFilterEnabled) {\r\n            return '<autoFilter ref=\"A' + this._dataProvider.getHeaderRowCount() + \":\" + maxCellIndex + '\" />'\r\n        }\r\n        return \"\"\r\n    },\r\n    _getIgnoredErrorsXML: function(maxCellIndex) {\r\n        if (this._options.ignoreErrors) {\r\n            return '<ignoredErrors><ignoredError sqref=\"A1:' + maxCellIndex + '\" numberStoredAsText=\"1\" /></ignoredErrors>'\r\n        }\r\n        return \"\"\r\n    },\r\n    _generateWorksheetXML: function() {\r\n        var colIndex;\r\n        var rowIndex;\r\n        var cellData;\r\n        var xmlCells;\r\n        var xmlRows = [];\r\n        var rowsLength = this._cellsArray.length;\r\n        var cellsLength;\r\n        var colsLength = this._colsArray.length;\r\n        var rSpans = \"1:\" + colsLength;\r\n        var headerRowCount = this._dataProvider.getHeaderRowCount ? this._dataProvider.getHeaderRowCount() : 1;\r\n        var xmlResult = [WORKSHEET_HEADER_XML];\r\n        xmlResult.push(this._needSheetPr ? GROUP_SHEET_PR_XML : SINGLE_SHEET_PR_XML);\r\n        xmlResult.push('<dimension ref=\"A1:C1\"/>');\r\n        xmlResult.push(\"<sheetViews><sheetView \");\r\n        xmlResult.push(this._rtlEnabled ? 'rightToLeft=\"1\" ' : \"\");\r\n        xmlResult.push('tabSelected=\"1\" workbookViewId=\"0\">');\r\n        xmlResult.push(this._getPaneXML());\r\n        xmlResult.push(\"</sheetView></sheetViews>\");\r\n        xmlResult.push('<sheetFormatPr defaultRowHeight=\"15\"');\r\n        xmlResult.push(' outlineLevelRow=\"' + (this._dataProvider.getRowsCount() > 0 ? this._dataProvider.getGroupLevel(0) : 0) + '\"');\r\n        xmlResult.push(' x14ac:dyDescent=\"0.25\"/>');\r\n        for (colIndex = 0; colIndex < colsLength; colIndex++) {\r\n            this._colsArray[colIndex] = this._getXMLTag(\"col\", [{\r\n                name: \"width\",\r\n                value: this._colsArray[colIndex]\r\n            }, {\r\n                name: \"min\",\r\n                value: Number(colIndex) + 1\r\n            }, {\r\n                name: \"max\",\r\n                value: Number(colIndex) + 1\r\n            }, {\r\n                name: \"customWidth\",\r\n                value: 1\r\n            }])\r\n        }\r\n        xmlResult.push(this._getXMLTag(\"cols\", [], this._colsArray.join(\"\")) + \"<sheetData>\");\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            xmlCells = [];\r\n            cellsLength = this._cellsArray[rowIndex].length;\r\n            for (colIndex = 0; colIndex < cellsLength; colIndex++) {\r\n                rowIndex = Number(rowIndex);\r\n                cellData = this._cellsArray[rowIndex][colIndex];\r\n                xmlCells.push(this._getXMLTag(\"c\", [{\r\n                    name: \"r\",\r\n                    value: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex, colIndex)\r\n                }, {\r\n                    name: \"s\",\r\n                    value: cellData.style\r\n                }, {\r\n                    name: \"t\",\r\n                    value: cellData.type\r\n                }], isDefined(cellData.value) ? this._getXMLTag(\"v\", [], cellData.value) : null))\r\n            }\r\n            xmlRows.push(this._getXMLTag(\"row\", [{\r\n                name: \"r\",\r\n                value: Number(rowIndex) + 1\r\n            }, {\r\n                name: \"spans\",\r\n                value: rSpans\r\n            }, {\r\n                name: \"outlineLevel\",\r\n                value: rowIndex >= headerRowCount ? this._dataProvider.getGroupLevel(rowIndex) : 0\r\n            }, {\r\n                name: \"x14ac:dyDescent\",\r\n                value: \"0.25\"\r\n            }], xmlCells.join(\"\")));\r\n            this._cellsArray[rowIndex] = null;\r\n            if (xmlRows.length > 1e4) {\r\n                xmlResult.push(xmlRows.join(\"\"));\r\n                xmlRows = []\r\n            }\r\n        }\r\n        xmlResult.push(xmlRows.join(\"\"));\r\n        xmlRows = [];\r\n        var rightBottomCellRef = this._convertToExcelCellRef(this._maxRowIndex, this._maxColumnIndex);\r\n        xmlResult.push(\"</sheetData>\" + this._getAutoFilterXML(rightBottomCellRef) + this._generateMergingXML() + this._getIgnoredErrorsXML(rightBottomCellRef) + \"</worksheet>\");\r\n        this._zip.folder(XL_FOLDER_NAME).folder(WORKSHEETS_FOLDER).file(WORKSHEET_FILE_NAME, xmlResult.join(\"\"));\r\n        this._colsArray = [];\r\n        this._cellsArray = [];\r\n        xmlResult = []\r\n    },\r\n    _generateMergingXML: function() {\r\n        var k;\r\n        var l;\r\n        var cellIndex;\r\n        var rowIndex;\r\n        var rowsLength = isDefined(this._dataProvider.getHeaderRowCount) ? this._dataProvider.getHeaderRowCount() : this._dataProvider.getRowsCount();\r\n        var columnsLength = this._dataProvider.getColumns().length;\r\n        var usedArea = [];\r\n        var mergeArray = [];\r\n        var mergeIndex;\r\n        var mergeXML = \"\";\r\n        for (rowIndex = 0; rowIndex < rowsLength; rowIndex++) {\r\n            for (cellIndex = 0; cellIndex !== columnsLength; cellIndex++) {\r\n                if (!isDefined(usedArea[rowIndex]) || !isDefined(usedArea[rowIndex][cellIndex])) {\r\n                    var cellMerge = this._dataProvider.getCellMerging(rowIndex, cellIndex);\r\n                    if (cellMerge.colspan || cellMerge.rowspan) {\r\n                        mergeArray.push({\r\n                            start: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex, cellIndex),\r\n                            end: this._convertToExcelCellRefAndTrackMaxIndex(rowIndex + (cellMerge.rowspan || 0), cellIndex + (cellMerge.colspan || 0))\r\n                        });\r\n                        for (k = rowIndex; k <= rowIndex + cellMerge.rowspan || 0; k++) {\r\n                            for (l = cellIndex; l <= cellIndex + cellMerge.colspan || 0; l++) {\r\n                                if (!isDefined(usedArea[k])) {\r\n                                    usedArea[k] = []\r\n                                }\r\n                                usedArea[k][l] = true\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        var mergeArrayLength = mergeArray.length;\r\n        for (mergeIndex = 0; mergeIndex < mergeArrayLength; mergeIndex++) {\r\n            mergeXML += this._getXMLTag(\"mergeCell\", [{\r\n                name: \"ref\",\r\n                value: mergeArray[mergeIndex].start + \":\" + mergeArray[mergeIndex].end\r\n            }])\r\n        }\r\n        return mergeXML.length ? this._getXMLTag(\"mergeCells\", [{\r\n            name: \"count\",\r\n            value: mergeArrayLength\r\n        }], mergeXML) : \"\"\r\n    },\r\n    _generateCommonXML: function() {\r\n        var relsFileContent = XML_TAG + this._createXMLRelationships(this._createXMLRelationship(1, \"officeDocument\", \"xl/\" + WORKBOOK_FILE_NAME));\r\n        var folder = this._zip.folder(XL_FOLDER_NAME);\r\n        var relsXML = XML_TAG;\r\n        this._zip.folder(\"_\" + RELATIONSHIP_PART_NAME).file(\".\" + RELATIONSHIP_PART_NAME, relsFileContent);\r\n        var xmlRelationships = this._createXMLRelationship(1, \"worksheet\", \"worksheets/\" + WORKSHEET_FILE_NAME) + this._createXMLRelationship(2, \"styles\", STYLE_FILE_NAME) + this._createXMLRelationship(3, \"sharedStrings\", SHAREDSTRING_FILE_NAME);\r\n        relsXML += this._createXMLRelationships(xmlRelationships);\r\n        folder.folder(\"_\" + RELATIONSHIP_PART_NAME).file(WORKBOOK_FILE_NAME + \".rels\", relsXML);\r\n        folder.file(WORKBOOK_FILE_NAME, this._getWorkbookContent());\r\n        this._zip.file(CONTENTTYPES_FILE_NAME, this._getContentTypesContent())\r\n    },\r\n    _generateContent: function() {\r\n        this._prepareStyleData();\r\n        this._prepareCellData();\r\n        this._generateWorkXML();\r\n        this._generateCommonXML()\r\n    },\r\n    _generateWorkXML: function() {\r\n        this._generateStylesXML();\r\n        this._generateStringsXML();\r\n        this._generateWorksheetXML()\r\n    },\r\n    ctor: function(dataProvider, options) {\r\n        this._rtlEnabled = options && !!options.rtlEnabled;\r\n        this._options = options;\r\n        this._maxRowIndex = 0;\r\n        this._maxColumnIndex = 0;\r\n        this._stringArray = [];\r\n        this._stringHash = {};\r\n        this._styleArray = [];\r\n        this._colsArray = [];\r\n        this._cellsArray = [];\r\n        this._needSheetPr = false;\r\n        this._dataProvider = dataProvider;\r\n        this._excelFile = new ExcelFile;\r\n        if (isDefined(ExcelCreator.JSZip)) {\r\n            this._zip = new ExcelCreator.JSZip\r\n        } else {\r\n            this._zip = null\r\n        }\r\n    },\r\n    _checkZipState: function() {\r\n        if (!this._zip) {\r\n            throw errors.Error(\"E1041\", \"JSZip\")\r\n        }\r\n    },\r\n    ready: function() {\r\n        return this._dataProvider.ready()\r\n    },\r\n    getData: function(isBlob) {\r\n        var options = {\r\n            type: isBlob ? \"blob\" : \"base64\",\r\n            compression: \"DEFLATE\",\r\n            mimeType: MIME_TYPES.EXCEL\r\n        };\r\n        var deferred = new Deferred;\r\n        this._checkZipState();\r\n        this._generateContent();\r\n        if (this._zip.generateAsync) {\r\n            this._zip.generateAsync(options).then(deferred.resolve)\r\n        } else {\r\n            deferred.resolve(this._zip.generate(options))\r\n        }\r\n        return deferred\r\n    }\r\n});\r\nExcelCreator.JSZip = JSZip;\r\nexport function getData(data, options) {\r\n    var excelCreator = new ExcelCreator(data, options);\r\n    excelCreator._checkZipState();\r\n    return excelCreator.ready().then(() => excelCreator.getData(isFunction(getWindow().Blob)))\r\n}\r\n","/**\r\n * DevExtreme (esm/color.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nvar standardColorNames = {\r\n    aliceblue: \"f0f8ff\",\r\n    antiquewhite: \"faebd7\",\r\n    aqua: \"00ffff\",\r\n    aquamarine: \"7fffd4\",\r\n    azure: \"f0ffff\",\r\n    beige: \"f5f5dc\",\r\n    bisque: \"ffe4c4\",\r\n    black: \"000000\",\r\n    blanchedalmond: \"ffebcd\",\r\n    blue: \"0000ff\",\r\n    blueviolet: \"8a2be2\",\r\n    brown: \"a52a2a\",\r\n    burlywood: \"deb887\",\r\n    cadetblue: \"5f9ea0\",\r\n    chartreuse: \"7fff00\",\r\n    chocolate: \"d2691e\",\r\n    coral: \"ff7f50\",\r\n    cornflowerblue: \"6495ed\",\r\n    cornsilk: \"fff8dc\",\r\n    crimson: \"dc143c\",\r\n    cyan: \"00ffff\",\r\n    darkblue: \"00008b\",\r\n    darkcyan: \"008b8b\",\r\n    darkgoldenrod: \"b8860b\",\r\n    darkgray: \"a9a9a9\",\r\n    darkgreen: \"006400\",\r\n    darkgrey: \"a9a9a9\",\r\n    darkkhaki: \"bdb76b\",\r\n    darkmagenta: \"8b008b\",\r\n    darkolivegreen: \"556b2f\",\r\n    darkorange: \"ff8c00\",\r\n    darkorchid: \"9932cc\",\r\n    darkred: \"8b0000\",\r\n    darksalmon: \"e9967a\",\r\n    darkseagreen: \"8fbc8f\",\r\n    darkslateblue: \"483d8b\",\r\n    darkslategray: \"2f4f4f\",\r\n    darkslategrey: \"2f4f4f\",\r\n    darkturquoise: \"00ced1\",\r\n    darkviolet: \"9400d3\",\r\n    deeppink: \"ff1493\",\r\n    deepskyblue: \"00bfff\",\r\n    dimgray: \"696969\",\r\n    dimgrey: \"696969\",\r\n    dodgerblue: \"1e90ff\",\r\n    feldspar: \"d19275\",\r\n    firebrick: \"b22222\",\r\n    floralwhite: \"fffaf0\",\r\n    forestgreen: \"228b22\",\r\n    fuchsia: \"ff00ff\",\r\n    gainsboro: \"dcdcdc\",\r\n    ghostwhite: \"f8f8ff\",\r\n    gold: \"ffd700\",\r\n    goldenrod: \"daa520\",\r\n    gray: \"808080\",\r\n    green: \"008000\",\r\n    greenyellow: \"adff2f\",\r\n    grey: \"808080\",\r\n    honeydew: \"f0fff0\",\r\n    hotpink: \"ff69b4\",\r\n    indianred: \"cd5c5c\",\r\n    indigo: \"4b0082\",\r\n    ivory: \"fffff0\",\r\n    khaki: \"f0e68c\",\r\n    lavender: \"e6e6fa\",\r\n    lavenderblush: \"fff0f5\",\r\n    lawngreen: \"7cfc00\",\r\n    lemonchiffon: \"fffacd\",\r\n    lightblue: \"add8e6\",\r\n    lightcoral: \"f08080\",\r\n    lightcyan: \"e0ffff\",\r\n    lightgoldenrodyellow: \"fafad2\",\r\n    lightgray: \"d3d3d3\",\r\n    lightgreen: \"90ee90\",\r\n    lightgrey: \"d3d3d3\",\r\n    lightpink: \"ffb6c1\",\r\n    lightsalmon: \"ffa07a\",\r\n    lightseagreen: \"20b2aa\",\r\n    lightskyblue: \"87cefa\",\r\n    lightslateblue: \"8470ff\",\r\n    lightslategray: \"778899\",\r\n    lightslategrey: \"778899\",\r\n    lightsteelblue: \"b0c4de\",\r\n    lightyellow: \"ffffe0\",\r\n    lime: \"00ff00\",\r\n    limegreen: \"32cd32\",\r\n    linen: \"faf0e6\",\r\n    magenta: \"ff00ff\",\r\n    maroon: \"800000\",\r\n    mediumaquamarine: \"66cdaa\",\r\n    mediumblue: \"0000cd\",\r\n    mediumorchid: \"ba55d3\",\r\n    mediumpurple: \"9370d8\",\r\n    mediumseagreen: \"3cb371\",\r\n    mediumslateblue: \"7b68ee\",\r\n    mediumspringgreen: \"00fa9a\",\r\n    mediumturquoise: \"48d1cc\",\r\n    mediumvioletred: \"c71585\",\r\n    midnightblue: \"191970\",\r\n    mintcream: \"f5fffa\",\r\n    mistyrose: \"ffe4e1\",\r\n    moccasin: \"ffe4b5\",\r\n    navajowhite: \"ffdead\",\r\n    navy: \"000080\",\r\n    oldlace: \"fdf5e6\",\r\n    olive: \"808000\",\r\n    olivedrab: \"6b8e23\",\r\n    orange: \"ffa500\",\r\n    orangered: \"ff4500\",\r\n    orchid: \"da70d6\",\r\n    palegoldenrod: \"eee8aa\",\r\n    palegreen: \"98fb98\",\r\n    paleturquoise: \"afeeee\",\r\n    palevioletred: \"d87093\",\r\n    papayawhip: \"ffefd5\",\r\n    peachpuff: \"ffdab9\",\r\n    peru: \"cd853f\",\r\n    pink: \"ffc0cb\",\r\n    plum: \"dda0dd\",\r\n    powderblue: \"b0e0e6\",\r\n    purple: \"800080\",\r\n    rebeccapurple: \"663399\",\r\n    red: \"ff0000\",\r\n    rosybrown: \"bc8f8f\",\r\n    royalblue: \"4169e1\",\r\n    saddlebrown: \"8b4513\",\r\n    salmon: \"fa8072\",\r\n    sandybrown: \"f4a460\",\r\n    seagreen: \"2e8b57\",\r\n    seashell: \"fff5ee\",\r\n    sienna: \"a0522d\",\r\n    silver: \"c0c0c0\",\r\n    skyblue: \"87ceeb\",\r\n    slateblue: \"6a5acd\",\r\n    slategray: \"708090\",\r\n    slategrey: \"708090\",\r\n    snow: \"fffafa\",\r\n    springgreen: \"00ff7f\",\r\n    steelblue: \"4682b4\",\r\n    tan: \"d2b48c\",\r\n    teal: \"008080\",\r\n    thistle: \"d8bfd8\",\r\n    tomato: \"ff6347\",\r\n    turquoise: \"40e0d0\",\r\n    violet: \"ee82ee\",\r\n    violetred: \"d02090\",\r\n    wheat: \"f5deb3\",\r\n    white: \"ffffff\",\r\n    whitesmoke: \"f5f5f5\",\r\n    yellow: \"ffff00\",\r\n    yellowgreen: \"9acd32\"\r\n};\r\nvar standardColorTypes = [{\r\n    re: /^rgb\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1], 10), parseInt(colorString[2], 10), parseInt(colorString[3], 10)]\r\n    }\r\n}, {\r\n    re: /^rgba\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d*\\.*\\d+)\\)$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1], 10), parseInt(colorString[2], 10), parseInt(colorString[3], 10), parseFloat(colorString[4])]\r\n    }\r\n}, {\r\n    re: /^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1], 16), parseInt(colorString[2], 16), parseInt(colorString[3], 16)]\r\n    }\r\n}, {\r\n    re: /^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,\r\n    process: function(colorString) {\r\n        return [parseInt(colorString[1] + colorString[1], 16), parseInt(colorString[2] + colorString[2], 16), parseInt(colorString[3] + colorString[3], 16)]\r\n    }\r\n}, {\r\n    re: /^hsv\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\r\n    process: function(colorString) {\r\n        var h = parseInt(colorString[1], 10);\r\n        var s = parseInt(colorString[2], 10);\r\n        var v = parseInt(colorString[3], 10);\r\n        var rgb = hsvToRgb(h, s, v);\r\n        return [rgb[0], rgb[1], rgb[2], 1, [h, s, v]]\r\n    }\r\n}, {\r\n    re: /^hsl\\((\\d{1,3}),\\s*(\\d{1,3}),\\s*(\\d{1,3})\\)$/,\r\n    process: function(colorString) {\r\n        var h = parseInt(colorString[1], 10);\r\n        var s = parseInt(colorString[2], 10);\r\n        var l = parseInt(colorString[3], 10);\r\n        var rgb = hslToRgb(h, s, l);\r\n        return [rgb[0], rgb[1], rgb[2], 1, null, [h, s, l]]\r\n    }\r\n}];\r\nvar _round = Math.round;\r\n\r\nfunction Color(value) {\r\n    this.baseColor = value;\r\n    var color;\r\n    if (value) {\r\n        color = String(value).toLowerCase().replace(/ /g, \"\");\r\n        color = standardColorNames[color] ? \"#\" + standardColorNames[color] : color;\r\n        color = parseColor(color)\r\n    }\r\n    if (!color) {\r\n        this.colorIsInvalid = true\r\n    }\r\n    color = color || {};\r\n    this.r = normalize(color[0]);\r\n    this.g = normalize(color[1]);\r\n    this.b = normalize(color[2]);\r\n    this.a = normalize(color[3], 1, 1);\r\n    if (color[4]) {\r\n        this.hsv = {\r\n            h: color[4][0],\r\n            s: color[4][1],\r\n            v: color[4][2]\r\n        }\r\n    } else {\r\n        this.hsv = toHsvFromRgb(this.r, this.g, this.b)\r\n    }\r\n    if (color[5]) {\r\n        this.hsl = {\r\n            h: color[5][0],\r\n            s: color[5][1],\r\n            l: color[5][2]\r\n        }\r\n    } else {\r\n        this.hsl = toHslFromRgb(this.r, this.g, this.b)\r\n    }\r\n}\r\n\r\nfunction parseColor(color) {\r\n    if (\"transparent\" === color) {\r\n        return [0, 0, 0, 0]\r\n    }\r\n    var i = 0;\r\n    var ii = standardColorTypes.length;\r\n    var str;\r\n    for (; i < ii; ++i) {\r\n        str = standardColorTypes[i].re.exec(color);\r\n        if (str) {\r\n            return standardColorTypes[i].process(str)\r\n        }\r\n    }\r\n    return null\r\n}\r\n\r\nfunction normalize(colorComponent, def, max) {\r\n    def = def || 0;\r\n    max = max || 255;\r\n    return colorComponent < 0 || isNaN(colorComponent) ? def : colorComponent > max ? max : colorComponent\r\n}\r\n\r\nfunction toHexFromRgb(r, g, b) {\r\n    return \"#\" + (16777216 | r << 16 | g << 8 | b).toString(16).slice(1)\r\n}\r\n\r\nfunction toHsvFromRgb(r, g, b) {\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var delta = max - min;\r\n    var H;\r\n    var S;\r\n    var V = max;\r\n    S = 0 === max ? 0 : 1 - min / max;\r\n    if (max === min) {\r\n        H = 0\r\n    } else {\r\n        switch (max) {\r\n            case r:\r\n                H = (g - b) / delta * 60;\r\n                if (g < b) {\r\n                    H += 360\r\n                }\r\n                break;\r\n            case g:\r\n                H = (b - r) / delta * 60 + 120;\r\n                break;\r\n            case b:\r\n                H = (r - g) / delta * 60 + 240\r\n        }\r\n    }\r\n    S *= 100;\r\n    V *= 100 / 255;\r\n    return {\r\n        h: Math.round(H),\r\n        s: Math.round(S),\r\n        v: Math.round(V)\r\n    }\r\n}\r\n\r\nfunction hsvToRgb(h, s, v) {\r\n    var index = Math.floor(h % 360 / 60);\r\n    var vMin = (100 - s) * v / 100;\r\n    var a = h % 60 / 60 * (v - vMin);\r\n    var vInc = vMin + a;\r\n    var vDec = v - a;\r\n    var r;\r\n    var g;\r\n    var b;\r\n    switch (index) {\r\n        case 0:\r\n            r = v;\r\n            g = vInc;\r\n            b = vMin;\r\n            break;\r\n        case 1:\r\n            r = vDec;\r\n            g = v;\r\n            b = vMin;\r\n            break;\r\n        case 2:\r\n            r = vMin;\r\n            g = v;\r\n            b = vInc;\r\n            break;\r\n        case 3:\r\n            r = vMin;\r\n            g = vDec;\r\n            b = v;\r\n            break;\r\n        case 4:\r\n            r = vInc;\r\n            g = vMin;\r\n            b = v;\r\n            break;\r\n        case 5:\r\n            r = v;\r\n            g = vMin;\r\n            b = vDec\r\n    }\r\n    return [Math.round(2.55 * r), Math.round(2.55 * g), Math.round(2.55 * b)]\r\n}\r\n\r\nfunction calculateHue(r, g, b, delta) {\r\n    var max = Math.max(r, g, b);\r\n    switch (max) {\r\n        case r:\r\n            return (g - b) / delta + (g < b ? 6 : 0);\r\n        case g:\r\n            return (b - r) / delta + 2;\r\n        case b:\r\n            return (r - g) / delta + 4\r\n    }\r\n}\r\n\r\nfunction toHslFromRgb(r, g, b) {\r\n    r = convertTo01Bounds(r, 255);\r\n    g = convertTo01Bounds(g, 255);\r\n    b = convertTo01Bounds(b, 255);\r\n    var max = Math.max(r, g, b);\r\n    var min = Math.min(r, g, b);\r\n    var maxMinSum = max + min;\r\n    var h;\r\n    var s;\r\n    var l = maxMinSum / 2;\r\n    if (max === min) {\r\n        h = s = 0\r\n    } else {\r\n        var delta = max - min;\r\n        if (l > .5) {\r\n            s = delta / (2 - maxMinSum)\r\n        } else {\r\n            s = delta / maxMinSum\r\n        }\r\n        h = calculateHue(r, g, b, delta);\r\n        h /= 6\r\n    }\r\n    return {\r\n        h: _round(360 * h),\r\n        s: _round(100 * s),\r\n        l: _round(100 * l)\r\n    }\r\n}\r\n\r\nfunction makeColorTint(colorPart, h) {\r\n    var colorTint = h;\r\n    if (\"r\" === colorPart) {\r\n        colorTint = h + 1 / 3\r\n    }\r\n    if (\"b\" === colorPart) {\r\n        colorTint = h - 1 / 3\r\n    }\r\n    return colorTint\r\n}\r\n\r\nfunction modifyColorTint(colorTint) {\r\n    if (colorTint < 0) {\r\n        colorTint += 1\r\n    }\r\n    if (colorTint > 1) {\r\n        colorTint -= 1\r\n    }\r\n    return colorTint\r\n}\r\n\r\nfunction hueToRgb(p, q, colorTint) {\r\n    colorTint = modifyColorTint(colorTint);\r\n    if (colorTint < 1 / 6) {\r\n        return p + 6 * (q - p) * colorTint\r\n    }\r\n    if (colorTint < .5) {\r\n        return q\r\n    }\r\n    if (colorTint < 2 / 3) {\r\n        return p + (q - p) * (2 / 3 - colorTint) * 6\r\n    }\r\n    return p\r\n}\r\n\r\nfunction hslToRgb(h, s, l) {\r\n    var r;\r\n    var g;\r\n    var b;\r\n    h = convertTo01Bounds(h, 360);\r\n    s = convertTo01Bounds(s, 100);\r\n    l = convertTo01Bounds(l, 100);\r\n    if (0 === s) {\r\n        r = g = b = l\r\n    } else {\r\n        var q = l < .5 ? l * (1 + s) : l + s - l * s;\r\n        var p = 2 * l - q;\r\n        r = hueToRgb(p, q, makeColorTint(\"r\", h));\r\n        g = hueToRgb(p, q, makeColorTint(\"g\", h));\r\n        b = hueToRgb(p, q, makeColorTint(\"b\", h))\r\n    }\r\n    return [_round(255 * r), _round(255 * g), _round(255 * b)]\r\n}\r\n\r\nfunction convertTo01Bounds(n, max) {\r\n    n = Math.min(max, Math.max(0, parseFloat(n)));\r\n    if (Math.abs(n - max) < 1e-6) {\r\n        return 1\r\n    }\r\n    return n % max / parseFloat(max)\r\n}\r\n\r\nfunction isIntegerBetweenMinAndMax(number, min, max) {\r\n    min = min || 0;\r\n    max = max || 255;\r\n    if (number % 1 !== 0 || number < min || number > max || \"number\" !== typeof number || isNaN(number)) {\r\n        return false\r\n    }\r\n    return true\r\n}\r\nColor.prototype = {\r\n    constructor: Color,\r\n    highlight: function(step) {\r\n        step = step || 10;\r\n        return this.alter(step).toHex()\r\n    },\r\n    darken: function(step) {\r\n        step = step || 10;\r\n        return this.alter(-step).toHex()\r\n    },\r\n    alter: function(step) {\r\n        var result = new Color;\r\n        result.r = normalize(this.r + step);\r\n        result.g = normalize(this.g + step);\r\n        result.b = normalize(this.b + step);\r\n        return result\r\n    },\r\n    blend: function(blendColor, opacity) {\r\n        var other = blendColor instanceof Color ? blendColor : new Color(blendColor);\r\n        var result = new Color;\r\n        result.r = normalize(_round(this.r * (1 - opacity) + other.r * opacity));\r\n        result.g = normalize(_round(this.g * (1 - opacity) + other.g * opacity));\r\n        result.b = normalize(_round(this.b * (1 - opacity) + other.b * opacity));\r\n        return result\r\n    },\r\n    toHex: function() {\r\n        return toHexFromRgb(this.r, this.g, this.b)\r\n    },\r\n    getPureColor: function() {\r\n        var rgb = hsvToRgb(this.hsv.h, 100, 100);\r\n        return new Color(\"rgb(\" + rgb.join(\",\") + \")\")\r\n    },\r\n    isValidHex: function(hex) {\r\n        return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(hex)\r\n    },\r\n    isValidRGB: function(r, g, b) {\r\n        if (!isIntegerBetweenMinAndMax(r) || !isIntegerBetweenMinAndMax(g) || !isIntegerBetweenMinAndMax(b)) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    isValidAlpha: function(a) {\r\n        if (isNaN(a) || a < 0 || a > 1 || \"number\" !== typeof a) {\r\n            return false\r\n        }\r\n        return true\r\n    },\r\n    colorIsInvalid: false,\r\n    fromHSL: function(hsl) {\r\n        var color = new Color;\r\n        var rgb = hslToRgb(hsl.h, hsl.s, hsl.l);\r\n        color.r = rgb[0];\r\n        color.g = rgb[1];\r\n        color.b = rgb[2];\r\n        return color\r\n    }\r\n};\r\nexport default Color;\r\n","/**\r\n * DevExtreme (esm/core/utils/svg.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport domAdapter from \"../../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"./window\";\r\nimport $ from \"../../core/renderer\";\r\nvar window = getWindow();\r\n\r\nfunction getMarkup(element, backgroundColor) {\r\n    var temp = domAdapter.createElement(\"div\");\r\n    var clone = element.cloneNode(true);\r\n    if (backgroundColor) {\r\n        $(clone).css(\"backgroundColor\", backgroundColor)\r\n    }\r\n    temp.appendChild(clone);\r\n    return temp.innerHTML\r\n}\r\n\r\nfunction fixNamespaces(markup) {\r\n    var first = true;\r\n    if (-1 === markup.indexOf(\"xmlns:xlink\")) {\r\n        markup = markup.replace(\"<svg\", '<svg xmlns:xlink=\"http://www.w3.org/1999/xlink\"')\r\n    }\r\n    markup = markup.replace(/xmlns=\"[\\s\\S]*?\"/gi, (function(match) {\r\n        if (!first) {\r\n            return \"\"\r\n        }\r\n        first = false;\r\n        return match\r\n    }));\r\n    return markup.replace(/xmlns:NS1=\"[\\s\\S]*?\"/gi, \"\").replace(/NS1:xmlns:xlink=\"([\\s\\S]*?)\"/gi, 'xmlns:xlink=\"$1\"')\r\n}\r\n\r\nfunction decodeHtmlEntities(markup) {\r\n    return markup.replace(/&quot;/gi, \"&#34;\").replace(/&amp;/gi, \"&#38;\").replace(/&apos;/gi, \"&#39;\").replace(/&lt;/gi, \"&#60;\").replace(/&gt;/gi, \"&#62;\").replace(/&nbsp;/gi, \"&#160;\").replace(/&shy;/gi, \"&#173;\")\r\n}\r\nexport var HIDDEN_FOR_EXPORT = \"hidden-for-export\";\r\nexport function getSvgMarkup(element, backgroundColor) {\r\n    return fixNamespaces(decodeHtmlEntities(getMarkup(element, backgroundColor)))\r\n}\r\nexport function getSvgElement(markup) {\r\n    return domAdapter.isNode(markup) ? markup : (new window.DOMParser).parseFromString(markup, \"image/svg+xml\").childNodes[0]\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/image_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport Color from \"../color\";\r\nimport {\r\n    isFunction,\r\n    isPromise,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    getSvgElement,\r\n    HIDDEN_FOR_EXPORT\r\n} from \"../core/utils/svg\";\r\nimport {\r\n    each as _each,\r\n    map as _map\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    contains\r\n} from \"../core/utils/dom\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    camelize\r\n} from \"../core/utils/inflector\";\r\nimport {\r\n    Deferred,\r\n    fromPromise\r\n} from \"../core/utils/deferred\";\r\nvar _math = Math;\r\nvar PI = _math.PI;\r\nvar _min = _math.min;\r\nvar _abs = _math.abs;\r\nvar _sqrt = _math.sqrt;\r\nvar _pow = _math.pow;\r\nvar _atan2 = _math.atan2;\r\nvar _cos = _math.cos;\r\nvar _sin = _math.sin;\r\nvar _number = Number;\r\nvar IMAGE_QUALITY = 1;\r\nvar TEXT_DECORATION_LINE_WIDTH_COEFF = .05;\r\nvar DEFAULT_FONT_SIZE = \"10px\";\r\nvar DEFAULT_FONT_FAMILY = \"sans-serif\";\r\nvar DEFAULT_TEXT_COLOR = \"#000\";\r\nvar parseAttributes;\r\n\r\nfunction getStringFromCanvas(canvas, mimeType) {\r\n    var dataURL = canvas.toDataURL(mimeType, IMAGE_QUALITY);\r\n    var imageData = window.atob(dataURL.substring((\"data:\" + mimeType + \";base64,\").length));\r\n    return imageData\r\n}\r\n\r\nfunction arcTo(x1, y1, x2, y2, radius, largeArcFlag, clockwise, context) {\r\n    var cBx = (x1 + x2) / 2;\r\n    var cBy = (y1 + y2) / 2;\r\n    var aB = _atan2(y1 - y2, x1 - x2);\r\n    var k = largeArcFlag ? 1 : -1;\r\n    aB += PI / 180 * 90 * (clockwise ? 1 : -1);\r\n    var opSide = _sqrt(_pow(x2 - x1, 2) + _pow(y2 - y1, 2)) / 2;\r\n    var adjSide = _sqrt(_abs(_pow(radius, 2) - _pow(opSide, 2)));\r\n    var centerX = cBx + k * (adjSide * _cos(aB));\r\n    var centerY = cBy + k * (adjSide * _sin(aB));\r\n    var startAngle = _atan2(y1 - centerY, x1 - centerX);\r\n    var endAngle = _atan2(y2 - centerY, x2 - centerX);\r\n    context.arc(centerX, centerY, radius, startAngle, endAngle, !clockwise)\r\n}\r\n\r\nfunction getElementOptions(element, rootAppended) {\r\n    var attr = parseAttributes(element.attributes || {});\r\n    var options = extend({}, attr, {\r\n        text: element.textContent.replace(/\\s+/g, \" \"),\r\n        textAlign: \"middle\" === attr[\"text-anchor\"] ? \"center\" : attr[\"text-anchor\"]\r\n    });\r\n    var transform = attr.transform;\r\n    var coords;\r\n    if (transform) {\r\n        coords = transform.match(/translate\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.translateX = _number(coords[0]);\r\n            options.translateY = coords[1] ? _number(coords[1]) : 0\r\n        }\r\n        coords = transform.match(/rotate\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.rotationAngle = _number(coords[0]);\r\n            options.rotationX = coords[1] && _number(coords[1]);\r\n            options.rotationY = coords[2] && _number(coords[2])\r\n        }\r\n        coords = transform.match(/scale\\(-*\\d+([.]\\d+)*(,*\\s*-*\\d+([.]\\d+)*)*/);\r\n        if (coords) {\r\n            coords = coords[0].match(/-*\\d+([.]\\d+)*/g);\r\n            options.scaleX = _number(coords[0]);\r\n            if (coords.length > 1) {\r\n                options.scaleY = _number(coords[1])\r\n            } else {\r\n                options.scaleY = options.scaleX\r\n            }\r\n        }\r\n    }\r\n    parseStyles(element, options, rootAppended);\r\n    return options\r\n}\r\n\r\nfunction drawRect(context, options) {\r\n    var x = options.x;\r\n    var y = options.y;\r\n    var width = options.width;\r\n    var height = options.height;\r\n    var cornerRadius = options.rx;\r\n    if (!cornerRadius) {\r\n        context.rect(x, y, width, height)\r\n    } else {\r\n        cornerRadius = _min(cornerRadius, width / 2, height / 2);\r\n        context.save();\r\n        context.translate(x, y);\r\n        context.moveTo(width / 2, 0);\r\n        context.arcTo(width, 0, width, height, cornerRadius);\r\n        context.arcTo(width, height, 0, height, cornerRadius);\r\n        context.arcTo(0, height, 0, 0, cornerRadius);\r\n        context.arcTo(0, 0, cornerRadius, 0, cornerRadius);\r\n        context.lineTo(width / 2, 0);\r\n        context.restore()\r\n    }\r\n}\r\n\r\nfunction drawImage(context, options, shared) {\r\n    var d = new Deferred;\r\n    var image = new window.Image;\r\n    image.onload = function() {\r\n        context.save();\r\n        context.globalAlpha = options.globalAlpha;\r\n        transformElement(context, options);\r\n        clipElement(context, options, shared);\r\n        context.drawImage(image, options.x || 0, options.y || 0, options.width, options.height);\r\n        context.restore();\r\n        d.resolve()\r\n    };\r\n    image.onerror = function() {\r\n        d.resolve()\r\n    };\r\n    image.setAttribute(\"crossOrigin\", \"anonymous\");\r\n    image.src = options.href || options[\"xlink:href\"];\r\n    return d\r\n}\r\n\r\nfunction drawPath(context, dAttr) {\r\n    var dArray = dAttr.replace(/,/g, \" \").split(/([A-Z])/i).filter(item => \"\" !== item.trim());\r\n    var i = 0;\r\n    var params;\r\n    var prevParams;\r\n    var prevParamsLen;\r\n    do {\r\n        params = (dArray[i + 1] || \"\").trim().split(\" \");\r\n        switch (dArray[i]) {\r\n            case \"M\":\r\n                context.moveTo(_number(params[0]), _number(params[1]));\r\n                i += 2;\r\n                break;\r\n            case \"L\":\r\n                for (var j = 0; j < params.length / 2; j++) {\r\n                    context.lineTo(_number(params[2 * j]), _number(params[2 * j + 1]))\r\n                }\r\n                i += 2;\r\n                break;\r\n            case \"C\":\r\n                context.bezierCurveTo(_number(params[0]), _number(params[1]), _number(params[2]), _number(params[3]), _number(params[4]), _number(params[5]));\r\n                i += 2;\r\n                break;\r\n            case \"a\":\r\n                prevParams = dArray[i - 1].trim().split(\" \");\r\n                prevParamsLen = prevParams.length - 1;\r\n                arcTo(_number(prevParams[prevParamsLen - 1]), _number(prevParams[prevParamsLen]), _number(prevParams[prevParamsLen - 1]) + _number(params[5]), _number(prevParams[prevParamsLen]) + _number(params[6]), _number(params[0]), _number(params[3]), _number(params[4]), context);\r\n                i += 2;\r\n                break;\r\n            case \"A\":\r\n                prevParams = dArray[i - 1].trim().split(\" \");\r\n                prevParamsLen = prevParams.length - 1;\r\n                arcTo(_number(prevParams[prevParamsLen - 1]), _number(prevParams[prevParamsLen]), _number(params[5]), _number(params[6]), _number(params[0]), _number(params[3]), _number(params[4]), context);\r\n                i += 2;\r\n                break;\r\n            case \"Z\":\r\n                context.closePath();\r\n                i += 1;\r\n                break;\r\n            default:\r\n                i++\r\n        }\r\n    } while (i < dArray.length)\r\n}\r\n\r\nfunction parseStyles(element, options, rootAppended) {\r\n    var style = element.style || {};\r\n    var field;\r\n    for (field in style) {\r\n        if (\"\" !== style[field]) {\r\n            options[camelize(field)] = style[field]\r\n        }\r\n    }\r\n    if (rootAppended && domAdapter.isElementNode(element)) {\r\n        style = window.getComputedStyle(element);\r\n        [\"fill\", \"stroke\", \"stroke-width\", \"font-family\", \"font-size\", \"font-style\", \"font-weight\"].forEach((function(prop) {\r\n            if (prop in style && \"\" !== style[prop]) {\r\n                options[camelize(prop)] = style[prop]\r\n            }\r\n        }));\r\n        [\"opacity\", \"fill-opacity\", \"stroke-opacity\"].forEach((function(prop) {\r\n            if (prop in style && \"\" !== style[prop] && \"1\" !== style[prop]) {\r\n                options[prop] = _number(style[prop])\r\n            }\r\n        }))\r\n    }\r\n    options.textDecoration = options.textDecoration || options.textDecorationLine;\r\n    options.globalAlpha = isDefined(options.opacity) ? options.opacity : options.globalAlpha\r\n}\r\n\r\nfunction parseUrl(urlString) {\r\n    var matches = urlString && urlString.match(/url\\(.*#(.*?)[\"']?\\)/i);\r\n    return matches && matches[1]\r\n}\r\n\r\nfunction setFontStyle(context, options) {\r\n    var fontParams = [];\r\n    options.fontSize = options.fontSize || DEFAULT_FONT_SIZE;\r\n    options.fontFamily = options.fontFamily || DEFAULT_FONT_FAMILY;\r\n    options.fill = options.fill || DEFAULT_TEXT_COLOR;\r\n    options.fontStyle && fontParams.push(options.fontStyle);\r\n    options.fontWeight && fontParams.push(options.fontWeight);\r\n    fontParams.push(options.fontSize);\r\n    fontParams.push(options.fontFamily);\r\n    context.font = fontParams.join(\" \");\r\n    context.textAlign = options.textAlign;\r\n    context.fillStyle = options.fill;\r\n    context.globalAlpha = options.globalAlpha\r\n}\r\n\r\nfunction drawText(context, options, shared) {\r\n    setFontStyle(context, options);\r\n    applyFilter(context, options, shared);\r\n    options.text && context.fillText(options.text, options.x || 0, options.y || 0);\r\n    strokeElement(context, options, true);\r\n    drawTextDecoration(context, options, shared)\r\n}\r\n\r\nfunction drawTextDecoration(context, options, shared) {\r\n    if (!options.textDecoration || \"none\" === options.textDecoration) {\r\n        return\r\n    }\r\n    var x = options.x;\r\n    var textWidth = context.measureText(options.text).width;\r\n    var textHeight = parseInt(options.fontSize, 10);\r\n    var lineHeight = textHeight * TEXT_DECORATION_LINE_WIDTH_COEFF < 1 ? 1 : textHeight * TEXT_DECORATION_LINE_WIDTH_COEFF;\r\n    var y = options.y;\r\n    switch (options.textDecoration) {\r\n        case \"line-through\":\r\n            y -= textHeight / 3 + lineHeight / 2;\r\n            break;\r\n        case \"overline\":\r\n            y -= textHeight - lineHeight;\r\n            break;\r\n        case \"underline\":\r\n            y += lineHeight\r\n    }\r\n    context.rect(x, y, textWidth, lineHeight);\r\n    fillElement(context, options, shared);\r\n    strokeElement(context, options)\r\n}\r\n\r\nfunction aggregateOpacity(options) {\r\n    options.strokeOpacity = void 0 !== options[\"stroke-opacity\"] ? options[\"stroke-opacity\"] : 1;\r\n    options.fillOpacity = void 0 !== options[\"fill-opacity\"] ? options[\"fill-opacity\"] : 1;\r\n    if (void 0 !== options.opacity) {\r\n        options.strokeOpacity *= options.opacity;\r\n        options.fillOpacity *= options.opacity\r\n    }\r\n}\r\n\r\nfunction hasTspan(element) {\r\n    var nodes = element.childNodes;\r\n    for (var i = 0; i < nodes.length; i++) {\r\n        if (\"tspan\" === nodes[i].tagName) {\r\n            return true\r\n        }\r\n    }\r\n    return false\r\n}\r\n\r\nfunction drawTextElement(childNodes, context, options, shared) {\r\n    var lines = [];\r\n    var line;\r\n    var offset = 0;\r\n    for (var i = 0; i < childNodes.length; i++) {\r\n        var element = childNodes[i];\r\n        if (void 0 === element.tagName) {\r\n            drawElement(element, context, options, shared)\r\n        } else if (\"tspan\" === element.tagName || \"text\" === element.tagName) {\r\n            var elementOptions = getElementOptions(element, shared.rootAppended);\r\n            var mergedOptions = extend({}, options, elementOptions);\r\n            if (\"tspan\" === element.tagName && hasTspan(element)) {\r\n                drawTextElement(element.childNodes, context, mergedOptions, shared);\r\n                continue\r\n            }\r\n            mergedOptions.textAlign = \"start\";\r\n            if (!line || void 0 !== elementOptions.x) {\r\n                line = {\r\n                    elements: [],\r\n                    options: [],\r\n                    widths: [],\r\n                    offsets: []\r\n                };\r\n                lines.push(line)\r\n            }\r\n            if (void 0 !== elementOptions.y) {\r\n                offset = 0\r\n            }\r\n            if (void 0 !== elementOptions.dy) {\r\n                offset += parseFloat(elementOptions.dy)\r\n            }\r\n            line.elements.push(element);\r\n            line.options.push(mergedOptions);\r\n            line.offsets.push(offset);\r\n            setFontStyle(context, mergedOptions);\r\n            line.widths.push(context.measureText(mergedOptions.text).width)\r\n        }\r\n    }\r\n    lines.forEach((function(line) {\r\n        var commonWidth = line.widths.reduce((function(commonWidth, width) {\r\n            return commonWidth + width\r\n        }), 0);\r\n        var xDiff = 0;\r\n        var currentOffset = 0;\r\n        if (\"center\" === options.textAlign) {\r\n            xDiff = commonWidth / 2\r\n        }\r\n        if (\"end\" === options.textAlign) {\r\n            xDiff = commonWidth\r\n        }\r\n        line.options.forEach((function(o, index) {\r\n            var width = line.widths[index];\r\n            o.x = o.x - xDiff + currentOffset;\r\n            o.y += line.offsets[index];\r\n            currentOffset += width\r\n        }));\r\n        line.elements.forEach((function(element, index) {\r\n            drawTextElement(element.childNodes, context, line.options[index], shared)\r\n        }))\r\n    }))\r\n}\r\n\r\nfunction drawElement(element, context, parentOptions, shared) {\r\n    var tagName = element.tagName;\r\n    var isText = \"text\" === tagName || \"tspan\" === tagName || void 0 === tagName;\r\n    var isImage = \"image\" === tagName;\r\n    var options = extend({}, parentOptions, getElementOptions(element, shared.rootAppended));\r\n    if (\"hidden\" === options.visibility || options[HIDDEN_FOR_EXPORT]) {\r\n        return\r\n    }\r\n    context.save();\r\n    !isImage && transformElement(context, options);\r\n    clipElement(context, options, shared);\r\n    aggregateOpacity(options);\r\n    var promise;\r\n    context.beginPath();\r\n    switch (element.tagName) {\r\n        case void 0:\r\n            drawText(context, options, shared);\r\n            break;\r\n        case \"text\":\r\n        case \"tspan\":\r\n            drawTextElement(element.childNodes, context, options, shared);\r\n            break;\r\n        case \"image\":\r\n            promise = drawImage(context, options, shared);\r\n            break;\r\n        case \"path\":\r\n            drawPath(context, options.d);\r\n            break;\r\n        case \"rect\":\r\n            drawRect(context, options);\r\n            context.closePath();\r\n            break;\r\n        case \"circle\":\r\n            context.arc(options.cx, options.cy, options.r, 0, 2 * PI, 1)\r\n    }\r\n    if (!isText) {\r\n        applyFilter(context, options, shared);\r\n        fillElement(context, options, shared);\r\n        strokeElement(context, options)\r\n    }\r\n    applyGradient(context, options, shared, element);\r\n    context.restore();\r\n    return promise\r\n}\r\n\r\nfunction applyGradient(context, options, _ref, element) {\r\n    var {\r\n        gradients: gradients\r\n    } = _ref;\r\n    if (0 === gradients.length) {\r\n        return\r\n    }\r\n    var id = parseUrl(options.fill);\r\n    if (id && gradients[id]) {\r\n        var box = element.getBBox();\r\n        var gradient = context.createLinearGradient(box.x, 0, box.x + box.width, 0);\r\n        gradients[id].forEach(opt => {\r\n            var offset = parseInt(opt.offset.replace(/%/, \"\"));\r\n            gradient.addColorStop(offset / 100, opt.stopColor)\r\n        });\r\n        context.globalAlpha = options.opacity;\r\n        context.fillStyle = gradient;\r\n        context.fill()\r\n    }\r\n}\r\n\r\nfunction applyFilter(context, options, shared) {\r\n    var filterOptions;\r\n    var id = parseUrl(options.filter);\r\n    if (id) {\r\n        filterOptions = shared.filters[id];\r\n        if (!filterOptions) {\r\n            filterOptions = {\r\n                offsetX: 0,\r\n                offsetY: 0,\r\n                blur: 0,\r\n                color: \"#000\"\r\n            }\r\n        }\r\n        context.shadowOffsetX = filterOptions.offsetX;\r\n        context.shadowOffsetY = filterOptions.offsetY;\r\n        context.shadowColor = filterOptions.color;\r\n        context.shadowBlur = filterOptions.blur\r\n    }\r\n}\r\n\r\nfunction transformElement(context, options) {\r\n    context.translate(options.translateX || 0, options.translateY || 0);\r\n    options.translateX = void 0;\r\n    options.translateY = void 0;\r\n    if (options.rotationAngle) {\r\n        context.translate(options.rotationX || 0, options.rotationY || 0);\r\n        context.rotate(options.rotationAngle * PI / 180);\r\n        context.translate(-(options.rotationX || 0), -(options.rotationY || 0));\r\n        options.rotationAngle = void 0;\r\n        options.rotationX = void 0;\r\n        options.rotationY = void 0\r\n    }\r\n    if (isFinite(options.scaleX)) {\r\n        context.scale(options.scaleX, options.scaleY);\r\n        options.scaleX = void 0;\r\n        options.scaleY = void 0\r\n    }\r\n}\r\n\r\nfunction clipElement(context, options, shared) {\r\n    if (options[\"clip-path\"]) {\r\n        drawElement(shared.clipPaths[parseUrl(options[\"clip-path\"])], context, {}, shared);\r\n        context.clip();\r\n        options[\"clip-path\"] = void 0\r\n    }\r\n}\r\n\r\nfunction hex2rgba(hexColor, alpha) {\r\n    var color = new Color(hexColor);\r\n    return \"rgba(\" + color.r + \",\" + color.g + \",\" + color.b + \",\" + alpha + \")\"\r\n}\r\n\r\nfunction createGradient(element) {\r\n    var options = [];\r\n    _each(element.childNodes, (_, _ref2) => {\r\n        var {\r\n            attributes: attributes\r\n        } = _ref2;\r\n        options.push({\r\n            offset: attributes.offset.value,\r\n            stopColor: attributes[\"stop-color\"].value\r\n        })\r\n    });\r\n    return options\r\n}\r\n\r\nfunction createFilter(element) {\r\n    var color;\r\n    var opacity;\r\n    var filterOptions = {};\r\n    _each(element.childNodes, (function(_, node) {\r\n        var attr = node.attributes;\r\n        if (!attr.result) {\r\n            return\r\n        }\r\n        switch (attr.result.value) {\r\n            case \"gaussianBlurResult\":\r\n                filterOptions.blur = _number(attr.stdDeviation.value);\r\n                break;\r\n            case \"offsetResult\":\r\n                filterOptions.offsetX = _number(attr.dx.value);\r\n                filterOptions.offsetY = _number(attr.dy.value);\r\n                break;\r\n            case \"floodResult\":\r\n                color = attr[\"flood-color\"] ? attr[\"flood-color\"].value : \"#000\";\r\n                opacity = attr[\"flood-opacity\"] ? attr[\"flood-opacity\"].value : 1;\r\n                filterOptions.color = hex2rgba(color, opacity)\r\n        }\r\n    }));\r\n    return filterOptions\r\n}\r\n\r\nfunction asyncEach(array, callback) {\r\n    var d = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : new Deferred;\r\n    var i = 0;\r\n    for (; i < array.length; i++) {\r\n        var result = callback(array[i]);\r\n        if (isPromise(result)) {\r\n            result.then(() => {\r\n                asyncEach(Array.prototype.slice.call(array, i + 1), callback, d)\r\n            });\r\n            break\r\n        }\r\n    }\r\n    if (i === array.length) {\r\n        d.resolve()\r\n    }\r\n    return d\r\n}\r\n\r\nfunction drawCanvasElements(elements, context, parentOptions, shared) {\r\n    return asyncEach(elements, (function(element) {\r\n        switch (element.tagName && element.tagName.toLowerCase()) {\r\n            case \"g\":\r\n            case \"svg\":\r\n                var options = extend({}, parentOptions, getElementOptions(element, shared.rootAppended));\r\n                context.save();\r\n                transformElement(context, options);\r\n                clipElement(context, options, shared);\r\n                var onDone = () => {\r\n                    context.restore()\r\n                };\r\n                var d = drawCanvasElements(element.childNodes, context, options, shared);\r\n                if (isPromise(d)) {\r\n                    d.then(onDone)\r\n                } else {\r\n                    onDone()\r\n                }\r\n                return d;\r\n            case \"defs\":\r\n                return drawCanvasElements(element.childNodes, context, {}, shared);\r\n            case \"clippath\":\r\n                shared.clipPaths[element.attributes.id.textContent] = element.childNodes[0];\r\n                break;\r\n            case \"pattern\":\r\n                shared.patterns[element.attributes.id.textContent] = element;\r\n                break;\r\n            case \"filter\":\r\n                shared.filters[element.id] = createFilter(element);\r\n                break;\r\n            case \"lineargradient\":\r\n                shared.gradients[element.attributes.id.textContent] = createGradient(element);\r\n                break;\r\n            default:\r\n                return drawElement(element, context, parentOptions, shared)\r\n        }\r\n    }))\r\n}\r\n\r\nfunction setLineDash(context, options) {\r\n    var matches = options[\"stroke-dasharray\"] && options[\"stroke-dasharray\"].match(/(\\d+)/g);\r\n    if (matches && matches.length) {\r\n        matches = _map(matches, (function(item) {\r\n            return _number(item)\r\n        }));\r\n        context.setLineDash(matches)\r\n    }\r\n}\r\n\r\nfunction strokeElement(context, options, isText) {\r\n    var stroke = options.stroke;\r\n    if (stroke && \"none\" !== stroke && 0 !== options[\"stroke-width\"]) {\r\n        setLineDash(context, options);\r\n        context.lineJoin = options[\"stroke-linejoin\"];\r\n        context.lineWidth = options[\"stroke-width\"];\r\n        context.globalAlpha = options.strokeOpacity;\r\n        context.strokeStyle = stroke;\r\n        isText ? context.strokeText(options.text, options.x, options.y) : context.stroke();\r\n        context.globalAlpha = 1\r\n    }\r\n}\r\n\r\nfunction getPattern(context, pattern, shared) {\r\n    var options = getElementOptions(pattern, shared.rootAppended);\r\n    var patternCanvas = imageCreator._createCanvas(options.width, options.height, 0);\r\n    var patternContext = patternCanvas.getContext(\"2d\");\r\n    drawCanvasElements(pattern.childNodes, patternContext, options, shared);\r\n    return context.createPattern(patternCanvas, \"repeat\")\r\n}\r\n\r\nfunction fillElement(context, options, shared) {\r\n    var fill = options.fill;\r\n    if (fill && \"none\" !== fill) {\r\n        if (-1 === fill.search(/url/)) {\r\n            context.fillStyle = fill\r\n        } else {\r\n            var pattern = shared.patterns[parseUrl(fill)];\r\n            if (!pattern) {\r\n                return\r\n            }\r\n            context.fillStyle = getPattern(context, pattern, shared)\r\n        }\r\n        context.globalAlpha = options.fillOpacity;\r\n        context.fill();\r\n        context.globalAlpha = 1\r\n    }\r\n}\r\nparseAttributes = function(attributes) {\r\n    var newAttributes = {};\r\n    var attr;\r\n    _each(attributes, (function(index, item) {\r\n        attr = item.textContent;\r\n        if (isFinite(attr)) {\r\n            attr = _number(attr)\r\n        }\r\n        newAttributes[item.name.toLowerCase()] = attr\r\n    }));\r\n    return newAttributes\r\n};\r\n\r\nfunction drawBackground(context, width, height, backgroundColor, margin) {\r\n    context.fillStyle = backgroundColor || \"#ffffff\";\r\n    context.fillRect(-margin, -margin, width + 2 * margin, height + 2 * margin)\r\n}\r\n\r\nfunction createInvisibleDiv() {\r\n    var invisibleDiv = domAdapter.createElement(\"div\");\r\n    invisibleDiv.style.left = \"-9999px\";\r\n    invisibleDiv.style.position = \"absolute\";\r\n    return invisibleDiv\r\n}\r\n\r\nfunction convertSvgToCanvas(svg, canvas, rootAppended) {\r\n    return drawCanvasElements(svg.childNodes, canvas.getContext(\"2d\"), {}, {\r\n        clipPaths: {},\r\n        patterns: {},\r\n        filters: {},\r\n        gradients: {},\r\n        rootAppended: rootAppended\r\n    })\r\n}\r\n\r\nfunction getCanvasFromSvg(markup, _ref3) {\r\n    var {\r\n        width: width,\r\n        height: height,\r\n        backgroundColor: backgroundColor,\r\n        margin: margin,\r\n        svgToCanvas: svgToCanvas = convertSvgToCanvas\r\n    } = _ref3;\r\n    var scaledScreenInfo = calcScaledInfo(width, height);\r\n    var canvas = imageCreator._createCanvas(scaledScreenInfo.width, scaledScreenInfo.height, margin);\r\n    var context = canvas.getContext(\"2d\");\r\n    context.setTransform(scaledScreenInfo.pixelRatio, 0, 0, scaledScreenInfo.pixelRatio, 0, 0);\r\n    var svgElem = getSvgElement(markup);\r\n    var invisibleDiv;\r\n    var markupIsDomElement = domAdapter.isElementNode(markup);\r\n    context.translate(margin, margin);\r\n    domAdapter.getBody().appendChild(canvas);\r\n    if (!markupIsDomElement) {\r\n        invisibleDiv = createInvisibleDiv();\r\n        invisibleDiv.appendChild(svgElem);\r\n        domAdapter.getBody().appendChild(invisibleDiv)\r\n    }\r\n    if (svgElem.attributes.direction) {\r\n        canvas.dir = svgElem.attributes.direction.textContent\r\n    }\r\n    drawBackground(context, width, height, backgroundColor, margin);\r\n    return fromPromise(svgToCanvas(svgElem, canvas, markupIsDomElement && contains(domAdapter.getBody(), markup))).then(() => canvas).always(() => {\r\n        invisibleDiv && domAdapter.getBody().removeChild(invisibleDiv);\r\n        domAdapter.getBody().removeChild(canvas)\r\n    })\r\n}\r\nexport var imageCreator = {\r\n    getImageData: function(markup, options) {\r\n        var mimeType = \"image/\" + options.format;\r\n        if (isFunction(options.__parseAttributesFn)) {\r\n            parseAttributes = options.__parseAttributesFn\r\n        }\r\n        return getCanvasFromSvg(markup, options).then(canvas => getStringFromCanvas(canvas, mimeType))\r\n    },\r\n    getData: function(markup, options) {\r\n        var that = this;\r\n        return imageCreator.getImageData(markup, options).then(binaryData => {\r\n            var mimeType = \"image/\" + options.format;\r\n            var data = isFunction(window.Blob) && !options.forceProxy ? that._getBlob(binaryData, mimeType) : that._getBase64(binaryData);\r\n            return data\r\n        })\r\n    },\r\n    _getBlob: function(binaryData, mimeType) {\r\n        var i;\r\n        var dataArray = new Uint8Array(binaryData.length);\r\n        for (i = 0; i < binaryData.length; i++) {\r\n            dataArray[i] = binaryData.charCodeAt(i)\r\n        }\r\n        return new window.Blob([dataArray.buffer], {\r\n            type: mimeType\r\n        })\r\n    },\r\n    _getBase64: function(binaryData) {\r\n        return window.btoa(binaryData)\r\n    },\r\n    _createCanvas(width, height, margin) {\r\n        var canvas = $(\"<canvas>\")[0];\r\n        canvas.width = width + 2 * margin;\r\n        canvas.height = height + 2 * margin;\r\n        canvas.hidden = true;\r\n        return canvas\r\n    }\r\n};\r\nexport function getData(data, options) {\r\n    return imageCreator.getData(data, options)\r\n}\r\nexport function testFormats(formats) {\r\n    var canvas = imageCreator._createCanvas(100, 100, 0);\r\n    return formats.reduce((function(r, f) {\r\n        var mimeType = (\"image/\" + f).toLowerCase();\r\n        if (-1 !== canvas.toDataURL(mimeType).indexOf(mimeType)) {\r\n            r.supported.push(f)\r\n        } else {\r\n            r.unsupported.push(f)\r\n        }\r\n        return r\r\n    }), {\r\n        supported: [],\r\n        unsupported: []\r\n    })\r\n}\r\nexport function calcScaledInfo(width, height) {\r\n    var pixelRatio = window.devicePixelRatio || 1;\r\n    return {\r\n        pixelRatio: pixelRatio,\r\n        width: width * pixelRatio,\r\n        height: height * pixelRatio\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/svg_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport ajax from \"../core/utils/ajax\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    getSvgElement,\r\n    getSvgMarkup,\r\n    HIDDEN_FOR_EXPORT\r\n} from \"../core/utils/svg\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nexport var svgCreator = {\r\n    _markup: \"\",\r\n    _imageArray: {},\r\n    _imageDeferreds: [],\r\n    _getBinaryFile: function(src, callback) {\r\n        ajax.sendRequest({\r\n            url: src,\r\n            method: \"GET\",\r\n            responseType: \"arraybuffer\"\r\n        }).done(callback).fail((function() {\r\n            callback(false)\r\n        }))\r\n    },\r\n    _loadImages: function() {\r\n        var that = this;\r\n        each(that._imageArray, (function(src) {\r\n            var deferred = new Deferred;\r\n            that._imageDeferreds.push(deferred);\r\n            that._getBinaryFile(src, (function(response) {\r\n                if (!response) {\r\n                    delete that._imageArray[src];\r\n                    deferred.resolve();\r\n                    return\r\n                }\r\n                var i;\r\n                var binary = \"\";\r\n                var bytes = new Uint8Array(response);\r\n                var length = bytes.byteLength;\r\n                for (i = 0; i < length; i++) {\r\n                    binary += String.fromCharCode(bytes[i])\r\n                }\r\n                that._imageArray[src] = \"data:image/png;base64,\" + window.btoa(binary);\r\n                deferred.resolve()\r\n            }))\r\n        }))\r\n    },\r\n    _parseImages: function(element) {\r\n        var href;\r\n        var that = this;\r\n        if (\"image\" === element.tagName) {\r\n            href = $(element).attr(\"href\") || $(element).attr(\"xlink:href\");\r\n            if (!that._imageArray[href]) {\r\n                that._imageArray[href] = \"\"\r\n            }\r\n        }\r\n        each(element.childNodes, (function(_, element) {\r\n            that._parseImages(element)\r\n        }))\r\n    },\r\n    _prepareImages: function(svgElem) {\r\n        this._parseImages(svgElem);\r\n        this._loadImages();\r\n        return when.apply($, this._imageDeferreds)\r\n    },\r\n    getData: function(data, options) {\r\n        var markup;\r\n        var that = this;\r\n        var svgElem = getSvgElement(data);\r\n        var $svgObject = $(svgElem);\r\n        $svgObject.find(\"[\".concat(HIDDEN_FOR_EXPORT, \"]\")).remove();\r\n        markup = '<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"yes\" ?>' + getSvgMarkup($svgObject.get(0), options.backgroundColor);\r\n        return that._prepareImages(svgElem).then(() => {\r\n            each(that._imageArray, (function(href, dataURI) {\r\n                var regexpString = \"href=['|\\\"]\".concat(href, \"['|\\\"]\");\r\n                markup = markup.replace(new RegExp(regexpString, \"gi\"), 'href=\"'.concat(dataURI, '\"'))\r\n            }));\r\n            return isFunction(window.Blob) ? that._getBlob(markup) : that._getBase64(markup)\r\n        })\r\n    },\r\n    _getBlob: function(markup) {\r\n        return new window.Blob([markup], {\r\n            type: \"image/svg+xml\"\r\n        })\r\n    },\r\n    _getBase64: function(markup) {\r\n        return window.btoa(markup)\r\n    }\r\n};\r\nexport function getData(data, options) {\r\n    return svgCreator.getData(data, options)\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter/pdf_creator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    version\r\n} from \"../core/version\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    imageCreator,\r\n    calcScaledInfo\r\n} from \"./image_creator\";\r\nimport {\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nvar mainPageTemplate = \"%PDF-1.3\\r\\n2 0 obj\\r\\n<</ProcSet[/PDF/ImageB/ImageC/ImageI]/XObject<</I0 5 0 R>>>>\\r\\nendobj\\r\\n4 0 obj\\r\\n<</Type/Pages/Kids[1 0 R]/Count 1>>\\r\\nendobj\\r\\n7 0 obj\\r\\n<</OpenAction[1 0 R /FitH null]/Type/Catalog/Pages 4 0 R/PageLayout/OneColumn>>\\r\\nendobj\\r\\n1 0 obj\\r\\n<</Type/Page/Resources 2 0 R/MediaBox[0 0 _width_ _height_]/Contents 3 0 R/Parent 4 0 R>>\\r\\nendobj\\r\\n\";\r\nvar contentTemplate = \"3 0 obj\\r\\n<</Length 52>>stream\\r\\n0.20 w\\n0 G\\nq _width_ 0 0 _height_ 0.00 0.00 cm /I0 Do Q\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar infoTemplate = \"6 0 obj\\r\\n<</CreationDate _date_/Producer(DevExtreme _version_)>>\\r\\nendobj\\r\\n\";\r\nvar imageStartTemplate = \"5 0 obj\\r\\n<</Type/XObject/Subtype/Image/Width _width_/Height _height_/ColorSpace/DeviceRGB/BitsPerComponent 8/Filter/DCTDecode/Length _length_>>stream\\r\\n\";\r\nvar imageEndTemplate = \"\\r\\nendstream\\r\\nendobj\\r\\n\";\r\nvar trailerTemplate = \"trailer\\r\\n<<\\r\\n/Size 8\\r\\n/Root 7 0 R\\r\\n/Info 6 0 R\\r\\n>>\\r\\nstartxref\\r\\n_length_\\r\\n%%EOF\";\r\nvar xrefTemplate = \"xref\\r\\n0 8\\r\\n0000000000 65535 f\\r\\n0000000241 00000 n\\r\\n0000000010 00000 n\\r\\n_main_ 00000 n\\r\\n0000000089 00000 n\\r\\n_image_ 00000 n\\r\\n_info_ 00000 n\\r\\n0000000143 00000 n\\r\\n\";\r\nvar pad = function pad(str, len) {\r\n    return str.length < len ? pad(\"0\" + str, len) : str\r\n};\r\nvar composePdfString = function(imageString, options, curDate) {\r\n    var margin = 2 * (options.margin || 0);\r\n    var {\r\n        width: width,\r\n        height: height\r\n    } = calcScaledInfo(options.width, options.height);\r\n    width += margin;\r\n    height += margin;\r\n    var widthPt = (.75 * width).toFixed(2);\r\n    var heightPt = (.75 * height).toFixed(2);\r\n    var mainPage = mainPageTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var content = contentTemplate.replace(\"_width_\", widthPt).replace(\"_height_\", heightPt);\r\n    var info = infoTemplate.replace(\"_date_\", curDate).replace(\"_version_\", version);\r\n    var image = imageStartTemplate.replace(\"_width_\", width).replace(\"_height_\", height).replace(\"_length_\", imageString.length) + imageString + imageEndTemplate;\r\n    var xref = getXref(mainPage.length, content.length, info.length);\r\n    var mainContent = mainPage + content + info + image;\r\n    var trailer = trailerTemplate.replace(\"_length_\", mainContent.length);\r\n    return mainContent + xref + trailer\r\n};\r\n\r\nfunction getXref(mainPageLength, contentLength, infoLength) {\r\n    return xrefTemplate.replace(\"_main_\", pad(mainPageLength + \"\", 10)).replace(\"_info_\", pad(mainPageLength + contentLength + \"\", 10)).replace(\"_image_\", pad(mainPageLength + contentLength + infoLength + \"\", 10))\r\n}\r\nvar getCurDate = function() {\r\n    return new Date\r\n};\r\nvar getBlob = function(binaryData) {\r\n    var i = 0;\r\n    var dataArray = new Uint8Array(binaryData.length);\r\n    for (; i < binaryData.length; i++) {\r\n        dataArray[i] = binaryData.charCodeAt(i)\r\n    }\r\n    return new window.Blob([dataArray.buffer], {\r\n        type: \"application/pdf\"\r\n    })\r\n};\r\nvar getBase64 = function(binaryData) {\r\n    return window.btoa(binaryData)\r\n};\r\nexport function getData(data, options) {\r\n    return imageCreator.getImageData(data, extend({}, options, {\r\n        format: \"JPEG\"\r\n    })).then(imageString => {\r\n        var binaryData = composePdfString(imageString, options, getCurDate());\r\n        var pdfData = isFunction(window.Blob) ? getBlob(binaryData) : getBase64(binaryData);\r\n        return pdfData\r\n    })\r\n}\r\n","/**\r\n * DevExtreme (esm/exporter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    fileSaver\r\n} from \"./exporter/file_saver\";\r\nimport {\r\n    ExcelCreator,\r\n    getData as getExcelData\r\n} from \"./exporter/excel_creator\";\r\nimport {\r\n    imageCreator,\r\n    testFormats,\r\n    getData as getImageData\r\n} from \"./exporter/image_creator\";\r\nimport {\r\n    svgCreator,\r\n    getData as getSvgData\r\n} from \"./exporter/svg_creator\";\r\nimport {\r\n    isFunction as _isFunction\r\n} from \"./core/utils/type\";\r\nimport {\r\n    Deferred\r\n} from \"./core/utils/deferred\";\r\nimport formatConverter from \"./exporter/excel_format_converter\";\r\nimport {\r\n    getData\r\n} from \"./exporter/pdf_creator\";\r\n\r\nfunction _export(data, options, getData) {\r\n    if (!data) {\r\n        return (new Deferred).resolve()\r\n    }\r\n    var exportingAction = options.exportingAction;\r\n    var exportedAction = options.exportedAction;\r\n    var fileSavingAction = options.fileSavingAction;\r\n    var eventArgs = {\r\n        fileName: options.fileName,\r\n        format: options.format,\r\n        cancel: false\r\n    };\r\n    _isFunction(exportingAction) && exportingAction(eventArgs);\r\n    if (!eventArgs.cancel) {\r\n        return getData(data, options).then(blob => {\r\n            _isFunction(exportedAction) && exportedAction();\r\n            if (_isFunction(fileSavingAction)) {\r\n                eventArgs.data = blob;\r\n                fileSavingAction(eventArgs)\r\n            }\r\n            if (!eventArgs.cancel) {\r\n                fileSaver.saveAs(eventArgs.fileName, options.format, blob, options.proxyUrl, options.forceProxy)\r\n            }\r\n        })\r\n    }\r\n    return (new Deferred).resolve()\r\n}\r\nexport {\r\n    _export as\r\n    export, fileSaver\r\n};\r\nexport var excel = {\r\n    creator: ExcelCreator,\r\n    getData: getExcelData,\r\n    formatConverter: formatConverter\r\n};\r\nexport var image = {\r\n    creator: imageCreator,\r\n    getData: getImageData,\r\n    testFormats: testFormats\r\n};\r\nexport var pdf = {\r\n    getData: getData\r\n};\r\nexport var svg = {\r\n    creator: svgCreator,\r\n    getData: getSvgData\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/button_group.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport Widget from \"./widget/ui.widget\";\r\nimport Button from \"./button\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../core/utils/type\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nvar BUTTON_GROUP_CLASS = \"dx-buttongroup\";\r\nvar BUTTON_GROUP_WRAPPER_CLASS = BUTTON_GROUP_CLASS + \"-wrapper\";\r\nvar BUTTON_GROUP_ITEM_CLASS = BUTTON_GROUP_CLASS + \"-item\";\r\nvar BUTTON_GROUP_FIRST_ITEM_CLASS = BUTTON_GROUP_CLASS + \"-first-item\";\r\nvar BUTTON_GROUP_LAST_ITEM_CLASS = BUTTON_GROUP_CLASS + \"-last-item\";\r\nvar BUTTON_GROUP_ITEM_HAS_WIDTH = BUTTON_GROUP_ITEM_CLASS + \"-has-width\";\r\nvar SHAPE_STANDARD_CLASS = \"dx-shape-standard\";\r\nvar ButtonCollection = CollectionWidget.inherit({\r\n    _initTemplates() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(($container, data, model) => {\r\n                this._prepareItemStyles($container);\r\n                var template = this.option(\"buttonTemplate\");\r\n                this._createComponent($container, Button, extend({}, model, data, this._getBasicButtonOptions(), {\r\n                    _templateData: this._hasCustomTemplate(template) ? model : {},\r\n                    template: model.template || template\r\n                }))\r\n            }, [\"text\", \"type\", \"icon\", \"disabled\", \"visible\", \"hint\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _getBasicButtonOptions() {\r\n        return {\r\n            focusStateEnabled: false,\r\n            onClick: null,\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            stylingMode: this.option(\"stylingMode\")\r\n        }\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            itemTemplateProperty: null\r\n        })\r\n    },\r\n    _hasCustomTemplate(template) {\r\n        return isFunction(template) || this.option(\"integrationOptions.templates\")[template]\r\n    },\r\n    _prepareItemStyles($item) {\r\n        var itemIndex = $item.data(\"dxItemIndex\");\r\n        0 === itemIndex && $item.addClass(BUTTON_GROUP_FIRST_ITEM_CLASS);\r\n        var items = this.option(\"items\");\r\n        items && itemIndex === items.length - 1 && $item.addClass(BUTTON_GROUP_LAST_ITEM_CLASS);\r\n        $item.addClass(SHAPE_STANDARD_CLASS)\r\n    },\r\n    _renderItemContent(args) {\r\n        args.container = $(args.container).parent();\r\n        return this.callBase(args)\r\n    },\r\n    _renderItemContentByNode: function(args, $node) {\r\n        args.container = $(args.container.children().first());\r\n        return this.callBase(args, $node)\r\n    },\r\n    _focusTarget() {\r\n        return this.$element().parent()\r\n    },\r\n    _keyboardEventBindingTarget() {\r\n        return this._focusTarget()\r\n    },\r\n    _refreshContent() {\r\n        this._prepareContent();\r\n        this._renderContent()\r\n    },\r\n    _itemClass: () => BUTTON_GROUP_ITEM_CLASS,\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    }\r\n});\r\nvar ButtonGroup = Widget.inherit({\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            focusStateEnabled: true,\r\n            selectionMode: \"single\",\r\n            selectedItems: [],\r\n            selectedItemKeys: [],\r\n            stylingMode: \"contained\",\r\n            keyExpr: \"text\",\r\n            items: [],\r\n            buttonTemplate: \"content\",\r\n            onSelectionChanged: null,\r\n            onItemClick: null\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._createItemClickAction()\r\n    },\r\n    _createItemClickAction() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _initMarkup() {\r\n        this.setAria(\"role\", \"group\");\r\n        this.$element().addClass(BUTTON_GROUP_CLASS);\r\n        this._renderButtons();\r\n        this._syncSelectionOptions();\r\n        this.callBase()\r\n    },\r\n    _fireSelectionChangeEvent: function(addedItems, removedItems) {\r\n        this._createActionByOption(\"onSelectionChanged\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })({\r\n            addedItems: addedItems,\r\n            removedItems: removedItems\r\n        })\r\n    },\r\n    _renderButtons() {\r\n        var $buttons = $(\"<div>\").addClass(BUTTON_GROUP_WRAPPER_CLASS).appendTo(this.$element());\r\n        var selectedItems = this.option(\"selectedItems\");\r\n        var options = {\r\n            selectionMode: this.option(\"selectionMode\"),\r\n            items: this.option(\"items\"),\r\n            keyExpr: this.option(\"keyExpr\"),\r\n            buttonTemplate: this.option(\"buttonTemplate\"),\r\n            scrollingEnabled: false,\r\n            selectedItemKeys: this.option(\"selectedItemKeys\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            activeStateEnabled: this.option(\"activeStateEnabled\"),\r\n            stylingMode: this.option(\"stylingMode\"),\r\n            accessKey: this.option(\"accessKey\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            noDataText: \"\",\r\n            selectionRequired: false,\r\n            onItemRendered: e => {\r\n                var width = this.option(\"width\");\r\n                isDefined(width) && $(e.itemElement).addClass(BUTTON_GROUP_ITEM_HAS_WIDTH)\r\n            },\r\n            onSelectionChanged: e => {\r\n                this._syncSelectionOptions();\r\n                this._fireSelectionChangeEvent(e.addedItems, e.removedItems)\r\n            },\r\n            onItemClick: e => {\r\n                this._itemClickAction(e)\r\n            }\r\n        };\r\n        if (isDefined(selectedItems) && selectedItems.length) {\r\n            options.selectedItems = selectedItems\r\n        }\r\n        this._buttonsCollection = this._createComponent($buttons, ButtonCollection, options)\r\n    },\r\n    _syncSelectionOptions() {\r\n        this._setOptionWithoutOptionChange(\"selectedItems\", this._buttonsCollection.option(\"selectedItems\"));\r\n        this._setOptionWithoutOptionChange(\"selectedItemKeys\", this._buttonsCollection.option(\"selectedItemKeys\"))\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"stylingMode\":\r\n            case \"selectionMode\":\r\n            case \"keyExpr\":\r\n            case \"buttonTemplate\":\r\n            case \"items\":\r\n            case \"activeStateEnabled\":\r\n            case \"focusStateEnabled\":\r\n            case \"hoverStateEnabled\":\r\n            case \"tabIndex\":\r\n                this._invalidate();\r\n                break;\r\n            case \"selectedItemKeys\":\r\n            case \"selectedItems\":\r\n                this._buttonsCollection.option(args.name, args.value);\r\n                break;\r\n            case \"onItemClick\":\r\n                this._createItemClickAction();\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._buttonsCollection.itemElements().toggleClass(BUTTON_GROUP_ITEM_HAS_WIDTH, !!args.value);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxButtonGroup\", ButtonGroup);\r\nexport default ButtonGroup;\r\n","/**\r\n * DevExtreme (esm/ui/drop_down_button.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport Widget from \"./widget/ui.widget\";\r\nimport {\r\n    FunctionTemplate\r\n} from \"../core/templates/function_template\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport ButtonGroup from \"./button_group\";\r\nimport Popup from \"./popup\";\r\nimport List from \"./list_light\";\r\nimport {\r\n    compileGetter\r\n} from \"../core/utils/data\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport DataHelperMixin from \"../data_helper\";\r\nimport {\r\n    DataSource\r\n} from \"../data/data_source/data_source\";\r\nimport ArrayStore from \"../data/array_store\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    ensureDefined,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport Guid from \"../core/guid\";\r\nimport {\r\n    getElementWidth,\r\n    getSizeValue\r\n} from \"./drop_down_editor/utils\";\r\nimport messageLocalization from \"../localization/message\";\r\nvar DROP_DOWN_BUTTON_CLASS = \"dx-dropdownbutton\";\r\nvar DROP_DOWN_BUTTON_CONTENT = \"dx-dropdownbutton-content\";\r\nvar DROP_DOWN_BUTTON_ACTION_CLASS = \"dx-dropdownbutton-action\";\r\nvar DROP_DOWN_BUTTON_TOGGLE_CLASS = \"dx-dropdownbutton-toggle\";\r\nvar DROP_DOWN_BUTTON_HAS_ARROW_CLASS = \"dx-dropdownbutton-has-arrow\";\r\nvar DROP_DOWN_BUTTON_POPUP_WRAPPER_CLASS = \"dx-dropdownbutton-popup-wrapper\";\r\nvar DROP_DOWN_EDITOR_OVERLAY_CLASS = \"dx-dropdowneditor-overlay\";\r\nvar DX_BUTTON_TEXT_CLASS = \"dx-button-text\";\r\nvar DX_ICON_RIGHT_CLASS = \"dx-icon-right\";\r\nvar DropDownButton = Widget.inherit({\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            itemTemplate: \"item\",\r\n            keyExpr: \"this\",\r\n            displayExpr: void 0,\r\n            selectedItem: null,\r\n            selectedItemKey: null,\r\n            stylingMode: \"outlined\",\r\n            deferRendering: true,\r\n            noDataText: messageLocalization.format(\"dxCollectionWidget-noDataText\"),\r\n            useSelectMode: false,\r\n            splitButton: false,\r\n            showArrowIcon: true,\r\n            text: \"\",\r\n            icon: void 0,\r\n            onButtonClick: null,\r\n            onSelectionChanged: null,\r\n            onItemClick: null,\r\n            opened: false,\r\n            items: null,\r\n            dataSource: null,\r\n            focusStateEnabled: true,\r\n            hoverStateEnabled: true,\r\n            dropDownOptions: {},\r\n            dropDownContentTemplate: \"content\",\r\n            wrapItemText: false,\r\n            useItemTextAsTitle: true,\r\n            grouped: false,\r\n            groupTemplate: \"group\",\r\n            buttonGroupOptions: {}\r\n        })\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            selectedItem: true\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._createItemClickAction();\r\n        this._createActionClickAction();\r\n        this._createSelectionChangedAction();\r\n        this._initDataSource();\r\n        this._compileKeyGetter();\r\n        this._compileDisplayGetter();\r\n        this._itemsToDataSource(this.option(\"items\"));\r\n        this._options.cache(\"buttonGroupOptions\", this.option(\"buttonGroupOptions\"));\r\n        this._options.cache(\"dropDownOptions\", this.option(\"dropDownOptions\"))\r\n    },\r\n    _initTemplates() {\r\n        this._templateManager.addDefaultTemplates({\r\n            content: new FunctionTemplate(options => {\r\n                var $popupContent = $(options.container);\r\n                var $listContainer = $(\"<div>\").appendTo($popupContent);\r\n                this._list = this._createComponent($listContainer, List, this._listOptions());\r\n                this._list.registerKeyHandler(\"escape\", this._escHandler.bind(this));\r\n                this._list.registerKeyHandler(\"tab\", this._escHandler.bind(this));\r\n                this._list.registerKeyHandler(\"leftArrow\", this._escHandler.bind(this));\r\n                this._list.registerKeyHandler(\"rightArrow\", this._escHandler.bind(this))\r\n            })\r\n        });\r\n        this.callBase()\r\n    },\r\n    _itemsToDataSource: function(value) {\r\n        if (!this._dataSource) {\r\n            this._dataSource = new DataSource({\r\n                store: new ArrayStore({\r\n                    key: this._getKey(),\r\n                    data: value\r\n                }),\r\n                pageSize: 0\r\n            })\r\n        }\r\n    },\r\n    _getKey: function() {\r\n        var _this$_dataSource;\r\n        var keyExpr = this.option(\"keyExpr\");\r\n        var storeKey = null === (_this$_dataSource = this._dataSource) || void 0 === _this$_dataSource ? void 0 : _this$_dataSource.key();\r\n        return isDefined(storeKey) && (!isDefined(keyExpr) || \"this\" === keyExpr) ? storeKey : keyExpr\r\n    },\r\n    _compileKeyGetter() {\r\n        this._keyGetter = compileGetter(this._getKey())\r\n    },\r\n    _compileDisplayGetter() {\r\n        this._displayGetter = compileGetter(this.option(\"displayExpr\"))\r\n    },\r\n    _initMarkup() {\r\n        this.callBase();\r\n        this.$element().addClass(DROP_DOWN_BUTTON_CLASS);\r\n        this._renderButtonGroup();\r\n        this._updateArrowClass();\r\n        if (isDefined(this.option(\"selectedItemKey\"))) {\r\n            this._loadSelectedItem().done(this._updateActionButton.bind(this))\r\n        }\r\n    },\r\n    _renderFocusTarget: noop,\r\n    _render() {\r\n        if (!this.option(\"deferRendering\") || this.option(\"opened\")) {\r\n            this._renderPopup()\r\n        }\r\n        this.callBase()\r\n    },\r\n    _renderContentImpl() {\r\n        if (this._popup) {\r\n            this._renderPopupContent()\r\n        }\r\n        return this.callBase()\r\n    },\r\n    _loadSelectedItem() {\r\n        var _this$_loadSingleDefe;\r\n        null === (_this$_loadSingleDefe = this._loadSingleDeferred) || void 0 === _this$_loadSingleDefe ? void 0 : _this$_loadSingleDefe.reject();\r\n        var d = new Deferred;\r\n        if (this._list && void 0 !== this._lastSelectedItemData) {\r\n            var cachedResult = this.option(\"useSelectMode\") ? this._list.option(\"selectedItem\") : this._lastSelectedItemData;\r\n            return d.resolve(cachedResult)\r\n        }\r\n        this._lastSelectedItemData = void 0;\r\n        var selectedItemKey = this.option(\"selectedItemKey\");\r\n        this._loadSingle(this._getKey(), selectedItemKey).done(d.resolve).fail(() => {\r\n            d.resolve(null)\r\n        });\r\n        this._loadSingleDeferred = d;\r\n        return d.promise()\r\n    },\r\n    _createActionClickAction() {\r\n        this._actionClickAction = this._createActionByOption(\"onButtonClick\")\r\n    },\r\n    _createSelectionChangedAction() {\r\n        this._selectionChangedAction = this._createActionByOption(\"onSelectionChanged\")\r\n    },\r\n    _createItemClickAction() {\r\n        this._itemClickAction = this._createActionByOption(\"onItemClick\")\r\n    },\r\n    _fireSelectionChangedAction(_ref) {\r\n        var {\r\n            previousValue: previousValue,\r\n            value: value\r\n        } = _ref;\r\n        this._selectionChangedAction({\r\n            item: value,\r\n            previousItem: previousValue\r\n        })\r\n    },\r\n    _fireItemClickAction(_ref2) {\r\n        var {\r\n            event: event,\r\n            itemElement: itemElement,\r\n            itemData: itemData\r\n        } = _ref2;\r\n        return this._itemClickAction({\r\n            event: event,\r\n            itemElement: itemElement,\r\n            itemData: this._actionItem || itemData\r\n        })\r\n    },\r\n    _actionButtonConfig() {\r\n        return {\r\n            text: this.option(\"text\"),\r\n            icon: this.option(\"icon\"),\r\n            elementAttr: {\r\n                class: DROP_DOWN_BUTTON_ACTION_CLASS\r\n            }\r\n        }\r\n    },\r\n    _getButtonGroupItems() {\r\n        var items = [];\r\n        items.push(this._actionButtonConfig());\r\n        if (this.option(\"splitButton\")) {\r\n            items.push({\r\n                icon: \"spindown\",\r\n                elementAttr: {\r\n                    class: DROP_DOWN_BUTTON_TOGGLE_CLASS\r\n                }\r\n            })\r\n        }\r\n        return items\r\n    },\r\n    _buttonGroupItemClick(_ref3) {\r\n        var {\r\n            event: event,\r\n            itemData: itemData\r\n        } = _ref3;\r\n        var isActionButton = itemData.elementAttr.class === DROP_DOWN_BUTTON_ACTION_CLASS;\r\n        var isToggleButton = itemData.elementAttr.class === DROP_DOWN_BUTTON_TOGGLE_CLASS;\r\n        if (isToggleButton) {\r\n            this.toggle()\r\n        } else if (isActionButton) {\r\n            this._actionClickAction({\r\n                event: event,\r\n                selectedItem: this.option(\"selectedItem\")\r\n            });\r\n            if (!this.option(\"splitButton\")) {\r\n                this.toggle()\r\n            }\r\n        }\r\n    },\r\n    _buttonGroupOptions() {\r\n        var buttonTemplate = this.option(\"splitButton\") || !this.option(\"showArrowIcon\") ? \"content\" : (_ref4, buttonContent) => {\r\n            var {\r\n                text: text,\r\n                icon: icon\r\n            } = _ref4;\r\n            var $firstIcon = getImageContainer(icon);\r\n            var $textContainer = text ? $(\"<span>\").text(text).addClass(DX_BUTTON_TEXT_CLASS) : void 0;\r\n            var $secondIcon = getImageContainer(\"spindown\").addClass(DX_ICON_RIGHT_CLASS);\r\n            $(buttonContent).append($firstIcon, $textContainer, $secondIcon)\r\n        };\r\n        return extend({\r\n            items: this._getButtonGroupItems(),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            onItemClick: this._buttonGroupItemClick.bind(this),\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            stylingMode: this.option(\"stylingMode\"),\r\n            selectionMode: \"none\",\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            onKeyboardHandled: e => this._keyboardHandler(e),\r\n            buttonTemplate: buttonTemplate\r\n        }, this._options.cache(\"buttonGroupOptions\"))\r\n    },\r\n    _renderPopupContent() {\r\n        var $content = this._popup.$content();\r\n        var template = this._getTemplateByOption(\"dropDownContentTemplate\");\r\n        $content.empty();\r\n        this._popupContentId = \"dx-\" + new Guid;\r\n        this.setAria(\"id\", this._popupContentId, $content);\r\n        return template.render({\r\n            container: getPublicElement($content),\r\n            model: this.option(\"items\") || this._dataSource\r\n        })\r\n    },\r\n    _popupOptions() {\r\n        var horizontalAlignment = this.option(\"rtlEnabled\") ? \"right\" : \"left\";\r\n        return extend({\r\n            dragEnabled: false,\r\n            focusStateEnabled: false,\r\n            deferRendering: this.option(\"deferRendering\"),\r\n            closeOnOutsideClick: e => {\r\n                var $element = this.$element();\r\n                var $buttonClicked = $(e.target).closest(\".\".concat(DROP_DOWN_BUTTON_CLASS));\r\n                return !$buttonClicked.is($element)\r\n            },\r\n            showTitle: false,\r\n            animation: {\r\n                show: {\r\n                    type: \"fade\",\r\n                    duration: 0,\r\n                    from: 0,\r\n                    to: 1\r\n                },\r\n                hide: {\r\n                    type: \"fade\",\r\n                    duration: 400,\r\n                    from: 1,\r\n                    to: 0\r\n                }\r\n            },\r\n            _ignoreFunctionValueDeprecation: true,\r\n            width: () => getElementWidth(this.$element()),\r\n            height: \"auto\",\r\n            shading: false,\r\n            position: {\r\n                of: this.$element(),\r\n                collision: \"flipfit\",\r\n                my: horizontalAlignment + \" top\",\r\n                at: horizontalAlignment + \" bottom\"\r\n            },\r\n            wrapperAttr: {\r\n                class: DROP_DOWN_EDITOR_OVERLAY_CLASS\r\n            }\r\n        }, this._options.cache(\"dropDownOptions\"), {\r\n            visible: this.option(\"opened\")\r\n        })\r\n    },\r\n    _listOptions() {\r\n        var selectedItemKey = this.option(\"selectedItemKey\");\r\n        var useSelectMode = this.option(\"useSelectMode\");\r\n        return {\r\n            selectionMode: useSelectMode ? \"single\" : \"none\",\r\n            wrapItemText: this.option(\"wrapItemText\"),\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            useItemTextAsTitle: this.option(\"useItemTextAsTitle\"),\r\n            onContentReady: () => this._fireContentReadyAction(),\r\n            selectedItemKeys: isDefined(selectedItemKey) && useSelectMode ? [selectedItemKey] : [],\r\n            grouped: this.option(\"grouped\"),\r\n            groupTemplate: this.option(\"groupTemplate\"),\r\n            keyExpr: this._getKey(),\r\n            noDataText: this.option(\"noDataText\"),\r\n            displayExpr: this.option(\"displayExpr\"),\r\n            itemTemplate: this.option(\"itemTemplate\"),\r\n            items: this.option(\"items\"),\r\n            dataSource: this._dataSource,\r\n            onItemClick: e => {\r\n                if (!this.option(\"useSelectMode\")) {\r\n                    this._lastSelectedItemData = e.itemData\r\n                }\r\n                this.option(\"selectedItemKey\", this._keyGetter(e.itemData));\r\n                var actionResult = this._fireItemClickAction(e);\r\n                if (false !== actionResult) {\r\n                    this.toggle(false);\r\n                    this._buttonGroup.focus()\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _upDownKeyHandler() {\r\n        if (this._popup && this._popup.option(\"visible\") && this._list) {\r\n            this._list.focus()\r\n        } else {\r\n            this.open()\r\n        }\r\n        return true\r\n    },\r\n    _escHandler() {\r\n        this.close();\r\n        this._buttonGroup.focus();\r\n        return true\r\n    },\r\n    _tabHandler() {\r\n        this.close();\r\n        return true\r\n    },\r\n    _renderPopup() {\r\n        var $popup = $(\"<div>\");\r\n        this.$element().append($popup);\r\n        this._popup = this._createComponent($popup, Popup, this._popupOptions());\r\n        this._popup.$content().addClass(DROP_DOWN_BUTTON_CONTENT);\r\n        this._popup.$wrapper().addClass(DROP_DOWN_BUTTON_POPUP_WRAPPER_CLASS);\r\n        this._popup.on(\"hiding\", this._popupHidingHandler.bind(this));\r\n        this._popup.on(\"showing\", this._popupShowingHandler.bind(this));\r\n        this._bindInnerWidgetOptions(this._popup, \"dropDownOptions\")\r\n    },\r\n    _popupHidingHandler() {\r\n        this.option(\"opened\", false);\r\n        this._setAriaExpanded(false)\r\n    },\r\n    _popupOptionChanged: function(args) {\r\n        var options = Widget.getOptionsFromContainer(args);\r\n        this._setPopupOption(options);\r\n        var optionsKeys = Object.keys(options);\r\n        if (-1 !== optionsKeys.indexOf(\"width\") || -1 !== optionsKeys.indexOf(\"height\")) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        var popupWidth = getSizeValue(this.option(\"dropDownOptions.width\"));\r\n        if (void 0 === popupWidth) {\r\n            this._setPopupOption(\"width\", () => getElementWidth(this.$element()))\r\n        }\r\n    },\r\n    _setPopupOption: function(optionName, value) {\r\n        this._setWidgetOption(\"_popup\", arguments)\r\n    },\r\n    _popupShowingHandler() {\r\n        this.option(\"opened\", true);\r\n        this._setAriaExpanded(true)\r\n    },\r\n    _setAriaExpanded(value) {\r\n        this._ariaExpandedElements.forEach(ariaElement => {\r\n            this.setAria({\r\n                expanded: value,\r\n                owns: value ? this._popupContentId : void 0\r\n            }, $(ariaElement))\r\n        })\r\n    },\r\n    _renderButtonGroup() {\r\n        var $buttonGroup = this._buttonGroup && this._buttonGroup.$element() || $(\"<div>\");\r\n        if (!this._buttonGroup) {\r\n            this.$element().append($buttonGroup)\r\n        }\r\n        this._buttonGroup = this._createComponent($buttonGroup, ButtonGroup, this._buttonGroupOptions());\r\n        var buttonElements = this._buttonGroup.$element().find(\".dx-button\").toArray();\r\n        this._ariaExpandedElements = [...buttonElements, this.$element()];\r\n        this._buttonGroup.registerKeyHandler(\"downArrow\", this._upDownKeyHandler.bind(this));\r\n        this._buttonGroup.registerKeyHandler(\"tab\", this._tabHandler.bind(this));\r\n        this._buttonGroup.registerKeyHandler(\"upArrow\", this._upDownKeyHandler.bind(this));\r\n        this._buttonGroup.registerKeyHandler(\"escape\", this._escHandler.bind(this));\r\n        this._bindInnerWidgetOptions(this._buttonGroup, \"buttonGroupOptions\");\r\n        this._setAriaExpanded(this.option(\"opened\"))\r\n    },\r\n    _updateArrowClass() {\r\n        var hasArrow = this.option(\"splitButton\") || this.option(\"showArrowIcon\");\r\n        this.$element().toggleClass(DROP_DOWN_BUTTON_HAS_ARROW_CLASS, hasArrow)\r\n    },\r\n    toggle(visible) {\r\n        if (!this._popup) {\r\n            this._renderPopup();\r\n            this._renderContent()\r\n        }\r\n        return this._popup.toggle(visible)\r\n    },\r\n    open() {\r\n        return this.toggle(true)\r\n    },\r\n    close() {\r\n        return this.toggle(false)\r\n    },\r\n    _setListOption(name, value) {\r\n        this._list && this._list.option(name, value)\r\n    },\r\n    _getDisplayValue(item) {\r\n        var isPrimitiveItem = !isPlainObject(item);\r\n        var displayValue = isPrimitiveItem ? item : this._displayGetter(item);\r\n        return !isPlainObject(displayValue) ? String(ensureDefined(displayValue, \"\")) : \"\"\r\n    },\r\n    _updateActionButton(selectedItem) {\r\n        if (this.option(\"useSelectMode\")) {\r\n            this.option({\r\n                text: this._getDisplayValue(selectedItem),\r\n                icon: isPlainObject(selectedItem) ? selectedItem.icon : void 0\r\n            })\r\n        }\r\n        this._setOptionWithoutOptionChange(\"selectedItem\", selectedItem);\r\n        this._setOptionWithoutOptionChange(\"selectedItemKey\", this._keyGetter(selectedItem))\r\n    },\r\n    _clean() {\r\n        this._list && this._list.$element().remove();\r\n        this._popup && this._popup.$element().remove()\r\n    },\r\n    _selectedItemKeyChanged(value) {\r\n        this._setListOption(\"selectedItemKeys\", this.option(\"useSelectMode\") && isDefined(value) ? [value] : []);\r\n        var previousItem = this.option(\"selectedItem\");\r\n        this._loadSelectedItem().done(selectedItem => {\r\n            this._updateActionButton(selectedItem);\r\n            if (this._displayGetter(previousItem) !== this._displayGetter(selectedItem)) {\r\n                this._fireSelectionChangedAction({\r\n                    previousValue: previousItem,\r\n                    value: selectedItem\r\n                })\r\n            }\r\n        })\r\n    },\r\n    _actionButtonOptionChanged(_ref5) {\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = _ref5;\r\n        var newConfig = {};\r\n        newConfig[name] = value;\r\n        this._buttonGroup.option(\"items[0]\", extend({}, this._actionButtonConfig(), newConfig));\r\n        this._popup && this._popup.repaint()\r\n    },\r\n    _selectModeChanged(value) {\r\n        if (value) {\r\n            this._setListOption(\"selectionMode\", \"single\");\r\n            var selectedItemKey = this.option(\"selectedItemKey\");\r\n            this._setListOption(\"selectedItemKeys\", isDefined(selectedItemKey) ? [selectedItemKey] : []);\r\n            this._selectedItemKeyChanged(this.option(\"selectedItemKey\"))\r\n        } else {\r\n            this._setListOption(\"selectionMode\", \"none\");\r\n            this.option({\r\n                selectedItemKey: void 0,\r\n                selectedItem: void 0\r\n            });\r\n            this._actionButtonOptionChanged({\r\n                text: this.option(\"text\")\r\n            })\r\n        }\r\n    },\r\n    _updateItemCollection(optionName) {\r\n        var selectedItemKey = this.option(\"selectedItemKey\");\r\n        this._setListOption(\"selectedItem\", null);\r\n        this._setWidgetOption(\"_list\", [optionName]);\r\n        if (isDefined(selectedItemKey)) {\r\n            this._loadSelectedItem().done(selectedItem => {\r\n                this._setListOption(\"selectedItemKeys\", [selectedItemKey]);\r\n                this._setListOption(\"selectedItem\", selectedItem)\r\n            }).fail(error => {\r\n                this._setListOption(\"selectedItemKeys\", [])\r\n            }).always(this._updateActionButton.bind(this))\r\n        }\r\n    },\r\n    _updateDataSource: function() {\r\n        var items = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : this._dataSource.items();\r\n        this._dataSource = void 0;\r\n        this._itemsToDataSource(items);\r\n        this._updateKeyExpr()\r\n    },\r\n    _updateKeyExpr: function() {\r\n        this._compileKeyGetter();\r\n        this._setListOption(\"keyExpr\", this._getKey())\r\n    },\r\n    focus: function() {\r\n        this._buttonGroup.focus()\r\n    },\r\n    _optionChanged(args) {\r\n        var _this$_popup;\r\n        var {\r\n            name: name,\r\n            value: value\r\n        } = args;\r\n        switch (name) {\r\n            case \"useSelectMode\":\r\n                this._selectModeChanged(value);\r\n                break;\r\n            case \"splitButton\":\r\n                this._updateArrowClass();\r\n                this._renderButtonGroup();\r\n                break;\r\n            case \"displayExpr\":\r\n                this._compileDisplayGetter();\r\n                this._setListOption(name, value);\r\n                this._updateActionButton(this.option(\"selectedItem\"));\r\n                break;\r\n            case \"keyExpr\":\r\n                this._updateDataSource();\r\n                break;\r\n            case \"buttonGroupOptions\":\r\n                this._innerWidgetOptionChanged(this._buttonGroup, args);\r\n                break;\r\n            case \"dropDownOptions\":\r\n                if (\"dropDownOptions.visible\" === args.fullName) {\r\n                    break\r\n                }\r\n                if (void 0 !== args.value.visible) {\r\n                    delete args.value.visible\r\n                }\r\n                this._popupOptionChanged(args);\r\n                this._innerWidgetOptionChanged(this._popup, args);\r\n                break;\r\n            case \"opened\":\r\n                this.toggle(value);\r\n                break;\r\n            case \"focusStateEnabled\":\r\n            case \"hoverStateEnabled\":\r\n                this._setListOption(name, value);\r\n                this._buttonGroup.option(name, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                this._updateDataSource(this.option(\"items\"));\r\n                this._updateItemCollection(name);\r\n                break;\r\n            case \"dataSource\":\r\n                if (Array.isArray(value)) {\r\n                    this._updateDataSource(this.option(\"dataSource\"))\r\n                } else {\r\n                    this._initDataSource();\r\n                    this._updateKeyExpr()\r\n                }\r\n                this._updateItemCollection(name);\r\n                break;\r\n            case \"icon\":\r\n            case \"text\":\r\n                this._actionButtonOptionChanged(args);\r\n                break;\r\n            case \"showArrowIcon\":\r\n                this._updateArrowClass();\r\n                this._renderButtonGroup();\r\n                this._popup && this._popup.repaint();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                null === (_this$_popup = this._popup) || void 0 === _this$_popup ? void 0 : _this$_popup.repaint();\r\n                break;\r\n            case \"stylingMode\":\r\n                this._buttonGroup.option(name, value);\r\n                break;\r\n            case \"itemTemplate\":\r\n            case \"grouped\":\r\n            case \"noDataText\":\r\n            case \"groupTemplate\":\r\n            case \"wrapItemText\":\r\n            case \"useItemTextAsTitle\":\r\n                this._setListOption(name, value);\r\n                break;\r\n            case \"dropDownContentTemplate\":\r\n                this._renderContent();\r\n                break;\r\n            case \"selectedItemKey\":\r\n                this._selectedItemKeyChanged(value);\r\n                break;\r\n            case \"selectedItem\":\r\n                break;\r\n            case \"onItemClick\":\r\n                this._createItemClickAction();\r\n                break;\r\n            case \"onButtonClick\":\r\n                this._createActionClickAction();\r\n                break;\r\n            case \"onSelectionChanged\":\r\n                this._createSelectionChangedAction();\r\n                break;\r\n            case \"deferRendering\":\r\n                this.toggle(this.option(\"opened\"));\r\n                break;\r\n            case \"tabIndex\":\r\n                this._buttonGroup.option(name, value);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n}).include(DataHelperMixin);\r\nregisterComponent(\"dxDropDownButton\", DropDownButton);\r\nexport default DropDownButton;\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.export.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport Class from \"../../core/class\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getDefaultAlignment\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    merge\r\n} from \"../../core/utils/array\";\r\nimport dataGridCore from \"./ui.data_grid.core\";\r\nimport exportMixin from \"../grid_core/ui.grid_core.export_mixin\";\r\nimport {\r\n    export as clientExport,\r\n    excel\r\n} from \"../../exporter\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport \"../button\";\r\nimport \"../drop_down_button\";\r\nimport List from \"../list_light\";\r\nimport {\r\n    when,\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nvar DATAGRID_EXPORT_MENU_CLASS = \"dx-datagrid-export-menu\";\r\nvar DATAGRID_EXPORT_BUTTON_CLASS = \"dx-datagrid-export-button\";\r\nvar DATAGRID_EXPORT_TOOLBAR_BUTTON_NAME = \"exportButton\";\r\nvar DATAGRID_EXPORT_ICON = \"export-to\";\r\nvar DATAGRID_EXPORT_EXCEL_ICON = \"xlsxfile\";\r\nvar DATAGRID_EXPORT_SELECTED_ICON = \"exportselected\";\r\nvar DATAGRID_EXPORT_EXCEL_BUTTON_ICON = \"export-excel-button\";\r\nexport var DataProvider = Class.inherit({\r\n    ctor: function(exportController, initialColumnWidthsByColumnIndex, selectedRowsOnly) {\r\n        this._exportController = exportController;\r\n        this._initialColumnWidthsByColumnIndex = initialColumnWidthsByColumnIndex;\r\n        this._selectedRowsOnly = selectedRowsOnly\r\n    },\r\n    _getGroupValue: function(item) {\r\n        var {\r\n            key: key,\r\n            data: data,\r\n            rowType: rowType,\r\n            groupIndex: groupIndex,\r\n            summaryCells: summaryCells\r\n        } = item;\r\n        var groupColumn = this._options.groupColumns[groupIndex];\r\n        var value = dataGridCore.getDisplayValue(groupColumn, groupColumn.deserializeValue ? groupColumn.deserializeValue(key[groupIndex]) : key[groupIndex], data, rowType);\r\n        var result = groupColumn.caption + \": \" + dataGridCore.formatValue(value, groupColumn);\r\n        if (summaryCells && summaryCells[0] && summaryCells[0].length) {\r\n            result += \" \" + dataGridCore.getGroupRowSummaryText(summaryCells[0], this._options.summaryTexts)\r\n        }\r\n        return result\r\n    },\r\n    _correctCellIndex: function(cellIndex) {\r\n        return cellIndex\r\n    },\r\n    _initOptions: function() {\r\n        var exportController = this._exportController;\r\n        var groupColumns = exportController._columnsController.getGroupColumns();\r\n        var excelWrapTextEnabled = exportController.option(\"export.excelWrapTextEnabled\");\r\n        this._options = {\r\n            columns: exportController._getColumns(this._initialColumnWidthsByColumnIndex),\r\n            groupColumns: groupColumns,\r\n            items: this._selectedRowsOnly || exportController._selectionOnly ? exportController._getSelectedItems() : exportController._getAllItems(),\r\n            getVisibleIndex: exportController._columnsController.getVisibleIndex.bind(exportController._columnsController),\r\n            isHeadersVisible: exportController.option(\"showColumnHeaders\"),\r\n            summaryTexts: exportController.option(\"summary.texts\"),\r\n            customizeExportData: exportController.option(\"customizeExportData\"),\r\n            rtlEnabled: exportController.option(\"rtlEnabled\"),\r\n            wrapTextEnabled: isDefined(excelWrapTextEnabled) ? excelWrapTextEnabled : !!exportController.option(\"wordWrapEnabled\"),\r\n            customizeExcelCell: exportController.option(\"export.customizeExcelCell\")\r\n        }\r\n    },\r\n    hasCustomizeExcelCell: function() {\r\n        return isDefined(this._options.customizeExcelCell)\r\n    },\r\n    customizeExcelCell: function(e, cellSourceData) {\r\n        if (this._options.customizeExcelCell) {\r\n            e.gridCell = cellSourceData;\r\n            if (isDefined(this._exportController) && isDefined(this._exportController.component)) {\r\n                e.component = this._exportController.component\r\n            }\r\n            this._options.customizeExcelCell(e)\r\n        }\r\n    },\r\n    getHeaderStyles: () => [{\r\n        bold: true,\r\n        alignment: \"center\",\r\n        wrapText: true\r\n    }, {\r\n        bold: true,\r\n        alignment: \"left\",\r\n        wrapText: true\r\n    }, {\r\n        bold: true,\r\n        alignment: \"right\",\r\n        wrapText: true\r\n    }],\r\n    getGroupRowStyle() {\r\n        return {\r\n            bold: true,\r\n            wrapText: false,\r\n            alignment: getDefaultAlignment(this._options.rtlEnabled)\r\n        }\r\n    },\r\n    getColumnStyles() {\r\n        var wrapTextEnabled = this._options.wrapTextEnabled;\r\n        var columnStyles = [];\r\n        this.getColumns().forEach(column => {\r\n            columnStyles.push({\r\n                alignment: column.alignment || \"left\",\r\n                format: column.format,\r\n                wrapText: wrapTextEnabled,\r\n                dataType: column.dataType\r\n            })\r\n        });\r\n        return columnStyles\r\n    },\r\n    getStyles: function() {\r\n        return [...this.getHeaderStyles(), ...this.getColumnStyles(), this.getGroupRowStyle()]\r\n    },\r\n    _getTotalCellStyleId: function(cellIndex) {\r\n        var _this$getColumns$cell;\r\n        var alignment = (null === (_this$getColumns$cell = this.getColumns()[cellIndex]) || void 0 === _this$getColumns$cell ? void 0 : _this$getColumns$cell.alignment) || \"right\";\r\n        return this.getHeaderStyles().map(style => style.alignment).indexOf(alignment)\r\n    },\r\n    getStyleId: function(rowIndex, cellIndex) {\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            return 0\r\n        } else if (this.isTotalCell(rowIndex - this.getHeaderRowCount(), cellIndex)) {\r\n            return this._getTotalCellStyleId(cellIndex)\r\n        } else if (this.isGroupRow(rowIndex - this.getHeaderRowCount())) {\r\n            return this.getHeaderStyles().length + this.getColumns().length\r\n        } else {\r\n            return cellIndex + this.getHeaderStyles().length\r\n        }\r\n    },\r\n    getColumns: function(getColumnsByAllRows) {\r\n        var {\r\n            columns: columns\r\n        } = this._options;\r\n        return getColumnsByAllRows ? columns : columns[columns.length - 1]\r\n    },\r\n    getColumnsWidths: function() {\r\n        var columns = this.getColumns();\r\n        return isDefined(columns) ? columns.map(c => c.width) : void 0\r\n    },\r\n    getRowsCount: function() {\r\n        return this._options.items.length + this.getHeaderRowCount()\r\n    },\r\n    getHeaderRowCount: function() {\r\n        if (this.isHeadersVisible()) {\r\n            return this._options.columns.length - 1\r\n        }\r\n        return 0\r\n    },\r\n    isGroupRow: function(rowIndex) {\r\n        return rowIndex < this._options.items.length && \"group\" === this._options.items[rowIndex].rowType\r\n    },\r\n    getGroupLevel: function(rowIndex) {\r\n        var item = this._options.items[rowIndex - this.getHeaderRowCount()];\r\n        var groupIndex = item && item.groupIndex;\r\n        if (item && \"totalFooter\" === item.rowType) {\r\n            return 0\r\n        }\r\n        return isDefined(groupIndex) ? groupIndex : this._options.groupColumns.length\r\n    },\r\n    getCellType: function(rowIndex, cellIndex) {\r\n        var columns = this.getColumns();\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            return \"string\"\r\n        } else {\r\n            rowIndex -= this.getHeaderRowCount()\r\n        }\r\n        if (cellIndex < columns.length) {\r\n            var item = this._options.items.length && this._options.items[rowIndex];\r\n            var column = columns[cellIndex];\r\n            if (item && \"data\" === item.rowType) {\r\n                if (isFinite(item.values[this._correctCellIndex(cellIndex)]) && !isDefined(column.customizeText)) {\r\n                    return isDefined(column.lookup) ? column.lookup.dataType : column.dataType\r\n                }\r\n            }\r\n            return \"string\"\r\n        }\r\n    },\r\n    ready: function() {\r\n        var that = this;\r\n        that._initOptions();\r\n        var options = that._options;\r\n        return when(options.items).done((function(items) {\r\n            options.customizeExportData && options.customizeExportData(that.getColumns(that.getHeaderRowCount() > 1), items);\r\n            options.items = items\r\n        })).fail((function() {\r\n            options.items = []\r\n        }))\r\n    },\r\n    _convertFromGridGroupSummaryItems: function(gridGroupSummaryItems) {\r\n        if (isDefined(gridGroupSummaryItems) && gridGroupSummaryItems.length > 0) {\r\n            return gridGroupSummaryItems.map((function(item) {\r\n                return {\r\n                    value: item.value,\r\n                    name: item.name\r\n                }\r\n            }))\r\n        }\r\n    },\r\n    getCellData: function(rowIndex, cellIndex, isExcelJS) {\r\n        var value;\r\n        var column;\r\n        var result = {\r\n            cellSourceData: {},\r\n            value: value\r\n        };\r\n        var columns = this.getColumns();\r\n        var correctedCellIndex = this._correctCellIndex(cellIndex);\r\n        if (rowIndex < this.getHeaderRowCount()) {\r\n            var columnsRow = this.getColumns(true)[rowIndex];\r\n            column = columnsRow[cellIndex];\r\n            result.cellSourceData.rowType = \"header\";\r\n            result.cellSourceData.column = column && column.gridColumn;\r\n            result.value = column && column.caption\r\n        } else {\r\n            rowIndex -= this.getHeaderRowCount();\r\n            var item = this._options.items.length && this._options.items[rowIndex];\r\n            if (item) {\r\n                var itemValues = item.values;\r\n                result.cellSourceData.rowType = item.rowType;\r\n                result.cellSourceData.column = columns[cellIndex] && columns[cellIndex].gridColumn;\r\n                switch (item.rowType) {\r\n                    case \"groupFooter\":\r\n                    case \"totalFooter\":\r\n                        if (correctedCellIndex < itemValues.length) {\r\n                            value = itemValues[correctedCellIndex];\r\n                            if (isDefined(value)) {\r\n                                result.cellSourceData.value = value.value;\r\n                                result.cellSourceData.totalSummaryItemName = value.name;\r\n                                result.value = dataGridCore.getSummaryText(value, this._options.summaryTexts)\r\n                            } else {\r\n                                result.cellSourceData.value = void 0\r\n                            }\r\n                        }\r\n                        break;\r\n                    case \"group\":\r\n                        result.cellSourceData.groupIndex = item.groupIndex;\r\n                        if (cellIndex < 1) {\r\n                            result.cellSourceData.column = this._options.groupColumns[item.groupIndex];\r\n                            result.cellSourceData.value = item.key[item.groupIndex];\r\n                            result.cellSourceData.groupSummaryItems = this._convertFromGridGroupSummaryItems(item.summaryCells[0]);\r\n                            result.value = this._getGroupValue(item)\r\n                        } else {\r\n                            var summaryItems = item.values[correctedCellIndex];\r\n                            if (Array.isArray(summaryItems)) {\r\n                                result.cellSourceData.groupSummaryItems = this._convertFromGridGroupSummaryItems(summaryItems);\r\n                                value = \"\";\r\n                                for (var i = 0; i < summaryItems.length; i++) {\r\n                                    value += (i > 0 ? isExcelJS ? \"\\n\" : \" \\n \" : \"\") + dataGridCore.getSummaryText(summaryItems[i], this._options.summaryTexts)\r\n                                }\r\n                                result.value = value\r\n                            } else {\r\n                                result.cellSourceData.value = void 0\r\n                            }\r\n                        }\r\n                        break;\r\n                    default:\r\n                        column = columns[cellIndex];\r\n                        if (column) {\r\n                            var _value = itemValues[correctedCellIndex];\r\n                            var displayValue = dataGridCore.getDisplayValue(column, _value, item.data, item.rowType);\r\n                            if (!isFinite(displayValue) || isDefined(column.customizeText)) {\r\n                                if (isExcelJS && isDefined(column.customizeText) && column.customizeText === this._exportController._columnsController.getCustomizeTextByDataType(\"boolean\")) {\r\n                                    result.value = displayValue\r\n                                } else {\r\n                                    result.value = dataGridCore.formatValue(displayValue, column)\r\n                                }\r\n                            } else {\r\n                                result.value = displayValue\r\n                            }\r\n                            result.cellSourceData.value = _value\r\n                        }\r\n                        result.cellSourceData.data = item.data\r\n                }\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    isHeadersVisible: function() {\r\n        return this._options.isHeadersVisible\r\n    },\r\n    isTotalCell: function(rowIndex, cellIndex) {\r\n        var items = this._options.items;\r\n        var item = items[rowIndex];\r\n        var correctCellIndex = this._correctCellIndex(cellIndex);\r\n        var isSummaryAlignByColumn = item.summaryCells && item.summaryCells[correctCellIndex] && item.summaryCells[correctCellIndex].length > 0 && item.summaryCells[correctCellIndex][0].alignByColumn;\r\n        return item && \"groupFooter\" === item.rowType || \"totalFooter\" === item.rowType || isSummaryAlignByColumn\r\n    },\r\n    getCellMerging: function(rowIndex, cellIndex) {\r\n        var columns = this._options.columns;\r\n        var column = columns[rowIndex] && columns[rowIndex][cellIndex];\r\n        return column ? {\r\n            colspan: (column.exportColspan || 1) - 1,\r\n            rowspan: (column.rowspan || 1) - 1\r\n        } : {\r\n            colspan: 0,\r\n            rowspan: 0\r\n        }\r\n    },\r\n    getFrozenArea: function() {\r\n        return {\r\n            x: 0,\r\n            y: this.getHeaderRowCount()\r\n        }\r\n    }\r\n});\r\nexport var ExportController = dataGridCore.ViewController.inherit({}).include(exportMixin).inherit({\r\n    _getEmptyCell: function() {\r\n        return {\r\n            caption: \"\",\r\n            colspan: 1,\r\n            rowspan: 1\r\n        }\r\n    },\r\n    _updateColumnWidth: function(column, width) {\r\n        column.width = width\r\n    },\r\n    _getColumns: function(initialColumnWidthsByColumnIndex) {\r\n        var result = [];\r\n        var i;\r\n        var columns;\r\n        var columnsController = this._columnsController;\r\n        var rowCount = columnsController.getRowCount();\r\n        for (i = 0; i <= rowCount; i++) {\r\n            var currentHeaderRow = [];\r\n            columns = columnsController.getVisibleColumns(i, true);\r\n            var columnWidthsByColumnIndex = void 0;\r\n            if (i === rowCount) {\r\n                if (this._updateLockCount) {\r\n                    columnWidthsByColumnIndex = initialColumnWidthsByColumnIndex\r\n                } else {\r\n                    var columnWidths = this._getColumnWidths(this._headersView, this._rowsView);\r\n                    if (columnWidths && columnWidths.length) {\r\n                        columnWidthsByColumnIndex = {};\r\n                        for (var _i = 0; _i < columns.length; _i++) {\r\n                            columnWidthsByColumnIndex[columns[_i].index] = columnWidths[_i]\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            for (var j = 0; j < columns.length; j++) {\r\n                var column = extend({}, columns[j], {\r\n                    dataType: \"datetime\" === columns[j].dataType ? \"date\" : columns[j].dataType,\r\n                    gridColumn: columns[j]\r\n                });\r\n                if (this._needColumnExporting(column)) {\r\n                    var currentColspan = this._calculateExportColspan(column);\r\n                    if (isDefined(currentColspan)) {\r\n                        column.exportColspan = currentColspan\r\n                    }\r\n                    if (columnWidthsByColumnIndex) {\r\n                        this._updateColumnWidth(column, columnWidthsByColumnIndex[column.index])\r\n                    }\r\n                    currentHeaderRow.push(column)\r\n                }\r\n            }\r\n            result.push(currentHeaderRow)\r\n        }\r\n        columns = result[rowCount];\r\n        result = this._prepareItems(result.slice(0, -1));\r\n        result.push(columns);\r\n        return result\r\n    },\r\n    _calculateExportColspan: function(column) {\r\n        if (!column.isBand) {\r\n            return\r\n        }\r\n        var childColumns = this._columnsController.getChildrenByBandColumn(column.index, true);\r\n        if (!isDefined(childColumns)) {\r\n            return\r\n        }\r\n        return childColumns.reduce((result, childColumn) => {\r\n            if (this._needColumnExporting(childColumn)) {\r\n                return result + (this._calculateExportColspan(childColumn) || 1)\r\n            } else {\r\n                return result\r\n            }\r\n        }, 0)\r\n    },\r\n    _needColumnExporting: function(column) {\r\n        return !column.command && (column.allowExporting || void 0 === column.allowExporting)\r\n    },\r\n    _getFooterSummaryItems: function(summaryCells, isTotal) {\r\n        var result = [];\r\n        var estimatedItemsCount = 1;\r\n        var i = 0;\r\n        do {\r\n            var values = [];\r\n            for (var j = 0; j < summaryCells.length; j++) {\r\n                var summaryCell = summaryCells[j];\r\n                var itemsLength = summaryCell.length;\r\n                if (estimatedItemsCount < itemsLength) {\r\n                    estimatedItemsCount = itemsLength\r\n                }\r\n                values.push(summaryCell[i])\r\n            }\r\n            result.push({\r\n                values: values,\r\n                rowType: isTotal ? \"totalFooter\" : \"groupFooter\"\r\n            })\r\n        } while (i++ < estimatedItemsCount - 1);\r\n        return result\r\n    },\r\n    _hasSummaryGroupFooters: function() {\r\n        var groupItems = this.option(\"summary.groupItems\");\r\n        if (isDefined(groupItems)) {\r\n            for (var i = 0; i < groupItems.length; i++) {\r\n                if (groupItems[i].showInGroupFooter) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _getItemsWithSummaryGroupFooters: function(sourceItems) {\r\n        var result = [];\r\n        var beforeGroupFooterItems = [];\r\n        var groupFooterItems = [];\r\n        for (var i = 0; i < sourceItems.length; i++) {\r\n            var item = sourceItems[i];\r\n            if (\"groupFooter\" === item.rowType) {\r\n                groupFooterItems = this._getFooterSummaryItems(item.summaryCells);\r\n                result = result.concat(beforeGroupFooterItems, groupFooterItems);\r\n                beforeGroupFooterItems = []\r\n            } else {\r\n                beforeGroupFooterItems.push(item)\r\n            }\r\n        }\r\n        return result.length ? result : beforeGroupFooterItems\r\n    },\r\n    _updateGroupValuesWithSummaryByColumn: function(sourceItems) {\r\n        var summaryValues = [];\r\n        for (var i = 0; i < sourceItems.length; i++) {\r\n            var item = sourceItems[i];\r\n            var summaryCells = item.summaryCells;\r\n            if (\"group\" === item.rowType && summaryCells && summaryCells.length > 1) {\r\n                var groupColumnCount = item.values.length;\r\n                for (var j = 1; j < summaryCells.length; j++) {\r\n                    for (var k = 0; k < summaryCells[j].length; k++) {\r\n                        var summaryItem = summaryCells[j][k];\r\n                        if (summaryItem && summaryItem.alignByColumn) {\r\n                            if (!Array.isArray(summaryValues[j - groupColumnCount])) {\r\n                                summaryValues[j - groupColumnCount] = []\r\n                            }\r\n                            summaryValues[j - groupColumnCount].push(summaryItem)\r\n                        }\r\n                    }\r\n                }\r\n                if (summaryValues.length > 0) {\r\n                    merge(item.values, summaryValues);\r\n                    summaryValues = []\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _processUnExportedItems: function(items) {\r\n        var columns = this._columnsController.getVisibleColumns(null, true);\r\n        var groupColumns = this._columnsController.getGroupColumns();\r\n        var values;\r\n        var summaryCells;\r\n        for (var i = 0; i < items.length; i++) {\r\n            var item = items[i];\r\n            var isDetailExpandColumn = false;\r\n            values = [];\r\n            summaryCells = [];\r\n            for (var j = 0; j < columns.length; j++) {\r\n                var column = columns[j];\r\n                isDetailExpandColumn = isDetailExpandColumn || \"detailExpand\" === column.type;\r\n                if (this._needColumnExporting(column)) {\r\n                    if (item.values) {\r\n                        if (\"group\" === item.rowType && !values.length) {\r\n                            values.push(item.key[item.groupIndex])\r\n                        } else {\r\n                            values.push(item.values[j])\r\n                        }\r\n                    }\r\n                    if (item.summaryCells) {\r\n                        if (\"group\" === item.rowType && !summaryCells.length) {\r\n                            var index = j - groupColumns.length + item.groupIndex;\r\n                            summaryCells.push(item.summaryCells[isDetailExpandColumn ? index : index + 1])\r\n                        } else {\r\n                            summaryCells.push(item.summaryCells[j])\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            if (values.length) {\r\n                item.values = values\r\n            }\r\n            if (summaryCells.length) {\r\n                item.summaryCells = summaryCells\r\n            }\r\n        }\r\n    },\r\n    _getAllItems: function(data) {\r\n        var that = this;\r\n        var d = new Deferred;\r\n        var dataController = this.getController(\"data\");\r\n        var footerItems = dataController.footerItems();\r\n        var totalItem = footerItems.length && footerItems[0];\r\n        var summaryTotalItems = that.option(\"summary.totalItems\");\r\n        var summaryCells;\r\n        when(data).done((function(data) {\r\n            dataController.loadAll(data).done((function(sourceItems, totalAggregates) {\r\n                that._updateGroupValuesWithSummaryByColumn(sourceItems);\r\n                if (that._hasSummaryGroupFooters()) {\r\n                    sourceItems = that._getItemsWithSummaryGroupFooters(sourceItems)\r\n                }\r\n                summaryCells = totalItem && totalItem.summaryCells;\r\n                if (isDefined(totalAggregates) && summaryTotalItems) {\r\n                    summaryCells = that._getSummaryCells(summaryTotalItems, totalAggregates)\r\n                }\r\n                var summaryItems = totalItem && that._getFooterSummaryItems(summaryCells, true);\r\n                if (summaryItems) {\r\n                    sourceItems = sourceItems.concat(summaryItems)\r\n                }\r\n                that._processUnExportedItems(sourceItems);\r\n                d.resolve(sourceItems)\r\n            })).fail(d.reject)\r\n        })).fail(d.reject);\r\n        return d\r\n    },\r\n    _getSummaryCells: function(summaryTotalItems, totalAggregates) {\r\n        var dataController = this.getController(\"data\");\r\n        var columnsController = dataController._columnsController;\r\n        return dataController._calculateSummaryCells(summaryTotalItems, totalAggregates, columnsController.getVisibleColumns(null, true), (function(summaryItem, column) {\r\n            return dataController._isDataColumn(column) ? column.index : -1\r\n        }))\r\n    },\r\n    _getSelectedItems: function() {\r\n        var selectionController = this.getController(\"selection\");\r\n        var selectedRowData = selectionController.getSelectedRowsData();\r\n        return this._getAllItems(selectedRowData)\r\n    },\r\n    _getColumnWidths: function(headersView, rowsView) {\r\n        return headersView && headersView.isVisible() ? headersView.getColumnWidths() : rowsView.getColumnWidths()\r\n    },\r\n    init: function() {\r\n        this._columnsController = this.getController(\"columns\");\r\n        this._rowsView = this.getView(\"rowsView\");\r\n        this._headersView = this.getView(\"columnHeadersView\");\r\n        this.createAction(\"onExporting\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this.createAction(\"onExported\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        });\r\n        this.createAction(\"onFileSaving\", {\r\n            excludeValidators: [\"disabled\", \"readOnly\"]\r\n        })\r\n    },\r\n    callbackNames: function() {\r\n        return [\"selectionOnlyChanged\"]\r\n    },\r\n    getExportFormat: function() {\r\n        return [\"EXCEL\"]\r\n    },\r\n    getDataProvider: function(selectedRowsOnly) {\r\n        var columnWidths = this._getColumnWidths(this._headersView, this._rowsView);\r\n        var initialColumnWidthsByColumnIndex;\r\n        if (columnWidths && columnWidths.length) {\r\n            initialColumnWidthsByColumnIndex = {};\r\n            var columnsLastRowVisibleColumns = this._columnsController.getVisibleColumns(this._columnsController.getRowCount(), true);\r\n            for (var i = 0; i < columnsLastRowVisibleColumns.length; i++) {\r\n                initialColumnWidthsByColumnIndex[columnsLastRowVisibleColumns[i].index] = columnWidths[i]\r\n            }\r\n        }\r\n        return new DataProvider(this, initialColumnWidthsByColumnIndex, selectedRowsOnly)\r\n    },\r\n    exportToExcel: function(selectionOnly) {\r\n        this._selectionOnly = selectionOnly;\r\n        clientExport(this.component.getDataProvider(), {\r\n            fileName: this.option(\"export.fileName\"),\r\n            proxyUrl: this.option(\"export.proxyUrl\"),\r\n            format: \"EXCEL\",\r\n            autoFilterEnabled: !!this.option(\"export.excelFilterEnabled\"),\r\n            rtlEnabled: this.option(\"rtlEnabled\"),\r\n            ignoreErrors: this.option(\"export.ignoreExcelErrors\"),\r\n            exportingAction: this.getAction(\"onExporting\"),\r\n            exportedAction: this.getAction(\"onExported\"),\r\n            fileSavingAction: this.getAction(\"onFileSaving\")\r\n        }, excel.getData)\r\n    },\r\n    publicMethods: function() {\r\n        return [\"getDataProvider\", \"getExportFormat\", \"exportToExcel\"]\r\n    },\r\n    selectionOnly: function(value) {\r\n        if (isDefined(value)) {\r\n            this._isSelectedRows = value;\r\n            this.selectionOnlyChanged.fire()\r\n        } else {\r\n            return this._isSelectedRows\r\n        }\r\n    }\r\n});\r\ndataGridCore.registerModule(\"export\", {\r\n    defaultOptions: function() {\r\n        return {\r\n            export: {\r\n                enabled: false,\r\n                fileName: \"DataGrid\",\r\n                excelFilterEnabled: false,\r\n                excelWrapTextEnabled: void 0,\r\n                proxyUrl: void 0,\r\n                allowExportSelectedData: false,\r\n                ignoreExcelErrors: true,\r\n                texts: {\r\n                    exportTo: messageLocalization.format(\"dxDataGrid-exportTo\"),\r\n                    exportAll: messageLocalization.format(\"dxDataGrid-exportAll\"),\r\n                    exportSelectedRows: messageLocalization.format(\"dxDataGrid-exportSelectedRows\")\r\n                }\r\n            }\r\n        }\r\n    },\r\n    controllers: {\r\n        export: ExportController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            editing: {\r\n                callbackNames: function() {\r\n                    var callbackList = this.callBase();\r\n                    return isDefined(callbackList) ? callbackList.push(\"editingChanged\") : [\"editingChanged\"]\r\n                },\r\n                _updateEditButtons: function() {\r\n                    this.callBase();\r\n                    this.editingChanged.fire(this.hasChanges())\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            headerPanel: {\r\n                _getToolbarItems: function() {\r\n                    var items = this.callBase();\r\n                    var exportButton = this._getExportToolbarButton();\r\n                    if (exportButton) {\r\n                        items.push(exportButton);\r\n                        this._correctItemsPosition(items)\r\n                    }\r\n                    return items\r\n                },\r\n                _getExportToolbarButton: function() {\r\n                    var items = this._getExportToolbarItems();\r\n                    if (0 === items.length) {\r\n                        return null\r\n                    }\r\n                    var toolbarButtonOptions = {\r\n                        name: DATAGRID_EXPORT_TOOLBAR_BUTTON_NAME,\r\n                        location: \"after\",\r\n                        locateInMenu: \"auto\",\r\n                        sortIndex: 30,\r\n                        options: {\r\n                            items: items\r\n                        }\r\n                    };\r\n                    if (1 === items.length) {\r\n                        var widgetOptions = _extends({}, items[0], {\r\n                            hint: items[0].text,\r\n                            elementAttr: {\r\n                                class: DATAGRID_EXPORT_BUTTON_CLASS\r\n                            }\r\n                        });\r\n                        toolbarButtonOptions.widget = \"dxButton\";\r\n                        toolbarButtonOptions.showText = \"inMenu\";\r\n                        toolbarButtonOptions.options = widgetOptions\r\n                    } else {\r\n                        var _widgetOptions = {\r\n                            icon: DATAGRID_EXPORT_ICON,\r\n                            displayExpr: \"text\",\r\n                            items: items,\r\n                            hint: this.option(\"export.texts.exportTo\"),\r\n                            elementAttr: {\r\n                                class: DATAGRID_EXPORT_BUTTON_CLASS\r\n                            },\r\n                            dropDownOptions: {\r\n                                wrapperAttr: {\r\n                                    class: DATAGRID_EXPORT_MENU_CLASS\r\n                                },\r\n                                width: \"auto\"\r\n                            }\r\n                        };\r\n                        toolbarButtonOptions.options = _widgetOptions;\r\n                        toolbarButtonOptions.widget = \"dxDropDownButton\";\r\n                        toolbarButtonOptions.menuItemTemplate = (_data, _index, container) => {\r\n                            this._createComponent($(container), List, {\r\n                                items: items\r\n                            })\r\n                        }\r\n                    }\r\n                    return toolbarButtonOptions\r\n                },\r\n                _getExportToolbarItems: function() {\r\n                    var exportOptions = this.option(\"export\");\r\n                    var texts = this.option(\"export.texts\");\r\n                    var items = [];\r\n                    if (exportOptions.enabled) {\r\n                        items.push({\r\n                            text: texts.exportAll,\r\n                            icon: DATAGRID_EXPORT_EXCEL_ICON,\r\n                            onClick: () => {\r\n                                this._exportController.exportToExcel()\r\n                            }\r\n                        });\r\n                        if (exportOptions.allowExportSelectedData) {\r\n                            items.push({\r\n                                text: texts.exportSelectedRows,\r\n                                icon: DATAGRID_EXPORT_SELECTED_ICON,\r\n                                onClick: () => {\r\n                                    this._exportController.exportToExcel(true)\r\n                                }\r\n                            })\r\n                        }\r\n                    }\r\n                    return items\r\n                },\r\n                _correctItemsPosition: function(items) {\r\n                    items.sort((function(itemA, itemB) {\r\n                        return itemA.sortIndex - itemB.sortIndex\r\n                    }))\r\n                },\r\n                _isExportButtonVisible: function() {\r\n                    return this.option(\"export.enabled\")\r\n                },\r\n                _getButtonOptions: function(allowExportSelected) {\r\n                    var that = this;\r\n                    var texts = that.option(\"export.texts\");\r\n                    var options;\r\n                    if (allowExportSelected) {\r\n                        options = {\r\n                            hint: texts.exportTo,\r\n                            icon: DATAGRID_EXPORT_ICON\r\n                        }\r\n                    } else {\r\n                        options = {\r\n                            hint: texts.exportAll,\r\n                            icon: DATAGRID_EXPORT_EXCEL_BUTTON_ICON,\r\n                            onClick: function() {\r\n                                that._exportController.exportToExcel()\r\n                            }\r\n                        }\r\n                    }\r\n                    return options\r\n                },\r\n                optionChanged: function(args) {\r\n                    this.callBase(args);\r\n                    if (\"export\" === args.name) {\r\n                        args.handled = true;\r\n                        this._invalidate()\r\n                    }\r\n                },\r\n                init: function() {\r\n                    var that = this;\r\n                    this.callBase();\r\n                    this._exportController = this.getController(\"export\");\r\n                    this._editingController = this.getController(\"editing\");\r\n                    this._editingController.editingChanged.add((function(hasChanges) {\r\n                        that.setToolbarItemDisabled(\"exportButton\", hasChanges)\r\n                    }))\r\n                },\r\n                isVisible: function() {\r\n                    return this.callBase() || this._isExportButtonVisible()\r\n                }\r\n            }\r\n        }\r\n    }\r\n});\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.focus.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport core from \"./ui.grid_core.modules\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isBoolean\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nvar ROW_FOCUSED_CLASS = \"dx-row-focused\";\r\nvar FOCUSED_ROW_SELECTOR = \".dx-row.\" + ROW_FOCUSED_CLASS;\r\nvar TABLE_POSTFIX_CLASS = \"table\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar FocusController = core.ViewController.inherit({\r\n    init: function() {\r\n        this._dataController = this.getController(\"data\");\r\n        this._keyboardController = this.getController(\"keyboardNavigation\");\r\n        this.component._optionsByReference.focusedRowKey = true\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"focusedRowIndex\" === args.name) {\r\n            var focusedRowKey = this.option(\"focusedRowKey\");\r\n            this._focusRowByIndex(args.value);\r\n            this._triggerFocusedRowChangedIfNeed(focusedRowKey, args.value);\r\n            args.handled = true\r\n        } else if (\"focusedRowKey\" === args.name) {\r\n            args.handled = true;\r\n            if (Array.isArray(args.value) && JSON.stringify(args.value) === JSON.stringify(args.previousValue)) {\r\n                return\r\n            }\r\n            var focusedRowIndex = this.option(\"focusedRowIndex\");\r\n            this._focusRowByKey(args.value);\r\n            this._triggerFocusedRowChangedIfNeed(args.value, focusedRowIndex)\r\n        } else if (\"focusedColumnIndex\" === args.name) {\r\n            args.handled = true\r\n        } else if (\"focusedRowEnabled\" === args.name) {\r\n            args.handled = true\r\n        } else if (\"autoNavigateToFocusedRow\" === args.name) {\r\n            args.handled = true\r\n        } else {\r\n            this.callBase(args)\r\n        }\r\n    },\r\n    _triggerFocusedRowChangedIfNeed: function(focusedRowKey, focusedRowIndex) {\r\n        var focusedRowIndexByKey = this.getFocusedRowIndexByKey(focusedRowKey);\r\n        if (focusedRowIndex === focusedRowIndexByKey) {\r\n            var rowIndex = this._dataController.getRowIndexByKey(focusedRowKey);\r\n            if (rowIndex >= 0) {\r\n                var $rowElement = $(this.getView(\"rowsView\").getRowElement(rowIndex));\r\n                this.getController(\"keyboardNavigation\")._fireFocusedRowChanged($rowElement, focusedRowIndex)\r\n            }\r\n        }\r\n    },\r\n    isAutoNavigateToFocusedRow: function() {\r\n        return \"infinite\" !== this.option(\"scrolling.mode\") && this.option(\"autoNavigateToFocusedRow\")\r\n    },\r\n    _focusRowByIndex: function(index, operationTypes) {\r\n        if (!this.option(\"focusedRowEnabled\")) {\r\n            return\r\n        }\r\n        index = void 0 !== index ? index : this.option(\"focusedRowIndex\");\r\n        if (index < 0) {\r\n            if (this.isAutoNavigateToFocusedRow()) {\r\n                this._resetFocusedRow()\r\n            }\r\n        } else {\r\n            this._focusRowByIndexCore(index, operationTypes)\r\n        }\r\n    },\r\n    _focusRowByIndexCore: function(index, operationTypes) {\r\n        var dataController = this.getController(\"data\");\r\n        var pageSize = dataController.pageSize();\r\n        var setKeyByIndex = () => {\r\n            if (this._isValidFocusedRowIndex(index)) {\r\n                var rowIndex = index - dataController.getRowIndexOffset(true);\r\n                if (!operationTypes || operationTypes.paging && !operationTypes.filtering) {\r\n                    var lastItemIndex = dataController._getLastItemIndex();\r\n                    rowIndex = Math.min(rowIndex, lastItemIndex)\r\n                }\r\n                var focusedRowKey = dataController.getKeyByRowIndex(rowIndex, true);\r\n                if (isDefined(focusedRowKey) && !this.isRowFocused(focusedRowKey)) {\r\n                    this.option(\"focusedRowKey\", focusedRowKey)\r\n                }\r\n            }\r\n        };\r\n        if (pageSize >= 0) {\r\n            if (!this._isLocalRowIndex(index)) {\r\n                var pageIndex = Math.floor(index / dataController.pageSize());\r\n                when(dataController.pageIndex(pageIndex), dataController.waitReady()).done(() => {\r\n                    setKeyByIndex()\r\n                })\r\n            } else {\r\n                setKeyByIndex()\r\n            }\r\n        }\r\n    },\r\n    _isLocalRowIndex(index) {\r\n        var dataController = this.getController(\"data\");\r\n        var isVirtualScrolling = this.getController(\"keyboardNavigation\")._isVirtualScrolling();\r\n        if (isVirtualScrolling) {\r\n            var pageIndex = Math.floor(index / dataController.pageSize());\r\n            var virtualItems = dataController.virtualItemsCount();\r\n            var virtualItemsBegin = virtualItems ? virtualItems.begin : -1;\r\n            var visibleRowsCount = dataController.getVisibleRows().length + dataController.getRowIndexOffset();\r\n            var visiblePagesCount = Math.ceil(visibleRowsCount / dataController.pageSize());\r\n            return virtualItemsBegin <= index && visiblePagesCount > pageIndex\r\n        }\r\n        return true\r\n    },\r\n    _setFocusedRowKeyByIndex: function(index) {\r\n        var dataController = this.getController(\"data\");\r\n        if (this._isValidFocusedRowIndex(index)) {\r\n            var rowIndex = Math.min(index - dataController.getRowIndexOffset(), dataController.items().length - 1);\r\n            var focusedRowKey = dataController.getKeyByRowIndex(rowIndex);\r\n            if (isDefined(focusedRowKey) && !this.isRowFocused(focusedRowKey)) {\r\n                this.option(\"focusedRowKey\", focusedRowKey)\r\n            }\r\n        }\r\n    },\r\n    _focusRowByKey: function(key) {\r\n        if (!isDefined(key)) {\r\n            this._resetFocusedRow()\r\n        } else {\r\n            this._navigateToRow(key, true)\r\n        }\r\n    },\r\n    _resetFocusedRow: function() {\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        var isFocusedRowKeyDefined = isDefined(focusedRowKey);\r\n        if (!isFocusedRowKeyDefined && this.option(\"focusedRowIndex\") < 0) {\r\n            return\r\n        }\r\n        var keyboardController = this.getController(\"keyboardNavigation\");\r\n        if (isFocusedRowKeyDefined) {\r\n            this.option(\"focusedRowKey\", null)\r\n        }\r\n        keyboardController.setFocusedRowIndex(-1);\r\n        this.option(\"focusedRowIndex\", -1);\r\n        this.getController(\"data\").updateItems({\r\n            changeType: \"updateFocusedRow\",\r\n            focusedRowKey: null\r\n        });\r\n        keyboardController._fireFocusedRowChanged(void 0, -1)\r\n    },\r\n    _isValidFocusedRowIndex: function(rowIndex) {\r\n        var dataController = this.getController(\"data\");\r\n        var row = dataController.getVisibleRows()[rowIndex];\r\n        return !row || \"data\" === row.rowType || \"group\" === row.rowType\r\n    },\r\n    publicMethods: function() {\r\n        return [\"navigateToRow\", \"isRowFocused\"]\r\n    },\r\n    navigateToRow: function(key) {\r\n        if (!this.isAutoNavigateToFocusedRow()) {\r\n            this.option(\"focusedRowIndex\", -1)\r\n        }\r\n        return this._navigateToRow(key)\r\n    },\r\n    _navigateToRow: function(key, needFocusRow) {\r\n        var that = this;\r\n        var dataController = that.getController(\"data\");\r\n        var isAutoNavigate = that.isAutoNavigateToFocusedRow();\r\n        var d = new Deferred;\r\n        if (void 0 === key || !dataController.dataSource()) {\r\n            return d.reject().promise()\r\n        }\r\n        var rowIndexByKey = that.getFocusedRowIndexByKey(key);\r\n        if (!isAutoNavigate && needFocusRow || rowIndexByKey >= 0) {\r\n            that._navigateTo(key, d, needFocusRow)\r\n        } else {\r\n            dataController.getPageIndexByKey(key).done((function(pageIndex) {\r\n                if (pageIndex < 0) {\r\n                    d.resolve(-1);\r\n                    return\r\n                }\r\n                if (pageIndex === dataController.pageIndex()) {\r\n                    dataController.reload().done((function() {\r\n                        if (that.isRowFocused(key) && dataController.getRowIndexByKey(key) >= 0) {\r\n                            d.resolve(that.getFocusedRowIndexByKey(key))\r\n                        } else {\r\n                            that._navigateTo(key, d, needFocusRow)\r\n                        }\r\n                    })).fail(d.reject)\r\n                } else {\r\n                    dataController.pageIndex(pageIndex).done((function() {\r\n                        that._navigateTo(key, d, needFocusRow)\r\n                    })).fail(d.reject)\r\n                }\r\n            })).fail(d.reject)\r\n        }\r\n        return d.promise()\r\n    },\r\n    _navigateTo: function(key, deferred, needFocusRow) {\r\n        var visibleRowIndex = this.getController(\"data\").getRowIndexByKey(key);\r\n        var isVirtualRowRenderingMode = gridCoreUtils.isVirtualRowRendering(this);\r\n        var isAutoNavigate = this.isAutoNavigateToFocusedRow();\r\n        if (isAutoNavigate && isVirtualRowRenderingMode && visibleRowIndex < 0) {\r\n            this._navigateToVirtualRow(key, deferred, needFocusRow)\r\n        } else {\r\n            this._navigateToVisibleRow(key, deferred, needFocusRow)\r\n        }\r\n    },\r\n    _navigateToVisibleRow: function(key, deferred, needFocusRow) {\r\n        if (needFocusRow) {\r\n            this._triggerUpdateFocusedRow(key, deferred)\r\n        } else {\r\n            var focusedRowIndex = this.getFocusedRowIndexByKey(key);\r\n            this.getView(\"rowsView\").scrollToRowElement(key, deferred).done((function() {\r\n                deferred.resolve(focusedRowIndex)\r\n            }))\r\n        }\r\n    },\r\n    _navigateToVirtualRow: function(key, deferred, needFocusRow) {\r\n        var that = this;\r\n        var dataController = this.getController(\"data\");\r\n        var rowsScrollController = dataController._rowsScrollController;\r\n        var rowIndex = gridCoreUtils.getIndexByKey(key, dataController.items(true));\r\n        var scrollable = that.getView(\"rowsView\").getScrollable();\r\n        if (rowsScrollController && scrollable && rowIndex >= 0) {\r\n            var focusedRowIndex = rowIndex + dataController.getRowIndexOffset(true);\r\n            var offset = rowsScrollController.getItemOffset(focusedRowIndex);\r\n            that.component.on(\"contentReady\", (function triggerUpdateFocusedRow() {\r\n                that.component.off(\"contentReady\", triggerUpdateFocusedRow);\r\n                if (needFocusRow) {\r\n                    that._triggerUpdateFocusedRow(key, deferred)\r\n                } else {\r\n                    deferred.resolve(focusedRowIndex)\r\n                }\r\n            }));\r\n            this.getView(\"rowsView\").scrollTopPosition(offset)\r\n        } else {\r\n            deferred.resolve(-1)\r\n        }\r\n    },\r\n    _triggerUpdateFocusedRow: function(key, deferred) {\r\n        var dataController = this.getController(\"data\");\r\n        var focusedRowIndex = this.getFocusedRowIndexByKey(key);\r\n        if (this._isValidFocusedRowIndex(focusedRowIndex)) {\r\n            var d;\r\n            if (this.option(\"focusedRowEnabled\")) {\r\n                dataController.updateItems({\r\n                    changeType: \"updateFocusedRow\",\r\n                    focusedRowKey: key\r\n                })\r\n            } else {\r\n                d = this.getView(\"rowsView\").scrollToRowElement(key)\r\n            }\r\n            when(d).done(() => {\r\n                this.getController(\"keyboardNavigation\").setFocusedRowIndex(focusedRowIndex);\r\n                deferred && deferred.resolve(focusedRowIndex)\r\n            })\r\n        } else {\r\n            deferred && deferred.resolve(-1)\r\n        }\r\n    },\r\n    getFocusedRowIndexByKey: function(key) {\r\n        var dataController = this.getController(\"data\");\r\n        var loadedRowIndex = dataController.getRowIndexByKey(key, true);\r\n        return loadedRowIndex >= 0 ? loadedRowIndex + dataController.getRowIndexOffset(true) : -1\r\n    },\r\n    _focusRowByKeyOrIndex: function() {\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        var currentFocusedRowIndex = this.option(\"focusedRowIndex\");\r\n        var keyboardController = this.getController(\"keyboardNavigation\");\r\n        var dataController = this.getController(\"data\");\r\n        if (isDefined(focusedRowKey)) {\r\n            var visibleRowIndex = dataController.getRowIndexByKey(focusedRowKey);\r\n            if (visibleRowIndex >= 0) {\r\n                if (keyboardController._isVirtualScrolling()) {\r\n                    currentFocusedRowIndex = visibleRowIndex + dataController.getRowIndexOffset()\r\n                }\r\n                keyboardController.setFocusedRowIndex(currentFocusedRowIndex);\r\n                this._triggerUpdateFocusedRow(focusedRowKey)\r\n            } else {\r\n                this._navigateToRow(focusedRowKey, true).done(focusedRowIndex => {\r\n                    if (currentFocusedRowIndex >= 0 && focusedRowIndex < 0) {\r\n                        this._focusRowByIndex()\r\n                    } else if (currentFocusedRowIndex < 0 && focusedRowIndex >= 0) {\r\n                        keyboardController.setFocusedRowIndex(focusedRowIndex)\r\n                    }\r\n                })\r\n            }\r\n        } else if (currentFocusedRowIndex >= 0) {\r\n            this.getController(\"focus\")._focusRowByIndex(currentFocusedRowIndex)\r\n        }\r\n    },\r\n    isRowFocused: function(key) {\r\n        var focusedRowKey = this.option(\"focusedRowKey\");\r\n        if (isDefined(focusedRowKey)) {\r\n            return equalByValue(key, this.option(\"focusedRowKey\"))\r\n        }\r\n    },\r\n    updateFocusedRow: function(change) {\r\n        var that = this;\r\n        var focusedRowIndex = that._dataController.getRowIndexByKey(change.focusedRowKey);\r\n        var rowsView = that.getView(\"rowsView\");\r\n        var $tableElement;\r\n        var $mainRow;\r\n        each(rowsView.getTableElements(), (function(index, element) {\r\n            var isMainTable = 0 === index;\r\n            $tableElement = $(element);\r\n            that._clearPreviousFocusedRow($tableElement, focusedRowIndex);\r\n            var $row = that._prepareFocusedRow({\r\n                changedItem: that._dataController.getVisibleRows()[focusedRowIndex],\r\n                $tableElement: $tableElement,\r\n                focusedRowIndex: focusedRowIndex\r\n            });\r\n            if (isMainTable) {\r\n                $mainRow = $row\r\n            }\r\n        }));\r\n        $mainRow && rowsView.scrollToElementVertically($mainRow)\r\n    },\r\n    _clearPreviousFocusedRow: function($tableElement, focusedRowIndex) {\r\n        var $prevRowFocusedElement = $tableElement.find(FOCUSED_ROW_SELECTOR).filter((_, focusedRow) => {\r\n            var $focusedRowTable = $(focusedRow).closest(\".\".concat(this.addWidgetPrefix(TABLE_POSTFIX_CLASS)));\r\n            return $tableElement.is($focusedRowTable)\r\n        });\r\n        $prevRowFocusedElement.removeClass(ROW_FOCUSED_CLASS).removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabindex\");\r\n        $prevRowFocusedElement.children(\"td\").removeAttr(\"tabindex\");\r\n        if (0 !== focusedRowIndex) {\r\n            var $firstRow = $(this.getView(\"rowsView\").getRowElement(0));\r\n            $firstRow.removeClass(CELL_FOCUS_DISABLED_CLASS).removeAttr(\"tabIndex\")\r\n        }\r\n    },\r\n    _prepareFocusedRow: function(options) {\r\n        var $row;\r\n        var changedItem = options.changedItem;\r\n        if (changedItem && (\"data\" === changedItem.rowType || \"group\" === changedItem.rowType)) {\r\n            var focusedRowIndex = options.focusedRowIndex;\r\n            var $tableElement = options.$tableElement;\r\n            var tabIndex = this.option(\"tabindex\") || 0;\r\n            var rowsView = this.getView(\"rowsView\");\r\n            $row = $(rowsView._getRowElements($tableElement).eq(focusedRowIndex));\r\n            $row.addClass(ROW_FOCUSED_CLASS).attr(\"tabindex\", tabIndex)\r\n        }\r\n        return $row\r\n    }\r\n});\r\nexport var focusModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            focusedRowEnabled: false,\r\n            autoNavigateToFocusedRow: true,\r\n            focusedRowKey: null,\r\n            focusedRowIndex: -1,\r\n            focusedColumnIndex: -1\r\n        }\r\n    },\r\n    controllers: {\r\n        focus: FocusController\r\n    },\r\n    extenders: {\r\n        controllers: {\r\n            keyboardNavigation: {\r\n                init: function() {\r\n                    var rowIndex = this.option(\"focusedRowIndex\");\r\n                    var columnIndex = this.option(\"focusedColumnIndex\");\r\n                    this.createAction(\"onFocusedRowChanging\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedRowChanged\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedCellChanging\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.createAction(\"onFocusedCellChanged\", {\r\n                        excludeValidators: [\"disabled\", \"readOnly\"]\r\n                    });\r\n                    this.callBase();\r\n                    this.setRowFocusType();\r\n                    this._focusedCellPosition = {};\r\n                    if (isDefined(rowIndex)) {\r\n                        this._focusedCellPosition.rowIndex = this.option(\"focusedRowIndex\")\r\n                    }\r\n                    if (isDefined(columnIndex)) {\r\n                        this._focusedCellPosition.columnIndex = this.option(\"focusedColumnIndex\")\r\n                    }\r\n                },\r\n                setFocusedRowIndex: function(rowIndex) {\r\n                    var dataController = this.getController(\"data\");\r\n                    this.callBase(rowIndex);\r\n                    var visibleRowIndex = rowIndex - dataController.getRowIndexOffset();\r\n                    var visibleRow = dataController.getVisibleRows()[visibleRowIndex];\r\n                    if (!visibleRow || !visibleRow.isNewRow) {\r\n                        this.option(\"focusedRowIndex\", rowIndex)\r\n                    }\r\n                },\r\n                setFocusedColumnIndex: function(columnIndex) {\r\n                    this.callBase(columnIndex);\r\n                    this.option(\"focusedColumnIndex\", columnIndex)\r\n                },\r\n                _escapeKeyHandler: function(eventArgs, isEditing) {\r\n                    if (isEditing || !this.option(\"focusedRowEnabled\")) {\r\n                        this.callBase(eventArgs, isEditing);\r\n                        return\r\n                    }\r\n                    if (this.isCellFocusType()) {\r\n                        this.setRowFocusType();\r\n                        this._focus(this._getCellElementFromTarget(eventArgs.originalEvent.target), true)\r\n                    }\r\n                },\r\n                _updateFocusedCellPosition: function($cell, direction) {\r\n                    var prevRowIndex = this.option(\"focusedRowIndex\");\r\n                    var prevColumnIndex = this.option(\"focusedColumnIndex\");\r\n                    var position = this.callBase($cell, direction);\r\n                    if (position && position.columnIndex >= 0) {\r\n                        this._fireFocusedCellChanged($cell, prevColumnIndex, prevRowIndex)\r\n                    }\r\n                }\r\n            },\r\n            editorFactory: {\r\n                renderFocusOverlay: function($element, hideBorder) {\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var focusedRowEnabled = this.option(\"focusedRowEnabled\");\r\n                    var editingController = this.getController(\"editing\");\r\n                    var $cell;\r\n                    if (!focusedRowEnabled || !(null !== keyboardController && void 0 !== keyboardController && keyboardController.isRowFocusType()) || editingController.isEditing()) {\r\n                        this.callBase($element, hideBorder)\r\n                    } else if (focusedRowEnabled) {\r\n                        var isRowElement = \"row\" === keyboardController._getElementType($element);\r\n                        if (isRowElement && !$element.hasClass(ROW_FOCUSED_CLASS)) {\r\n                            $cell = keyboardController.getFirstValidCellInRow($element);\r\n                            keyboardController.focus($cell)\r\n                        }\r\n                    }\r\n                }\r\n            },\r\n            columns: {\r\n                getSortDataSourceParameters: function(_, sortByKey) {\r\n                    var result = this.callBase.apply(this, arguments);\r\n                    var dataController = this.getController(\"data\");\r\n                    var dataSource = dataController._dataSource;\r\n                    var store = dataController.store();\r\n                    var key = store && store.key();\r\n                    var remoteOperations = dataSource && dataSource.remoteOperations() || {};\r\n                    var isLocalOperations = Object.keys(remoteOperations).every(operationName => !remoteOperations[operationName]);\r\n                    if (key && (this.option(\"focusedRowEnabled\") && false !== this.getController(\"focus\").isAutoNavigateToFocusedRow() || sortByKey)) {\r\n                        key = Array.isArray(key) ? key : [key];\r\n                        var notSortedKeys = key.filter(key => !this.columnOption(key, \"sortOrder\"));\r\n                        if (notSortedKeys.length) {\r\n                            result = result || [];\r\n                            if (isLocalOperations) {\r\n                                result.push({\r\n                                    selector: dataSource.getDataIndexGetter(),\r\n                                    desc: false\r\n                                })\r\n                            } else {\r\n                                notSortedKeys.forEach(notSortedKey => result.push({\r\n                                    selector: notSortedKey,\r\n                                    desc: false\r\n                                }))\r\n                            }\r\n                        }\r\n                    }\r\n                    return result\r\n                }\r\n            },\r\n            data: {\r\n                _applyChange: function(change) {\r\n                    if (change && \"updateFocusedRow\" === change.changeType) {\r\n                        return\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _fireChanged: function(e) {\r\n                    this.callBase(e);\r\n                    if (this.option(\"focusedRowEnabled\") && this._dataSource) {\r\n                        var isPartialUpdate = \"update\" === e.changeType && e.repaintChangesOnly;\r\n                        var isPartialUpdateWithDeleting = isPartialUpdate && e.changeTypes && e.changeTypes.indexOf(\"remove\") >= 0;\r\n                        if (\"refresh\" === e.changeType && e.items.length || isPartialUpdateWithDeleting) {\r\n                            this._updatePageIndexes();\r\n                            this.processUpdateFocusedRow(e)\r\n                        } else if (\"append\" === e.changeType || \"prepend\" === e.changeType) {\r\n                            this._updatePageIndexes()\r\n                        } else if (\"update\" === e.changeType && e.repaintChangesOnly) {\r\n                            this.processUpdateFocusedRow(e)\r\n                        }\r\n                    }\r\n                },\r\n                _updatePageIndexes: function() {\r\n                    var prevRenderingPageIndex = this._lastRenderingPageIndex || 0;\r\n                    var renderingPageIndex = this._rowsScrollController ? this._rowsScrollController.pageIndex() : 0;\r\n                    this._lastRenderingPageIndex = renderingPageIndex;\r\n                    this._isPagingByRendering = renderingPageIndex !== prevRenderingPageIndex\r\n                },\r\n                isPagingByRendering: function() {\r\n                    return this._isPagingByRendering\r\n                },\r\n                processUpdateFocusedRow: function(e) {\r\n                    var operationTypes = e.operationTypes || {};\r\n                    var focusController = this.getController(\"focus\");\r\n                    var {\r\n                        reload: reload,\r\n                        fullReload: fullReload\r\n                    } = operationTypes;\r\n                    var keyboardController = this.getController(\"keyboardNavigation\");\r\n                    var isVirtualScrolling = keyboardController._isVirtualScrolling();\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var isAutoNavigate = focusController.isAutoNavigateToFocusedRow();\r\n                    if (reload && !fullReload && isDefined(focusedRowKey)) {\r\n                        focusController._navigateToRow(focusedRowKey, true).done((function(focusedRowIndex) {\r\n                            if (focusedRowIndex < 0) {\r\n                                focusController._focusRowByIndex(void 0, operationTypes)\r\n                            }\r\n                        }))\r\n                    } else if (operationTypes.paging && !isVirtualScrolling) {\r\n                        if (isAutoNavigate) {\r\n                            var rowIndexByKey = this.getRowIndexByKey(focusedRowKey);\r\n                            var isValidRowIndexByKey = rowIndexByKey >= 0;\r\n                            var focusedRowIndex = this.option(\"focusedRowIndex\");\r\n                            var needFocusRowByIndex = focusedRowIndex >= 0 && (focusedRowIndex === rowIndexByKey || !isValidRowIndexByKey);\r\n                            if (needFocusRowByIndex) {\r\n                                focusController._focusRowByIndex(void 0, operationTypes)\r\n                            }\r\n                        } else if (this.getRowIndexByKey(focusedRowKey) < 0) {\r\n                            this.option(\"focusedRowIndex\", -1)\r\n                        }\r\n                    } else if (operationTypes.fullReload) {\r\n                        focusController._focusRowByKeyOrIndex()\r\n                    }\r\n                },\r\n                getPageIndexByKey: function(key) {\r\n                    var that = this;\r\n                    var d = new Deferred;\r\n                    that.getGlobalRowIndexByKey(key).done((function(globalIndex) {\r\n                        d.resolve(globalIndex >= 0 ? Math.floor(globalIndex / that.pageSize()) : -1)\r\n                    })).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                getGlobalRowIndexByKey: function(key) {\r\n                    if (this._dataSource.group()) {\r\n                        return this._calculateGlobalRowIndexByGroupedData(key)\r\n                    }\r\n                    return this._calculateGlobalRowIndexByFlatData(key)\r\n                },\r\n                _calculateGlobalRowIndexByFlatData: function(key, groupFilter, useGroup) {\r\n                    var that = this;\r\n                    var deferred = new Deferred;\r\n                    var dataSource = that._dataSource;\r\n                    if (Array.isArray(key)) {\r\n                        return deferred.resolve(-1).promise()\r\n                    }\r\n                    var filter = that._generateFilterByKey(key);\r\n                    dataSource.load({\r\n                        filter: that._concatWithCombinedFilter(filter),\r\n                        skip: 0,\r\n                        take: 1\r\n                    }).done((function(data) {\r\n                        if (data.length > 0) {\r\n                            filter = that._generateOperationFilterByKey(key, data[0], useGroup);\r\n                            dataSource.load({\r\n                                filter: that._concatWithCombinedFilter(filter, groupFilter),\r\n                                skip: 0,\r\n                                take: 1,\r\n                                requireTotalCount: true\r\n                            }).done((function(_, extra) {\r\n                                deferred.resolve(extra.totalCount)\r\n                            }))\r\n                        } else {\r\n                            deferred.resolve(-1)\r\n                        }\r\n                    }));\r\n                    return deferred.promise()\r\n                },\r\n                _concatWithCombinedFilter: function(filter, groupFilter) {\r\n                    var combinedFilter = this.getCombinedFilter();\r\n                    return gridCoreUtils.combineFilters([filter, combinedFilter, groupFilter])\r\n                },\r\n                _generateBooleanFilter: function(selector, value, sortInfo) {\r\n                    var result;\r\n                    if (false === value) {\r\n                        result = [selector, \"=\", sortInfo.desc ? true : null]\r\n                    } else if (true === value ? !sortInfo.desc : sortInfo.desc) {\r\n                        result = [selector, \"<>\", value]\r\n                    }\r\n                    return result\r\n                },\r\n                _generateOperationFilterByKey: function(key, rowData, useGroup) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var filter = that._generateFilterByKey(key, \"<\");\r\n                    var sort = that._columnsController.getSortDataSourceParameters(!dataSource.remoteOperations().filtering, true);\r\n                    if (useGroup) {\r\n                        var group = that._columnsController.getGroupDataSourceParameters(!dataSource.remoteOperations().filtering);\r\n                        if (group) {\r\n                            sort = sort ? group.concat(sort) : group\r\n                        }\r\n                    }\r\n                    if (sort) {\r\n                        sort.slice().reverse().forEach((function(sortInfo) {\r\n                            var selector = sortInfo.selector;\r\n                            var getter;\r\n                            if (\"function\" === typeof selector) {\r\n                                getter = selector\r\n                            } else {\r\n                                getter = that._columnsController.columnOption(selector, \"selector\")\r\n                            }\r\n                            var value = getter ? getter(rowData) : rowData[selector];\r\n                            filter = [\r\n                                [selector, \"=\", value], \"and\", filter\r\n                            ];\r\n                            if (null === value || isBoolean(value)) {\r\n                                var booleanFilter = that._generateBooleanFilter(selector, value, sortInfo);\r\n                                if (booleanFilter) {\r\n                                    filter = [booleanFilter, \"or\", filter]\r\n                                }\r\n                            } else {\r\n                                var filterOperation = sortInfo.desc ? \">\" : \"<\";\r\n                                var sortFilter = [selector, filterOperation, value];\r\n                                if (!sortInfo.desc) {\r\n                                    sortFilter = [sortFilter, \"or\", [selector, \"=\", null]]\r\n                                }\r\n                                filter = [sortFilter, \"or\", filter]\r\n                            }\r\n                        }))\r\n                    }\r\n                    return filter\r\n                },\r\n                _generateFilterByKey: function(key, operation) {\r\n                    var dataSourceKey = this._dataSource.key();\r\n                    var filter = [];\r\n                    if (!operation) {\r\n                        operation = \"=\"\r\n                    }\r\n                    if (Array.isArray(dataSourceKey)) {\r\n                        for (var i = 0; i < dataSourceKey.length; ++i) {\r\n                            var keyPart = key[dataSourceKey[i]];\r\n                            if (keyPart) {\r\n                                if (filter.length > 0) {\r\n                                    filter.push(\"and\")\r\n                                }\r\n                                filter.push([dataSourceKey[i], operation, keyPart])\r\n                            }\r\n                        }\r\n                    } else {\r\n                        filter = [dataSourceKey, operation, key]\r\n                    }\r\n                    return filter\r\n                },\r\n                _getLastItemIndex: function() {\r\n                    return this.items(true).length - 1\r\n                }\r\n            },\r\n            editing: {\r\n                _deleteRowCore: function(rowIndex) {\r\n                    var deferred = this.callBase.apply(this, arguments);\r\n                    var dataController = this.getController(\"data\");\r\n                    var rowKey = dataController.getKeyByRowIndex(rowIndex);\r\n                    deferred.done(() => {\r\n                        var rowIndex = dataController.getRowIndexByKey(rowKey);\r\n                        var visibleRows = dataController.getVisibleRows();\r\n                        if (-1 === rowIndex && !visibleRows.length) {\r\n                            this.getController(\"focus\")._resetFocusedRow()\r\n                        }\r\n                    })\r\n                }\r\n            }\r\n        },\r\n        views: {\r\n            rowsView: {\r\n                _createRow: function(row) {\r\n                    var $row = this.callBase.apply(this, arguments);\r\n                    if (this.option(\"focusedRowEnabled\") && row) {\r\n                        if (this.getController(\"focus\").isRowFocused(row.key)) {\r\n                            $row.addClass(ROW_FOCUSED_CLASS)\r\n                        }\r\n                    }\r\n                    return $row\r\n                },\r\n                _checkRowKeys: function(options) {\r\n                    this.callBase.apply(this, arguments);\r\n                    if (this.option(\"focusedRowEnabled\") && this.option(\"dataSource\")) {\r\n                        var store = this._dataController.store();\r\n                        if (store && !store.key()) {\r\n                            this._dataController.fireError(\"E1042\", \"Row focusing\")\r\n                        }\r\n                    }\r\n                },\r\n                _update: function(change) {\r\n                    if (\"updateFocusedRow\" === change.changeType) {\r\n                        if (this.option(\"focusedRowEnabled\")) {\r\n                            this.getController(\"focus\").updateFocusedRow(change)\r\n                        }\r\n                    } else {\r\n                        this.callBase(change)\r\n                    }\r\n                },\r\n                updateFocusElementTabIndex: function($cellElements, preventScroll) {\r\n                    var rowIndex = this.getController(\"keyboardNavigation\").getVisibleRowIndex();\r\n                    var row = this._dataController.getVisibleRows()[rowIndex];\r\n                    if (this.option(\"focusedRowEnabled\") && !(null !== row && void 0 !== row && row.isNewRow)) {\r\n                        this._setFocusedRowElementTabIndex(preventScroll)\r\n                    } else {\r\n                        this.callBase($cellElements)\r\n                    }\r\n                },\r\n                _setFocusedRowElementTabIndex: function(preventScroll) {\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var tabIndex = this.option(\"tabIndex\") || 0;\r\n                    var dataController = this._dataController;\r\n                    var columnsController = this._columnsController;\r\n                    var rowIndex = dataController.getRowIndexByKey(focusedRowKey);\r\n                    var columnIndex = this.option(\"focusedColumnIndex\");\r\n                    var $row = this._findRowElementForTabIndex();\r\n                    if (!isDefined(this._scrollToFocusOnResize)) {\r\n                        this._scrollToFocusOnResize = () => {\r\n                            this.scrollToElementVertically(this._findRowElementForTabIndex());\r\n                            this.resizeCompleted.remove(this._scrollToFocusOnResize)\r\n                        }\r\n                    }\r\n                    $row.attr(\"tabIndex\", tabIndex);\r\n                    if (rowIndex >= 0 && !preventScroll) {\r\n                        if (columnIndex < 0) {\r\n                            columnIndex = 0\r\n                        }\r\n                        rowIndex += dataController.getRowIndexOffset();\r\n                        columnIndex += columnsController.getColumnIndexOffset();\r\n                        this.getController(\"keyboardNavigation\").setFocusedCellPosition(rowIndex, columnIndex);\r\n                        if (this.getController(\"focus\").isAutoNavigateToFocusedRow()) {\r\n                            var dataSource = dataController.dataSource();\r\n                            var operationTypes = dataSource && dataSource.operationTypes();\r\n                            if (operationTypes && !operationTypes.paging && !dataController.isPagingByRendering()) {\r\n                                this.resizeCompleted.remove(this._scrollToFocusOnResize);\r\n                                this.resizeCompleted.add(this._scrollToFocusOnResize)\r\n                            }\r\n                        }\r\n                    }\r\n                },\r\n                _findRowElementForTabIndex: function() {\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var rowIndex = this._dataController.getRowIndexByKey(focusedRowKey);\r\n                    return $(this.getRowElement(rowIndex >= 0 ? rowIndex : 0))\r\n                },\r\n                scrollToRowElement: function(key) {\r\n                    var rowIndex = this.getController(\"data\").getRowIndexByKey(key);\r\n                    var $row = $(this.getRow(rowIndex));\r\n                    return this.scrollToElementVertically($row)\r\n                },\r\n                scrollToElementVertically: function($row) {\r\n                    var scrollable = this.getScrollable();\r\n                    if (scrollable && $row.length) {\r\n                        var position = scrollable.getScrollElementPosition($row, \"vertical\");\r\n                        return this.scrollTopPosition(position)\r\n                    }\r\n                    return (new Deferred).resolve()\r\n                },\r\n                scrollTopPosition: function(scrollTop) {\r\n                    var d = new Deferred;\r\n                    var scrollable = this.getScrollable();\r\n                    if (scrollable) {\r\n                        var currentScrollTop = scrollable.scrollTop();\r\n                        var scrollHandler = () => {\r\n                            scrollable.off(\"scroll\", scrollHandler);\r\n                            d.resolve()\r\n                        };\r\n                        if (scrollTop !== currentScrollTop) {\r\n                            scrollable.on(\"scroll\", scrollHandler);\r\n                            this._dataController.resetFilterApplying();\r\n                            scrollable.scrollTo({\r\n                                top: scrollTop\r\n                            });\r\n                            return d.promise()\r\n                        }\r\n                    }\r\n                    return d.resolve()\r\n                }\r\n            }\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.focus.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    focusModule\r\n} from \"../grid_core/ui.grid_core.focus\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport {\r\n    createGroupFilter\r\n} from \"./ui.data_grid.utils\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER || 9007199254740991;\r\ngridCore.registerModule(\"focus\", extend(true, {}, focusModule, {\r\n    extenders: {\r\n        controllers: {\r\n            data: {\r\n                changeRowExpand: function(path, isRowClick) {\r\n                    if (this.option(\"focusedRowEnabled\") && Array.isArray(path) && this.isRowExpanded(path)) {\r\n                        var keyboardNavigation = this.getController(\"keyboardNavigation\");\r\n                        if ((!isRowClick || !keyboardNavigation.isKeyboardEnabled()) && this._isFocusedRowInsideGroup(path)) {\r\n                            this.option(\"focusedRowKey\", path)\r\n                        }\r\n                    }\r\n                    return this.callBase.apply(this, arguments)\r\n                },\r\n                _isFocusedRowInsideGroup: function(path) {\r\n                    var columnsController = this.getController(\"columns\");\r\n                    var focusedRowKey = this.option(\"focusedRowKey\");\r\n                    var rowIndex = this.getRowIndexByKey(focusedRowKey);\r\n                    var focusedRow = rowIndex >= 0 && this.getVisibleRows()[rowIndex];\r\n                    var groups = columnsController.getGroupDataSourceParameters(true);\r\n                    if (focusedRow) {\r\n                        for (var i = 0; i < path.length; ++i) {\r\n                            var getter = compileGetter(groups[i] && groups[i].selector);\r\n                            if (getter(focusedRow.data) !== path[i]) {\r\n                                return false\r\n                            }\r\n                        }\r\n                    }\r\n                    return true\r\n                },\r\n                _getGroupPath: function(groupItem, groupCount) {\r\n                    var groupPath = [];\r\n                    var items = [groupItem];\r\n                    while (items && items[0] && groupCount) {\r\n                        var item = items[0];\r\n                        if (void 0 !== item.key) {\r\n                            groupPath.push(item.key)\r\n                        }\r\n                        items = item.items;\r\n                        groupCount--\r\n                    }\r\n                    return groupPath\r\n                },\r\n                _expandGroupByPath: function(that, groupPath, level) {\r\n                    var d = new Deferred;\r\n                    level++;\r\n                    that.expandRow(groupPath.slice(0, level)).done((function() {\r\n                        if (level === groupPath.length) {\r\n                            d.resolve()\r\n                        } else {\r\n                            that._expandGroupByPath(that, groupPath, level).done(d.resolve).fail(d.reject)\r\n                        }\r\n                    })).fail(d.reject);\r\n                    return d.promise()\r\n                },\r\n                _calculateGlobalRowIndexByGroupedData: function(key) {\r\n                    var that = this;\r\n                    var dataSource = that._dataSource;\r\n                    var filter = that._generateFilterByKey(key);\r\n                    var deferred = new Deferred;\r\n                    var isGroupKey = Array.isArray(key);\r\n                    var group = dataSource.group();\r\n                    if (isGroupKey) {\r\n                        return deferred.resolve(-1).promise()\r\n                    }\r\n                    if (!dataSource._grouping._updatePagingOptions) {\r\n                        that._calculateGlobalRowIndexByFlatData(key, null, true).done(deferred.resolve).fail(deferred.reject);\r\n                        return deferred\r\n                    }\r\n                    dataSource.load({\r\n                        filter: that._concatWithCombinedFilter(filter),\r\n                        group: group\r\n                    }).done((function(data) {\r\n                        if (!data || 0 === data.length || !isDefined(data[0].key) || -1 === data[0].key) {\r\n                            return deferred.resolve(-1).promise()\r\n                        }\r\n                        var groupPath = that._getGroupPath(data[0], group.length);\r\n                        that._expandGroupByPath(that, groupPath, 0).done((function() {\r\n                            that._calculateExpandedRowGlobalIndex(deferred, key, groupPath, group)\r\n                        })).fail(deferred.reject)\r\n                    })).fail(deferred.reject);\r\n                    return deferred.promise()\r\n                },\r\n                _calculateExpandedRowGlobalIndex: function(deferred, key, groupPath, group) {\r\n                    var groupFilter = createGroupFilter(groupPath, {\r\n                        group: group\r\n                    });\r\n                    var dataSource = this._dataSource;\r\n                    var scrollingMode = this.option(\"scrolling.mode\");\r\n                    var isVirtualScrolling = \"virtual\" === scrollingMode || \"infinite\" === scrollingMode;\r\n                    var pageSize = dataSource.pageSize();\r\n                    var groupOffset;\r\n                    dataSource._grouping._updatePagingOptions({\r\n                        skip: 0,\r\n                        take: MAX_SAFE_INTEGER\r\n                    }, (function(groupInfo, totalOffset) {\r\n                        if (equalByValue(groupInfo.path, groupPath)) {\r\n                            groupOffset = totalOffset\r\n                        }\r\n                    }));\r\n                    this._calculateGlobalRowIndexByFlatData(key, groupFilter).done((function(dataOffset) {\r\n                        var count;\r\n                        var groupContinuationCount;\r\n                        if (dataOffset < 0) {\r\n                            deferred.resolve(-1);\r\n                            return\r\n                        }\r\n                        var currentPageOffset = groupOffset % pageSize || pageSize;\r\n                        count = currentPageOffset + dataOffset - groupPath.length;\r\n                        if (isVirtualScrolling) {\r\n                            groupContinuationCount = 0\r\n                        } else {\r\n                            groupContinuationCount = Math.floor(count / (pageSize - groupPath.length)) * groupPath.length\r\n                        }\r\n                        count = groupOffset + dataOffset + groupContinuationCount;\r\n                        deferred.resolve(count)\r\n                    })).fail(deferred.reject)\r\n                }\r\n            }\r\n        }\r\n    }\r\n}));\r\n","/**\r\n * DevExtreme (esm/ui/draggable.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getHeight,\r\n    getOuterWidth,\r\n    getOuterHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../core/utils/position\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    quadToObject\r\n} from \"../core/utils/string\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    locate,\r\n    move\r\n} from \"../animation/translator\";\r\nimport Animator from \"./scroll_view/animator\";\r\nimport {\r\n    dasherize\r\n} from \"../core/utils/inflector\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    addNamespace,\r\n    needSkipEvent\r\n} from \"../events/utils/index\";\r\nimport pointerEvents from \"../events/pointer\";\r\nimport {\r\n    start as dragEventStart,\r\n    move as dragEventMove,\r\n    end as dragEventEnd,\r\n    enter as dragEventEnter,\r\n    leave as dragEventLeave\r\n} from \"../events/drag\";\r\nimport positionUtils from \"../animation/position\";\r\nimport {\r\n    isFunction,\r\n    isObject\r\n} from \"../core/utils/type\";\r\nimport {\r\n    noop,\r\n    splitPair\r\n} from \"../core/utils/common\";\r\nimport {\r\n    value as viewPort\r\n} from \"../core/utils/view_port\";\r\nimport {\r\n    EmptyTemplate\r\n} from \"../core/templates/empty_template\";\r\nimport {\r\n    when,\r\n    fromPromise,\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar window = getWindow();\r\nvar DRAGGABLE = \"dxDraggable\";\r\nvar DRAGSTART_EVENT_NAME = addNamespace(dragEventStart, DRAGGABLE);\r\nvar DRAG_EVENT_NAME = addNamespace(dragEventMove, DRAGGABLE);\r\nvar DRAGEND_EVENT_NAME = addNamespace(dragEventEnd, DRAGGABLE);\r\nvar DRAG_ENTER_EVENT_NAME = addNamespace(dragEventEnter, DRAGGABLE);\r\nvar DRAGEND_LEAVE_EVENT_NAME = addNamespace(dragEventLeave, DRAGGABLE);\r\nvar POINTERDOWN_EVENT_NAME = addNamespace(pointerEvents.down, DRAGGABLE);\r\nvar CLONE_CLASS = \"clone\";\r\nvar targetDraggable;\r\nvar sourceDraggable;\r\nvar ANONYMOUS_TEMPLATE_NAME = \"content\";\r\nvar getMousePosition = event => ({\r\n    x: event.pageX - $(window).scrollLeft(),\r\n    y: event.pageY - $(window).scrollTop()\r\n});\r\nvar GESTURE_COVER_CLASS = \"dx-gesture-cover\";\r\nvar OVERLAY_WRAPPER_CLASS = \"dx-overlay-wrapper\";\r\nvar OVERLAY_CONTENT_CLASS = \"dx-overlay-content\";\r\nclass ScrollHelper {\r\n    constructor(orientation, component) {\r\n        this._preventScroll = true;\r\n        this._component = component;\r\n        if (\"vertical\" === orientation) {\r\n            this._scrollValue = \"scrollTop\";\r\n            this._overFlowAttr = \"overflowY\";\r\n            this._sizeAttr = \"height\";\r\n            this._scrollSizeProp = \"scrollHeight\";\r\n            this._clientSizeProp = \"clientHeight\";\r\n            this._limitProps = {\r\n                start: \"top\",\r\n                end: \"bottom\"\r\n            }\r\n        } else {\r\n            this._scrollValue = \"scrollLeft\";\r\n            this._overFlowAttr = \"overflowX\";\r\n            this._sizeAttr = \"width\";\r\n            this._scrollSizeProp = \"scrollWidth\";\r\n            this._clientSizeProp = \"clientWidth\";\r\n            this._limitProps = {\r\n                start: \"left\",\r\n                end: \"right\"\r\n            }\r\n        }\r\n    }\r\n    updateScrollable(elements, mousePosition) {\r\n        var isScrollableFound = false;\r\n        elements.some(element => {\r\n            var $element = $(element);\r\n            var isTargetOverOverlayWrapper = $element.hasClass(OVERLAY_WRAPPER_CLASS);\r\n            var isTargetOverOverlayContent = $element.hasClass(OVERLAY_CONTENT_CLASS);\r\n            if (isTargetOverOverlayWrapper || isTargetOverOverlayContent) {\r\n                return true\r\n            }\r\n            isScrollableFound = this._trySetScrollable(element, mousePosition);\r\n            return isScrollableFound\r\n        });\r\n        if (!isScrollableFound) {\r\n            this._$scrollableAtPointer = null;\r\n            this._scrollSpeed = 0\r\n        }\r\n    }\r\n    isScrolling() {\r\n        return !!this._scrollSpeed\r\n    }\r\n    isScrollable($element) {\r\n        return (\"auto\" === $element.css(this._overFlowAttr) || $element.hasClass(\"dx-scrollable-container\")) && $element.prop(this._scrollSizeProp) > Math.ceil(\"width\" === this._sizeAttr ? getWidth($element) : getHeight($element))\r\n    }\r\n    _trySetScrollable(element, mousePosition) {\r\n        var $element = $(element);\r\n        var distanceToBorders;\r\n        var sensitivity = this._component.option(\"scrollSensitivity\");\r\n        var isScrollable = this.isScrollable($element);\r\n        if (isScrollable) {\r\n            distanceToBorders = this._calculateDistanceToBorders($element, mousePosition);\r\n            if (sensitivity > distanceToBorders[this._limitProps.start]) {\r\n                if (!this._preventScroll) {\r\n                    this._scrollSpeed = -this._calculateScrollSpeed(distanceToBorders[this._limitProps.start]);\r\n                    this._$scrollableAtPointer = $element\r\n                }\r\n            } else if (sensitivity > distanceToBorders[this._limitProps.end]) {\r\n                if (!this._preventScroll) {\r\n                    this._scrollSpeed = this._calculateScrollSpeed(distanceToBorders[this._limitProps.end]);\r\n                    this._$scrollableAtPointer = $element\r\n                }\r\n            } else {\r\n                isScrollable = false;\r\n                this._preventScroll = false\r\n            }\r\n        }\r\n        return isScrollable\r\n    }\r\n    _calculateDistanceToBorders($area, mousePosition) {\r\n        var area = $area.get(0);\r\n        var areaBoundingRect;\r\n        if (area) {\r\n            areaBoundingRect = getBoundingRect(area);\r\n            return {\r\n                left: mousePosition.x - areaBoundingRect.left,\r\n                top: mousePosition.y - areaBoundingRect.top,\r\n                right: areaBoundingRect.right - mousePosition.x,\r\n                bottom: areaBoundingRect.bottom - mousePosition.y\r\n            }\r\n        } else {\r\n            return {}\r\n        }\r\n    }\r\n    _calculateScrollSpeed(distance) {\r\n        var component = this._component;\r\n        var sensitivity = component.option(\"scrollSensitivity\");\r\n        var maxSpeed = component.option(\"scrollSpeed\");\r\n        return Math.ceil(Math.pow((sensitivity - distance) / sensitivity, 2) * maxSpeed)\r\n    }\r\n    scrollByStep() {\r\n        if (this._$scrollableAtPointer && this._scrollSpeed) {\r\n            if (this._$scrollableAtPointer.hasClass(\"dx-scrollable-container\")) {\r\n                var $scrollable = this._$scrollableAtPointer.closest(\".dx-scrollable\");\r\n                var scrollableInstance = $scrollable.data(\"dxScrollable\") || $scrollable.data(\"dxScrollView\");\r\n                if (scrollableInstance) {\r\n                    var nextScrollPosition = scrollableInstance.scrollOffset()[this._limitProps.start] + this._scrollSpeed;\r\n                    scrollableInstance.scrollTo({\r\n                        [this._limitProps.start]: nextScrollPosition\r\n                    })\r\n                }\r\n            } else {\r\n                var _nextScrollPosition = this._$scrollableAtPointer[this._scrollValue]() + this._scrollSpeed;\r\n                this._$scrollableAtPointer[this._scrollValue](_nextScrollPosition)\r\n            }\r\n            var dragMoveArgs = this._component._dragMoveArgs;\r\n            if (dragMoveArgs) {\r\n                this._component._dragMoveHandler(dragMoveArgs)\r\n            }\r\n        }\r\n    }\r\n    reset() {\r\n        this._$scrollableAtPointer = null;\r\n        this._scrollSpeed = 0;\r\n        this._preventScroll = true\r\n    }\r\n    isOutsideScrollable($scrollable, event) {\r\n        if (!$scrollable) {\r\n            return false\r\n        }\r\n        var scrollableSize = getBoundingRect($scrollable.get(0));\r\n        var start = scrollableSize[this._limitProps.start];\r\n        var size = scrollableSize[this._sizeAttr];\r\n        var mousePosition = getMousePosition(event);\r\n        var location = \"width\" === this._sizeAttr ? mousePosition.x : mousePosition.y;\r\n        return location < start || location > start + size\r\n    }\r\n}\r\nvar ScrollAnimator = Animator.inherit({\r\n    ctor: function(strategy) {\r\n        this.callBase();\r\n        this._strategy = strategy\r\n    },\r\n    _step: function() {\r\n        var horizontalScrollHelper = this._strategy._horizontalScrollHelper;\r\n        var verticalScrollHelper = this._strategy._verticalScrollHelper;\r\n        horizontalScrollHelper && horizontalScrollHelper.scrollByStep();\r\n        verticalScrollHelper && verticalScrollHelper.scrollByStep()\r\n    }\r\n});\r\nvar Draggable = DOMComponent.inherit({\r\n    reset: noop,\r\n    dragMove: noop,\r\n    dragEnter: noop,\r\n    dragLeave: noop,\r\n    dragEnd: function(sourceEvent) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        sourceDraggable._fireRemoveEvent(sourceEvent);\r\n        return (new Deferred).resolve()\r\n    },\r\n    _fireRemoveEvent: noop,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            onDragStart: null,\r\n            onDragMove: null,\r\n            onDragEnd: null,\r\n            onDragEnter: null,\r\n            onDragLeave: null,\r\n            onDrop: null,\r\n            immediate: true,\r\n            dragDirection: \"both\",\r\n            boundary: void 0,\r\n            boundOffset: 0,\r\n            allowMoveByClick: false,\r\n            itemData: null,\r\n            container: void 0,\r\n            dragTemplate: void 0,\r\n            contentTemplate: \"content\",\r\n            handle: \"\",\r\n            filter: \"\",\r\n            clone: false,\r\n            autoScroll: true,\r\n            scrollSpeed: 30,\r\n            scrollSensitivity: 60,\r\n            group: void 0,\r\n            data: void 0\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase.apply(this, arguments);\r\n        extend(this._optionsByReference, {\r\n            component: true,\r\n            group: true,\r\n            itemData: true,\r\n            data: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this._attachEventHandlers();\r\n        this._scrollAnimator = new ScrollAnimator(this);\r\n        this._horizontalScrollHelper = new ScrollHelper(\"horizontal\", this);\r\n        this._verticalScrollHelper = new ScrollHelper(\"vertical\", this)\r\n    },\r\n    _normalizeCursorOffset: function(offset) {\r\n        if (isObject(offset)) {\r\n            offset = {\r\n                h: offset.x,\r\n                v: offset.y\r\n            }\r\n        }\r\n        offset = splitPair(offset).map(value => parseFloat(value));\r\n        return {\r\n            left: offset[0],\r\n            top: 1 === offset.length ? offset[0] : offset[1]\r\n        }\r\n    },\r\n    _getNormalizedCursorOffset: function(offset, options) {\r\n        if (isFunction(offset)) {\r\n            offset = offset.call(this, options)\r\n        }\r\n        return this._normalizeCursorOffset(offset)\r\n    },\r\n    _calculateElementOffset: function(options) {\r\n        var elementOffset;\r\n        var dragElementOffset;\r\n        var event = options.event;\r\n        var $element = $(options.itemElement);\r\n        var $dragElement = $(options.dragElement);\r\n        var isCloned = this._dragElementIsCloned();\r\n        var cursorOffset = this.option(\"cursorOffset\");\r\n        var normalizedCursorOffset = {\r\n            left: 0,\r\n            top: 0\r\n        };\r\n        var currentLocate = this._initialLocate = locate($dragElement);\r\n        if (isCloned || options.initialOffset || cursorOffset) {\r\n            elementOffset = options.initialOffset || $element.offset();\r\n            if (cursorOffset) {\r\n                normalizedCursorOffset = this._getNormalizedCursorOffset(cursorOffset, options);\r\n                if (isFinite(normalizedCursorOffset.left)) {\r\n                    elementOffset.left = event.pageX\r\n                }\r\n                if (isFinite(normalizedCursorOffset.top)) {\r\n                    elementOffset.top = event.pageY\r\n                }\r\n            }\r\n            dragElementOffset = $dragElement.offset();\r\n            elementOffset.top -= dragElementOffset.top + (normalizedCursorOffset.top || 0) - currentLocate.top;\r\n            elementOffset.left -= dragElementOffset.left + (normalizedCursorOffset.left || 0) - currentLocate.left\r\n        }\r\n        return elementOffset\r\n    },\r\n    _initPosition: function(options) {\r\n        var $dragElement = $(options.dragElement);\r\n        var elementOffset = this._calculateElementOffset(options);\r\n        if (elementOffset) {\r\n            this._move(elementOffset, $dragElement)\r\n        }\r\n        this._startPosition = locate($dragElement)\r\n    },\r\n    _startAnimator: function() {\r\n        if (!this._scrollAnimator.inProgress()) {\r\n            this._scrollAnimator.start()\r\n        }\r\n    },\r\n    _stopAnimator: function() {\r\n        this._scrollAnimator.stop()\r\n    },\r\n    _addWidgetPrefix: function(className) {\r\n        var componentName = this.NAME;\r\n        return dasherize(componentName) + (className ? \"-\" + className : \"\")\r\n    },\r\n    _getItemsSelector: function() {\r\n        return this.option(\"filter\") || \"\"\r\n    },\r\n    _$content: function() {\r\n        var $element = this.$element();\r\n        var $wrapper = $element.children(\".dx-template-wrapper\");\r\n        return $wrapper.length ? $wrapper : $element\r\n    },\r\n    _attachEventHandlers: function() {\r\n        if (this.option(\"disabled\")) {\r\n            return\r\n        }\r\n        var $element = this._$content();\r\n        var itemsSelector = this._getItemsSelector();\r\n        var allowMoveByClick = this.option(\"allowMoveByClick\");\r\n        var data = {\r\n            direction: this.option(\"dragDirection\"),\r\n            immediate: this.option(\"immediate\"),\r\n            checkDropTarget: ($target, event) => {\r\n                var targetGroup = this.option(\"group\");\r\n                var sourceGroup = this._getSourceDraggable().option(\"group\");\r\n                var $scrollable = this._getScrollable($target);\r\n                if (this._verticalScrollHelper.isOutsideScrollable($scrollable, event) || this._horizontalScrollHelper.isOutsideScrollable($scrollable, event)) {\r\n                    return false\r\n                }\r\n                return sourceGroup && sourceGroup === targetGroup\r\n            }\r\n        };\r\n        if (allowMoveByClick) {\r\n            $element = this._getArea();\r\n            eventsEngine.on($element, POINTERDOWN_EVENT_NAME, data, this._pointerDownHandler.bind(this))\r\n        }\r\n        if (\">\" === itemsSelector[0]) {\r\n            itemsSelector = itemsSelector.slice(1)\r\n        }\r\n        eventsEngine.on($element, DRAGSTART_EVENT_NAME, itemsSelector, data, this._dragStartHandler.bind(this));\r\n        eventsEngine.on($element, DRAG_EVENT_NAME, data, this._dragMoveHandler.bind(this));\r\n        eventsEngine.on($element, DRAGEND_EVENT_NAME, data, this._dragEndHandler.bind(this));\r\n        eventsEngine.on($element, DRAG_ENTER_EVENT_NAME, data, this._dragEnterHandler.bind(this));\r\n        eventsEngine.on($element, DRAGEND_LEAVE_EVENT_NAME, data, this._dragLeaveHandler.bind(this))\r\n    },\r\n    _dragElementIsCloned: function() {\r\n        return this._$dragElement && this._$dragElement.hasClass(this._addWidgetPrefix(CLONE_CLASS))\r\n    },\r\n    _getDragTemplateArgs: function($element, $container) {\r\n        return {\r\n            container: getPublicElement($container),\r\n            model: {\r\n                itemData: this.option(\"itemData\"),\r\n                itemElement: getPublicElement($element)\r\n            }\r\n        }\r\n    },\r\n    _createDragElement: function($element) {\r\n        var result = $element;\r\n        var clone = this.option(\"clone\");\r\n        var $container = this._getContainer();\r\n        var template = this.option(\"dragTemplate\");\r\n        if (template) {\r\n            template = this._getTemplate(template);\r\n            result = $(\"<div>\").appendTo($container);\r\n            template.render(this._getDragTemplateArgs($element, result))\r\n        } else if (clone) {\r\n            result = $(\"<div>\").appendTo($container);\r\n            $element.clone().css({\r\n                width: $element.css(\"width\"),\r\n                height: $element.css(\"height\")\r\n            }).appendTo(result)\r\n        }\r\n        return result.toggleClass(this._addWidgetPrefix(CLONE_CLASS), result.get(0) !== $element.get(0)).toggleClass(\"dx-rtl\", this.option(\"rtlEnabled\"))\r\n    },\r\n    _resetDragElement: function() {\r\n        if (this._dragElementIsCloned()) {\r\n            this._$dragElement.remove()\r\n        } else {\r\n            this._toggleDraggingClass(false)\r\n        }\r\n        this._$dragElement = null\r\n    },\r\n    _resetSourceElement: function() {\r\n        this._toggleDragSourceClass(false);\r\n        this._$sourceElement = null\r\n    },\r\n    _detachEventHandlers: function() {\r\n        eventsEngine.off(this._$content(), \".\" + DRAGGABLE);\r\n        eventsEngine.off(this._getArea(), \".\" + DRAGGABLE)\r\n    },\r\n    _move: function(position, $element) {\r\n        move($element || this._$dragElement, position)\r\n    },\r\n    _getDraggableElement: function(e) {\r\n        var $sourceElement = this._getSourceElement();\r\n        if ($sourceElement) {\r\n            return $sourceElement\r\n        }\r\n        var allowMoveByClick = this.option(\"allowMoveByClick\");\r\n        if (allowMoveByClick) {\r\n            return this.$element()\r\n        }\r\n        var $target = $(e && e.target);\r\n        var itemsSelector = this._getItemsSelector();\r\n        if (\">\" === itemsSelector[0]) {\r\n            var $items = this._$content().find(itemsSelector);\r\n            if (!$items.is($target)) {\r\n                $target = $target.closest($items)\r\n            }\r\n        }\r\n        return $target\r\n    },\r\n    _getSourceElement: function() {\r\n        var draggable = this._getSourceDraggable();\r\n        return draggable._$sourceElement\r\n    },\r\n    _pointerDownHandler: function(e) {\r\n        if (needSkipEvent(e)) {\r\n            return\r\n        }\r\n        var position = {};\r\n        var $element = this.$element();\r\n        var dragDirection = this.option(\"dragDirection\");\r\n        if (\"horizontal\" === dragDirection || \"both\" === dragDirection) {\r\n            position.left = e.pageX - $element.offset().left + locate($element).left - getWidth($element) / 2\r\n        }\r\n        if (\"vertical\" === dragDirection || \"both\" === dragDirection) {\r\n            position.top = e.pageY - $element.offset().top + locate($element).top - getHeight($element) / 2\r\n        }\r\n        this._move(position, $element);\r\n        this._getAction(\"onDragMove\")(this._getEventArgs(e))\r\n    },\r\n    _isValidElement: function(event, $element) {\r\n        var handle = this.option(\"handle\");\r\n        var $target = $(event.originalEvent && event.originalEvent.target);\r\n        if (handle && !$target.closest(handle).length) {\r\n            return false\r\n        }\r\n        if (!$element.length) {\r\n            return false\r\n        }\r\n        return !$element.is(\".dx-state-disabled, .dx-state-disabled *\")\r\n    },\r\n    _dragStartHandler: function(e) {\r\n        var $element = this._getDraggableElement(e);\r\n        if (!this._isValidElement(e, $element)) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n        if (this._$sourceElement) {\r\n            return\r\n        }\r\n        var dragStartArgs = this._getDragStartArgs(e, $element);\r\n        this._getAction(\"onDragStart\")(dragStartArgs);\r\n        if (dragStartArgs.cancel) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n        this.option(\"itemData\", dragStartArgs.itemData);\r\n        this._setSourceDraggable();\r\n        this._$sourceElement = $element;\r\n        var initialOffset = $element.offset();\r\n        var $dragElement = this._$dragElement = this._createDragElement($element);\r\n        this._toggleDraggingClass(true);\r\n        this._toggleDragSourceClass(true);\r\n        this._setGestureCoverCursor($dragElement.children());\r\n        var isFixedPosition = \"fixed\" === $dragElement.css(\"position\");\r\n        this._initPosition(extend({}, dragStartArgs, {\r\n            dragElement: $dragElement.get(0),\r\n            initialOffset: isFixedPosition && initialOffset\r\n        }));\r\n        var $area = this._getArea();\r\n        var areaOffset = this._getAreaOffset($area);\r\n        var boundOffset = this._getBoundOffset();\r\n        var areaWidth = getOuterWidth($area);\r\n        var areaHeight = getOuterHeight($area);\r\n        var elementWidth = getWidth($dragElement);\r\n        var elementHeight = getHeight($dragElement);\r\n        var startOffset_left = $dragElement.offset().left - areaOffset.left,\r\n            startOffset_top = $dragElement.offset().top - areaOffset.top;\r\n        if ($area.length) {\r\n            e.maxLeftOffset = startOffset_left - boundOffset.left;\r\n            e.maxRightOffset = areaWidth - startOffset_left - elementWidth - boundOffset.right;\r\n            e.maxTopOffset = startOffset_top - boundOffset.top;\r\n            e.maxBottomOffset = areaHeight - startOffset_top - elementHeight - boundOffset.bottom\r\n        }\r\n        if (this.option(\"autoScroll\")) {\r\n            this._startAnimator()\r\n        }\r\n    },\r\n    _getAreaOffset: function($area) {\r\n        var offset = $area && positionUtils.offset($area);\r\n        return offset ? offset : {\r\n            left: 0,\r\n            top: 0\r\n        }\r\n    },\r\n    _toggleDraggingClass: function(value) {\r\n        this._$dragElement && this._$dragElement.toggleClass(this._addWidgetPrefix(\"dragging\"), value)\r\n    },\r\n    _toggleDragSourceClass: function(value, $element) {\r\n        var $sourceElement = $element || this._$sourceElement;\r\n        $sourceElement && $sourceElement.toggleClass(this._addWidgetPrefix(\"source\"), value)\r\n    },\r\n    _setGestureCoverCursor: function($element) {\r\n        $(\".\".concat(GESTURE_COVER_CLASS)).css(\"cursor\", $element.css(\"cursor\"))\r\n    },\r\n    _getBoundOffset: function() {\r\n        var boundOffset = this.option(\"boundOffset\");\r\n        if (isFunction(boundOffset)) {\r\n            boundOffset = boundOffset.call(this)\r\n        }\r\n        return quadToObject(boundOffset)\r\n    },\r\n    _getArea: function() {\r\n        var area = this.option(\"boundary\");\r\n        if (isFunction(area)) {\r\n            area = area.call(this)\r\n        }\r\n        return $(area)\r\n    },\r\n    _getContainer: function() {\r\n        var container = this.option(\"container\");\r\n        if (void 0 === container) {\r\n            container = viewPort()\r\n        }\r\n        return $(container)\r\n    },\r\n    _dragMoveHandler: function(e, scrollBy) {\r\n        this._dragMoveArgs = e;\r\n        if (!this._$dragElement) {\r\n            e.cancel = true;\r\n            return\r\n        }\r\n        var offset = e.offset;\r\n        var startPosition = this._startPosition;\r\n        this._move({\r\n            left: startPosition.left + offset.x,\r\n            top: startPosition.top + offset.y\r\n        });\r\n        if (!scrollBy) {\r\n            this._updateScrollable(e)\r\n        }\r\n        var eventArgs = this._getEventArgs(e);\r\n        this._getAction(\"onDragMove\")(eventArgs);\r\n        if (true === eventArgs.cancel) {\r\n            return\r\n        }\r\n        var targetDraggable = this._getTargetDraggable();\r\n        targetDraggable.dragMove(e, scrollBy)\r\n    },\r\n    _updateScrollable: function(e) {\r\n        if (this.option(\"autoScroll\")) {\r\n            var mousePosition = getMousePosition(e);\r\n            var allObjects = domAdapter.elementsFromPoint(mousePosition.x, mousePosition.y);\r\n            this._verticalScrollHelper.updateScrollable(allObjects, mousePosition);\r\n            this._horizontalScrollHelper.updateScrollable(allObjects, mousePosition)\r\n        }\r\n    },\r\n    _getScrollable: function($element) {\r\n        var $scrollable;\r\n        $element.parents().toArray().some(parent => {\r\n            var $parent = $(parent);\r\n            if (this._horizontalScrollHelper.isScrollable($parent) || this._verticalScrollHelper.isScrollable($parent)) {\r\n                $scrollable = $parent;\r\n                return true\r\n            }\r\n        });\r\n        return $scrollable\r\n    },\r\n    _defaultActionArgs: function() {\r\n        var args = this.callBase.apply(this, arguments);\r\n        var component = this.option(\"component\");\r\n        if (component) {\r\n            args.component = component;\r\n            args.element = component.element()\r\n        }\r\n        return args\r\n    },\r\n    _getEventArgs: function(e) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        return {\r\n            event: e,\r\n            itemData: sourceDraggable.option(\"itemData\"),\r\n            itemElement: getPublicElement(sourceDraggable._$sourceElement),\r\n            fromComponent: sourceDraggable.option(\"component\") || sourceDraggable,\r\n            toComponent: targetDraggable.option(\"component\") || targetDraggable,\r\n            fromData: sourceDraggable.option(\"data\"),\r\n            toData: targetDraggable.option(\"data\")\r\n        }\r\n    },\r\n    _getDragStartArgs: function(e, $itemElement) {\r\n        var args = this._getEventArgs(e);\r\n        return {\r\n            event: args.event,\r\n            itemData: args.itemData,\r\n            itemElement: $itemElement,\r\n            fromData: args.fromData\r\n        }\r\n    },\r\n    _revertItemToInitialPosition: function() {\r\n        !this._dragElementIsCloned() && this._move(this._initialLocate, this._$sourceElement)\r\n    },\r\n    _dragEndHandler: function(e) {\r\n        var d = new Deferred;\r\n        var dragEndEventArgs = this._getEventArgs(e);\r\n        var dropEventArgs = this._getEventArgs(e);\r\n        var targetDraggable = this._getTargetDraggable();\r\n        var needRevertPosition = true;\r\n        try {\r\n            this._getAction(\"onDragEnd\")(dragEndEventArgs)\r\n        } finally {\r\n            when(fromPromise(dragEndEventArgs.cancel)).done(cancel => {\r\n                if (!cancel) {\r\n                    if (targetDraggable !== this) {\r\n                        targetDraggable._getAction(\"onDrop\")(dropEventArgs)\r\n                    }\r\n                    if (!dropEventArgs.cancel) {\r\n                        needRevertPosition = false;\r\n                        when(fromPromise(targetDraggable.dragEnd(dragEndEventArgs))).always(d.resolve);\r\n                        return\r\n                    }\r\n                }\r\n                d.resolve()\r\n            }).fail(d.resolve);\r\n            d.done(() => {\r\n                if (needRevertPosition) {\r\n                    this._revertItemToInitialPosition()\r\n                }\r\n                this.reset();\r\n                targetDraggable.reset();\r\n                this._stopAnimator();\r\n                this._horizontalScrollHelper.reset();\r\n                this._verticalScrollHelper.reset();\r\n                this._resetDragElement();\r\n                this._resetSourceElement();\r\n                this._resetTargetDraggable();\r\n                this._resetSourceDraggable()\r\n            })\r\n        }\r\n    },\r\n    _isTargetOverAnotherDraggable: function(e) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        if (this === sourceDraggable) {\r\n            return false\r\n        }\r\n        var $dragElement = sourceDraggable._$dragElement;\r\n        var $sourceDraggableElement = sourceDraggable.$element();\r\n        var $targetDraggableElement = this.$element();\r\n        var mousePosition = getMousePosition(e);\r\n        var elements = domAdapter.elementsFromPoint(mousePosition.x, mousePosition.y);\r\n        var firstWidgetElement = elements.filter(element => {\r\n            var $element = $(element);\r\n            if ($element.hasClass(this._addWidgetPrefix())) {\r\n                return !$element.closest($dragElement).length\r\n            }\r\n        })[0];\r\n        var $sourceElement = this._getSourceElement();\r\n        var isTargetOverItself = firstWidgetElement === $sourceDraggableElement.get(0);\r\n        var isTargetOverNestedDraggable = $(firstWidgetElement).closest($sourceElement).length;\r\n        return !firstWidgetElement || firstWidgetElement === $targetDraggableElement.get(0) && !isTargetOverItself && !isTargetOverNestedDraggable\r\n    },\r\n    _dragEnterHandler: function(e) {\r\n        this._fireDragEnterEvent(e);\r\n        if (this._isTargetOverAnotherDraggable(e)) {\r\n            this._setTargetDraggable()\r\n        }\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        sourceDraggable.dragEnter(e)\r\n    },\r\n    _dragLeaveHandler: function(e) {\r\n        this._fireDragLeaveEvent(e);\r\n        this._resetTargetDraggable();\r\n        if (this !== this._getSourceDraggable()) {\r\n            this.reset()\r\n        }\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        sourceDraggable.dragLeave(e)\r\n    },\r\n    _getAction: function(name) {\r\n        return this[\"_\" + name + \"Action\"] || this._createActionByOption(name)\r\n    },\r\n    _getAnonymousTemplateName: function() {\r\n        return ANONYMOUS_TEMPLATE_NAME\r\n    },\r\n    _initTemplates: function() {\r\n        if (!this.option(\"contentTemplate\")) {\r\n            return\r\n        }\r\n        this._templateManager.addDefaultTemplates({\r\n            content: new EmptyTemplate\r\n        });\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this.$element().addClass(this._addWidgetPrefix());\r\n        var transclude = this._templateManager.anonymousTemplateName === this.option(\"contentTemplate\");\r\n        var template = this._getTemplateByOption(\"contentTemplate\");\r\n        if (template) {\r\n            $(template.render({\r\n                container: this.element(),\r\n                transclude: transclude\r\n            }))\r\n        }\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"onDragStart\":\r\n            case \"onDragMove\":\r\n            case \"onDragEnd\":\r\n            case \"onDrop\":\r\n            case \"onDragEnter\":\r\n            case \"onDragLeave\":\r\n                this[\"_\" + name + \"Action\"] = this._createActionByOption(name);\r\n                break;\r\n            case \"dragTemplate\":\r\n            case \"contentTemplate\":\r\n            case \"container\":\r\n            case \"clone\":\r\n                break;\r\n            case \"allowMoveByClick\":\r\n            case \"dragDirection\":\r\n            case \"disabled\":\r\n            case \"boundary\":\r\n            case \"filter\":\r\n            case \"immediate\":\r\n                this._resetDragElement();\r\n                this._detachEventHandlers();\r\n                this._attachEventHandlers();\r\n                break;\r\n            case \"autoScroll\":\r\n                this._verticalScrollHelper.reset();\r\n                this._horizontalScrollHelper.reset();\r\n                break;\r\n            case \"scrollSensitivity\":\r\n            case \"scrollSpeed\":\r\n            case \"boundOffset\":\r\n            case \"handle\":\r\n            case \"group\":\r\n            case \"data\":\r\n            case \"itemData\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getTargetDraggable: function() {\r\n        return targetDraggable || this\r\n    },\r\n    _getSourceDraggable: function() {\r\n        return sourceDraggable || this\r\n    },\r\n    _setTargetDraggable: function() {\r\n        var currentGroup = this.option(\"group\");\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        if (currentGroup && currentGroup === sourceDraggable.option(\"group\")) {\r\n            targetDraggable = this\r\n        }\r\n    },\r\n    _setSourceDraggable: function() {\r\n        sourceDraggable = this\r\n    },\r\n    _resetSourceDraggable: function() {\r\n        sourceDraggable = null\r\n    },\r\n    _resetTargetDraggable: function() {\r\n        targetDraggable = null\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._detachEventHandlers();\r\n        this._resetDragElement();\r\n        this._resetTargetDraggable();\r\n        this._resetSourceDraggable();\r\n        this._$sourceElement = null;\r\n        this._stopAnimator()\r\n    },\r\n    _fireDragEnterEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onDragEnter\")(args)\r\n    },\r\n    _fireDragLeaveEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onDragLeave\")(args)\r\n    }\r\n});\r\nregisterComponent(DRAGGABLE, Draggable);\r\nexport default Draggable;\r\n","/**\r\n * DevExtreme (esm/ui/sortable.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight,\r\n    getOuterHeight,\r\n    getOuterWidth,\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport Draggable from \"./draggable\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    getWindow\r\n} from \"../core/utils/window\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../core/utils/position\";\r\nimport {\r\n    resetPosition\r\n} from \"../animation/translator\";\r\nimport fx from \"../animation/fx\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar window = getWindow();\r\nvar SORTABLE = \"dxSortable\";\r\nvar PLACEHOLDER_CLASS = \"placeholder\";\r\nvar CLONE_CLASS = \"clone\";\r\nvar isElementVisible = itemElement => $(itemElement).is(\":visible\");\r\nvar animate = (element, config) => {\r\n    var _config$to, _config$to2;\r\n    if (!element) {\r\n        return\r\n    }\r\n    var left = (null === (_config$to = config.to) || void 0 === _config$to ? void 0 : _config$to.left) || 0;\r\n    var top = (null === (_config$to2 = config.to) || void 0 === _config$to2 ? void 0 : _config$to2.top) || 0;\r\n    element.style.transform = \"translate(\".concat(left, \"px,\").concat(top, \"px)\");\r\n    element.style.transition = fx.off ? \"\" : \"transform \".concat(config.duration, \"ms \").concat(config.easing)\r\n};\r\nvar stopAnimation = element => {\r\n    if (!element) {\r\n        return\r\n    }\r\n    element.style.transform = \"\";\r\n    element.style.transition = \"\"\r\n};\r\n\r\nfunction getScrollableBoundary($scrollable) {\r\n    var offset = $scrollable.offset();\r\n    var style = $scrollable[0].style;\r\n    var paddingLeft = parseFloat(style.paddingLeft) || 0;\r\n    var paddingRight = parseFloat(style.paddingRight) || 0;\r\n    var paddingTop = parseFloat(style.paddingTop) || 0;\r\n    var width = $scrollable[0].clientWidth - (paddingLeft + paddingRight);\r\n    var height = getHeight($scrollable);\r\n    var left = offset.left + paddingLeft;\r\n    var top = offset.top + paddingTop;\r\n    return {\r\n        left: left,\r\n        right: left + width,\r\n        top: top,\r\n        bottom: top + height\r\n    }\r\n}\r\nvar Sortable = Draggable.inherit({\r\n    _init: function() {\r\n        this.callBase();\r\n        this._sourceScrollHandler = this._handleSourceScroll.bind(this);\r\n        this._sourceScrollableInfo = null\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            clone: true,\r\n            filter: \"> *\",\r\n            itemOrientation: \"vertical\",\r\n            dropFeedbackMode: \"push\",\r\n            allowDropInsideItem: false,\r\n            allowReordering: true,\r\n            moveItemOnDrop: false,\r\n            onDragChange: null,\r\n            onAdd: null,\r\n            onRemove: null,\r\n            onReorder: null,\r\n            onPlaceholderPrepared: null,\r\n            animation: {\r\n                type: \"slide\",\r\n                duration: 300,\r\n                easing: \"ease\"\r\n            },\r\n            fromIndex: null,\r\n            toIndex: null,\r\n            dropInsideItem: false,\r\n            itemPoints: null,\r\n            fromIndexOffset: 0,\r\n            offset: 0,\r\n            autoUpdate: false,\r\n            draggableElementSize: 0\r\n        })\r\n    },\r\n    reset: function() {\r\n        this.option({\r\n            dropInsideItem: false,\r\n            toIndex: null,\r\n            fromIndex: null,\r\n            itemPoints: null,\r\n            fromIndexOffset: 0,\r\n            draggableElementSize: 0\r\n        });\r\n        if (this._$placeholderElement) {\r\n            this._$placeholderElement.remove()\r\n        }\r\n        this._$placeholderElement = null;\r\n        if (!this._isIndicateMode() && this._$modifiedItem) {\r\n            this._$modifiedItem.css(\"marginBottom\", this._modifiedItemMargin);\r\n            this._$modifiedItem = null\r\n        }\r\n    },\r\n    _getPrevVisibleItem: function(items, index) {\r\n        return items.slice(0, index).reverse().filter(isElementVisible)[0]\r\n    },\r\n    _dragStartHandler: function(e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (true === e.cancel) {\r\n            return\r\n        }\r\n        var $sourceElement = this._getSourceElement();\r\n        this._updateItemPoints();\r\n        this._subscribeToSourceScroll(e);\r\n        this.option(\"fromIndex\", this._getElementIndex($sourceElement));\r\n        this.option(\"fromIndexOffset\", this.option(\"offset\"))\r\n    },\r\n    _subscribeToSourceScroll: function(e) {\r\n        var $scrollable = this._getScrollable($(e.target));\r\n        if ($scrollable) {\r\n            this._sourceScrollableInfo = {\r\n                element: $scrollable,\r\n                scrollLeft: $scrollable.scrollLeft(),\r\n                scrollTop: $scrollable.scrollTop()\r\n            };\r\n            eventsEngine.on($scrollable, \"scroll\", this._sourceScrollHandler)\r\n        }\r\n    },\r\n    _unsubscribeFromSourceScroll: function() {\r\n        if (this._sourceScrollableInfo) {\r\n            eventsEngine.off(this._sourceScrollableInfo.element, \"scroll\", this._sourceScrollHandler);\r\n            this._sourceScrollableInfo = null\r\n        }\r\n    },\r\n    _handleSourceScroll: function(e) {\r\n        var sourceScrollableInfo = this._sourceScrollableInfo;\r\n        if (sourceScrollableInfo) {\r\n            [\"scrollLeft\", \"scrollTop\"].forEach(scrollProp => {\r\n                if (e.target[scrollProp] !== sourceScrollableInfo[scrollProp]) {\r\n                    var scrollBy = e.target[scrollProp] - sourceScrollableInfo[scrollProp];\r\n                    this._correctItemPoints(scrollBy);\r\n                    this._movePlaceholder();\r\n                    sourceScrollableInfo[scrollProp] = e.target[scrollProp]\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _dragEnterHandler: function(e) {\r\n        this.callBase.apply(this, arguments);\r\n        this._subscribeToSourceScroll(e);\r\n        if (this === this._getSourceDraggable()) {\r\n            return\r\n        }\r\n        this._updateItemPoints();\r\n        this.option(\"fromIndex\", -1);\r\n        if (!this._isIndicateMode()) {\r\n            var itemPoints = this.option(\"itemPoints\");\r\n            var lastItemPoint = itemPoints[itemPoints.length - 1];\r\n            if (lastItemPoint) {\r\n                var $element = this.$element();\r\n                var $sourceElement = this._getSourceElement();\r\n                var isVertical = this._isVerticalOrientation();\r\n                var sourceElementSize = isVertical ? getOuterHeight($sourceElement, true) : getOuterWidth($sourceElement, true);\r\n                var scrollSize = $element.get(0)[isVertical ? \"scrollHeight\" : \"scrollWidth\"];\r\n                var scrollPosition = $element.get(0)[isVertical ? \"scrollTop\" : \"scrollLeft\"];\r\n                var positionProp = isVertical ? \"top\" : \"left\";\r\n                var lastPointPosition = lastItemPoint[positionProp];\r\n                var elementPosition = $element.offset()[positionProp];\r\n                var freeSize = elementPosition + scrollSize - scrollPosition - lastPointPosition;\r\n                if (freeSize < sourceElementSize) {\r\n                    if (isVertical) {\r\n                        var items = this._getItems();\r\n                        var $lastItem = $(this._getPrevVisibleItem(items));\r\n                        this._$modifiedItem = $lastItem;\r\n                        this._modifiedItemMargin = $lastItem.get(0).style.marginBottom;\r\n                        $lastItem.css(\"marginBottom\", sourceElementSize - freeSize);\r\n                        var $sortable = $lastItem.closest(\".dx-sortable\");\r\n                        var sortable = $sortable.data(\"dxScrollable\") || $sortable.data(\"dxScrollView\");\r\n                        sortable && sortable.update()\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _dragLeaveHandler: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._unsubscribeFromSourceScroll()\r\n    },\r\n    dragEnter: function() {\r\n        if (this !== this._getTargetDraggable()) {\r\n            this.option(\"toIndex\", -1)\r\n        }\r\n    },\r\n    dragLeave: function() {\r\n        if (this !== this._getTargetDraggable()) {\r\n            this.option(\"toIndex\", this.option(\"fromIndex\"))\r\n        }\r\n    },\r\n    _allowDrop: function(event) {\r\n        var targetDraggable = this._getTargetDraggable();\r\n        var $targetDraggable = targetDraggable.$element();\r\n        var $scrollable = this._getScrollable($targetDraggable);\r\n        if ($scrollable) {\r\n            var {\r\n                left: left,\r\n                right: right,\r\n                top: top,\r\n                bottom: bottom\r\n            } = getScrollableBoundary($scrollable);\r\n            var toIndex = this.option(\"toIndex\");\r\n            var itemPoints = this.option(\"itemPoints\");\r\n            var itemPoint = null === itemPoints || void 0 === itemPoints ? void 0 : itemPoints.filter(item => item.index === toIndex)[0];\r\n            if (itemPoint && void 0 !== itemPoint.top) {\r\n                var isVertical = this._isVerticalOrientation();\r\n                if (isVertical) {\r\n                    return top <= Math.ceil(itemPoint.top) && Math.floor(itemPoint.top) <= bottom\r\n                } else {\r\n                    return left <= Math.ceil(itemPoint.left) && Math.floor(itemPoint.left) <= right\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    dragEnd: function(sourceEvent) {\r\n        this._unsubscribeFromSourceScroll();\r\n        var $sourceElement = this._getSourceElement();\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var isSourceDraggable = sourceDraggable.NAME !== this.NAME;\r\n        var toIndex = this.option(\"toIndex\");\r\n        var event = sourceEvent.event;\r\n        var allowDrop = this._allowDrop(event);\r\n        if (null !== toIndex && toIndex >= 0 && allowDrop) {\r\n            var cancelAdd;\r\n            var cancelRemove;\r\n            if (sourceDraggable !== this) {\r\n                cancelAdd = this._fireAddEvent(event);\r\n                if (!cancelAdd) {\r\n                    cancelRemove = this._fireRemoveEvent(event)\r\n                }\r\n            }\r\n            if (isSourceDraggable) {\r\n                resetPosition($sourceElement)\r\n            }\r\n            if (this.option(\"moveItemOnDrop\")) {\r\n                !cancelAdd && this._moveItem($sourceElement, toIndex, cancelRemove)\r\n            }\r\n            if (sourceDraggable === this) {\r\n                return this._fireReorderEvent(event)\r\n            }\r\n        }\r\n        return (new Deferred).resolve()\r\n    },\r\n    dragMove: function(e) {\r\n        var itemPoints = this.option(\"itemPoints\");\r\n        if (!itemPoints) {\r\n            return\r\n        }\r\n        var isVertical = this._isVerticalOrientation();\r\n        var axisName = isVertical ? \"top\" : \"left\";\r\n        var cursorPosition = isVertical ? e.pageY : e.pageX;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var itemPoint;\r\n        for (var i = itemPoints.length - 1; i >= 0; i--) {\r\n            var centerPosition = itemPoints[i + 1] && (itemPoints[i][axisName] + itemPoints[i + 1][axisName]) / 2;\r\n            if ((!isVertical && rtlEnabled ? cursorPosition > centerPosition : centerPosition > cursorPosition) || void 0 === centerPosition) {\r\n                itemPoint = itemPoints[i]\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        if (itemPoint) {\r\n            this._updatePlaceholderPosition(e, itemPoint);\r\n            if (this._verticalScrollHelper.isScrolling() && this._isIndicateMode()) {\r\n                this._movePlaceholder()\r\n            }\r\n        }\r\n    },\r\n    _isIndicateMode: function() {\r\n        return \"indicate\" === this.option(\"dropFeedbackMode\") || this.option(\"allowDropInsideItem\")\r\n    },\r\n    _createPlaceholder: function() {\r\n        var $placeholderContainer;\r\n        if (this._isIndicateMode()) {\r\n            $placeholderContainer = $(\"<div>\").addClass(this._addWidgetPrefix(PLACEHOLDER_CLASS)).insertBefore(this._getSourceDraggable()._$dragElement)\r\n        }\r\n        this._$placeholderElement = $placeholderContainer;\r\n        return $placeholderContainer\r\n    },\r\n    _getItems: function() {\r\n        var itemsSelector = this._getItemsSelector();\r\n        return this._$content().find(itemsSelector).not(\".\" + this._addWidgetPrefix(PLACEHOLDER_CLASS)).not(\".\" + this._addWidgetPrefix(CLONE_CLASS)).toArray()\r\n    },\r\n    _allowReordering: function() {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        return sourceDraggable !== targetDraggable || this.option(\"allowReordering\")\r\n    },\r\n    _isValidPoint: function(visibleIndex, draggableVisibleIndex, dropInsideItem) {\r\n        var allowDropInsideItem = this.option(\"allowDropInsideItem\");\r\n        var allowReordering = dropInsideItem || this._allowReordering();\r\n        if (!allowReordering && (0 !== visibleIndex || !allowDropInsideItem)) {\r\n            return false\r\n        }\r\n        if (!this._isIndicateMode()) {\r\n            return true\r\n        }\r\n        return -1 === draggableVisibleIndex || visibleIndex !== draggableVisibleIndex && (dropInsideItem || visibleIndex !== draggableVisibleIndex + 1)\r\n    },\r\n    _getItemPoints: function() {\r\n        var result = [];\r\n        var $item;\r\n        var offset;\r\n        var itemWidth;\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var isVertical = this._isVerticalOrientation();\r\n        var itemElements = this._getItems();\r\n        var visibleItemElements = itemElements.filter(isElementVisible);\r\n        var visibleItemCount = visibleItemElements.length;\r\n        var $draggableItem = this._getDraggableElement();\r\n        var draggableVisibleIndex = visibleItemElements.indexOf($draggableItem.get(0));\r\n        if (visibleItemCount) {\r\n            for (var i = 0; i <= visibleItemCount; i++) {\r\n                var needCorrectLeftPosition = !isVertical && rtlEnabled ^ i === visibleItemCount;\r\n                var needCorrectTopPosition = isVertical && i === visibleItemCount;\r\n                if (i < visibleItemCount) {\r\n                    $item = $(visibleItemElements[i]);\r\n                    offset = $item.offset();\r\n                    itemWidth = getOuterWidth($item)\r\n                }\r\n                result.push({\r\n                    dropInsideItem: false,\r\n                    left: offset.left + (needCorrectLeftPosition ? itemWidth : 0),\r\n                    top: offset.top + (needCorrectTopPosition ? result[i - 1].height : 0),\r\n                    index: i === visibleItemCount ? itemElements.length : itemElements.indexOf($item.get(0)),\r\n                    $item: $item,\r\n                    width: getOuterWidth($item),\r\n                    height: getOuterHeight($item),\r\n                    isValid: this._isValidPoint(i, draggableVisibleIndex)\r\n                })\r\n            }\r\n            if (this.option(\"allowDropInsideItem\")) {\r\n                var points = result;\r\n                result = [];\r\n                for (var _i = 0; _i < points.length; _i++) {\r\n                    result.push(points[_i]);\r\n                    if (points[_i + 1]) {\r\n                        result.push(extend({}, points[_i], {\r\n                            dropInsideItem: true,\r\n                            top: Math.floor((points[_i].top + points[_i + 1].top) / 2),\r\n                            left: Math.floor((points[_i].left + points[_i + 1].left) / 2),\r\n                            isValid: this._isValidPoint(_i, draggableVisibleIndex, true)\r\n                        }))\r\n                    }\r\n                }\r\n            }\r\n        } else {\r\n            result.push({\r\n                dropInsideItem: false,\r\n                index: 0,\r\n                isValid: true\r\n            })\r\n        }\r\n        return result\r\n    },\r\n    _updateItemPoints: function(forceUpdate) {\r\n        if (forceUpdate || this.option(\"autoUpdate\") || !this.option(\"itemPoints\")) {\r\n            this.option(\"itemPoints\", this._getItemPoints())\r\n        }\r\n    },\r\n    _correctItemPoints: function(scrollBy) {\r\n        var itemPoints = this.option(\"itemPoints\");\r\n        if (scrollBy && itemPoints && !this.option(\"autoUpdate\")) {\r\n            var isVertical = this._isVerticalOrientation();\r\n            var positionPropName = isVertical ? \"top\" : \"left\";\r\n            itemPoints.forEach(itemPoint => {\r\n                itemPoint[positionPropName] -= scrollBy\r\n            })\r\n        }\r\n    },\r\n    _getElementIndex: function($itemElement) {\r\n        return this._getItems().indexOf($itemElement.get(0))\r\n    },\r\n    _getDragTemplateArgs: function($element) {\r\n        var args = this.callBase.apply(this, arguments);\r\n        args.model.fromIndex = this._getElementIndex($element);\r\n        return args\r\n    },\r\n    _togglePlaceholder: function(value) {\r\n        this._$placeholderElement && this._$placeholderElement.toggle(value)\r\n    },\r\n    _isVerticalOrientation: function() {\r\n        return \"vertical\" === this.option(\"itemOrientation\")\r\n    },\r\n    _normalizeToIndex: function(toIndex, dropInsideItem) {\r\n        var isAnotherDraggable = this._getSourceDraggable() !== this._getTargetDraggable();\r\n        var fromIndex = this.option(\"fromIndex\");\r\n        if (null === toIndex) {\r\n            return fromIndex\r\n        }\r\n        return Math.max(isAnotherDraggable || fromIndex >= toIndex || dropInsideItem ? toIndex : toIndex - 1, 0)\r\n    },\r\n    _updatePlaceholderPosition: function(e, itemPoint) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var toIndex = this._normalizeToIndex(itemPoint.index, itemPoint.dropInsideItem);\r\n        var eventArgs = extend(this._getEventArgs(e), {\r\n            toIndex: toIndex,\r\n            dropInsideItem: itemPoint.dropInsideItem\r\n        });\r\n        itemPoint.isValid && this._getAction(\"onDragChange\")(eventArgs);\r\n        if (eventArgs.cancel || !itemPoint.isValid) {\r\n            if (!itemPoint.isValid) {\r\n                this.option({\r\n                    dropInsideItem: false,\r\n                    toIndex: null\r\n                })\r\n            }\r\n            return\r\n        }\r\n        this.option({\r\n            dropInsideItem: itemPoint.dropInsideItem,\r\n            toIndex: itemPoint.index\r\n        });\r\n        this._getAction(\"onPlaceholderPrepared\")(extend(this._getEventArgs(e), {\r\n            placeholderElement: getPublicElement(this._$placeholderElement),\r\n            dragElement: getPublicElement(sourceDraggable._$dragElement)\r\n        }));\r\n        this._updateItemPoints()\r\n    },\r\n    _makeWidthCorrection: function($item, width) {\r\n        this._$scrollable = this._getScrollable($item);\r\n        if (this._$scrollable && getWidth(this._$scrollable) < width) {\r\n            var scrollableWidth = getWidth(this._$scrollable);\r\n            var offsetLeft = $item.offset().left - this._$scrollable.offset().left;\r\n            var offsetRight = scrollableWidth - getOuterWidth($item) - offsetLeft;\r\n            if (offsetLeft > 0) {\r\n                width = scrollableWidth - offsetLeft\r\n            } else if (offsetRight > 0) {\r\n                width = scrollableWidth - offsetRight\r\n            } else {\r\n                width = scrollableWidth\r\n            }\r\n        }\r\n        return width\r\n    },\r\n    _updatePlaceholderSizes: function($placeholderElement, itemElement) {\r\n        var dropInsideItem = this.option(\"dropInsideItem\");\r\n        var $item = $(itemElement);\r\n        var isVertical = this._isVerticalOrientation();\r\n        var width = \"\";\r\n        var height = \"\";\r\n        $placeholderElement.toggleClass(this._addWidgetPrefix(\"placeholder-inside\"), dropInsideItem);\r\n        if (isVertical || dropInsideItem) {\r\n            width = getOuterWidth($item)\r\n        }\r\n        if (!isVertical || dropInsideItem) {\r\n            height = getOuterHeight($item)\r\n        }\r\n        width = this._makeWidthCorrection($item, width);\r\n        $placeholderElement.css({\r\n            width: width,\r\n            height: height\r\n        })\r\n    },\r\n    _moveItem: function($itemElement, index, cancelRemove) {\r\n        var $prevTargetItemElement;\r\n        var $itemElements = this._getItems();\r\n        var $targetItemElement = $itemElements[index];\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        if (cancelRemove) {\r\n            $itemElement = $itemElement.clone();\r\n            sourceDraggable._toggleDragSourceClass(false, $itemElement)\r\n        }\r\n        if (!$targetItemElement) {\r\n            $prevTargetItemElement = $itemElements[index - 1]\r\n        }\r\n        this._moveItemCore($itemElement, $targetItemElement, $prevTargetItemElement)\r\n    },\r\n    _moveItemCore: function($targetItem, item, prevItem) {\r\n        if (!item && !prevItem) {\r\n            $targetItem.appendTo(this.$element())\r\n        } else if (prevItem) {\r\n            $targetItem.insertAfter($(prevItem))\r\n        } else {\r\n            $targetItem.insertBefore($(item))\r\n        }\r\n    },\r\n    _getDragStartArgs: function(e, $itemElement) {\r\n        return extend(this.callBase.apply(this, arguments), {\r\n            fromIndex: this._getElementIndex($itemElement)\r\n        })\r\n    },\r\n    _getEventArgs: function(e) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var targetDraggable = this._getTargetDraggable();\r\n        var dropInsideItem = targetDraggable.option(\"dropInsideItem\");\r\n        return extend(this.callBase.apply(this, arguments), {\r\n            fromIndex: sourceDraggable.option(\"fromIndex\"),\r\n            toIndex: this._normalizeToIndex(targetDraggable.option(\"toIndex\"), dropInsideItem),\r\n            dropInsideItem: dropInsideItem\r\n        })\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        switch (name) {\r\n            case \"onDragChange\":\r\n            case \"onPlaceholderPrepared\":\r\n            case \"onAdd\":\r\n            case \"onRemove\":\r\n            case \"onReorder\":\r\n                this[\"_\" + name + \"Action\"] = this._createActionByOption(name);\r\n                break;\r\n            case \"itemOrientation\":\r\n            case \"allowDropInsideItem\":\r\n            case \"moveItemOnDrop\":\r\n            case \"dropFeedbackMode\":\r\n            case \"itemPoints\":\r\n            case \"animation\":\r\n            case \"allowReordering\":\r\n            case \"fromIndexOffset\":\r\n            case \"offset\":\r\n            case \"draggableElementSize\":\r\n            case \"autoUpdate\":\r\n                break;\r\n            case \"fromIndex\":\r\n                [false, true].forEach(isDragSource => {\r\n                    var fromIndex = isDragSource ? args.value : args.previousValue;\r\n                    if (null !== fromIndex) {\r\n                        var $fromElement = $(this._getItems()[fromIndex]);\r\n                        this._toggleDragSourceClass(isDragSource, $fromElement)\r\n                    }\r\n                });\r\n                break;\r\n            case \"dropInsideItem\":\r\n                this._optionChangedDropInsideItem(args);\r\n                break;\r\n            case \"toIndex\":\r\n                this._optionChangedToIndex(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _optionChangedDropInsideItem: function() {\r\n        if (this._isIndicateMode() && this._$placeholderElement) {\r\n            this._movePlaceholder()\r\n        }\r\n    },\r\n    _isPositionVisible: function(position) {\r\n        var $element = this.$element();\r\n        var scrollContainer;\r\n        if (\"hidden\" !== $element.css(\"overflow\")) {\r\n            scrollContainer = $element.get(0)\r\n        } else {\r\n            $element.parents().each((function() {\r\n                if (\"visible\" !== $(this).css(\"overflow\")) {\r\n                    scrollContainer = this;\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        if (scrollContainer) {\r\n            var clientRect = getBoundingRect(scrollContainer);\r\n            var isVerticalOrientation = this._isVerticalOrientation();\r\n            var start = isVerticalOrientation ? \"top\" : \"left\";\r\n            var end = isVerticalOrientation ? \"bottom\" : \"right\";\r\n            var pageOffset = isVerticalOrientation ? window.pageYOffset : window.pageXOffset;\r\n            if (position[start] < clientRect[start] + pageOffset || position[start] > clientRect[end] + pageOffset) {\r\n                return false\r\n            }\r\n        }\r\n        return true\r\n    },\r\n    _optionChangedToIndex: function(args) {\r\n        var toIndex = args.value;\r\n        if (this._isIndicateMode()) {\r\n            var showPlaceholder = null !== toIndex && toIndex >= 0;\r\n            this._togglePlaceholder(showPlaceholder);\r\n            if (showPlaceholder) {\r\n                this._movePlaceholder()\r\n            }\r\n        } else {\r\n            this._moveItems(args.previousValue, args.value, args.fullUpdate)\r\n        }\r\n    },\r\n    update: function() {\r\n        if (null === this.option(\"fromIndex\") && null === this.option(\"toIndex\")) {\r\n            return\r\n        }\r\n        this._updateItemPoints(true);\r\n        this._updateDragSourceClass();\r\n        var toIndex = this.option(\"toIndex\");\r\n        this._optionChangedToIndex({\r\n            value: toIndex,\r\n            fullUpdate: true\r\n        })\r\n    },\r\n    _updateDragSourceClass: function() {\r\n        var fromIndex = this._getActualFromIndex();\r\n        var $fromElement = $(this._getItems()[fromIndex]);\r\n        if ($fromElement.length) {\r\n            this._$sourceElement = $fromElement;\r\n            this._toggleDragSourceClass(true, $fromElement)\r\n        }\r\n    },\r\n    _makeLeftCorrection: function(left, leftMargin) {\r\n        var $scrollable = this._$scrollable;\r\n        if ($scrollable && this._isVerticalOrientation() && $scrollable.scrollLeft() > leftMargin) {\r\n            left += $scrollable.scrollLeft() - leftMargin\r\n        }\r\n        return left\r\n    },\r\n    _movePlaceholder: function() {\r\n        var $placeholderElement = this._$placeholderElement || this._createPlaceholder();\r\n        if (!$placeholderElement) {\r\n            return\r\n        }\r\n        var items = this._getItems();\r\n        var toIndex = this.option(\"toIndex\");\r\n        var isVerticalOrientation = this._isVerticalOrientation();\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        var dropInsideItem = this.option(\"dropInsideItem\");\r\n        var position = null;\r\n        var leftMargin = 0;\r\n        var itemElement = items[toIndex];\r\n        if (itemElement) {\r\n            var $itemElement = $(itemElement);\r\n            position = $itemElement.offset();\r\n            leftMargin = parseFloat($itemElement.css(\"marginLeft\"));\r\n            if (!isVerticalOrientation && rtlEnabled && !dropInsideItem) {\r\n                position.left += getOuterWidth($itemElement, true)\r\n            }\r\n        } else {\r\n            var prevVisibleItemElement = itemElement = this._getPrevVisibleItem(items, toIndex);\r\n            if (prevVisibleItemElement) {\r\n                position = $(prevVisibleItemElement).offset();\r\n                if (isVerticalOrientation) {\r\n                    position.top += getOuterHeight(prevVisibleItemElement, true)\r\n                } else if (!rtlEnabled) {\r\n                    position.left += getOuterWidth(prevVisibleItemElement, true)\r\n                }\r\n            }\r\n        }\r\n        this._updatePlaceholderSizes($placeholderElement, itemElement);\r\n        if (position && !this._isPositionVisible(position)) {\r\n            position = null\r\n        }\r\n        if (position) {\r\n            position.left = this._makeLeftCorrection(position.left, leftMargin);\r\n            this._move(position, $placeholderElement)\r\n        }\r\n        $placeholderElement.toggle(!!position)\r\n    },\r\n    _getPositions: function(items, elementSize, fromIndex, toIndex) {\r\n        var positions = [];\r\n        for (var i = 0; i < items.length; i++) {\r\n            var position = 0;\r\n            if (null === toIndex || null === fromIndex) {\r\n                positions.push(position);\r\n                continue\r\n            }\r\n            if (-1 === fromIndex) {\r\n                if (i >= toIndex) {\r\n                    position = elementSize\r\n                }\r\n            } else if (-1 === toIndex) {\r\n                if (i > fromIndex) {\r\n                    position = -elementSize\r\n                }\r\n            } else if (fromIndex < toIndex) {\r\n                if (i > fromIndex && i < toIndex) {\r\n                    position = -elementSize\r\n                }\r\n            } else if (fromIndex > toIndex) {\r\n                if (i >= toIndex && i < fromIndex) {\r\n                    position = elementSize\r\n                }\r\n            }\r\n            positions.push(position)\r\n        }\r\n        return positions\r\n    },\r\n    _getDraggableElementSize: function(isVerticalOrientation) {\r\n        var $draggableItem = this._getDraggableElement();\r\n        var size = this.option(\"draggableElementSize\");\r\n        if (!size) {\r\n            size = isVerticalOrientation ? (getOuterHeight($draggableItem) + getOuterHeight($draggableItem, true)) / 2 : (getOuterWidth($draggableItem) + getOuterWidth($draggableItem, true)) / 2;\r\n            if (!this.option(\"autoUpdate\")) {\r\n                this.option(\"draggableElementSize\", size)\r\n            }\r\n        }\r\n        return size\r\n    },\r\n    _getActualFromIndex: function() {\r\n        var {\r\n            fromIndex: fromIndex,\r\n            fromIndexOffset: fromIndexOffset,\r\n            offset: offset\r\n        } = this.option();\r\n        return null == fromIndex ? null : fromIndex + fromIndexOffset - offset\r\n    },\r\n    _moveItems: function(prevToIndex, toIndex, fullUpdate) {\r\n        var fromIndex = this._getActualFromIndex();\r\n        var isVerticalOrientation = this._isVerticalOrientation();\r\n        var positionPropName = isVerticalOrientation ? \"top\" : \"left\";\r\n        var elementSize = this._getDraggableElementSize(isVerticalOrientation);\r\n        var items = this._getItems();\r\n        var prevPositions = this._getPositions(items, elementSize, fromIndex, prevToIndex);\r\n        var positions = this._getPositions(items, elementSize, fromIndex, toIndex);\r\n        var animationConfig = this.option(\"animation\");\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        for (var i = 0; i < items.length; i++) {\r\n            var itemElement = items[i];\r\n            var prevPosition = prevPositions[i];\r\n            var position = positions[i];\r\n            if (null === toIndex || null === fromIndex) {\r\n                stopAnimation(itemElement)\r\n            } else if (prevPosition !== position || fullUpdate && position) {\r\n                animate(itemElement, extend({}, animationConfig, {\r\n                    to: {\r\n                        [positionPropName]: !isVerticalOrientation && rtlEnabled ? -position : position\r\n                    }\r\n                }))\r\n            }\r\n        }\r\n    },\r\n    _toggleDragSourceClass: function(value, $element) {\r\n        var $sourceElement = $element || this._$sourceElement;\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._isIndicateMode()) {\r\n            $sourceElement && $sourceElement.toggleClass(this._addWidgetPrefix(\"source-hidden\"), value)\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this.reset();\r\n        this.callBase()\r\n    },\r\n    _fireAddEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onAdd\")(args);\r\n        return args.cancel\r\n    },\r\n    _fireRemoveEvent: function(sourceEvent) {\r\n        var sourceDraggable = this._getSourceDraggable();\r\n        var args = this._getEventArgs(sourceEvent);\r\n        sourceDraggable._getAction(\"onRemove\")(args);\r\n        return args.cancel\r\n    },\r\n    _fireReorderEvent: function(sourceEvent) {\r\n        var args = this._getEventArgs(sourceEvent);\r\n        this._getAction(\"onReorder\")(args);\r\n        return args.promise || (new Deferred).resolve()\r\n    }\r\n});\r\nregisterComponent(SORTABLE, Sortable);\r\nexport default Sortable;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.row_dragging.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    setWidth,\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport Sortable from \"../sortable\";\r\nimport gridCoreUtils from \"./ui.grid_core.utils\";\r\nimport {\r\n    deferUpdate\r\n} from \"../../core/utils/common\";\r\nvar COMMAND_HANDLE_CLASS = \"dx-command-drag\";\r\nvar CELL_FOCUS_DISABLED_CLASS = \"dx-cell-focus-disabled\";\r\nvar HANDLE_ICON_CLASS = \"drag-icon\";\r\nvar ROWS_VIEW = \"rowsview\";\r\nvar SORTABLE_WITHOUT_HANDLE_CLASS = \"dx-sortable-without-handle\";\r\nvar RowDraggingExtender = {\r\n    init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._updateHandleColumn()\r\n    },\r\n    _allowReordering: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        return !!(rowDragging && (rowDragging.allowReordering || rowDragging.allowDropInsideItem || rowDragging.group))\r\n    },\r\n    _updateHandleColumn: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        var allowReordering = this._allowReordering();\r\n        var columnsController = this._columnsController;\r\n        var isHandleColumnVisible = allowReordering && rowDragging.showDragIcons;\r\n        columnsController && columnsController.addCommandColumn({\r\n            type: \"drag\",\r\n            command: \"drag\",\r\n            visibleIndex: -2,\r\n            alignment: \"center\",\r\n            cssClass: COMMAND_HANDLE_CLASS,\r\n            width: \"auto\",\r\n            cellTemplate: this._getHandleTemplate(),\r\n            visible: isHandleColumnVisible\r\n        });\r\n        columnsController.columnOption(\"type:drag\", \"visible\", isHandleColumnVisible)\r\n    },\r\n    _renderContent: function() {\r\n        var rowDragging = this.option(\"rowDragging\");\r\n        var allowReordering = this._allowReordering();\r\n        var $content = this.callBase.apply(this, arguments);\r\n        var isFixedTableRendering = this._isFixedTableRendering;\r\n        var sortableName = \"_sortable\";\r\n        var sortableFixedName = \"_sortableFixed\";\r\n        var currentSortableName = isFixedTableRendering ? sortableFixedName : sortableName;\r\n        var anotherSortableName = isFixedTableRendering ? sortableName : sortableFixedName;\r\n        var togglePointerEventsStyle = toggle => {\r\n            var _this$sortableFixedNa;\r\n            null === (_this$sortableFixedNa = this[sortableFixedName]) || void 0 === _this$sortableFixedNa ? void 0 : _this$sortableFixedNa.$element().css(\"pointerEvents\", toggle ? \"auto\" : \"\")\r\n        };\r\n        var rowSelector = \".dx-row:not(.dx-freespace-row):not(.dx-virtual-row):not(.dx-header-row):not(.dx-footer-row)\";\r\n        var filter = this.option(\"dataRowTemplate\") ? \"> table > tbody\".concat(rowSelector) : \"> table > tbody > \".concat(rowSelector);\r\n        if ((allowReordering || this[currentSortableName]) && $content.length) {\r\n            this[currentSortableName] = this._createComponent($content, Sortable, extend({\r\n                component: this.component,\r\n                contentTemplate: null,\r\n                filter: filter,\r\n                dragTemplate: this._getDraggableRowTemplate(),\r\n                handle: rowDragging.showDragIcons && \".\".concat(COMMAND_HANDLE_CLASS),\r\n                dropFeedbackMode: \"indicate\"\r\n            }, rowDragging, {\r\n                onDragStart: e => {\r\n                    var _this$getController, _rowDragging$onDragSt;\r\n                    null === (_this$getController = this.getController(\"keyboardNavigation\")) || void 0 === _this$getController ? void 0 : _this$getController._resetFocusedCell();\r\n                    var row = e.component.getVisibleRows()[e.fromIndex];\r\n                    e.itemData = row && row.data;\r\n                    var isDataRow = row && \"data\" === row.rowType;\r\n                    e.cancel = !allowReordering || !isDataRow;\r\n                    null === (_rowDragging$onDragSt = rowDragging.onDragStart) || void 0 === _rowDragging$onDragSt ? void 0 : _rowDragging$onDragSt.call(rowDragging, e)\r\n                },\r\n                onDragEnter: () => {\r\n                    togglePointerEventsStyle(true)\r\n                },\r\n                onDragLeave: () => {\r\n                    togglePointerEventsStyle(false)\r\n                },\r\n                onDragEnd: e => {\r\n                    var _rowDragging$onDragEn;\r\n                    togglePointerEventsStyle(false);\r\n                    null === (_rowDragging$onDragEn = rowDragging.onDragEnd) || void 0 === _rowDragging$onDragEn ? void 0 : _rowDragging$onDragEn.call(rowDragging, e)\r\n                },\r\n                onAdd: e => {\r\n                    var _rowDragging$onAdd;\r\n                    togglePointerEventsStyle(false);\r\n                    null === (_rowDragging$onAdd = rowDragging.onAdd) || void 0 === _rowDragging$onAdd ? void 0 : _rowDragging$onAdd.call(rowDragging, e)\r\n                },\r\n                dropFeedbackMode: rowDragging.dropFeedbackMode,\r\n                onOptionChanged: e => {\r\n                    var hasFixedSortable = this[sortableFixedName];\r\n                    if (hasFixedSortable) {\r\n                        if (\"fromIndex\" === e.name || \"toIndex\" === e.name) {\r\n                            this[anotherSortableName].option(e.name, e.value)\r\n                        }\r\n                    }\r\n                }\r\n            }));\r\n            $content.toggleClass(\"dx-scrollable-container\", isFixedTableRendering);\r\n            $content.toggleClass(SORTABLE_WITHOUT_HANDLE_CLASS, allowReordering && !rowDragging.showDragIcons)\r\n        }\r\n        return $content\r\n    },\r\n    _renderCore(e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (e && \"update\" === e.changeType && e.repaintChangesOnly && gridCoreUtils.isVirtualRowRendering(this)) {\r\n            deferUpdate(() => {\r\n                this._updateSortable()\r\n            })\r\n        }\r\n    },\r\n    _updateSortable() {\r\n        var offset = this._dataController.getRowIndexOffset();\r\n        [this._sortable, this._sortableFixed].forEach(sortable => {\r\n            null === sortable || void 0 === sortable ? void 0 : sortable.option(\"offset\", offset);\r\n            null === sortable || void 0 === sortable ? void 0 : sortable.update()\r\n        })\r\n    },\r\n    _resizeCore: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._updateSortable()\r\n    },\r\n    _getDraggableGridOptions: function(options) {\r\n        var gridOptions = this.option();\r\n        var columns = this.getColumns();\r\n        var $rowElement = $(this.getRowElement(options.rowIndex));\r\n        return {\r\n            dataSource: [{\r\n                id: 1,\r\n                parentId: 0\r\n            }],\r\n            showBorders: true,\r\n            showColumnHeaders: false,\r\n            scrolling: {\r\n                useNative: false,\r\n                showScrollbar: \"never\"\r\n            },\r\n            pager: {\r\n                visible: false\r\n            },\r\n            loadingTimeout: null,\r\n            columnFixing: gridOptions.columnFixing,\r\n            columnAutoWidth: gridOptions.columnAutoWidth,\r\n            showColumnLines: gridOptions.showColumnLines,\r\n            columns: columns.map(column => ({\r\n                width: column.width || column.visibleWidth,\r\n                fixed: column.fixed,\r\n                fixedPosition: column.fixedPosition\r\n            })),\r\n            onRowPrepared: e => {\r\n                var rowsView = e.component.getView(\"rowsView\");\r\n                $(e.rowElement).replaceWith($rowElement.eq(rowsView._isFixedTableRendering ? 1 : 0).clone())\r\n            }\r\n        }\r\n    },\r\n    _getDraggableRowTemplate: function() {\r\n        return options => {\r\n            var $rootElement = this.component.$element();\r\n            var $dataGridContainer = $(\"<div>\");\r\n            setWidth($dataGridContainer, getWidth($rootElement));\r\n            var items = this._dataController.items();\r\n            var row = items && items[options.fromIndex];\r\n            var gridOptions = this._getDraggableGridOptions(row);\r\n            this._createComponent($dataGridContainer, this.component.NAME, gridOptions);\r\n            $dataGridContainer.find(\".dx-gridbase-container\").children(\":not(.\".concat(this.addWidgetPrefix(ROWS_VIEW), \")\")).hide();\r\n            return $dataGridContainer\r\n        }\r\n    },\r\n    _getHandleTemplate: function() {\r\n        return (container, options) => {\r\n            if (\"data\" === options.rowType) {\r\n                $(container).addClass(CELL_FOCUS_DISABLED_CLASS);\r\n                return $(\"<span>\").addClass(this.addWidgetPrefix(HANDLE_ICON_CLASS))\r\n            } else {\r\n                gridCoreUtils.setEmptyText($(container))\r\n            }\r\n        }\r\n    },\r\n    optionChanged: function(args) {\r\n        if (\"rowDragging\" === args.name) {\r\n            this._updateHandleColumn();\r\n            this._invalidate(true, true);\r\n            args.handled = true\r\n        }\r\n        this.callBase.apply(this, arguments)\r\n    }\r\n};\r\nexport var rowDraggingModule = {\r\n    defaultOptions: function() {\r\n        return {\r\n            rowDragging: {\r\n                showDragIcons: true,\r\n                dropFeedbackMode: \"indicate\",\r\n                allowReordering: false,\r\n                allowDropInsideItem: false\r\n            }\r\n        }\r\n    },\r\n    extenders: {\r\n        views: {\r\n            rowsView: RowDraggingExtender\r\n        }\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.row_dragging.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport gridCore from \"./ui.data_grid.core\";\r\nimport {\r\n    rowDraggingModule\r\n} from \"../grid_core/ui.grid_core.row_dragging\";\r\ngridCore.registerModule(\"rowDragging\", rowDraggingModule);\r\n","/**\r\n * DevExtreme (esm/ui/data_grid/ui.data_grid.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport DataGrid from \"./ui.data_grid.base\";\r\nexport default DataGrid;\r\nimport \"./ui.data_grid.state_storing\";\r\nimport \"./ui.data_grid.selection\";\r\nimport \"./ui.data_grid.column_chooser\";\r\nimport \"./ui.data_grid.grouping\";\r\nimport \"./ui.data_grid.master_detail\";\r\nimport \"./ui.data_grid.editing\";\r\nimport \"./ui.data_grid.editing_row_based\";\r\nimport \"./ui.data_grid.editing_form_based\";\r\nimport \"./ui.data_grid.editing_cell_based\";\r\nimport \"./ui.data_grid.validating\";\r\nimport \"./ui.data_grid.virtual_scrolling\";\r\nimport \"./ui.data_grid.filter_row\";\r\nimport \"./ui.data_grid.header_filter\";\r\nimport \"./ui.data_grid.filter_sync\";\r\nimport \"./ui.data_grid.filter_builder\";\r\nimport \"./ui.data_grid.filter_panel\";\r\nimport \"./ui.data_grid.search\";\r\nimport \"./ui.data_grid.pager\";\r\nimport \"./ui.data_grid.columns_resizing_reordering\";\r\nimport \"./ui.data_grid.keyboard_navigation\";\r\nimport \"./ui.data_grid.summary\";\r\nimport \"./ui.data_grid.column_fixing\";\r\nimport \"./ui.data_grid.adaptivity\";\r\nimport \"./ui.data_grid.virtual_columns\";\r\nimport \"./ui.data_grid.export\";\r\nimport \"./ui.data_grid.focus\";\r\nimport \"./ui.data_grid.row_dragging\";\r\n","/**\r\n * DevExtreme (esm/ui/data_grid.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport DataGrid from \"./data_grid/ui.data_grid\";\r\nexport default DataGrid;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.items_runtime_info.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isString\r\n} from \"../../core/utils/type\";\r\nexport default class FormItemsRunTimeInfo {\r\n    constructor() {\r\n        this._map = {}\r\n    }\r\n    _findWidgetInstance(condition) {\r\n        var result;\r\n        each(this._map, (function(guid, _ref) {\r\n            var {\r\n                widgetInstance: widgetInstance,\r\n                item: item\r\n            } = _ref;\r\n            if (condition(item)) {\r\n                result = widgetInstance;\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    _findFieldByCondition(callback, valueExpr) {\r\n        var result;\r\n        each(this._map, (function(key, value) {\r\n            if (callback(value)) {\r\n                result = \"guid\" === valueExpr ? key : value[valueExpr];\r\n                return false\r\n            }\r\n        }));\r\n        return result\r\n    }\r\n    clear() {\r\n        this._map = {}\r\n    }\r\n    removeItemsByItems(itemsRunTimeInfo) {\r\n        each(itemsRunTimeInfo.getItems(), guid => this.removeItemByKey(guid))\r\n    }\r\n    removeItemByKey(key) {\r\n        delete this._map[key]\r\n    }\r\n    add(options) {\r\n        var key = options.guid || new Guid;\r\n        this._map[key] = options;\r\n        return key\r\n    }\r\n    addItemsOrExtendFrom(itemsRunTimeInfo) {\r\n        itemsRunTimeInfo.each((key, itemRunTimeInfo) => {\r\n            if (this._map[key]) {\r\n                if (itemRunTimeInfo.widgetInstance) {\r\n                    this._map[key].widgetInstance = itemRunTimeInfo.widgetInstance\r\n                }\r\n                this._map[key].$itemContainer = itemRunTimeInfo.$itemContainer\r\n            } else {\r\n                this.add({\r\n                    item: itemRunTimeInfo.item,\r\n                    widgetInstance: itemRunTimeInfo.widgetInstance,\r\n                    guid: key,\r\n                    $itemContainer: itemRunTimeInfo.$itemContainer\r\n                })\r\n            }\r\n        })\r\n    }\r\n    extendRunTimeItemInfoByKey(key, options) {\r\n        if (this._map[key]) {\r\n            this._map[key] = extend(this._map[key], options)\r\n        }\r\n    }\r\n    findWidgetInstanceByItem(item) {\r\n        return this._findWidgetInstance(storedItem => storedItem === item)\r\n    }\r\n    findGroupOrTabLayoutManagerByPath(targetPath) {\r\n        return this._findFieldByCondition(_ref2 => {\r\n            var {\r\n                path: path\r\n            } = _ref2;\r\n            return path === targetPath\r\n        }, \"layoutManager\")\r\n    }\r\n    findKeyByPath(targetPath) {\r\n        return this._findFieldByCondition(_ref3 => {\r\n            var {\r\n                path: path\r\n            } = _ref3;\r\n            return path === targetPath\r\n        }, \"guid\")\r\n    }\r\n    findWidgetInstanceByName(name) {\r\n        return this._findWidgetInstance(item => name === item.name)\r\n    }\r\n    findWidgetInstanceByDataField(dataField) {\r\n        return this._findWidgetInstance(item => dataField === (isString(item) ? item : item.dataField))\r\n    }\r\n    findItemContainerByItem(item) {\r\n        for (var key in this._map) {\r\n            if (this._map[key].item === item) {\r\n                return this._map[key].$itemContainer\r\n            }\r\n        }\r\n        return null\r\n    }\r\n    findItemIndexByItem(targetItem) {\r\n        return this._findFieldByCondition(_ref4 => {\r\n            var {\r\n                item: item\r\n            } = _ref4;\r\n            return item === targetItem\r\n        }, \"itemIndex\")\r\n    }\r\n    findPreparedItemByItem(item) {\r\n        return this._findFieldByCondition(_ref5 => {\r\n            var {\r\n                item: currentItem\r\n            } = _ref5;\r\n            return currentItem === item\r\n        }, \"preparedItem\")\r\n    }\r\n    getItems() {\r\n        return this._map\r\n    }\r\n    each(handler) {\r\n        each(this._map, (function(key, itemRunTimeInfo) {\r\n            handler(key, itemRunTimeInfo)\r\n        }))\r\n    }\r\n    removeItemsByPathStartWith(path) {\r\n        var keys = Object.keys(this._map);\r\n        var filteredKeys = keys.filter(key => {\r\n            if (this._map[key].path) {\r\n                return this._map[key].path.indexOf(path, 0) > -1\r\n            }\r\n            return false\r\n        });\r\n        filteredKeys.forEach(key => this.removeItemByKey(key))\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/multi_view/ui.multi_view.animation.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport fx from \"../../animation/fx\";\r\nimport {\r\n    move\r\n} from \"../../animation/translator\";\r\nexport var _translator = {\r\n    move($element, position) {\r\n        move($element, {\r\n            left: position\r\n        })\r\n    }\r\n};\r\nexport var animation = {\r\n    moveTo($element, position, duration, completeAction) {\r\n        fx.animate($element, {\r\n            type: \"slide\",\r\n            to: {\r\n                left: position\r\n            },\r\n            duration: duration,\r\n            complete: completeAction\r\n        })\r\n    },\r\n    complete($element) {\r\n        fx.stop($element, true)\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/multi_view.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    locate\r\n} from \"../animation/translator\";\r\nimport {\r\n    _translator,\r\n    animation\r\n} from \"./multi_view/ui.multi_view.animation\";\r\nimport {\r\n    sign\r\n} from \"../core/utils/math\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    noop,\r\n    deferRender\r\n} from \"../core/utils/common\";\r\nimport {\r\n    triggerResizeEvent\r\n} from \"../events/visibility_change\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.live_update\";\r\nimport Swipeable from \"../events/gesture/swipeable\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nvar MULTIVIEW_CLASS = \"dx-multiview\";\r\nvar MULTIVIEW_WRAPPER_CLASS = \"dx-multiview-wrapper\";\r\nvar MULTIVIEW_ITEM_CONTAINER_CLASS = \"dx-multiview-item-container\";\r\nvar MULTIVIEW_ITEM_CLASS = \"dx-multiview-item\";\r\nvar MULTIVIEW_ITEM_HIDDEN_CLASS = \"dx-multiview-item-hidden\";\r\nvar MULTIVIEW_ITEM_DATA_KEY = \"dxMultiViewItemData\";\r\nvar MULTIVIEW_ANIMATION_DURATION = 200;\r\nvar toNumber = value => +value;\r\nvar position = $element => locate($element).left;\r\nvar MultiView = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + MULTIVIEW_ITEM_CLASS,\r\n    _supportedKeys: function() {\r\n        return extend(this.callBase(), {\r\n            pageUp: noop,\r\n            pageDown: noop\r\n        })\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            selectedIndex: 0,\r\n            swipeEnabled: true,\r\n            animationEnabled: true,\r\n            loop: false,\r\n            deferRendering: true,\r\n            _itemAttributes: {\r\n                role: \"tabpanel\"\r\n            },\r\n            loopItemFocus: false,\r\n            selectOnFocus: true,\r\n            selectionMode: \"single\",\r\n            selectionRequired: true,\r\n            selectionByClick: false\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }])\r\n    },\r\n    _itemClass: function() {\r\n        return MULTIVIEW_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return MULTIVIEW_ITEM_DATA_KEY\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$itemContainer\r\n    },\r\n    _itemElements: function() {\r\n        return this._itemContainer().children(this._itemSelector())\r\n    },\r\n    _itemWidth: function() {\r\n        if (!this._itemWidthValue) {\r\n            this._itemWidthValue = getWidth(this._$wrapper)\r\n        }\r\n        return this._itemWidthValue\r\n    },\r\n    _clearItemWidthCache: function() {\r\n        delete this._itemWidthValue\r\n    },\r\n    _itemsCount: function() {\r\n        return this.option(\"items\").length\r\n    },\r\n    _normalizeIndex: function(index) {\r\n        var count = this._itemsCount();\r\n        if (index < 0) {\r\n            index += count\r\n        }\r\n        if (index >= count) {\r\n            index -= count\r\n        }\r\n        return index\r\n    },\r\n    _getRTLSignCorrection: function() {\r\n        return this.option(\"rtlEnabled\") ? -1 : 1\r\n    },\r\n    _init: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var $element = this.$element();\r\n        $element.addClass(MULTIVIEW_CLASS);\r\n        this._$wrapper = $(\"<div>\").addClass(MULTIVIEW_WRAPPER_CLASS);\r\n        this._$wrapper.appendTo($element);\r\n        this._$itemContainer = $(\"<div>\").addClass(MULTIVIEW_ITEM_CONTAINER_CLASS);\r\n        this._$itemContainer.appendTo(this._$wrapper);\r\n        this.option(\"loopItemFocus\", this.option(\"loop\"));\r\n        this._initSwipeable()\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredItems = [];\r\n        this.callBase();\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _afterItemElementDeleted: function($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(deletedActionArgs.itemIndex, 1)\r\n        }\r\n    },\r\n    _beforeItemElementInserted: function(change) {\r\n        this.callBase.apply(this, arguments);\r\n        if (this._deferredItems) {\r\n            this._deferredItems.splice(change.index, 0, null)\r\n        }\r\n    },\r\n    _executeItemRenderAction: function(index, itemData, itemElement) {\r\n        index = (this.option(\"items\") || []).indexOf(itemData);\r\n        this.callBase(index, itemData, itemElement)\r\n    },\r\n    _renderItemContent: function(args) {\r\n        var renderContentDeferred = new Deferred;\r\n        var that = this;\r\n        var callBase = this.callBase;\r\n        var deferred = new Deferred;\r\n        deferred.done((function() {\r\n            var $itemContent = callBase.call(that, args);\r\n            renderContentDeferred.resolve($itemContent)\r\n        }));\r\n        this._deferredItems[args.index] = deferred;\r\n        this.option(\"deferRendering\") || deferred.resolve();\r\n        return renderContentDeferred.promise()\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        deferRender(() => {\r\n            var selectedItemIndices = this._getSelectedItemIndices();\r\n            this._updateItems(selectedItemIndices[0])\r\n        })\r\n    },\r\n    _updateItems: function(selectedIndex, newIndex) {\r\n        this._updateItemsPosition(selectedIndex, newIndex);\r\n        this._updateItemsVisibility(selectedIndex, newIndex)\r\n    },\r\n    _modifyByChanges: function() {\r\n        this.callBase.apply(this, arguments);\r\n        var selectedItemIndices = this._getSelectedItemIndices();\r\n        this._updateItemsVisibility(selectedItemIndices[0])\r\n    },\r\n    _updateItemsPosition: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        var positionSign = isDefined(newIndex) ? -this._animationDirection(newIndex, selectedIndex) : void 0;\r\n        var $selectedItem = $itemElements.eq(selectedIndex);\r\n        _translator.move($selectedItem, 0);\r\n        if (isDefined(newIndex)) {\r\n            _translator.move($itemElements.eq(newIndex), 100 * positionSign + \"%\")\r\n        }\r\n    },\r\n    _updateItemsVisibility: function(selectedIndex, newIndex) {\r\n        var $itemElements = this._itemElements();\r\n        $itemElements.each(function(itemIndex, item) {\r\n            var $item = $(item);\r\n            var isHidden = itemIndex !== selectedIndex && itemIndex !== newIndex;\r\n            if (!isHidden) {\r\n                this._renderSpecificItem(itemIndex)\r\n            }\r\n            $item.toggleClass(MULTIVIEW_ITEM_HIDDEN_CLASS, isHidden);\r\n            this.setAria(\"hidden\", isHidden || void 0, $item)\r\n        }.bind(this))\r\n    },\r\n    _renderSpecificItem: function(index) {\r\n        var $item = this._itemElements().eq(index);\r\n        var hasItemContent = $item.find(this._itemContentClass()).length > 0;\r\n        if (isDefined(index) && !hasItemContent) {\r\n            this._deferredItems[index].resolve();\r\n            triggerResizeEvent($item)\r\n        }\r\n    },\r\n    _refreshItem: function($item, item) {\r\n        this.callBase($item, item);\r\n        this._updateItemsVisibility(this.option(\"selectedIndex\"))\r\n    },\r\n    _setAriaSelected: noop,\r\n    _updateSelection: function(addedSelection, removedSelection) {\r\n        var newIndex = addedSelection[0];\r\n        var prevIndex = removedSelection[0];\r\n        animation.complete(this._$itemContainer);\r\n        this._updateItems(prevIndex, newIndex);\r\n        var animationDirection = this._animationDirection(newIndex, prevIndex);\r\n        this._animateItemContainer(animationDirection * this._itemWidth(), function() {\r\n            _translator.move(this._$itemContainer, 0);\r\n            this._updateItems(newIndex);\r\n            getWidth(this._$itemContainer)\r\n        }.bind(this))\r\n    },\r\n    _animateItemContainer: function(position, completeCallback) {\r\n        var duration = this.option(\"animationEnabled\") ? MULTIVIEW_ANIMATION_DURATION : 0;\r\n        animation.moveTo(this._$itemContainer, position, duration, completeCallback)\r\n    },\r\n    _animationDirection: function(newIndex, prevIndex) {\r\n        var containerPosition = position(this._$itemContainer);\r\n        var indexDifference = (prevIndex - newIndex) * this._getRTLSignCorrection() * this._getItemFocusLoopSignCorrection();\r\n        var isSwipePresent = 0 !== containerPosition;\r\n        var directionSignVariable = isSwipePresent ? containerPosition : indexDifference;\r\n        return sign(directionSignVariable)\r\n    },\r\n    _getSwipeDisabledState() {\r\n        return !this.option(\"swipeEnabled\") || this._itemsCount() <= 1\r\n    },\r\n    _initSwipeable() {\r\n        this._createComponent(this.$element(), Swipeable, {\r\n            disabled: this._getSwipeDisabledState(),\r\n            elastic: false,\r\n            itemSizeFunc: this._itemWidth.bind(this),\r\n            onStart: args => this._swipeStartHandler(args.event),\r\n            onUpdated: args => this._swipeUpdateHandler(args.event),\r\n            onEnd: args => this._swipeEndHandler(args.event)\r\n        })\r\n    },\r\n    _swipeStartHandler: function(e) {\r\n        animation.complete(this._$itemContainer);\r\n        var selectedIndex = this.option(\"selectedIndex\");\r\n        var loop = this.option(\"loop\");\r\n        var lastIndex = this._itemsCount() - 1;\r\n        var rtl = this.option(\"rtlEnabled\");\r\n        e.maxLeftOffset = toNumber(loop || (rtl ? selectedIndex > 0 : selectedIndex < lastIndex));\r\n        e.maxRightOffset = toNumber(loop || (rtl ? selectedIndex < lastIndex : selectedIndex > 0));\r\n        this._swipeDirection = null\r\n    },\r\n    _swipeUpdateHandler: function(e) {\r\n        var offset = e.offset;\r\n        var swipeDirection = sign(offset) * this._getRTLSignCorrection();\r\n        _translator.move(this._$itemContainer, offset * this._itemWidth());\r\n        if (swipeDirection !== this._swipeDirection) {\r\n            this._swipeDirection = swipeDirection;\r\n            var selectedIndex = this.option(\"selectedIndex\");\r\n            var newIndex = this._normalizeIndex(selectedIndex - swipeDirection);\r\n            this._updateItems(selectedIndex, newIndex)\r\n        }\r\n    },\r\n    _swipeEndHandler: function(e) {\r\n        var targetOffset = e.targetOffset * this._getRTLSignCorrection();\r\n        if (targetOffset) {\r\n            this.option(\"selectedIndex\", this._normalizeIndex(this.option(\"selectedIndex\") - targetOffset));\r\n            var $selectedElement = this.itemElements().filter(\".dx-item-selected\");\r\n            this.option(\"focusStateEnabled\") && this.option(\"focusedElement\", getPublicElement($selectedElement))\r\n        } else {\r\n            this._animateItemContainer(0, noop)\r\n        }\r\n    },\r\n    _getItemFocusLoopSignCorrection: function() {\r\n        return this._itemFocusLooped ? -1 : 1\r\n    },\r\n    _moveFocus: function() {\r\n        this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = false\r\n    },\r\n    _prevItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.last());\r\n        return $result\r\n    },\r\n    _nextItem: function($items) {\r\n        var $result = this.callBase.apply(this, arguments);\r\n        this._itemFocusLooped = $result.is($items.first());\r\n        return $result\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._clearItemWidthCache()\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _updateSwipeDisabledState() {\r\n        var disabled = this._getSwipeDisabledState();\r\n        Swipeable.getInstance(this.$element()).option(\"disabled\", disabled)\r\n    },\r\n    _optionChanged: function(args) {\r\n        var value = args.value;\r\n        switch (args.name) {\r\n            case \"loop\":\r\n                this.option(\"loopItemFocus\", value);\r\n                break;\r\n            case \"animationEnabled\":\r\n                break;\r\n            case \"swipeEnabled\":\r\n                this._updateSwipeDisabledState();\r\n                break;\r\n            case \"deferRendering\":\r\n                this._invalidate();\r\n                break;\r\n            case \"items\":\r\n                this._updateSwipeDisabledState();\r\n                this.callBase(args);\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    }\r\n});\r\nregisterComponent(\"dxMultiView\", MultiView);\r\nexport default MultiView;\r\n","/**\r\n * DevExtreme (esm/ui/tabs/item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../core/renderer\";\r\nimport CollectionWidgetItem from \"../collection/item\";\r\nvar TABS_ITEM_BADGE_CLASS = \"dx-tabs-item-badge\";\r\nvar BADGE_CLASS = \"dx-badge\";\r\nvar TabsItem = CollectionWidgetItem.inherit({\r\n    _renderWatchers: function() {\r\n        this.callBase();\r\n        this._startWatcher(\"badge\", this._renderBadge.bind(this))\r\n    },\r\n    _renderBadge: function(badge) {\r\n        this._$element.children(\".\" + BADGE_CLASS).remove();\r\n        if (!badge) {\r\n            return\r\n        }\r\n        var $badge = $(\"<div>\").addClass(TABS_ITEM_BADGE_CLASS).addClass(BADGE_CLASS).text(badge);\r\n        this._$element.append($badge)\r\n    }\r\n});\r\nexport default TabsItem;\r\n","/**\r\n * DevExtreme (esm/ui/tabs/constants.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var TABS_EXPANDED_CLASS = \"dx-tabs-expanded\";\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/get_scroll_left_max.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport function getScrollLeftMax(element) {\r\n    return element.scrollWidth - element.clientWidth\r\n}\r\n","/**\r\n * DevExtreme (esm/renovation/ui/scroll_view/utils/get_boundary_props.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getScrollLeftMax\r\n} from \"./get_scroll_left_max\";\r\nimport {\r\n    getScrollTopMax\r\n} from \"./get_scroll_top_max\";\r\nimport {\r\n    ScrollDirection\r\n} from \"./scroll_direction\";\r\nexport function isReachedLeft(scrollOffsetLeft, epsilon) {\r\n    return Math.round(scrollOffsetLeft) <= epsilon\r\n}\r\nexport function isReachedRight(element, scrollOffsetLeft, epsilon) {\r\n    return Math.round(getScrollLeftMax(element) - scrollOffsetLeft) <= epsilon\r\n}\r\nexport function isReachedTop(scrollOffsetTop, epsilon) {\r\n    return Math.round(scrollOffsetTop) <= epsilon\r\n}\r\nexport function isReachedBottom(element, scrollOffsetTop, pocketHeight, epsilon) {\r\n    return Math.round(getScrollTopMax(element) - scrollOffsetTop - pocketHeight) <= epsilon\r\n}\r\nexport function getBoundaryProps(direction, scrollOffset, element) {\r\n    var pocketHeight = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;\r\n    var {\r\n        left: left,\r\n        top: top\r\n    } = scrollOffset;\r\n    var boundaryProps = {};\r\n    var {\r\n        isHorizontal: isHorizontal,\r\n        isVertical: isVertical\r\n    } = new ScrollDirection(direction);\r\n    if (isHorizontal) {\r\n        boundaryProps.reachedLeft = isReachedLeft(left, 0);\r\n        boundaryProps.reachedRight = isReachedRight(element, left, 0)\r\n    }\r\n    if (isVertical) {\r\n        boundaryProps.reachedTop = isReachedTop(top, 0);\r\n        boundaryProps.reachedBottom = isReachedBottom(element, top, pocketHeight, 0)\r\n    }\r\n    return boundaryProps\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/tabs.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth,\r\n    getOuterWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport devices from \"../core/devices\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Button from \"./button\";\r\nimport {\r\n    render\r\n} from \"./widget/utils.ink_ripple\";\r\nimport {\r\n    addNamespace\r\n} from \"../events/utils/index\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    isPlainObject\r\n} from \"../core/utils/type\";\r\nimport pointerEvents from \"../events/pointer\";\r\nimport {\r\n    each\r\n} from \"../core/utils/iterator\";\r\nimport TabsItem from \"./tabs/item\";\r\nimport {\r\n    TABS_EXPANDED_CLASS\r\n} from \"./tabs/constants\";\r\nimport {\r\n    isMaterial,\r\n    current as currentTheme\r\n} from \"./themes\";\r\nimport holdEvent from \"../events/hold\";\r\nimport Scrollable from \"./scroll_view/ui.scrollable\";\r\nimport {\r\n    default as CollectionWidget\r\n} from \"./collection/ui.collection_widget.live_update\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    Deferred,\r\n    when\r\n} from \"../core/utils/deferred\";\r\nimport {\r\n    isReachedLeft,\r\n    isReachedRight\r\n} from \"../renovation/ui/scroll_view/utils/get_boundary_props\";\r\nimport {\r\n    getScrollLeftMax\r\n} from \"../renovation/ui/scroll_view/utils/get_scroll_left_max\";\r\nvar TABS_CLASS = \"dx-tabs\";\r\nvar TABS_WRAPPER_CLASS = \"dx-tabs-wrapper\";\r\nvar TABS_STRETCHED_CLASS = \"dx-tabs-stretched\";\r\nvar TABS_SCROLLABLE_CLASS = \"dx-tabs-scrollable\";\r\nvar TABS_NAV_BUTTONS_CLASS = \"dx-tabs-nav-buttons\";\r\nvar OVERFLOW_HIDDEN_CLASS = \"dx-overflow-hidden\";\r\nvar TABS_ITEM_CLASS = \"dx-tab\";\r\nvar TABS_ITEM_SELECTED_CLASS = \"dx-tab-selected\";\r\nvar TABS_NAV_BUTTON_CLASS = \"dx-tabs-nav-button\";\r\nvar TABS_LEFT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-left\";\r\nvar TABS_RIGHT_NAV_BUTTON_CLASS = \"dx-tabs-nav-button-right\";\r\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\r\nvar TABS_ITEM_DATA_KEY = \"dxTabData\";\r\nvar BUTTON_NEXT_ICON = \"chevronnext\";\r\nvar BUTTON_PREV_ICON = \"chevronprev\";\r\nvar FEEDBACK_HIDE_TIMEOUT = 100;\r\nvar FEEDBACK_DURATION_INTERVAL = 5;\r\nvar FEEDBACK_SCROLL_TIMEOUT = 300;\r\nvar TAB_OFFSET = 30;\r\nvar Tabs = CollectionWidget.inherit({\r\n    _activeStateUnit: \".\" + TABS_ITEM_CLASS,\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            hoverStateEnabled: true,\r\n            showNavButtons: true,\r\n            scrollByContent: true,\r\n            scrollingEnabled: true,\r\n            selectionMode: \"single\",\r\n            activeStateEnabled: true,\r\n            selectionRequired: false,\r\n            selectOnFocus: true,\r\n            loopItemFocus: false,\r\n            useInkRipple: false,\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            },\r\n            _itemAttributes: {\r\n                role: \"tab\"\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        var themeName = currentTheme();\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" !== devices.real().deviceType\r\n            },\r\n            options: {\r\n                showNavButtons: false\r\n            }\r\n        }, {\r\n            device: {\r\n                deviceType: \"desktop\"\r\n            },\r\n            options: {\r\n                scrollByContent: false\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return isMaterial(themeName)\r\n            },\r\n            options: {\r\n                useInkRipple: true,\r\n                selectOnFocus: false\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.setAria(\"role\", \"tablist\");\r\n        this.$element().addClass(TABS_CLASS);\r\n        this._renderWrapper();\r\n        this._renderMultiple();\r\n        this._feedbackHideTimeout = FEEDBACK_HIDE_TIMEOUT\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            item: new BindableTemplate(function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    this._prepareDefaultItemTemplate(data, $container)\r\n                } else {\r\n                    $container.text(String(data))\r\n                }\r\n                var $iconElement = getImageContainer(data.icon);\r\n                $iconElement && $iconElement.prependTo($container);\r\n                $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS))\r\n            }.bind(this), [\"text\", \"html\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _createItemByTemplate: function(itemTemplate, renderArgs) {\r\n        var {\r\n            itemData: itemData,\r\n            container: container,\r\n            index: index\r\n        } = renderArgs;\r\n        this._deferredTemplates[index] = new Deferred;\r\n        return itemTemplate.render({\r\n            model: itemData,\r\n            container: container,\r\n            index: index,\r\n            onRendered: () => this._deferredTemplates[index].resolve()\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return TABS_ITEM_CLASS\r\n    },\r\n    _selectedItemClass: function() {\r\n        return TABS_ITEM_SELECTED_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return TABS_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this._deferredTemplates = [];\r\n        this.callBase();\r\n        this.option(\"useInkRipple\") && this._renderInkRipple();\r\n        this.$element().addClass(OVERFLOW_HIDDEN_CLASS)\r\n    },\r\n    _render: function() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _deferRenderScrolling() {\r\n        when.apply(this, this._deferredTemplates).done(() => this._renderScrolling())\r\n    },\r\n    _renderScrolling: function() {\r\n        var removeClasses = [TABS_STRETCHED_CLASS, TABS_EXPANDED_CLASS, OVERFLOW_HIDDEN_CLASS];\r\n        this.$element().removeClass(removeClasses.join(\" \"));\r\n        if (this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded()) {\r\n            if (!this._scrollable) {\r\n                this._renderScrollable();\r\n                this._renderNavButtons()\r\n            }\r\n            var scrollable = this.getScrollable();\r\n            scrollable.update();\r\n            if (this.option(\"rtlEnabled\")) {\r\n                var maxLeftOffset = getScrollLeftMax($(this.getScrollable().container()).get(0));\r\n                scrollable.scrollTo({\r\n                    left: maxLeftOffset\r\n                })\r\n            }\r\n            this._updateNavButtonsVisibility();\r\n            this._scrollToItem(this.option(\"selectedItem\"))\r\n        }\r\n        if (!(this.option(\"scrollingEnabled\") && this._isItemsWidthExceeded())) {\r\n            this._cleanScrolling();\r\n            if (this._needStretchItems() && !this._isItemsWidthExceeded()) {\r\n                this.$element().addClass(TABS_STRETCHED_CLASS)\r\n            }\r\n            this.$element().removeClass(TABS_NAV_BUTTONS_CLASS).addClass(TABS_EXPANDED_CLASS)\r\n        }\r\n    },\r\n    _isItemsWidthExceeded: function() {\r\n        var tabItemsWidth = this._getSummaryItemsWidth(this._getVisibleItems(), true);\r\n        return tabItemsWidth - 1 > getWidth(this.$element())\r\n    },\r\n    _needStretchItems: function() {\r\n        var $visibleItems = this._getVisibleItems();\r\n        var elementWidth = getWidth(this.$element());\r\n        var itemsWidth = [];\r\n        each($visibleItems, (_, item) => {\r\n            itemsWidth.push(getOuterWidth(item, true))\r\n        });\r\n        var maxTabWidth = Math.max.apply(null, itemsWidth);\r\n        return maxTabWidth > elementWidth / $visibleItems.length\r\n    },\r\n    _cleanNavButtons: function() {\r\n        if (!this._leftButton || !this._rightButton) {\r\n            return\r\n        }\r\n        this._leftButton.$element().remove();\r\n        this._rightButton.$element().remove();\r\n        this._leftButton = null;\r\n        this._rightButton = null\r\n    },\r\n    _cleanScrolling: function() {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        this._$wrapper.appendTo(this.$element());\r\n        this._scrollable.$element().remove();\r\n        this._scrollable = null;\r\n        this._cleanNavButtons()\r\n    },\r\n    _renderInkRipple: function() {\r\n        this._inkRipple = render()\r\n    },\r\n    _toggleActiveState: function($element, value, e) {\r\n        this.callBase.apply(this, arguments);\r\n        if (!this._inkRipple) {\r\n            return\r\n        }\r\n        var config = {\r\n            element: $element,\r\n            event: e\r\n        };\r\n        if (value) {\r\n            this._inkRipple.showWave(config)\r\n        } else {\r\n            this._inkRipple.hideWave(config)\r\n        }\r\n    },\r\n    _renderMultiple: function() {\r\n        if (\"multiple\" === this.option(\"selectionMode\")) {\r\n            this.option(\"selectOnFocus\", false)\r\n        }\r\n    },\r\n    _renderWrapper: function() {\r\n        this._$wrapper = $(\"<div>\").addClass(TABS_WRAPPER_CLASS);\r\n        this.$element().append(this._$wrapper)\r\n    },\r\n    _itemContainer: function() {\r\n        return this._$wrapper\r\n    },\r\n    _renderScrollable: function() {\r\n        var $itemContainer = this.$element().wrapInner($(\"<div>\").addClass(TABS_SCROLLABLE_CLASS)).children();\r\n        this._scrollable = this._createComponent($itemContainer, Scrollable, {\r\n            direction: \"horizontal\",\r\n            showScrollbar: \"never\",\r\n            useKeyboard: false,\r\n            useNative: false,\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            onScroll: () => {\r\n                this._updateNavButtonsVisibility()\r\n            }\r\n        });\r\n        this.$element().append(this._scrollable.$element())\r\n    },\r\n    _scrollToItem: function(itemData) {\r\n        if (!this._scrollable) {\r\n            return\r\n        }\r\n        var $item = this._editStrategy.getItemElement(itemData);\r\n        this._scrollable.scrollToElement($item)\r\n    },\r\n    _renderNavButtons: function() {\r\n        this.$element().toggleClass(TABS_NAV_BUTTONS_CLASS, this.option(\"showNavButtons\"));\r\n        if (!this.option(\"showNavButtons\")) {\r\n            return\r\n        }\r\n        var rtlEnabled = this.option(\"rtlEnabled\");\r\n        this._leftButton = this._createNavButton(-TAB_OFFSET, rtlEnabled ? BUTTON_NEXT_ICON : BUTTON_PREV_ICON);\r\n        var $leftButton = this._leftButton.$element();\r\n        $leftButton.addClass(TABS_LEFT_NAV_BUTTON_CLASS);\r\n        this.$element().prepend($leftButton);\r\n        this._rightButton = this._createNavButton(TAB_OFFSET, rtlEnabled ? BUTTON_PREV_ICON : BUTTON_NEXT_ICON);\r\n        var $rightButton = this._rightButton.$element();\r\n        $rightButton.addClass(TABS_RIGHT_NAV_BUTTON_CLASS);\r\n        this.$element().append($rightButton)\r\n    },\r\n    _updateNavButtonsVisibility: function() {\r\n        var scrollable = this.getScrollable();\r\n        this._leftButton && this._leftButton.option(\"disabled\", isReachedLeft(scrollable.scrollLeft(), 1));\r\n        this._rightButton && this._rightButton.option(\"disabled\", isReachedRight($(scrollable.container()).get(0), scrollable.scrollLeft(), 1))\r\n    },\r\n    _updateScrollPosition: function(offset, duration) {\r\n        this._scrollable.update();\r\n        this._scrollable.scrollBy(offset / duration)\r\n    },\r\n    _createNavButton: function(offset, icon) {\r\n        var that = this;\r\n        var holdAction = that._createAction((function() {\r\n            that._holdInterval = setInterval((function() {\r\n                that._updateScrollPosition(offset, FEEDBACK_DURATION_INTERVAL)\r\n            }), FEEDBACK_DURATION_INTERVAL)\r\n        }));\r\n        var holdEventName = addNamespace(holdEvent.name, \"dxNavButton\");\r\n        var pointerUpEventName = addNamespace(pointerEvents.up, \"dxNavButton\");\r\n        var pointerOutEventName = addNamespace(pointerEvents.out, \"dxNavButton\");\r\n        var navButton = this._createComponent($(\"<div>\").addClass(TABS_NAV_BUTTON_CLASS), Button, {\r\n            focusStateEnabled: false,\r\n            icon: icon,\r\n            onClick: function() {\r\n                that._updateScrollPosition(offset, 1)\r\n            },\r\n            integrationOptions: {}\r\n        });\r\n        var $navButton = navButton.$element();\r\n        eventsEngine.on($navButton, holdEventName, {\r\n            timeout: FEEDBACK_SCROLL_TIMEOUT\r\n        }, function(e) {\r\n            holdAction({\r\n                event: e\r\n            })\r\n        }.bind(this));\r\n        eventsEngine.on($navButton, pointerUpEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        eventsEngine.on($navButton, pointerOutEventName, (function() {\r\n            that._clearInterval()\r\n        }));\r\n        return navButton\r\n    },\r\n    _clearInterval: function() {\r\n        if (this._holdInterval) {\r\n            clearInterval(this._holdInterval)\r\n        }\r\n    },\r\n    _updateSelection: function(addedSelection) {\r\n        this._scrollable && this._scrollable.scrollToElement(this.itemElements().eq(addedSelection[0]), {\r\n            left: 1,\r\n            right: 1\r\n        })\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._dimensionChanged()\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        this._renderScrolling()\r\n    },\r\n    _itemSelectHandler: function(e) {\r\n        if (\"single\" === this.option(\"selectionMode\") && this.isItemSelected(e.currentTarget)) {\r\n            return\r\n        }\r\n        this.callBase(e)\r\n    },\r\n    _clean: function() {\r\n        this._deferredTemplates = [];\r\n        this._cleanScrolling();\r\n        this.callBase()\r\n    },\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"useInkRipple\":\r\n            case \"scrollingEnabled\":\r\n            case \"showNavButtons\":\r\n                this._invalidate();\r\n                break;\r\n            case \"scrollByContent\":\r\n                this._scrollable && this._scrollable.option(args.name, args.value);\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._dimensionChanged();\r\n                break;\r\n            case \"selectionMode\":\r\n                this._renderMultiple();\r\n                this.callBase(args);\r\n                break;\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _afterItemElementInserted() {\r\n        this.callBase();\r\n        this._deferRenderScrolling()\r\n    },\r\n    _afterItemElementDeleted($item, deletedActionArgs) {\r\n        this.callBase($item, deletedActionArgs);\r\n        this._renderScrolling()\r\n    },\r\n    getScrollable() {\r\n        return this._scrollable\r\n    }\r\n});\r\nTabs.ItemClass = TabsItem;\r\nregisterComponent(\"dxTabs\", Tabs);\r\nexport default Tabs;\r\n","/**\r\n * DevExtreme (esm/ui/tab_panel/item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport CollectionWidgetItem from \"../collection/item\";\r\nimport {\r\n    noop\r\n} from \"../../core/utils/common\";\r\nexport default class TabPanelItem extends CollectionWidgetItem {\r\n    _renderWatchers() {\r\n        this._startWatcher(\"badge\", noop);\r\n        return super._renderWatchers()\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/tab_panel.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getOuterHeight\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport {\r\n    touch\r\n} from \"../core/utils/support\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport devices from \"../core/devices\";\r\nimport domAdapter from \"../core/dom_adapter\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport MultiView from \"./multi_view\";\r\nimport Tabs from \"./tabs\";\r\nimport {\r\n    default as TabPanelItem\r\n} from \"./tab_panel/item\";\r\nimport {\r\n    getImageContainer\r\n} from \"../core/utils/icon\";\r\nimport {\r\n    getPublicElement\r\n} from \"../core/element\";\r\nimport {\r\n    isPlainObject,\r\n    isDefined\r\n} from \"../core/utils/type\";\r\nimport {\r\n    BindableTemplate\r\n} from \"../core/templates/bindable_template\";\r\nimport {\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nvar TABPANEL_CLASS = \"dx-tabpanel\";\r\nvar TABPANEL_TABS_CLASS = \"dx-tabpanel-tabs\";\r\nvar TABPANEL_CONTAINER_CLASS = \"dx-tabpanel-container\";\r\nvar TABS_ITEM_TEXT_CLASS = \"dx-tab-text\";\r\nvar TabPanel = MultiView.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            itemTitleTemplate: \"title\",\r\n            hoverStateEnabled: true,\r\n            showNavButtons: false,\r\n            scrollByContent: true,\r\n            scrollingEnabled: true,\r\n            onTitleClick: null,\r\n            onTitleHold: null,\r\n            onTitleRendered: null,\r\n            badgeExpr: function(data) {\r\n                return data ? data.badge : void 0\r\n            }\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return \"desktop\" === devices.real().deviceType && !devices.isSimulator()\r\n            },\r\n            options: {\r\n                focusStateEnabled: true\r\n            }\r\n        }, {\r\n            device: function() {\r\n                return !touch\r\n            },\r\n            options: {\r\n                swipeEnabled: false\r\n            }\r\n        }, {\r\n            device: {\r\n                platform: \"generic\"\r\n            },\r\n            options: {\r\n                animationEnabled: false\r\n            }\r\n        }])\r\n    },\r\n    _init: function() {\r\n        this.callBase();\r\n        this.$element().addClass(TABPANEL_CLASS);\r\n        this.setAria(\"role\", \"tabpanel\")\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this._createTitleActions();\r\n        this._renderLayout()\r\n    },\r\n    _initTemplates: function() {\r\n        this.callBase();\r\n        this._templateManager.addDefaultTemplates({\r\n            title: new BindableTemplate((function($container, data) {\r\n                if (isPlainObject(data)) {\r\n                    var $iconElement = getImageContainer(data.icon);\r\n                    if ($iconElement) {\r\n                        $container.append($iconElement)\r\n                    }\r\n                    if (isDefined(data.title) && !isPlainObject(data.title)) {\r\n                        $container.append(domAdapter.createTextNode(data.title))\r\n                    }\r\n                } else if (isDefined(data)) {\r\n                    $container.text(String(data))\r\n                }\r\n                $container.wrapInner($(\"<span>\").addClass(TABS_ITEM_TEXT_CLASS))\r\n            }), [\"title\", \"icon\"], this.option(\"integrationOptions.watchMethod\"))\r\n        })\r\n    },\r\n    _createTitleActions: function() {\r\n        this._createTitleClickAction();\r\n        this._createTitleHoldAction();\r\n        this._createTitleRenderedAction()\r\n    },\r\n    _createTitleClickAction: function() {\r\n        this._titleClickAction = this._createActionByOption(\"onTitleClick\")\r\n    },\r\n    _createTitleHoldAction: function() {\r\n        this._titleHoldAction = this._createActionByOption(\"onTitleHold\")\r\n    },\r\n    _createTitleRenderedAction: function() {\r\n        this._titleRenderedAction = this._createActionByOption(\"onTitleRendered\")\r\n    },\r\n    _renderContent: function() {\r\n        var that = this;\r\n        this.callBase();\r\n        if (this.option(\"templatesRenderAsynchronously\")) {\r\n            this._resizeEventTimer = setTimeout((function() {\r\n                that._updateLayout()\r\n            }), 0)\r\n        }\r\n    },\r\n    _renderLayout: function() {\r\n        if (this._tabs) {\r\n            this._updateLayout();\r\n            return\r\n        }\r\n        var $element = this.$element();\r\n        this._$tabContainer = $(\"<div>\").addClass(TABPANEL_TABS_CLASS).appendTo($element);\r\n        var $tabs = $(\"<div>\").appendTo(this._$tabContainer);\r\n        this._tabs = this._createComponent($tabs, Tabs, this._tabConfig());\r\n        this._$container = $(\"<div>\").addClass(TABPANEL_CONTAINER_CLASS).appendTo($element);\r\n        this._$container.append(this._$wrapper);\r\n        this._updateLayout()\r\n    },\r\n    _updateLayout: function() {\r\n        if (hasWindow()) {\r\n            var tabsHeight = getOuterHeight(this._$tabContainer);\r\n            this._$container.css({\r\n                marginTop: -tabsHeight,\r\n                paddingTop: tabsHeight\r\n            })\r\n        }\r\n    },\r\n    _refreshActiveDescendant: function() {\r\n        if (!this._tabs) {\r\n            return\r\n        }\r\n        var tabs = this._tabs;\r\n        var tabItems = tabs.itemElements();\r\n        var $activeTab = $(tabItems[tabs.option(\"selectedIndex\")]);\r\n        var id = this.getFocusedItemId();\r\n        this.setAria(\"controls\", void 0, $(tabItems));\r\n        this.setAria(\"controls\", id, $activeTab)\r\n    },\r\n    _tabConfig: function() {\r\n        return {\r\n            selectOnFocus: true,\r\n            focusStateEnabled: this.option(\"focusStateEnabled\"),\r\n            hoverStateEnabled: this.option(\"hoverStateEnabled\"),\r\n            repaintChangesOnly: this.option(\"repaintChangesOnly\"),\r\n            tabIndex: this.option(\"tabIndex\"),\r\n            selectedIndex: this.option(\"selectedIndex\"),\r\n            badgeExpr: this.option(\"badgeExpr\"),\r\n            onItemClick: this._titleClickAction.bind(this),\r\n            onItemHold: this._titleHoldAction.bind(this),\r\n            itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n            onSelectionChanged: function(e) {\r\n                this.option(\"selectedIndex\", e.component.option(\"selectedIndex\"));\r\n                this._refreshActiveDescendant()\r\n            }.bind(this),\r\n            onItemRendered: this._titleRenderedAction.bind(this),\r\n            itemTemplate: this._getTemplateByOption(\"itemTitleTemplate\"),\r\n            items: this.option(\"items\"),\r\n            noDataText: null,\r\n            scrollingEnabled: this.option(\"scrollingEnabled\"),\r\n            scrollByContent: this.option(\"scrollByContent\"),\r\n            showNavButtons: this.option(\"showNavButtons\"),\r\n            itemTemplateProperty: \"tabTemplate\",\r\n            loopItemFocus: this.option(\"loop\"),\r\n            selectionRequired: true,\r\n            onOptionChanged: function(args) {\r\n                if (\"focusedElement\" === args.name) {\r\n                    if (args.value) {\r\n                        var $value = $(args.value);\r\n                        var $newItem = this._itemElements().eq($value.index());\r\n                        this.option(\"focusedElement\", getPublicElement($newItem))\r\n                    } else {\r\n                        this.option(\"focusedElement\", args.value)\r\n                    }\r\n                }\r\n            }.bind(this),\r\n            onFocusIn: function(args) {\r\n                this._focusInHandler(args.event)\r\n            }.bind(this),\r\n            onFocusOut: function(args) {\r\n                if (!this._isFocusOutHandlerExecuting) {\r\n                    this._focusOutHandler(args.event)\r\n                }\r\n            }.bind(this)\r\n        }\r\n    },\r\n    _renderFocusTarget: function() {\r\n        this._focusTarget().attr(\"tabIndex\", -1)\r\n    },\r\n    _updateFocusState: function(e, isFocused) {\r\n        this.callBase(e, isFocused);\r\n        if (e.target === this._tabs._focusTarget().get(0)) {\r\n            this._toggleFocusClass(isFocused, this._focusTarget())\r\n        }\r\n    },\r\n    _focusOutHandler: function(e) {\r\n        this._isFocusOutHandlerExecuting = true;\r\n        this.callBase.apply(this, arguments);\r\n        this._tabs._focusOutHandler(e);\r\n        this._isFocusOutHandlerExecuting = false\r\n    },\r\n    _setTabsOption: function(name, value) {\r\n        if (this._tabs) {\r\n            this._tabs.option(name, value)\r\n        }\r\n    },\r\n    _visibilityChanged: function(visible) {\r\n        if (visible) {\r\n            this._tabs._dimensionChanged();\r\n            this._updateLayout()\r\n        }\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        this.callBase(key, handler);\r\n        if (this._tabs) {\r\n            this._tabs.registerKeyHandler(key, handler)\r\n        }\r\n    },\r\n    repaint: function() {\r\n        this.callBase();\r\n        this._tabs.repaint()\r\n    },\r\n    _optionChanged: function(args) {\r\n        var name = args.name;\r\n        var value = args.value;\r\n        var fullName = args.fullName;\r\n        switch (name) {\r\n            case \"dataSource\":\r\n                this.callBase(args);\r\n                break;\r\n            case \"items\":\r\n                this._setTabsOption(name, this.option(name));\r\n                this._updateLayout();\r\n                if (!this.option(\"repaintChangesOnly\")) {\r\n                    this._tabs.repaint()\r\n                }\r\n                this.callBase(args);\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._tabs.repaint();\r\n                break;\r\n            case \"selectedIndex\":\r\n            case \"selectedItem\":\r\n                this._setTabsOption(fullName, value);\r\n                this.callBase(args);\r\n                if (true === this.option(\"focusStateEnabled\")) {\r\n                    var selectedIndex = this.option(\"selectedIndex\");\r\n                    var selectedTabContent = this._itemElements().eq(selectedIndex);\r\n                    this.option(\"focusedElement\", getPublicElement(selectedTabContent))\r\n                }\r\n                break;\r\n            case \"itemHoldTimeout\":\r\n            case \"focusStateEnabled\":\r\n            case \"hoverStateEnabled\":\r\n                this._setTabsOption(fullName, value);\r\n                this.callBase(args);\r\n                break;\r\n            case \"scrollingEnabled\":\r\n            case \"scrollByContent\":\r\n            case \"showNavButtons\":\r\n                this._setTabsOption(fullName, value);\r\n                break;\r\n            case \"focusedElement\":\r\n                var id = value ? $(value).index() : value;\r\n                var newItem = value ? this._tabs._itemElements().eq(id) : value;\r\n                this._setTabsOption(\"focusedElement\", getPublicElement(newItem));\r\n                this.callBase(args);\r\n                break;\r\n            case \"itemTitleTemplate\":\r\n                this._setTabsOption(\"itemTemplate\", this._getTemplateByOption(\"itemTitleTemplate\"));\r\n                break;\r\n            case \"onTitleClick\":\r\n                this._createTitleClickAction();\r\n                this._setTabsOption(\"onItemClick\", this._titleClickAction.bind(this));\r\n                break;\r\n            case \"onTitleHold\":\r\n                this._createTitleHoldAction();\r\n                this._setTabsOption(\"onItemHold\", this._titleHoldAction.bind(this));\r\n                break;\r\n            case \"onTitleRendered\":\r\n                this._createTitleRenderedAction();\r\n                this._setTabsOption(\"onItemRendered\", this._titleRenderedAction.bind(this));\r\n                break;\r\n            case \"loop\":\r\n                this._setTabsOption(\"loopItemFocus\", value);\r\n                break;\r\n            case \"badgeExpr\":\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _clean: function() {\r\n        clearTimeout(this._resizeEventTimer);\r\n        this.callBase()\r\n    }\r\n});\r\nTabPanel.ItemClass = TabPanelItem;\r\nregisterComponent(\"dxTabPanel\", TabPanel);\r\nexport default TabPanel;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.item_option_action.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nexport default class ItemOptionAction {\r\n    constructor(options) {\r\n        this._options = options;\r\n        this._itemsRunTimeInfo = this._options.itemsRunTimeInfo\r\n    }\r\n    findInstance() {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)\r\n    }\r\n    findItemContainer() {\r\n        return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)\r\n    }\r\n    findPreparedItem() {\r\n        return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)\r\n    }\r\n    tryExecute() {\r\n        Class.abstract()\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nexport var createItemPathByIndex = (index, isTabs) => \"\".concat(isTabs ? \"tabs\" : \"items\", \"[\").concat(index, \"]\");\r\nexport var concatPaths = (path1, path2) => {\r\n    if (isDefined(path1) && isDefined(path2)) {\r\n        return \"\".concat(path1, \".\").concat(path2)\r\n    }\r\n    return path1 || path2\r\n};\r\nexport var getTextWithoutSpaces = text => text ? text.replace(/\\s/g, \"\") : void 0;\r\nexport var isEqualToDataFieldOrNameOrTitleOrCaption = (item, fieldName) => {\r\n    if (item) {\r\n        return item.dataField === fieldName || item.name === fieldName || getTextWithoutSpaces(item.title) === fieldName || \"group\" === item.itemType && getTextWithoutSpaces(item.caption) === fieldName\r\n    }\r\n    return false\r\n};\r\nexport var getFullOptionName = (path, optionName) => \"\".concat(path, \".\").concat(optionName);\r\nexport var getOptionNameFromFullName = fullName => {\r\n    var parts = fullName.split(\".\");\r\n    return parts[parts.length - 1].replace(/\\[\\d+]/, \"\")\r\n};\r\nexport var tryGetTabPath = fullPath => {\r\n    var pathParts = fullPath.split(\".\");\r\n    var resultPathParts = [...pathParts];\r\n    for (var i = pathParts.length - 1; i >= 0; i--) {\r\n        if (isFullPathContainsTabs(pathParts[i])) {\r\n            return resultPathParts.join(\".\")\r\n        }\r\n        resultPathParts.splice(i, 1)\r\n    }\r\n    return \"\"\r\n};\r\nexport var isFullPathContainsTabs = fullPath => fullPath.indexOf(\"tabs\") > -1;\r\nexport var getItemPath = (items, item, isTabs) => {\r\n    var index = items.indexOf(item);\r\n    if (index > -1) {\r\n        return createItemPathByIndex(index, isTabs)\r\n    }\r\n    for (var i = 0; i < items.length; i++) {\r\n        var targetItem = items[i];\r\n        var tabOrGroupItems = targetItem.tabs || targetItem.items;\r\n        if (tabOrGroupItems) {\r\n            var itemPath = getItemPath(tabOrGroupItems, item, targetItem.tabs);\r\n            if (itemPath) {\r\n                return concatPaths(createItemPathByIndex(i, isTabs), itemPath)\r\n            }\r\n        }\r\n    }\r\n};\r\nexport function convertToLayoutManagerOptions(_ref) {\r\n    var {\r\n        form: form,\r\n        $formElement: $formElement,\r\n        formOptions: formOptions,\r\n        items: items,\r\n        validationGroup: validationGroup,\r\n        extendedLayoutManagerOptions: extendedLayoutManagerOptions,\r\n        onFieldDataChanged: onFieldDataChanged,\r\n        onContentReady: onContentReady,\r\n        onDisposing: onDisposing,\r\n        onFieldItemRendered: onFieldItemRendered\r\n    } = _ref;\r\n    var baseOptions = {\r\n        form: form,\r\n        items: items,\r\n        $formElement: $formElement,\r\n        validationGroup: validationGroup,\r\n        onFieldDataChanged: onFieldDataChanged,\r\n        onContentReady: onContentReady,\r\n        onDisposing: onDisposing,\r\n        onFieldItemRendered: onFieldItemRendered,\r\n        validationBoundary: formOptions.scrollingEnabled ? $formElement : void 0,\r\n        scrollingEnabled: formOptions.scrollingEnabled,\r\n        showRequiredMark: formOptions.showRequiredMark,\r\n        showOptionalMark: formOptions.showOptionalMark,\r\n        requiredMark: formOptions.requiredMark,\r\n        optionalMark: formOptions.optionalMark,\r\n        requiredMessage: formOptions.requiredMessage,\r\n        screenByWidth: formOptions.screenByWidth,\r\n        layoutData: formOptions.formData,\r\n        labelLocation: formOptions.labelLocation,\r\n        customizeItem: formOptions.customizeItem,\r\n        minColWidth: formOptions.minColWidth,\r\n        showColonAfterLabel: formOptions.showColonAfterLabel,\r\n        onEditorEnterKey: formOptions.onEditorEnterKey,\r\n        labelMode: formOptions.labelMode\r\n    };\r\n    var result = extend(baseOptions, {\r\n        isRoot: extendedLayoutManagerOptions.isRoot,\r\n        colCount: extendedLayoutManagerOptions.colCount,\r\n        alignItemLabels: extendedLayoutManagerOptions.alignItemLabels,\r\n        cssItemClass: extendedLayoutManagerOptions.cssItemClass,\r\n        colCountByScreen: extendedLayoutManagerOptions.colCountByScreen,\r\n        onLayoutChanged: extendedLayoutManagerOptions.onLayoutChanged,\r\n        width: extendedLayoutManagerOptions.width\r\n    });\r\n    return result\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.item_options_actions.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport ItemOptionAction from \"./ui.form.item_option_action\";\r\nimport {\r\n    data\r\n} from \"../../core/element_data\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getFullOptionName\r\n} from \"./ui.form.utils\";\r\nclass WidgetOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var {\r\n            value: value\r\n        } = this._options;\r\n        var instance = this.findInstance();\r\n        if (instance) {\r\n            instance.option(value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass TabOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var tabPanel = this.findInstance();\r\n        if (tabPanel) {\r\n            var {\r\n                optionName: optionName,\r\n                item: item,\r\n                value: value\r\n            } = this._options;\r\n            var itemIndex = this._itemsRunTimeInfo.findItemIndexByItem(item);\r\n            if (itemIndex >= 0) {\r\n                tabPanel.option(getFullOptionName(\"items[\".concat(itemIndex, \"]\"), optionName), value);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass GroupItemTemplateChangedAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var preparedItem = this.findPreparedItem();\r\n        if (null != preparedItem && preparedItem._prepareGroupItemTemplate && preparedItem._renderGroupContentTemplate) {\r\n            preparedItem._prepareGroupItemTemplate(this._options.item.template);\r\n            preparedItem._renderGroupContentTemplate();\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass TabsOptionItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var tabPanel = this.findInstance();\r\n        if (tabPanel) {\r\n            var {\r\n                value: value\r\n            } = this._options;\r\n            tabPanel.option(\"dataSource\", value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass ValidationRulesItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var {\r\n            item: item\r\n        } = this._options;\r\n        var instance = this.findInstance();\r\n        var validator = instance && data(instance.$element()[0], \"dxValidator\");\r\n        if (validator && item) {\r\n            var filterRequired = item => \"required\" === item.type;\r\n            var oldContainsRequired = (validator.option(\"validationRules\") || []).some(filterRequired);\r\n            var newContainsRequired = (item.validationRules || []).some(filterRequired);\r\n            if (!oldContainsRequired && !newContainsRequired || oldContainsRequired && newContainsRequired) {\r\n                validator.option(\"validationRules\", item.validationRules);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    }\r\n}\r\nclass CssClassItemOptionAction extends ItemOptionAction {\r\n    tryExecute() {\r\n        var $itemContainer = this.findItemContainer();\r\n        var {\r\n            previousValue: previousValue,\r\n            value: value\r\n        } = this._options;\r\n        if ($itemContainer) {\r\n            $itemContainer.removeClass(previousValue).addClass(value);\r\n            return true\r\n        }\r\n        return false\r\n    }\r\n}\r\nvar tryCreateItemOptionAction = (optionName, itemActionOptions) => {\r\n    var _itemActionOptions$it;\r\n    switch (optionName) {\r\n        case \"editorOptions\":\r\n        case \"buttonOptions\":\r\n            return new WidgetOptionItemOptionAction(itemActionOptions);\r\n        case \"validationRules\":\r\n            return new ValidationRulesItemOptionAction(itemActionOptions);\r\n        case \"cssClass\":\r\n            return new CssClassItemOptionAction(itemActionOptions);\r\n        case \"badge\":\r\n        case \"disabled\":\r\n        case \"icon\":\r\n        case \"tabTemplate\":\r\n        case \"title\":\r\n            return new TabOptionItemOptionAction(extend(itemActionOptions, {\r\n                optionName: optionName\r\n            }));\r\n        case \"tabs\":\r\n            return new TabsOptionItemOptionAction(itemActionOptions);\r\n        case \"template\":\r\n            if (\"group\" === (null === (_itemActionOptions$it = itemActionOptions.item) || void 0 === _itemActionOptions$it ? void 0 : _itemActionOptions$it.itemType)) {\r\n                return new GroupItemTemplateChangedAction(itemActionOptions)\r\n            } else {\r\n                return new TabOptionItemOptionAction(extend(itemActionOptions, {\r\n                    optionName: optionName\r\n                }))\r\n            }\r\n            default:\r\n                return null\r\n    }\r\n};\r\nexport default tryCreateItemOptionAction;\r\n","/**\r\n * DevExtreme (esm/ui/responsive_box.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../core/utils/size\";\r\nimport $ from \"../core/renderer\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    grep,\r\n    noop\r\n} from \"../core/utils/common\";\r\nimport {\r\n    isDefined,\r\n    isPlainObject,\r\n    isEmptyObject\r\n} from \"../core/utils/type\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport {\r\n    getWindow,\r\n    defaultScreenFactorFunc,\r\n    hasWindow\r\n} from \"../core/utils/window\";\r\nvar window = getWindow();\r\nimport {\r\n    each,\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport Box from \"./box\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar RESPONSIVE_BOX_CLASS = \"dx-responsivebox\";\r\nvar SCREEN_SIZE_CLASS_PREFIX = RESPONSIVE_BOX_CLASS + \"-screen-\";\r\nvar BOX_ITEM_CLASS = \"dx-box-item\";\r\nvar BOX_ITEM_DATA_KEY = \"dxBoxItemData\";\r\nvar HD_SCREEN_WIDTH = 1920;\r\nvar ResponsiveBox = CollectionWidget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            rows: [],\r\n            cols: [],\r\n            screenByWidth: null,\r\n            singleColumnScreen: \"\",\r\n            height: \"100%\",\r\n            width: \"100%\",\r\n            activeStateEnabled: false,\r\n            focusStateEnabled: false,\r\n            onItemStateChanged: void 0,\r\n            onLayoutChanged: null,\r\n            currentScreenFactor: void 0,\r\n            _layoutStrategy: void 0\r\n        })\r\n    },\r\n    _init: function() {\r\n        if (!this.option(\"screenByWidth\")) {\r\n            this._options.silent(\"screenByWidth\", defaultScreenFactorFunc)\r\n        }\r\n        this.callBase();\r\n        this._initLayoutChangedAction()\r\n    },\r\n    _initLayoutChangedAction: function() {\r\n        this._layoutChangedAction = this._createActionByOption(\"onLayoutChanged\", {\r\n            excludeValidators: [\"disabled\", \"readonly\"]\r\n        })\r\n    },\r\n    _itemClass: function() {\r\n        return BOX_ITEM_CLASS\r\n    },\r\n    _itemDataKey: function() {\r\n        return BOX_ITEM_DATA_KEY\r\n    },\r\n    _initMarkup: function() {\r\n        this.callBase();\r\n        this.$element().addClass(RESPONSIVE_BOX_CLASS);\r\n        this._updateRootBox()\r\n    },\r\n    _updateRootBox: function() {\r\n        clearTimeout(this._updateTimer);\r\n        this._updateTimer = setTimeout(function() {\r\n            if (this._$root) {\r\n                eventsEngine.triggerHandler(this._$root, \"dxupdate\")\r\n            }\r\n        }.bind(this))\r\n    },\r\n    _renderItems: function() {\r\n        this._setScreenSize();\r\n        this._screenItems = this._itemsByScreen();\r\n        this._prepareGrid();\r\n        this._spreadItems();\r\n        this._layoutItems();\r\n        this._linkNodeToItem()\r\n    },\r\n    _itemOptionChanged: function(item) {\r\n        var $item = this._findItemElementByItem(item);\r\n        if (!$item.length) {\r\n            return\r\n        }\r\n        this._refreshItem($item, item);\r\n        this._clearItemNodeTemplates();\r\n        this._update(true)\r\n    },\r\n    _setScreenSize: function() {\r\n        var currentScreen = this._getCurrentScreen();\r\n        this._removeScreenSizeClass();\r\n        this.$element().addClass(SCREEN_SIZE_CLASS_PREFIX + currentScreen);\r\n        this.option(\"currentScreenFactor\", currentScreen)\r\n    },\r\n    _removeScreenSizeClass: function() {\r\n        var currentScreenFactor = this.option(\"currentScreenFactor\");\r\n        currentScreenFactor && this.$element().removeClass(SCREEN_SIZE_CLASS_PREFIX + currentScreenFactor)\r\n    },\r\n    _prepareGrid: function() {\r\n        var grid = this._grid = [];\r\n        this._prepareRowsAndCols();\r\n        each(this._rows, function() {\r\n            var row = [];\r\n            grid.push(row);\r\n            each(this._cols, function() {\r\n                row.push(this._createEmptyCell())\r\n            }.bind(this))\r\n        }.bind(this))\r\n    },\r\n    getSingleColumnRows: function() {\r\n        var rows = this.option(\"rows\");\r\n        var screenItemsLength = this._screenItems.length;\r\n        if (rows.length) {\r\n            var filteredRows = this._filterByScreen(rows);\r\n            var result = [];\r\n            for (var i = 0; i < screenItemsLength; i++) {\r\n                var sizeConfig = this._defaultSizeConfig();\r\n                if (i < filteredRows.length && isDefined(filteredRows[i].shrink)) {\r\n                    sizeConfig.shrink = filteredRows[i].shrink\r\n                }\r\n                result.push(sizeConfig)\r\n            }\r\n            return result\r\n        } else {\r\n            return this._defaultSizeConfig(screenItemsLength)\r\n        }\r\n    },\r\n    _prepareRowsAndCols: function() {\r\n        if (this._isSingleColumnScreen()) {\r\n            this._prepareSingleColumnScreenItems();\r\n            this._rows = this.getSingleColumnRows();\r\n            this._cols = this._defaultSizeConfig(1)\r\n        } else {\r\n            this._rows = this._sizesByScreen(this.option(\"rows\"));\r\n            this._cols = this._sizesByScreen(this.option(\"cols\"))\r\n        }\r\n    },\r\n    _isSingleColumnScreen: function() {\r\n        return this._screenRegExp().test(this.option(\"singleColumnScreen\")) || !this.option(\"rows\").length || !this.option(\"cols\").length\r\n    },\r\n    _prepareSingleColumnScreenItems: function() {\r\n        this._screenItems.sort((function(item1, item2) {\r\n            return item1.location.row - item2.location.row || item1.location.col - item2.location.col\r\n        }));\r\n        each(this._screenItems, (function(index, item) {\r\n            extend(item.location, {\r\n                row: index,\r\n                col: 0,\r\n                rowspan: 1,\r\n                colspan: 1\r\n            })\r\n        }))\r\n    },\r\n    _sizesByScreen: function(sizeConfigs) {\r\n        return map(this._filterByScreen(sizeConfigs), function(sizeConfig) {\r\n            return extend(this._defaultSizeConfig(), sizeConfig)\r\n        }.bind(this))\r\n    },\r\n    _createDefaultSizeConfig: function() {\r\n        return {\r\n            ratio: 1,\r\n            baseSize: 0,\r\n            minSize: 0,\r\n            maxSize: 0\r\n        }\r\n    },\r\n    _defaultSizeConfig: function(size) {\r\n        var defaultSizeConfig = this._createDefaultSizeConfig();\r\n        if (!arguments.length) {\r\n            return defaultSizeConfig\r\n        }\r\n        var result = [];\r\n        for (var i = 0; i < size; i++) {\r\n            result.push(defaultSizeConfig)\r\n        }\r\n        return result\r\n    },\r\n    _filterByScreen: function(items) {\r\n        var screenRegExp = this._screenRegExp();\r\n        return grep(items, (function(item) {\r\n            return !item.screen || screenRegExp.test(item.screen)\r\n        }))\r\n    },\r\n    _screenRegExp: function() {\r\n        var screen = this._getCurrentScreen();\r\n        return new RegExp(\"(^|\\\\s)\" + screen + \"($|\\\\s)\", \"i\")\r\n    },\r\n    _getCurrentScreen: function() {\r\n        var width = this._screenWidth();\r\n        return this.option(\"screenByWidth\")(width)\r\n    },\r\n    _screenWidth: function() {\r\n        return hasWindow() ? getWidth(window) : HD_SCREEN_WIDTH\r\n    },\r\n    _createEmptyCell: function() {\r\n        return {\r\n            item: {},\r\n            location: {\r\n                colspan: 1,\r\n                rowspan: 1\r\n            }\r\n        }\r\n    },\r\n    _spreadItems: function() {\r\n        each(this._screenItems, function(_, itemInfo) {\r\n            var location = itemInfo.location || {};\r\n            var itemCol = location.col;\r\n            var itemRow = location.row;\r\n            var row = this._grid[itemRow];\r\n            var itemCell = row && row[itemCol];\r\n            this._occupyCells(itemCell, itemInfo)\r\n        }.bind(this))\r\n    },\r\n    _itemsByScreen: function() {\r\n        return this.option(\"items\").reduce((result, item) => {\r\n            var locations = item.location || {};\r\n            locations = isPlainObject(locations) ? [locations] : locations;\r\n            this._filterByScreen(locations).forEach(location => {\r\n                result.push({\r\n                    item: item,\r\n                    location: extend({\r\n                        rowspan: 1,\r\n                        colspan: 1\r\n                    }, location)\r\n                })\r\n            });\r\n            return result\r\n        }, [])\r\n    },\r\n    _occupyCells: function(itemCell, itemInfo) {\r\n        if (!itemCell || this._isItemCellOccupied(itemCell, itemInfo)) {\r\n            return\r\n        }\r\n        extend(itemCell, itemInfo);\r\n        this._markSpanningCell(itemCell)\r\n    },\r\n    _isItemCellOccupied: function(itemCell, itemInfo) {\r\n        if (!isEmptyObject(itemCell.item)) {\r\n            return true\r\n        }\r\n        var result = false;\r\n        this._loopOverSpanning(itemInfo.location, (function(cell) {\r\n            result = result || !isEmptyObject(cell.item)\r\n        }));\r\n        return result\r\n    },\r\n    _loopOverSpanning: function(location, callback) {\r\n        var rowEnd = location.row + location.rowspan - 1;\r\n        var colEnd = location.col + location.colspan - 1;\r\n        var boundRowEnd = Math.min(rowEnd, this._rows.length - 1);\r\n        var boundColEnd = Math.min(colEnd, this._cols.length - 1);\r\n        location.rowspan -= rowEnd - boundRowEnd;\r\n        location.colspan -= colEnd - boundColEnd;\r\n        for (var rowIndex = location.row; rowIndex <= boundRowEnd; rowIndex++) {\r\n            for (var colIndex = location.col; colIndex <= boundColEnd; colIndex++) {\r\n                if (rowIndex !== location.row || colIndex !== location.col) {\r\n                    callback(this._grid[rowIndex][colIndex])\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _markSpanningCell: function(itemCell) {\r\n        this._loopOverSpanning(itemCell.location, (function(cell) {\r\n            extend(cell, {\r\n                item: itemCell.item,\r\n                spanningCell: itemCell\r\n            })\r\n        }))\r\n    },\r\n    _linkNodeToItem: function() {\r\n        each(this._itemElements(), (function(_, itemNode) {\r\n            var $item = $(itemNode);\r\n            var item = $item.data(BOX_ITEM_DATA_KEY);\r\n            if (!item.box) {\r\n                item.node = $item.children()\r\n            }\r\n        }))\r\n    },\r\n    _layoutItems: function() {\r\n        var rowsCount = this._grid.length;\r\n        var colsCount = rowsCount && this._grid[0].length;\r\n        if (!rowsCount && !colsCount) {\r\n            return\r\n        }\r\n        var result = this._layoutBlock({\r\n            direction: \"col\",\r\n            row: {\r\n                start: 0,\r\n                end: rowsCount - 1\r\n            },\r\n            col: {\r\n                start: 0,\r\n                end: colsCount - 1\r\n            }\r\n        });\r\n        var rootBox = this._prepareBoxConfig(result.box || {\r\n            direction: \"row\",\r\n            items: [extend(result, {\r\n                ratio: 1\r\n            })]\r\n        });\r\n        extend(rootBox, this._rootBoxConfig(rootBox.items));\r\n        this._$root = $(\"<div>\").appendTo(this._itemContainer());\r\n        this._createComponent(this._$root, Box, rootBox)\r\n    },\r\n    _rootBoxConfig: function(items) {\r\n        var rootItems = each(items, function(index, item) {\r\n            this._needApplyAutoBaseSize(item) && extend(item, {\r\n                baseSize: \"auto\"\r\n            })\r\n        }.bind(this));\r\n        return extend({\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            items: rootItems,\r\n            itemTemplate: this._getTemplateByOption(\"itemTemplate\"),\r\n            itemHoldTimeout: this.option(\"itemHoldTimeout\"),\r\n            onItemHold: this._createActionByOption(\"onItemHold\"),\r\n            onItemClick: this._createActionByOption(\"onItemClick\"),\r\n            onItemContextMenu: this._createActionByOption(\"onItemContextMenu\"),\r\n            onItemRendered: this._createActionByOption(\"onItemRendered\")\r\n        }, {\r\n            _layoutStrategy: this.option(\"_layoutStrategy\")\r\n        })\r\n    },\r\n    _needApplyAutoBaseSize: function(item) {\r\n        return !item.baseSize && (!item.minSize || \"auto\" === item.minSize) && (!item.maxSize || \"auto\" === item.maxSize)\r\n    },\r\n    _prepareBoxConfig: function(config) {\r\n        return extend(config || {}, {\r\n            crossAlign: \"stretch\",\r\n            onItemStateChanged: this.option(\"onItemStateChanged\")\r\n        })\r\n    },\r\n    _layoutBlock: function(options) {\r\n        if (this._isSingleItem(options)) {\r\n            return this._itemByCell(options.row.start, options.col.start)\r\n        }\r\n        return this._layoutDirection(options)\r\n    },\r\n    _isSingleItem: function(options) {\r\n        var firstCellLocation = this._grid[options.row.start][options.col.start].location;\r\n        var isItemRowSpanned = options.row.end - options.row.start === firstCellLocation.rowspan - 1;\r\n        var isItemColSpanned = options.col.end - options.col.start === firstCellLocation.colspan - 1;\r\n        return isItemRowSpanned && isItemColSpanned\r\n    },\r\n    _itemByCell: function(rowIndex, colIndex) {\r\n        var itemCell = this._grid[rowIndex][colIndex];\r\n        return itemCell.spanningCell ? null : itemCell.item\r\n    },\r\n    _layoutDirection: function(options) {\r\n        var items = [];\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var block;\r\n        while (block = this._nextBlock(options)) {\r\n            if (this._isBlockIndivisible(options.prevBlockOptions, block)) {\r\n                throw errors.Error(\"E1025\")\r\n            }\r\n            var item = this._layoutBlock({\r\n                direction: crossDirection,\r\n                row: block.row,\r\n                col: block.col,\r\n                prevBlockOptions: options\r\n            });\r\n            if (item) {\r\n                extend(item, this._blockSize(block, crossDirection));\r\n                items.push(item)\r\n            }\r\n            options[crossDirection].start = block[crossDirection].end + 1\r\n        }\r\n        return {\r\n            box: this._prepareBoxConfig({\r\n                direction: direction,\r\n                items: items\r\n            })\r\n        }\r\n    },\r\n    _isBlockIndivisible: function(options, block) {\r\n        return options && options.col.start === block.col.start && options.col.end === block.col.end && options.row.start === block.row.start && options.row.end === block.row.end\r\n    },\r\n    _crossDirection: function(direction) {\r\n        return \"col\" === direction ? \"row\" : \"col\"\r\n    },\r\n    _nextBlock: function(options) {\r\n        var direction = options.direction;\r\n        var crossDirection = this._crossDirection(direction);\r\n        var startIndex = options[direction].start;\r\n        var endIndex = options[direction].end;\r\n        var crossStartIndex = options[crossDirection].start;\r\n        if (crossStartIndex > options[crossDirection].end) {\r\n            return null\r\n        }\r\n        var crossSpan = 1;\r\n        for (var crossIndex = crossStartIndex; crossIndex < crossStartIndex + crossSpan; crossIndex++) {\r\n            var lineCrossSpan = 1;\r\n            for (var index = startIndex; index <= endIndex; index++) {\r\n                var cell = this._cellByDirection(direction, index, crossIndex);\r\n                lineCrossSpan = Math.max(lineCrossSpan, cell.location[crossDirection + \"span\"])\r\n            }\r\n            var lineCrossEndIndex = crossIndex + lineCrossSpan;\r\n            var crossEndIndex = crossStartIndex + crossSpan;\r\n            if (lineCrossEndIndex > crossEndIndex) {\r\n                crossSpan += lineCrossEndIndex - crossEndIndex\r\n            }\r\n        }\r\n        var result = {};\r\n        result[direction] = {\r\n            start: startIndex,\r\n            end: endIndex\r\n        };\r\n        result[crossDirection] = {\r\n            start: crossStartIndex,\r\n            end: crossStartIndex + crossSpan - 1\r\n        };\r\n        return result\r\n    },\r\n    _cellByDirection: function(direction, index, crossIndex) {\r\n        return \"col\" === direction ? this._grid[crossIndex][index] : this._grid[index][crossIndex]\r\n    },\r\n    _blockSize: function(block, direction) {\r\n        var defaultMinSize = \"row\" === direction ? \"auto\" : 0;\r\n        var sizeConfigs = \"row\" === direction ? this._rows : this._cols;\r\n        var result = extend(this._createDefaultSizeConfig(), {\r\n            ratio: 0\r\n        });\r\n        for (var index = block[direction].start; index <= block[direction].end; index++) {\r\n            var sizeConfig = sizeConfigs[index];\r\n            result.ratio += sizeConfig.ratio;\r\n            result.baseSize += sizeConfig.baseSize;\r\n            result.minSize += sizeConfig.minSize;\r\n            result.maxSize += sizeConfig.maxSize;\r\n            if (isDefined(sizeConfig.shrink)) {\r\n                result.shrink = sizeConfig.shrink\r\n            }\r\n        }\r\n        result.minSize = result.minSize ? result.minSize : defaultMinSize;\r\n        result.maxSize = result.maxSize ? result.maxSize : \"auto\";\r\n        this._isSingleColumnScreen() && (result.baseSize = \"auto\");\r\n        return result\r\n    },\r\n    _update: function(forceRemoveRoot) {\r\n        var $existingRoot = this._$root;\r\n        this._renderItems();\r\n        if ($existingRoot) {\r\n            if (forceRemoveRoot) {\r\n                $existingRoot.remove()\r\n            } else {\r\n                $existingRoot.detach();\r\n                this._saveAssistantRoot($existingRoot)\r\n            }\r\n        }\r\n        this._layoutChangedAction();\r\n        this._updateRootBox()\r\n    },\r\n    _saveAssistantRoot: function($root) {\r\n        this._assistantRoots = this._assistantRoots || [];\r\n        this._assistantRoots.push($root)\r\n    },\r\n    _dispose: function() {\r\n        clearTimeout(this._updateTimer);\r\n        this._clearItemNodeTemplates();\r\n        this._cleanUnusedRoots();\r\n        this.callBase.apply(this, arguments)\r\n    },\r\n    _cleanUnusedRoots: function() {\r\n        if (!this._assistantRoots) {\r\n            return\r\n        }\r\n        each(this._assistantRoots, (function(_, item) {\r\n            $(item).remove()\r\n        }))\r\n    },\r\n    _clearItemNodeTemplates: function() {\r\n        each(this.option(\"items\"), (function() {\r\n            delete this.node\r\n        }))\r\n    },\r\n    _toggleVisibility: function(visible) {\r\n        this.callBase(visible);\r\n        if (visible) {\r\n            this._updateRootBox()\r\n        }\r\n    },\r\n    _attachClickEvent: noop,\r\n    _optionChanged: function(args) {\r\n        switch (args.name) {\r\n            case \"rows\":\r\n            case \"cols\":\r\n            case \"screenByWidth\":\r\n            case \"_layoutStrategy\":\r\n            case \"singleColumnScreen\":\r\n                this._clearItemNodeTemplates();\r\n                this._invalidate();\r\n                break;\r\n            case \"width\":\r\n            case \"height\":\r\n                this.callBase(args);\r\n                this._update();\r\n                break;\r\n            case \"onLayoutChanged\":\r\n                this._initLayoutChangedAction();\r\n                break;\r\n            case \"itemTemplate\":\r\n                this._clearItemNodeTemplates();\r\n                this.callBase(args);\r\n                break;\r\n            case \"currentScreenFactor\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (this._getCurrentScreen() !== this.option(\"currentScreenFactor\")) {\r\n            this._update()\r\n        }\r\n    },\r\n    repaint: function() {\r\n        this._update()\r\n    }\r\n});\r\nregisterComponent(\"dxResponsiveBox\", ResponsiveBox);\r\nexport default ResponsiveBox;\r\n","/**\r\n * DevExtreme (esm/ui/form/constants.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nexport var WIDGET_CLASS = \"dx-widget\";\r\nexport var FORM_CLASS = \"dx-form\";\r\nexport var FORM_GROUP_CLASS = \"dx-form-group\";\r\nexport var FORM_GROUP_CAPTION_CLASS = \"dx-form-group-caption\";\r\nexport var FORM_FIELD_ITEM_COL_CLASS = \"dx-col-\";\r\nexport var FIELD_ITEM_CLASS = \"dx-field-item\";\r\nexport var LAYOUT_MANAGER_ONE_COLUMN = \"dx-layout-manager-one-col\";\r\nexport var FIELD_ITEM_LABEL_CONTENT_CLASS = \"dx-field-item-label-content\";\r\nexport var FORM_LAYOUT_MANAGER_CLASS = \"dx-layout-manager\";\r\nexport var FIELD_ITEM_LABEL_CLASS = \"dx-field-item-label\";\r\nexport var FIELD_ITEM_CONTENT_CLASS = \"dx-field-item-content\";\r\nexport var SINGLE_COLUMN_ITEM_CONTENT = \"dx-single-column-item-content\";\r\nexport var ROOT_SIMPLE_ITEM_CLASS = \"dx-root-simple-item\";\r\nexport var FORM_GROUP_CONTENT_CLASS = \"dx-form-group-content\";\r\nexport var FIELD_ITEM_CONTENT_HAS_GROUP_CLASS = \"dx-field-item-has-group\";\r\nexport var FIELD_ITEM_CONTENT_HAS_TABS_CLASS = \"dx-field-item-has-tabs\";\r\nexport var FORM_GROUP_WITH_CAPTION_CLASS = \"dx-form-group-with-caption\";\r\nexport var FIELD_ITEM_TAB_CLASS = \"dx-field-item-tab\";\r\nexport var GROUP_COL_COUNT_CLASS = \"dx-group-colcount-\";\r\nexport var GROUP_COL_COUNT_ATTR = \"group-col-count\";\r\nexport var FORM_VALIDATION_SUMMARY = \"dx-form-validation-summary\";\r\nexport var FORM_UNDERLINED_CLASS = \"dx-form-styling-mode-underlined\";\r\nexport var SIMPLE_ITEM_TYPE = \"simple\";\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    captionize\r\n} from \"../../core/utils/inflector\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    SIMPLE_ITEM_TYPE\r\n} from \"./constants\";\r\nvar EDITORS_WITH_ARRAY_VALUE = [\"dxTagBox\", \"dxRangeSlider\"];\r\nexport var EDITORS_WITHOUT_LABELS = [\"dxCalendar\", \"dxCheckBox\", \"dxHtmlEditor\", \"dxRadioGroup\", \"dxRangeSlider\", \"dxSlider\", \"dxSwitch\"];\r\nexport function convertToRenderFieldItemOptions(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        item: item,\r\n        template: template,\r\n        name: name,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        managerLabelLocation: managerLabelLocation,\r\n        itemId: itemId,\r\n        managerMarkOptions: managerMarkOptions,\r\n        labelMode: labelMode\r\n    } = _ref;\r\n    var isRequired = isDefined(item.isRequired) ? item.isRequired : !!_hasRequiredRuleInSet(item.validationRules);\r\n    var isSimpleItem = item.itemType === SIMPLE_ITEM_TYPE;\r\n    var helpID = item.helpText ? \"dx-\" + new Guid : null;\r\n    var labelOptions = _convertToLabelOptions({\r\n        item: item,\r\n        id: itemId,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: managerLabelLocation,\r\n        formLabelMode: labelMode\r\n    });\r\n    var needRenderLabel = labelOptions.visible && labelOptions.text;\r\n    var {\r\n        location: labelLocation,\r\n        labelID: labelID\r\n    } = labelOptions;\r\n    var labelNeedBaselineAlign = \"top\" !== labelLocation && (!!item.helpText && !useFlexLayout || -1 !== inArray(item.editorType, [\"dxTextArea\", \"dxRadioGroup\", \"dxCalendar\", \"dxHtmlEditor\"]));\r\n    var editorOptions = _convertToEditorOptions({\r\n        editorType: item.editorType,\r\n        editorValue: editorValue,\r\n        defaultEditorName: item.dataField,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: item.editorOptions,\r\n        editorInputId: itemId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: labelMode,\r\n        labelText: labelOptions.textWithoutColon,\r\n        labelMark: labelOptions.markOptions.showRequiredMark ? String.fromCharCode(160) + labelOptions.markOptions.requiredMark : \"\"\r\n    });\r\n    var needRenderOptionalMarkAsHelpText = labelOptions.markOptions.showOptionalMark && !labelOptions.visible && \"hidden\" !== editorOptions.labelMode && !isDefined(item.helpText);\r\n    var helpText = needRenderOptionalMarkAsHelpText ? labelOptions.markOptions.optionalMark : item.helpText;\r\n    return {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        item: item,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        formLabelLocation: formLabelLocation,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup,\r\n        editorOptions: editorOptions\r\n    }\r\n}\r\nexport function getLabelMarkText(_ref2) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref2;\r\n    if (!showRequiredMark && !showOptionalMark) {\r\n        return \"\"\r\n    }\r\n    return String.fromCharCode(160) + (showRequiredMark ? requiredMark : optionalMark)\r\n}\r\nexport function convertToLabelMarkOptions(_ref3, isRequired) {\r\n    var {\r\n        showRequiredMark: showRequiredMark,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark,\r\n        optionalMark: optionalMark\r\n    } = _ref3;\r\n    return {\r\n        showRequiredMark: showRequiredMark && isRequired,\r\n        requiredMark: requiredMark,\r\n        showOptionalMark: showOptionalMark && !isRequired,\r\n        optionalMark: optionalMark\r\n    }\r\n}\r\n\r\nfunction _convertToEditorOptions(_ref4) {\r\n    var {\r\n        editorType: editorType,\r\n        defaultEditorName: defaultEditorName,\r\n        editorValue: editorValue,\r\n        canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n        externalEditorOptions: externalEditorOptions,\r\n        editorInputId: editorInputId,\r\n        editorValidationBoundary: editorValidationBoundary,\r\n        editorStylingMode: editorStylingMode,\r\n        formLabelMode: formLabelMode,\r\n        labelText: labelText,\r\n        labelMark: labelMark\r\n    } = _ref4;\r\n    var editorOptionsWithValue = {};\r\n    if (void 0 !== editorValue || canAssignUndefinedValueToEditor) {\r\n        editorOptionsWithValue.value = editorValue\r\n    }\r\n    if (-1 !== EDITORS_WITH_ARRAY_VALUE.indexOf(editorType)) {\r\n        editorOptionsWithValue.value = editorOptionsWithValue.value || []\r\n    }\r\n    var labelMode = null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.labelMode;\r\n    if (!isDefined(labelMode)) {\r\n        labelMode = \"outside\" === formLabelMode ? \"hidden\" : formLabelMode\r\n    }\r\n    var stylingMode = (null === externalEditorOptions || void 0 === externalEditorOptions ? void 0 : externalEditorOptions.stylingMode) || editorStylingMode;\r\n    var result = extend(true, editorOptionsWithValue, externalEditorOptions, {\r\n        inputAttr: {\r\n            id: editorInputId\r\n        },\r\n        validationBoundary: editorValidationBoundary,\r\n        stylingMode: stylingMode,\r\n        label: labelText,\r\n        labelMode: labelMode,\r\n        labelMark: labelMark\r\n    });\r\n    if (externalEditorOptions) {\r\n        if (result.dataSource) {\r\n            result.dataSource = externalEditorOptions.dataSource\r\n        }\r\n        if (result.items) {\r\n            result.items = externalEditorOptions.items\r\n        }\r\n    }\r\n    if (defaultEditorName && !result.name) {\r\n        result.name = defaultEditorName\r\n    }\r\n    return result\r\n}\r\n\r\nfunction _hasRequiredRuleInSet(rules) {\r\n    var hasRequiredRule;\r\n    if (rules && rules.length) {\r\n        each(rules, (function(index, rule) {\r\n            if (\"required\" === rule.type) {\r\n                hasRequiredRule = true;\r\n                return false\r\n            }\r\n        }))\r\n    }\r\n    return hasRequiredRule\r\n}\r\n\r\nfunction _convertToLabelOptions(_ref5) {\r\n    var {\r\n        item: item,\r\n        id: id,\r\n        isRequired: isRequired,\r\n        managerMarkOptions: managerMarkOptions,\r\n        showColonAfterLabel: showColonAfterLabel,\r\n        labelLocation: labelLocation,\r\n        formLabelMode: formLabelMode\r\n    } = _ref5;\r\n    var isEditorWithoutLabels = -1 !== inArray(item.editorType, EDITORS_WITHOUT_LABELS);\r\n    var labelOptions = extend({\r\n        showColon: showColonAfterLabel,\r\n        location: labelLocation,\r\n        id: id,\r\n        visible: \"outside\" === formLabelMode || isEditorWithoutLabels && \"hidden\" !== formLabelMode,\r\n        isRequired: isRequired\r\n    }, item ? item.label : {}, {\r\n        markOptions: convertToLabelMarkOptions(managerMarkOptions, isRequired)\r\n    });\r\n    if (-1 !== inArray(item.editorType, [\"dxRadioGroup\", \"dxCheckBox\", \"dxLookup\", \"dxSlider\", \"dxRangeSlider\", \"dxSwitch\", \"dxHtmlEditor\"])) {\r\n        labelOptions.labelID = \"dx-label-\".concat(new Guid)\r\n    }\r\n    if (!labelOptions.text && item.dataField) {\r\n        labelOptions.text = captionize(item.dataField)\r\n    }\r\n    if (labelOptions.text) {\r\n        labelOptions.textWithoutColon = labelOptions.text;\r\n        labelOptions.text += labelOptions.showColon ? \":\" : \"\"\r\n    }\r\n    return labelOptions\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/label.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\r\nvar _excluded = [\"$FIELD_ITEM_LABEL_CONTENT_CLASS\"];\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    isEmpty\r\n} from \"../../../core/utils/string\";\r\nimport {\r\n    getLabelMarkText\r\n} from \"../ui.form.layout_manager.utils\";\r\nimport {\r\n    WIDGET_CLASS,\r\n    FIELD_ITEM_LABEL_CONTENT_CLASS,\r\n    FIELD_ITEM_LABEL_CLASS\r\n} from \"../constants\";\r\nexport var GET_LABEL_WIDTH_BY_TEXT_CLASS = \"dx-layout-manager-hidden-label\";\r\nexport var FIELD_ITEM_REQUIRED_MARK_CLASS = \"dx-field-item-required-mark\";\r\nexport var FIELD_ITEM_LABEL_LOCATION_CLASS = \"dx-field-item-label-location-\";\r\nexport var FIELD_ITEM_OPTIONAL_MARK_CLASS = \"dx-field-item-optional-mark\";\r\nexport var FIELD_ITEM_LABEL_TEXT_CLASS = \"dx-field-item-label-text\";\r\nexport function renderLabel(_ref) {\r\n    var {\r\n        text: text,\r\n        id: id,\r\n        location: location,\r\n        alignment: alignment,\r\n        labelID: labelID = null,\r\n        markOptions: markOptions = {}\r\n    } = _ref;\r\n    if (!isDefined(text) || text.length <= 0) {\r\n        return null\r\n    }\r\n    return $(\"<label>\").addClass(FIELD_ITEM_LABEL_CLASS + \" \" + FIELD_ITEM_LABEL_LOCATION_CLASS + location).attr(\"for\", id).attr(\"id\", labelID).css(\"textAlign\", alignment).append($(\"<span>\").addClass(FIELD_ITEM_LABEL_CONTENT_CLASS).append($(\"<span>\").addClass(FIELD_ITEM_LABEL_TEXT_CLASS).text(text), _renderLabelMark(markOptions)))\r\n}\r\n\r\nfunction _renderLabelMark(markOptions) {\r\n    var markText = getLabelMarkText(markOptions);\r\n    if (\"\" === markText) {\r\n        return null\r\n    }\r\n    return $(\"<span>\").addClass(markOptions.showRequiredMark ? FIELD_ITEM_REQUIRED_MARK_CLASS : FIELD_ITEM_OPTIONAL_MARK_CLASS).text(markText)\r\n}\r\nexport function setLabelWidthByMaxLabelWidth($targetContainer, labelsSelector, labelMarkOptions) {\r\n    var FIELD_ITEM_LABEL_CONTENT_CLASS_Selector = \"\".concat(labelsSelector, \" > .\").concat(FIELD_ITEM_LABEL_CLASS, \":not(.\").concat(FIELD_ITEM_LABEL_LOCATION_CLASS, \"top) > .\").concat(FIELD_ITEM_LABEL_CONTENT_CLASS);\r\n    var $FIELD_ITEM_LABEL_CONTENT_CLASS_Items = $targetContainer.find(FIELD_ITEM_LABEL_CONTENT_CLASS_Selector);\r\n    var FIELD_ITEM_LABEL_CONTENT_CLASS_Length = $FIELD_ITEM_LABEL_CONTENT_CLASS_Items.length;\r\n    var labelWidth;\r\n    var i;\r\n    var maxWidth = 0;\r\n    for (i = 0; i < FIELD_ITEM_LABEL_CONTENT_CLASS_Length; i++) {\r\n        labelWidth = getLabelWidthByInnerHTML({\r\n            $FIELD_ITEM_LABEL_CONTENT_CLASS: $FIELD_ITEM_LABEL_CONTENT_CLASS_Items[i],\r\n            location: \"left\",\r\n            markOptions: labelMarkOptions\r\n        });\r\n        if (labelWidth > maxWidth) {\r\n            maxWidth = labelWidth\r\n        }\r\n    }\r\n    for (i = 0; i < FIELD_ITEM_LABEL_CONTENT_CLASS_Length; i++) {\r\n        $FIELD_ITEM_LABEL_CONTENT_CLASS_Items[i].style.width = maxWidth + \"px\"\r\n    }\r\n}\r\n\r\nfunction getLabelWidthByInnerHTML(options) {\r\n    var {\r\n        $FIELD_ITEM_LABEL_CONTENT_CLASS: $FIELD_ITEM_LABEL_CONTENT_CLASS\r\n    } = options, renderLabelOptions = _objectWithoutPropertiesLoose(options, _excluded);\r\n    var $hiddenContainer = $(\"<div>\").addClass(WIDGET_CLASS).addClass(GET_LABEL_WIDTH_BY_TEXT_CLASS).appendTo(\"body\");\r\n    renderLabelOptions.text = \" \";\r\n    var $label = renderLabel(renderLabelOptions).appendTo($hiddenContainer);\r\n    var labelTextElement = $label.find(\".\" + FIELD_ITEM_LABEL_TEXT_CLASS)[0];\r\n    labelTextElement.innerHTML = getLabelInnerHTML($FIELD_ITEM_LABEL_CONTENT_CLASS);\r\n    var result = labelTextElement.offsetWidth;\r\n    $hiddenContainer.remove();\r\n    return result\r\n}\r\n\r\nfunction getLabelInnerHTML($FIELD_ITEM_LABEL_CONTENT_CLASS) {\r\n    var length = $FIELD_ITEM_LABEL_CONTENT_CLASS.children.length;\r\n    var child;\r\n    var result = \"\";\r\n    var i;\r\n    for (i = 0; i < length; i++) {\r\n        child = $FIELD_ITEM_LABEL_CONTENT_CLASS.children[i];\r\n        result += !isEmpty(child.innerText) ? child.innerText : child.innerHTML\r\n    }\r\n    return result\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/field_item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport eventsEngine from \"../../../events/core/events_engine\";\r\nimport {\r\n    name as clickEventName\r\n} from \"../../../events/click\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../../core/element\";\r\nimport {\r\n    captionize\r\n} from \"../../../core/utils/inflector\";\r\nimport {\r\n    format\r\n} from \"../../../core/utils/string\";\r\nimport {\r\n    isMaterial\r\n} from \"../../themes\";\r\nimport errors from \"../../widget/ui.errors\";\r\nimport Validator from \"../../validator\";\r\nimport {\r\n    FIELD_ITEM_CONTENT_CLASS\r\n} from \"../constants\";\r\nexport var FLEX_LAYOUT_CLASS = \"dx-flex-layout\";\r\nexport var FIELD_ITEM_OPTIONAL_CLASS = \"dx-field-item-optional\";\r\nexport var FIELD_ITEM_REQUIRED_CLASS = \"dx-field-item-required\";\r\nexport var FIELD_ITEM_CONTENT_WRAPPER_CLASS = \"dx-field-item-content-wrapper\";\r\nexport var FIELD_ITEM_CONTENT_LOCATION_CLASS = \"dx-field-item-content-location-\";\r\nexport var FIELD_ITEM_LABEL_ALIGN_CLASS = \"dx-field-item-label-align\";\r\nexport var FIELD_ITEM_HELP_TEXT_CLASS = \"dx-field-item-help-text\";\r\nexport var LABEL_VERTICAL_ALIGNMENT_CLASS = \"dx-label-v-align\";\r\nexport var LABEL_HORIZONTAL_ALIGNMENT_CLASS = \"dx-label-h-align\";\r\nimport {\r\n    renderLabel\r\n} from \"./label\";\r\nvar TEMPLATE_WRAPPER_CLASS = \"dx-template-wrapper\";\r\nvar INVALID_CLASS = \"dx-invalid\";\r\nexport function renderFieldItem(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        formOrLayoutManager: formOrLayoutManager,\r\n        createComponentCallback: createComponentCallback,\r\n        useFlexLayout: useFlexLayout,\r\n        labelOptions: labelOptions,\r\n        labelNeedBaselineAlign: labelNeedBaselineAlign,\r\n        labelLocation: labelLocation,\r\n        needRenderLabel: needRenderLabel,\r\n        formLabelLocation: formLabelLocation,\r\n        item: item,\r\n        editorOptions: editorOptions,\r\n        isSimpleItem: isSimpleItem,\r\n        isRequired: isRequired,\r\n        template: template,\r\n        helpID: helpID,\r\n        labelID: labelID,\r\n        name: name,\r\n        helpText: helpText,\r\n        requiredMessageTemplate: requiredMessageTemplate,\r\n        validationGroup: validationGroup\r\n    } = _ref;\r\n    var $rootElement = $(\"<div>\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent);\r\n    $rootElement.addClass(isRequired ? FIELD_ITEM_REQUIRED_CLASS : FIELD_ITEM_OPTIONAL_CLASS);\r\n    if (isSimpleItem && useFlexLayout) {\r\n        $rootElement.addClass(FLEX_LAYOUT_CLASS)\r\n    }\r\n    if (isSimpleItem && labelNeedBaselineAlign) {\r\n        $rootElement.addClass(FIELD_ITEM_LABEL_ALIGN_CLASS)\r\n    }\r\n    var $fieldEditorContainer = $(\"<div>\");\r\n    $fieldEditorContainer.data(\"dx-form-item\", item);\r\n    $fieldEditorContainer.addClass(FIELD_ITEM_CONTENT_CLASS).addClass(FIELD_ITEM_CONTENT_LOCATION_CLASS + {\r\n        right: \"left\",\r\n        left: \"right\",\r\n        top: \"bottom\"\r\n    } [formLabelLocation]);\r\n    var $label = needRenderLabel ? renderLabel(labelOptions) : null;\r\n    if ($label) {\r\n        $rootElement.append($label);\r\n        if (\"top\" === labelLocation || \"left\" === labelLocation) {\r\n            $rootElement.append($fieldEditorContainer)\r\n        }\r\n        if (\"right\" === labelLocation) {\r\n            $rootElement.prepend($fieldEditorContainer)\r\n        }\r\n        if (\"top\" === labelLocation) {\r\n            $rootElement.addClass(LABEL_VERTICAL_ALIGNMENT_CLASS)\r\n        } else {\r\n            $rootElement.addClass(LABEL_HORIZONTAL_ALIGNMENT_CLASS)\r\n        }\r\n        if (\"dxCheckBox\" === item.editorType || \"dxSwitch\" === item.editorType) {\r\n            eventsEngine.on($label, clickEventName, (function() {\r\n                eventsEngine.trigger($fieldEditorContainer.children(), clickEventName)\r\n            }))\r\n        }\r\n    } else {\r\n        $rootElement.append($fieldEditorContainer)\r\n    }\r\n    var widgetInstance;\r\n    if (template) {\r\n        template.render({\r\n            container: getPublicElement($fieldEditorContainer),\r\n            model: {\r\n                dataField: item.dataField,\r\n                editorType: item.editorType,\r\n                editorOptions: editorOptions,\r\n                component: formOrLayoutManager,\r\n                name: item.name\r\n            }\r\n        })\r\n    } else {\r\n        var $div = $(\"<div>\").appendTo($fieldEditorContainer);\r\n        try {\r\n            widgetInstance = createComponentCallback($div, item.editorType, editorOptions);\r\n            widgetInstance.setAria(\"describedby\", helpID);\r\n            if (labelID) {\r\n                widgetInstance.setAria(\"labelledby\", labelID)\r\n            }\r\n            widgetInstance.setAria(\"required\", isRequired)\r\n        } catch (e) {\r\n            errors.log(\"E1035\", e.message)\r\n        }\r\n    }\r\n    var editorElem = $fieldEditorContainer.children().first();\r\n    var $validationTarget = editorElem.hasClass(TEMPLATE_WRAPPER_CLASS) ? editorElem.children().first() : editorElem;\r\n    var validationTargetInstance = $validationTarget && $validationTarget.data(\"dx-validation-target\");\r\n    if (validationTargetInstance) {\r\n        var isItemHaveCustomLabel = item.label && item.label.text;\r\n        var itemName = isItemHaveCustomLabel ? null : name;\r\n        var fieldName = isItemHaveCustomLabel ? item.label.text : itemName && captionize(itemName);\r\n        var validationRules;\r\n        if (isSimpleItem) {\r\n            if (item.validationRules) {\r\n                validationRules = item.validationRules\r\n            } else {\r\n                var requiredMessage = format(requiredMessageTemplate, fieldName || \"\");\r\n                validationRules = item.isRequired ? [{\r\n                    type: \"required\",\r\n                    message: requiredMessage\r\n                }] : null\r\n            }\r\n        }\r\n        if (Array.isArray(validationRules) && validationRules.length) {\r\n            createComponentCallback($validationTarget, Validator, {\r\n                validationRules: validationRules,\r\n                validationGroup: validationGroup,\r\n                dataGetter: function() {\r\n                    return {\r\n                        formItem: item\r\n                    }\r\n                }\r\n            })\r\n        }\r\n        if (isMaterial()) {\r\n            var wrapperClass = \".\" + FIELD_ITEM_CONTENT_WRAPPER_CLASS;\r\n            var toggleInvalidClass = function(e) {\r\n                $(e.element).parents(wrapperClass).toggleClass(INVALID_CLASS, false === e.component.option(\"isValid\") && (e.component._isFocused() || \"always\" === e.component.option(\"validationMessageMode\")))\r\n            };\r\n            validationTargetInstance.on(\"optionChanged\", e => {\r\n                if (\"isValid\" !== e.name) {\r\n                    return\r\n                }\r\n                toggleInvalidClass(e)\r\n            });\r\n            validationTargetInstance.on(\"focusIn\", toggleInvalidClass).on(\"focusOut\", toggleInvalidClass).on(\"enterKey\", toggleInvalidClass)\r\n        }\r\n    }\r\n    if (helpText && isSimpleItem) {\r\n        var $editorParent = $fieldEditorContainer.parent();\r\n        $editorParent.append($(\"<div>\").addClass(FIELD_ITEM_CONTENT_WRAPPER_CLASS).append($fieldEditorContainer).append($(\"<div>\").addClass(FIELD_ITEM_HELP_TEXT_CLASS).attr(\"id\", helpID).text(helpText)))\r\n    }\r\n    return {\r\n        $fieldEditorContainer: $fieldEditorContainer,\r\n        $rootElement: $rootElement,\r\n        widgetInstance: widgetInstance\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/button_item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nimport {\r\n    isDefined\r\n} from \"../../../core/utils/type\";\r\nimport {\r\n    extend\r\n} from \"../../../core/utils/extend\";\r\nvar FIELD_BUTTON_ITEM_CLASS = \"dx-field-button-item\";\r\nexport function renderButtonItem(_ref) {\r\n    var {\r\n        item: item,\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList,\r\n        validationGroup: validationGroup,\r\n        createComponentCallback: createComponentCallback\r\n    } = _ref;\r\n    var $rootElement = $(\"<div>\").appendTo($parent).addClass(rootElementCssClassList.join(\" \")).addClass(FIELD_BUTTON_ITEM_CLASS).css(\"textAlign\", convertAlignmentToTextAlign(item.horizontalAlignment));\r\n    $parent.css(\"justifyContent\", convertAlignmentToJustifyContent(item.verticalAlignment));\r\n    var $button = $(\"<div>\").appendTo($rootElement);\r\n    return {\r\n        $rootElement: $rootElement,\r\n        buttonInstance: createComponentCallback($button, \"dxButton\", extend({\r\n            validationGroup: validationGroup\r\n        }, item.buttonOptions))\r\n    }\r\n}\r\n\r\nfunction convertAlignmentToTextAlign(horizontalAlignment) {\r\n    return isDefined(horizontalAlignment) ? horizontalAlignment : \"right\"\r\n}\r\n\r\nfunction convertAlignmentToJustifyContent(verticalAlignment) {\r\n    switch (verticalAlignment) {\r\n        case \"center\":\r\n            return \"center\";\r\n        case \"bottom\":\r\n            return \"flex-end\";\r\n        default:\r\n            return \"flex-start\"\r\n    }\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/components/empty_item.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../../../core/renderer\";\r\nexport var FIELD_EMPTY_ITEM_CLASS = \"dx-field-empty-item\";\r\nexport function renderEmptyItem(_ref) {\r\n    var {\r\n        $parent: $parent,\r\n        rootElementCssClassList: rootElementCssClassList\r\n    } = _ref;\r\n    return $(\"<div>\").addClass(FIELD_EMPTY_ITEM_CLASS).html(\"&nbsp;\").addClass(rootElementCssClassList.join(\" \")).appendTo($parent)\r\n}\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.layout_manager.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getWidth\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport {\r\n    default as FormItemsRunTimeInfo\r\n} from \"./ui.form.items_runtime_info\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isFunction,\r\n    isObject,\r\n    type\r\n} from \"../../core/utils/type\";\r\nimport variableWrapper from \"../../core/utils/variable_wrapper\";\r\nimport {\r\n    getCurrentScreenFactor,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    normalizeIndexes\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    compileGetter\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    removeEvent\r\n} from \"../../events/remove\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport {\r\n    styleProp\r\n} from \"../../core/utils/style\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport ResponsiveBox from \"../responsive_box\";\r\nimport {\r\n    LAYOUT_MANAGER_ONE_COLUMN,\r\n    FORM_LAYOUT_MANAGER_CLASS,\r\n    SINGLE_COLUMN_ITEM_CONTENT,\r\n    ROOT_SIMPLE_ITEM_CLASS,\r\n    SIMPLE_ITEM_TYPE,\r\n    FIELD_ITEM_CLASS\r\n} from \"./constants\";\r\nimport \"../text_box\";\r\nimport \"../number_box\";\r\nimport \"../check_box\";\r\nimport \"../date_box\";\r\nimport \"../button\";\r\nimport {\r\n    renderFieldItem\r\n} from \"./components/field_item\";\r\nimport {\r\n    renderButtonItem\r\n} from \"./components/button_item\";\r\nimport {\r\n    renderEmptyItem\r\n} from \"./components/empty_item\";\r\nimport {\r\n    convertToRenderFieldItemOptions\r\n} from \"./ui.form.layout_manager.utils\";\r\nvar FORM_EDITOR_BY_DEFAULT = \"dxTextBox\";\r\nvar LAYOUT_MANAGER_FIRST_ROW_CLASS = \"dx-first-row\";\r\nvar LAYOUT_MANAGER_LAST_ROW_CLASS = \"dx-last-row\";\r\nvar LAYOUT_MANAGER_FIRST_COL_CLASS = \"dx-first-col\";\r\nvar LAYOUT_MANAGER_LAST_COL_CLASS = \"dx-last-col\";\r\nvar LAYOUT_STRATEGY_FLEX = \"flex\";\r\nvar LAYOUT_STRATEGY_FALLBACK = \"fallback\";\r\nvar LayoutManager = Widget.inherit({\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            layoutData: {},\r\n            readOnly: false,\r\n            colCount: 1,\r\n            colCountByScreen: void 0,\r\n            labelLocation: \"left\",\r\n            onFieldDataChanged: null,\r\n            onEditorEnterKey: null,\r\n            customizeItem: null,\r\n            alignItemLabels: true,\r\n            minColWidth: 200,\r\n            showRequiredMark: true,\r\n            screenByWidth: null,\r\n            showOptionalMark: false,\r\n            requiredMark: \"*\",\r\n            labelMode: \"outside\",\r\n            optionalMark: messageLocalization.format(\"dxForm-optionalMark\"),\r\n            requiredMessage: messageLocalization.getFormatter(\"dxForm-requiredMessage\")\r\n        })\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            layoutData: true,\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init: function() {\r\n        var layoutData = this.option(\"layoutData\");\r\n        this.callBase();\r\n        this._itemWatchers = [];\r\n        this._itemsRunTimeInfo = new FormItemsRunTimeInfo;\r\n        this._updateReferencedOptions(layoutData);\r\n        this._initDataAndItems(layoutData)\r\n    },\r\n    _dispose: function() {\r\n        this.callBase();\r\n        this._cleanItemWatchers()\r\n    },\r\n    _initDataAndItems: function(initialData) {\r\n        this._syncDataWithItems();\r\n        this._updateItems(initialData)\r\n    },\r\n    _syncDataWithItems: function() {\r\n        var layoutData = this.option(\"layoutData\");\r\n        var userItems = this.option(\"items\");\r\n        if (isDefined(userItems)) {\r\n            userItems.forEach(item => {\r\n                if (item.dataField && void 0 === this._getDataByField(item.dataField)) {\r\n                    var value;\r\n                    if (item.editorOptions) {\r\n                        value = item.editorOptions.value\r\n                    }\r\n                    if (isDefined(value) || item.dataField in layoutData) {\r\n                        this._updateFieldValue(item.dataField, value)\r\n                    }\r\n                }\r\n            })\r\n        }\r\n    },\r\n    _getDataByField: function(dataField) {\r\n        return dataField ? this.option(\"layoutData.\" + dataField) : null\r\n    },\r\n    _isCheckboxUndefinedStateEnabled: function(_ref) {\r\n        var {\r\n            allowIndeterminateState: allowIndeterminateState,\r\n            editorType: editorType,\r\n            dataField: dataField\r\n        } = _ref;\r\n        if (true === allowIndeterminateState && \"dxCheckBox\" === editorType) {\r\n            var nameParts = [\"layoutData\", ...dataField.split(\".\")];\r\n            var propertyName = nameParts.pop();\r\n            var layoutData = this.option(nameParts.join(\".\"));\r\n            return layoutData && propertyName in layoutData\r\n        }\r\n        return false\r\n    },\r\n    _updateFieldValue: function(dataField, value) {\r\n        var layoutData = this.option(\"layoutData\");\r\n        var newValue = value;\r\n        if (!variableWrapper.isWrapped(layoutData[dataField]) && isDefined(dataField)) {\r\n            this.option(\"layoutData.\" + dataField, newValue)\r\n        } else if (variableWrapper.isWritableWrapped(layoutData[dataField])) {\r\n            newValue = isFunction(newValue) ? newValue() : newValue;\r\n            layoutData[dataField](newValue)\r\n        }\r\n        this._triggerOnFieldDataChanged({\r\n            dataField: dataField,\r\n            value: newValue\r\n        })\r\n    },\r\n    _triggerOnFieldDataChanged: function(args) {\r\n        this._createActionByOption(\"onFieldDataChanged\")(args)\r\n    },\r\n    _updateItems: function(layoutData) {\r\n        var that = this;\r\n        var userItems = this.option(\"items\");\r\n        var isUserItemsExist = isDefined(userItems);\r\n        var customizeItem = that.option(\"customizeItem\");\r\n        var items = isUserItemsExist ? userItems : this._generateItemsByData(layoutData);\r\n        if (isDefined(items)) {\r\n            var processedItems = [];\r\n            each(items, (function(index, item) {\r\n                if (that._isAcceptableItem(item)) {\r\n                    item = that._processItem(item);\r\n                    customizeItem && customizeItem(item);\r\n                    if (isObject(item) && false !== variableWrapper.unwrap(item.visible)) {\r\n                        processedItems.push(item)\r\n                    }\r\n                }\r\n            }));\r\n            if (!that._itemWatchers.length || !isUserItemsExist) {\r\n                that._updateItemWatchers(items)\r\n            }\r\n            this._setItems(processedItems);\r\n            this._sortItems()\r\n        }\r\n    },\r\n    _cleanItemWatchers: function() {\r\n        this._itemWatchers.forEach((function(dispose) {\r\n            dispose()\r\n        }));\r\n        this._itemWatchers = []\r\n    },\r\n    _updateItemWatchers: function(items) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        items.forEach((function(item) {\r\n            if (isObject(item) && isDefined(item.visible) && isFunction(watch)) {\r\n                that._itemWatchers.push(watch((function() {\r\n                    return variableWrapper.unwrap(item.visible)\r\n                }), (function() {\r\n                    that._updateItems(that.option(\"layoutData\"));\r\n                    that.repaint()\r\n                }), {\r\n                    skipImmediate: true\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _generateItemsByData: function(layoutData) {\r\n        var result = [];\r\n        if (isDefined(layoutData)) {\r\n            each(layoutData, (function(dataField) {\r\n                result.push({\r\n                    dataField: dataField\r\n                })\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    _isAcceptableItem: function(item) {\r\n        var itemField = item.dataField || item;\r\n        var itemData = this._getDataByField(itemField);\r\n        return !(isFunction(itemData) && !variableWrapper.isWrapped(itemData))\r\n    },\r\n    _processItem: function(item) {\r\n        if (\"string\" === typeof item) {\r\n            item = {\r\n                dataField: item\r\n            }\r\n        }\r\n        if (\"object\" === typeof item && !item.itemType) {\r\n            item.itemType = SIMPLE_ITEM_TYPE\r\n        }\r\n        if (!isDefined(item.editorType) && isDefined(item.dataField)) {\r\n            var value = this._getDataByField(item.dataField);\r\n            item.editorType = isDefined(value) ? this._getEditorTypeByDataType(type(value)) : FORM_EDITOR_BY_DEFAULT\r\n        }\r\n        if (\"dxCheckBox\" === item.editorType) {\r\n            var _item$allowIndetermin;\r\n            item.allowIndeterminateState = null !== (_item$allowIndetermin = item.allowIndeterminateState) && void 0 !== _item$allowIndetermin ? _item$allowIndetermin : true\r\n        }\r\n        return item\r\n    },\r\n    _getEditorTypeByDataType: function(dataType) {\r\n        switch (dataType) {\r\n            case \"number\":\r\n                return \"dxNumberBox\";\r\n            case \"date\":\r\n                return \"dxDateBox\";\r\n            case \"boolean\":\r\n                return \"dxCheckBox\";\r\n            default:\r\n                return \"dxTextBox\"\r\n        }\r\n    },\r\n    _sortItems: function() {\r\n        normalizeIndexes(this._items, \"visibleIndex\");\r\n        this._sortIndexes()\r\n    },\r\n    _sortIndexes: function() {\r\n        this._items.sort((function(itemA, itemB) {\r\n            var indexA = itemA.visibleIndex;\r\n            var indexB = itemB.visibleIndex;\r\n            var result;\r\n            if (indexA > indexB) {\r\n                result = 1\r\n            } else if (indexA < indexB) {\r\n                result = -1\r\n            } else {\r\n                result = 0\r\n            }\r\n            return result\r\n        }))\r\n    },\r\n    _initMarkup: function() {\r\n        this._itemsRunTimeInfo.clear();\r\n        this.$element().addClass(FORM_LAYOUT_MANAGER_CLASS);\r\n        this.callBase();\r\n        this._renderResponsiveBox()\r\n    },\r\n    _hasBrowserFlex: function() {\r\n        return styleProp(LAYOUT_STRATEGY_FLEX) === LAYOUT_STRATEGY_FLEX\r\n    },\r\n    _renderResponsiveBox: function() {\r\n        var templatesInfo = [];\r\n        if (this._items && this._items.length) {\r\n            var colCount = this._getColCount();\r\n            var $container = $(\"<div>\").appendTo(this.$element());\r\n            this._prepareItemsWithMerging(colCount);\r\n            var layoutItems = this._generateLayoutItems();\r\n            this._responsiveBox = this._createComponent($container, ResponsiveBox, this._getResponsiveBoxConfig(layoutItems, colCount, templatesInfo));\r\n            if (!hasWindow()) {\r\n                this._renderTemplates(templatesInfo)\r\n            }\r\n        }\r\n    },\r\n    _itemStateChangedHandler: function(e) {\r\n        this._refresh()\r\n    },\r\n    _renderTemplates: function(templatesInfo) {\r\n        var that = this;\r\n        each(templatesInfo, (function(_, info) {\r\n            switch (info.itemType) {\r\n                case \"empty\":\r\n                    renderEmptyItem(info);\r\n                    break;\r\n                case \"button\":\r\n                    that._renderButtonItem(info);\r\n                    break;\r\n                default:\r\n                    that._renderFieldItem(info)\r\n            }\r\n        }))\r\n    },\r\n    _getResponsiveBoxConfig: function(layoutItems, colCount, templatesInfo) {\r\n        var that = this;\r\n        var colCountByScreen = that.option(\"colCountByScreen\");\r\n        var xsColCount = colCountByScreen && colCountByScreen.xs;\r\n        return {\r\n            onItemStateChanged: this._itemStateChangedHandler.bind(this),\r\n            _layoutStrategy: that._hasBrowserFlex() ? LAYOUT_STRATEGY_FLEX : LAYOUT_STRATEGY_FALLBACK,\r\n            onLayoutChanged: function() {\r\n                var onLayoutChanged = that.option(\"onLayoutChanged\");\r\n                var isSingleColumnMode = that.isSingleColumnMode();\r\n                if (onLayoutChanged) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, isSingleColumnMode);\r\n                    onLayoutChanged(isSingleColumnMode)\r\n                }\r\n            },\r\n            onContentReady: function(e) {\r\n                if (hasWindow()) {\r\n                    that._renderTemplates(templatesInfo)\r\n                }\r\n                if (that.option(\"onLayoutChanged\")) {\r\n                    that.$element().toggleClass(LAYOUT_MANAGER_ONE_COLUMN, that.isSingleColumnMode(e.component))\r\n                }\r\n            },\r\n            itemTemplate: function(e, itemData, itemElement) {\r\n                if (!e.location) {\r\n                    return\r\n                }\r\n                var $itemElement = $(itemElement);\r\n                var itemRenderedCountInPreviousRows = e.location.row * colCount;\r\n                var item = that._items[e.location.col + itemRenderedCountInPreviousRows];\r\n                if (!item) {\r\n                    return\r\n                }\r\n                var itemCssClassList = [item.cssClass];\r\n                $itemElement.toggleClass(SINGLE_COLUMN_ITEM_CONTENT, that.isSingleColumnMode(this));\r\n                if (0 === e.location.row) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_FIRST_ROW_CLASS)\r\n                }\r\n                if (0 === e.location.col) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_FIRST_COL_CLASS)\r\n                }\r\n                if (item.itemType === SIMPLE_ITEM_TYPE && that.option(\"isRoot\")) {\r\n                    $itemElement.addClass(ROOT_SIMPLE_ITEM_CLASS)\r\n                }\r\n                var isLastColumn = e.location.col === colCount - 1 || e.location.col + e.location.colspan === colCount;\r\n                var rowsCount = that._getRowsCount();\r\n                var isLastRow = e.location.row === rowsCount - 1;\r\n                if (isLastColumn) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_LAST_COL_CLASS)\r\n                }\r\n                if (isLastRow) {\r\n                    itemCssClassList.push(LAYOUT_MANAGER_LAST_ROW_CLASS)\r\n                }\r\n                if (\"empty\" !== item.itemType) {\r\n                    itemCssClassList.push(FIELD_ITEM_CLASS);\r\n                    itemCssClassList.push(that.option(\"cssItemClass\"));\r\n                    if (isDefined(item.col)) {\r\n                        itemCssClassList.push(\"dx-col-\" + item.col)\r\n                    }\r\n                }\r\n                templatesInfo.push({\r\n                    itemType: item.itemType,\r\n                    item: item,\r\n                    $parent: $itemElement,\r\n                    rootElementCssClassList: itemCssClassList\r\n                })\r\n            },\r\n            cols: that._generateRatio(colCount),\r\n            rows: that._generateRatio(that._getRowsCount(), true),\r\n            dataSource: layoutItems,\r\n            screenByWidth: that.option(\"screenByWidth\"),\r\n            singleColumnScreen: xsColCount ? false : \"xs\"\r\n        }\r\n    },\r\n    _getColCount: function() {\r\n        var colCount = this.option(\"colCount\");\r\n        var colCountByScreen = this.option(\"colCountByScreen\");\r\n        if (colCountByScreen) {\r\n            var screenFactor = this.option(\"form\").getTargetScreenFactor();\r\n            if (!screenFactor) {\r\n                screenFactor = hasWindow() ? getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\"\r\n            }\r\n            colCount = colCountByScreen[screenFactor] || colCount\r\n        }\r\n        if (\"auto\" === colCount) {\r\n            if (this._cashedColCount) {\r\n                return this._cashedColCount\r\n            }\r\n            this._cashedColCount = colCount = this._getMaxColCount()\r\n        }\r\n        return colCount < 1 ? 1 : colCount\r\n    },\r\n    _getMaxColCount: function() {\r\n        if (!hasWindow()) {\r\n            return 1\r\n        }\r\n        var minColWidth = this.option(\"minColWidth\");\r\n        var width = getWidth(this.$element());\r\n        var itemsCount = this._items.length;\r\n        var maxColCount = Math.floor(width / minColWidth) || 1;\r\n        return itemsCount < maxColCount ? itemsCount : maxColCount\r\n    },\r\n    isCachedColCountObsolete: function() {\r\n        return this._cashedColCount && this._getMaxColCount() !== this._cashedColCount\r\n    },\r\n    _prepareItemsWithMerging: function(colCount) {\r\n        var items = this._items.slice(0);\r\n        var item;\r\n        var itemsMergedByCol;\r\n        var result = [];\r\n        var j;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            result.push(item);\r\n            if (this.option(\"alignItemLabels\") || item.alignItemLabels || item.colSpan) {\r\n                item.col = this._getColByIndex(result.length - 1, colCount)\r\n            }\r\n            if (item.colSpan > 1 && item.col + item.colSpan <= colCount) {\r\n                itemsMergedByCol = [];\r\n                for (j = 0; j < item.colSpan - 1; j++) {\r\n                    itemsMergedByCol.push({\r\n                        merged: true\r\n                    })\r\n                }\r\n                result = result.concat(itemsMergedByCol)\r\n            } else {\r\n                delete item.colSpan\r\n            }\r\n        }\r\n        this._setItems(result)\r\n    },\r\n    _getColByIndex: function(index, colCount) {\r\n        return index % colCount\r\n    },\r\n    _setItems: function(items) {\r\n        this._items = items;\r\n        this._cashedColCount = null\r\n    },\r\n    _generateLayoutItems: function() {\r\n        var items = this._items;\r\n        var colCount = this._getColCount();\r\n        var result = [];\r\n        var item;\r\n        var i;\r\n        for (i = 0; i < items.length; i++) {\r\n            item = items[i];\r\n            if (!item.merged) {\r\n                var generatedItem = {\r\n                    location: {\r\n                        row: parseInt(i / colCount),\r\n                        col: this._getColByIndex(i, colCount)\r\n                    }\r\n                };\r\n                if (isDefined(item.disabled)) {\r\n                    generatedItem.disabled = item.disabled\r\n                }\r\n                if (isDefined(item.visible)) {\r\n                    generatedItem.visible = item.visible\r\n                }\r\n                if (isDefined(item.colSpan)) {\r\n                    generatedItem.location.colspan = item.colSpan\r\n                }\r\n                if (isDefined(item.rowSpan)) {\r\n                    generatedItem.location.rowspan = item.rowSpan\r\n                }\r\n                result.push(generatedItem)\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    _renderEmptyItem: function($container) {\r\n        renderEmptyItem({\r\n            $container: $container\r\n        })\r\n    },\r\n    _renderButtonItem: function(_ref2) {\r\n        var {\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList\r\n        } = _ref2;\r\n        var {\r\n            $rootElement: $rootElement,\r\n            buttonInstance: buttonInstance\r\n        } = renderButtonItem({\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList,\r\n            validationGroup: this.option(\"validationGroup\"),\r\n            createComponentCallback: this._createComponent.bind(this)\r\n        });\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: buttonInstance,\r\n            guid: item.guid,\r\n            $itemContainer: $rootElement\r\n        })\r\n    },\r\n    _renderFieldItem: function(_ref3) {\r\n        var _this$option;\r\n        var {\r\n            item: item,\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList\r\n        } = _ref3;\r\n        var editorValue = this._getDataByField(item.dataField);\r\n        var canAssignUndefinedValueToEditor = false;\r\n        if (void 0 === editorValue) {\r\n            var {\r\n                allowIndeterminateState: allowIndeterminateState,\r\n                editorType: editorType,\r\n                dataField: dataField\r\n            } = item;\r\n            canAssignUndefinedValueToEditor = this._isCheckboxUndefinedStateEnabled({\r\n                allowIndeterminateState: allowIndeterminateState,\r\n                editorType: editorType,\r\n                dataField: dataField\r\n            })\r\n        }\r\n        var name = item.dataField || item.name;\r\n        var {\r\n            $fieldEditorContainer: $fieldEditorContainer,\r\n            widgetInstance: widgetInstance,\r\n            $rootElement: $rootElement\r\n        } = renderFieldItem(convertToRenderFieldItemOptions({\r\n            $parent: $parent,\r\n            rootElementCssClassList: rootElementCssClassList,\r\n            item: item,\r\n            name: name,\r\n            editorValue: editorValue,\r\n            canAssignUndefinedValueToEditor: canAssignUndefinedValueToEditor,\r\n            formOrLayoutManager: this._getFormOrThis(),\r\n            createComponentCallback: this._createComponent.bind(this),\r\n            useFlexLayout: this._hasBrowserFlex(),\r\n            formLabelLocation: this.option(\"labelLocation\"),\r\n            requiredMessageTemplate: this.option(\"requiredMessage\"),\r\n            validationGroup: this.option(\"validationGroup\"),\r\n            editorValidationBoundary: this.option(\"validationBoundary\"),\r\n            editorStylingMode: this.option(\"form\") && this.option(\"form\").option(\"stylingMode\"),\r\n            showColonAfterLabel: this.option(\"showColonAfterLabel\"),\r\n            managerLabelLocation: this.option(\"labelLocation\"),\r\n            template: item.template ? this._getTemplate(item.template) : null,\r\n            itemId: this.option(\"form\") && this.option(\"form\").getItemID(name),\r\n            managerMarkOptions: this._getMarkOptions(),\r\n            labelMode: this.option(\"labelMode\")\r\n        }));\r\n        null === (_this$option = this.option(\"onFieldItemRendered\")) || void 0 === _this$option ? void 0 : _this$option();\r\n        if (widgetInstance && item.dataField) {\r\n            this._bindDataField(widgetInstance, item.dataField, item.editorType, $fieldEditorContainer)\r\n        }\r\n        this._itemsRunTimeInfo.add({\r\n            item: item,\r\n            widgetInstance: widgetInstance,\r\n            guid: item.guid,\r\n            $itemContainer: $rootElement\r\n        })\r\n    },\r\n    _getMarkOptions: function() {\r\n        return {\r\n            showRequiredMark: this.option(\"showRequiredMark\"),\r\n            requiredMark: this.option(\"requiredMark\"),\r\n            showOptionalMark: this.option(\"showOptionalMark\"),\r\n            optionalMark: this.option(\"optionalMark\")\r\n        }\r\n    },\r\n    _getFormOrThis: function() {\r\n        return this.option(\"form\") || this\r\n    },\r\n    _bindDataField: function(editorInstance, dataField, editorType, $container) {\r\n        var formOrThis = this._getFormOrThis();\r\n        editorInstance.on(\"enterKey\", (function(args) {\r\n            formOrThis._createActionByOption(\"onEditorEnterKey\")(extend(args, {\r\n                dataField: dataField\r\n            }))\r\n        }));\r\n        this._createWatcher(editorInstance, $container, dataField);\r\n        this.linkEditorToDataField(editorInstance, dataField, editorType)\r\n    },\r\n    _createWatcher: function(editorInstance, $container, dataField) {\r\n        var that = this;\r\n        var watch = that._getWatch();\r\n        if (!isFunction(watch)) {\r\n            return\r\n        }\r\n        var dispose = watch((function() {\r\n            return that._getDataByField(dataField)\r\n        }), (function() {\r\n            var fieldValue = that._getDataByField(dataField);\r\n            if (\"dxTagBox\" === editorInstance.NAME) {\r\n                var editorValue = editorInstance.option(\"value\");\r\n                if (fieldValue !== editorValue && function(array1, array2) {\r\n                        if (!Array.isArray(array1) || !Array.isArray(array2) || array1.length !== array2.length) {\r\n                            return false\r\n                        }\r\n                        for (var i = 0; i < array1.length; i++) {\r\n                            if (array1[i] !== array2[i]) {\r\n                                return false\r\n                            }\r\n                        }\r\n                        return true\r\n                    }(fieldValue, editorValue)) {\r\n                    return\r\n                }\r\n            }\r\n            editorInstance.option(\"value\", fieldValue)\r\n        }), {\r\n            deep: true,\r\n            skipImmediate: true\r\n        });\r\n        eventsEngine.on($container, removeEvent, dispose)\r\n    },\r\n    _getWatch: function() {\r\n        if (!isDefined(this._watch)) {\r\n            var formInstance = this.option(\"form\");\r\n            this._watch = formInstance && formInstance.option(\"integrationOptions.watchMethod\")\r\n        }\r\n        return this._watch\r\n    },\r\n    _createComponent: function($editor, type, editorOptions) {\r\n        var readOnlyState = this.option(\"readOnly\");\r\n        var instance = this.callBase($editor, type, editorOptions);\r\n        readOnlyState && instance.option(\"readOnly\", readOnlyState);\r\n        this.on(\"optionChanged\", (function(args) {\r\n            if (\"readOnly\" === args.name && !isDefined(editorOptions.readOnly)) {\r\n                instance.option(args.name, args.value)\r\n            }\r\n        }));\r\n        return instance\r\n    },\r\n    _generateRatio: function(count, isAutoSize) {\r\n        var result = [];\r\n        var ratio;\r\n        var i;\r\n        for (i = 0; i < count; i++) {\r\n            ratio = {\r\n                ratio: 1\r\n            };\r\n            if (isAutoSize) {\r\n                ratio.baseSize = \"auto\"\r\n            }\r\n            result.push(ratio)\r\n        }\r\n        return result\r\n    },\r\n    _getRowsCount: function() {\r\n        return Math.ceil(this._items.length / this._getColCount())\r\n    },\r\n    _updateReferencedOptions: function(newLayoutData) {\r\n        var layoutData = this.option(\"layoutData\");\r\n        if (isObject(layoutData)) {\r\n            Object.getOwnPropertyNames(layoutData).forEach(property => delete this._optionsByReference[\"layoutData.\" + property])\r\n        }\r\n        if (isObject(newLayoutData)) {\r\n            Object.getOwnPropertyNames(newLayoutData).forEach(property => this._optionsByReference[\"layoutData.\" + property] = true)\r\n        }\r\n    },\r\n    _resetWidget(instance) {\r\n        this._disableEditorValueChangedHandler = true;\r\n        instance.reset();\r\n        this._disableEditorValueChangedHandler = false;\r\n        instance.option(\"isValid\", true)\r\n    },\r\n    _optionChanged(args) {\r\n        if (0 === args.fullName.search(\"layoutData.\")) {\r\n            return\r\n        }\r\n        switch (args.name) {\r\n            case \"showRequiredMark\":\r\n            case \"showOptionalMark\":\r\n            case \"requiredMark\":\r\n            case \"optionalMark\":\r\n                this._cashedRequiredConfig = null;\r\n                this._invalidate();\r\n                break;\r\n            case \"layoutData\":\r\n                this._updateReferencedOptions(args.value);\r\n                if (this.option(\"items\")) {\r\n                    if (!isEmptyObject(args.value)) {\r\n                        this._itemsRunTimeInfo.each((_, itemRunTimeInfo) => {\r\n                            if (isDefined(itemRunTimeInfo.item)) {\r\n                                var dataField = itemRunTimeInfo.item.dataField;\r\n                                if (dataField && isDefined(itemRunTimeInfo.widgetInstance)) {\r\n                                    var valueGetter = compileGetter(dataField);\r\n                                    var dataValue = valueGetter(args.value);\r\n                                    var {\r\n                                        allowIndeterminateState: allowIndeterminateState,\r\n                                        editorType: editorType\r\n                                    } = itemRunTimeInfo.item;\r\n                                    if (void 0 !== dataValue || this._isCheckboxUndefinedStateEnabled({\r\n                                            allowIndeterminateState: allowIndeterminateState,\r\n                                            editorType: editorType,\r\n                                            dataField: dataField\r\n                                        })) {\r\n                                        itemRunTimeInfo.widgetInstance.option(\"value\", dataValue)\r\n                                    } else {\r\n                                        this._resetWidget(itemRunTimeInfo.widgetInstance)\r\n                                    }\r\n                                }\r\n                            }\r\n                        })\r\n                    }\r\n                } else {\r\n                    this._initDataAndItems(args.value);\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"items\":\r\n                this._cleanItemWatchers();\r\n                this._initDataAndItems(args.value);\r\n                this._invalidate();\r\n                break;\r\n            case \"alignItemLabels\":\r\n            case \"labelLocation\":\r\n            case \"labelMode\":\r\n            case \"requiredMessage\":\r\n                this._invalidate();\r\n                break;\r\n            case \"customizeItem\":\r\n                this._updateItems(this.option(\"layoutData\"));\r\n                this._invalidate();\r\n                break;\r\n            case \"colCount\":\r\n                this._resetColCount();\r\n                break;\r\n            case \"minColWidth\":\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"readOnly\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._resetColCount()\r\n                }\r\n                break;\r\n            case \"onFieldDataChanged\":\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _resetColCount: function() {\r\n        this._cashedColCount = null;\r\n        this._invalidate()\r\n    },\r\n    linkEditorToDataField(editorInstance, dataField) {\r\n        this.on(\"optionChanged\", args => {\r\n            if (args.fullName === \"layoutData.\".concat(dataField)) {\r\n                editorInstance._setOptionWithoutOptionChange(\"value\", args.value)\r\n            }\r\n        });\r\n        editorInstance.on(\"valueChanged\", args => {\r\n            var isValueReferenceType = isObject(args.value) || Array.isArray(args.value);\r\n            if (!this._disableEditorValueChangedHandler && !(isValueReferenceType && args.value === args.previousValue)) {\r\n                this._updateFieldValue(dataField, args.value)\r\n            }\r\n        })\r\n    },\r\n    _dimensionChanged: function() {\r\n        if (\"auto\" === this.option(\"colCount\") && this.isCachedColCountObsolete()) {\r\n            this._eventsStrategy.fireEvent(\"autoColCountChanged\")\r\n        }\r\n    },\r\n    updateData: function(data, value) {\r\n        var that = this;\r\n        if (isObject(data)) {\r\n            each(data, (function(dataField, fieldValue) {\r\n                that._updateFieldValue(dataField, fieldValue)\r\n            }))\r\n        } else if (\"string\" === typeof data) {\r\n            that._updateFieldValue(data, value)\r\n        }\r\n    },\r\n    getEditor: function(field) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByDataField(field) || this._itemsRunTimeInfo.findWidgetInstanceByName(field)\r\n    },\r\n    isSingleColumnMode: function(component) {\r\n        var responsiveBox = this._responsiveBox || component;\r\n        if (responsiveBox) {\r\n            return responsiveBox.option(\"currentScreenFactor\") === responsiveBox.option(\"singleColumnScreen\")\r\n        }\r\n    },\r\n    getItemsRunTimeInfo: function() {\r\n        return this._itemsRunTimeInfo\r\n    }\r\n});\r\nregisterComponent(\"dxLayoutManager\", LayoutManager);\r\nexport default LayoutManager;\r\n","/**\r\n * DevExtreme (esm/ui/validation_summary.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport eventsEngine from \"../events/core/events_engine\";\r\nimport {\r\n    grep\r\n} from \"../core/utils/common\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    each,\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport CollectionWidget from \"./collection/ui.collection_widget.edit\";\r\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\r\nvar ITEM_CLASS = VALIDATION_SUMMARY_CLASS + \"-item\";\r\nvar ITEM_DATA_KEY = VALIDATION_SUMMARY_CLASS + \"-item-data\";\r\nvar ValidationSummary = CollectionWidget.inherit({\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            focusStateEnabled: false,\r\n            noDataText: null\r\n        })\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._initGroupRegistration()\r\n    },\r\n    _initGroupRegistration() {\r\n        var $element = this.$element();\r\n        var group = this.option(\"validationGroup\") || ValidationEngine.findGroup($element, this._modelByElement($element));\r\n        var groupConfig = ValidationEngine.addGroup(group);\r\n        this._unsubscribeGroup();\r\n        this._groupWasInit = true;\r\n        this._validationGroup = group;\r\n        this.groupSubscription = this._groupValidationHandler.bind(this);\r\n        groupConfig.on(\"validated\", this.groupSubscription)\r\n    },\r\n    _unsubscribeGroup() {\r\n        var groupConfig = ValidationEngine.getGroupConfig(this._validationGroup);\r\n        groupConfig && groupConfig.off(\"validated\", this.groupSubscription)\r\n    },\r\n    _getOrderedItems(validators, items) {\r\n        var orderedItems = [];\r\n        each(validators, (function(_, validator) {\r\n            var foundItems = grep(items, (function(item) {\r\n                if (item.validator === validator) {\r\n                    return true\r\n                }\r\n            }));\r\n            if (foundItems.length) {\r\n                orderedItems = orderedItems.concat(foundItems)\r\n            }\r\n        }));\r\n        return orderedItems\r\n    },\r\n    _groupValidationHandler(params) {\r\n        var items = this._getOrderedItems(params.validators, map(params.brokenRules, (function(rule) {\r\n            return {\r\n                text: rule.message,\r\n                validator: rule.validator,\r\n                index: rule.index\r\n            }\r\n        })));\r\n        this.validators = params.validators;\r\n        each(this.validators, (_, validator) => {\r\n            if (validator._validationSummary !== this) {\r\n                var handler = this._itemValidationHandler.bind(this);\r\n                validator.on(\"validated\", handler);\r\n                validator.on(\"disposing\", (function() {\r\n                    validator.off(\"validated\", handler);\r\n                    validator._validationSummary = null;\r\n                    handler = null\r\n                }));\r\n                validator._validationSummary = this\r\n            }\r\n        });\r\n        this.option(\"items\", items)\r\n    },\r\n    _itemValidationHandler(_ref) {\r\n        var {\r\n            isValid: isValid,\r\n            validator: validator,\r\n            brokenRules: brokenRules\r\n        } = _ref;\r\n        var items = this.option(\"items\");\r\n        var itemsChanged = false;\r\n        var itemIndex = 0;\r\n        var _loop = function() {\r\n            var item = items[itemIndex];\r\n            if (item.validator === validator) {\r\n                var foundRule = grep(brokenRules || [], (function(rule) {\r\n                    return rule.index === item.index\r\n                }))[0];\r\n                if (isValid || !foundRule) {\r\n                    items.splice(itemIndex, 1);\r\n                    itemsChanged = true;\r\n                    return \"continue\"\r\n                }\r\n                if (foundRule.message !== item.text) {\r\n                    item.text = foundRule.message;\r\n                    itemsChanged = true\r\n                }\r\n            }\r\n            itemIndex++\r\n        };\r\n        while (itemIndex < items.length) {\r\n            var _ret = _loop();\r\n            if (\"continue\" === _ret) {\r\n                continue\r\n            }\r\n        }\r\n        each(brokenRules, (function(_, rule) {\r\n            var foundItem = grep(items, (function(item) {\r\n                return item.validator === validator && item.index === rule.index\r\n            }))[0];\r\n            if (!foundItem) {\r\n                items.push({\r\n                    text: rule.message,\r\n                    validator: validator,\r\n                    index: rule.index\r\n                });\r\n                itemsChanged = true\r\n            }\r\n        }));\r\n        if (itemsChanged) {\r\n            items = this._getOrderedItems(this.validators, items);\r\n            this.option(\"items\", items)\r\n        }\r\n    },\r\n    _initMarkup() {\r\n        this.$element().addClass(VALIDATION_SUMMARY_CLASS);\r\n        this.callBase()\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _itemClass: () => ITEM_CLASS,\r\n    _itemDataKey: () => ITEM_DATA_KEY,\r\n    _postprocessRenderItem(params) {\r\n        eventsEngine.on(params.itemElement, \"click\", (function() {\r\n            params.itemData.validator && params.itemData.validator.focus && params.itemData.validator.focus()\r\n        }))\r\n    },\r\n    _dispose() {\r\n        this.callBase();\r\n        this._unsubscribeGroup()\r\n    }\r\n});\r\nregisterComponent(\"dxValidationSummary\", ValidationSummary);\r\nexport default ValidationSummary;\r\n","/**\r\n * DevExtreme (esm/ui/validation_group.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport $ from \"../core/renderer\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport ValidationSummary from \"./validation_summary\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport Validator from \"./validator\";\r\nvar VALIDATION_ENGINE_CLASS = \"dx-validationgroup\";\r\nvar VALIDATOR_CLASS = \"dx-validator\";\r\nvar VALIDATION_SUMMARY_CLASS = \"dx-validationsummary\";\r\nclass ValidationGroup extends DOMComponent {\r\n    _getDefaultOptions() {\r\n        return super._getDefaultOptions()\r\n    }\r\n    _init() {\r\n        super._init();\r\n        ValidationEngine.addGroup(this)\r\n    }\r\n    _initMarkup() {\r\n        var $element = this.$element();\r\n        $element.addClass(VALIDATION_ENGINE_CLASS);\r\n        $element.find(\".\".concat(VALIDATOR_CLASS)).each((function(_, validatorContainer) {\r\n            Validator.getInstance($(validatorContainer))._initGroupRegistration()\r\n        }));\r\n        $element.find(\".\".concat(VALIDATION_SUMMARY_CLASS)).each((function(_, summaryContainer) {\r\n            ValidationSummary.getInstance($(summaryContainer))._initGroupRegistration()\r\n        }));\r\n        super._initMarkup()\r\n    }\r\n    validate() {\r\n        return ValidationEngine.validateGroup(this)\r\n    }\r\n    reset() {\r\n        return ValidationEngine.resetGroup(this)\r\n    }\r\n    _dispose() {\r\n        ValidationEngine.removeGroup(this);\r\n        this.$element().removeClass(VALIDATION_ENGINE_CLASS);\r\n        super._dispose()\r\n    }\r\n    _useTemplates() {\r\n        return false\r\n    }\r\n}\r\nregisterComponent(\"dxValidationGroup\", ValidationGroup);\r\nexport default ValidationGroup;\r\n","/**\r\n * DevExtreme (esm/ui/form/ui.form.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\r\nimport $ from \"../../core/renderer\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nimport registerComponent from \"../../core/component_registrator\";\r\nimport Guid from \"../../core/guid\";\r\nimport {\r\n    ensureDefined\r\n} from \"../../core/utils/common\";\r\nimport config from \"../../core/config\";\r\nimport {\r\n    isDefined,\r\n    isEmptyObject,\r\n    isObject,\r\n    isString\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    triggerResizeEvent,\r\n    triggerShownEvent\r\n} from \"../../events/visibility_change\";\r\nimport {\r\n    getPublicElement\r\n} from \"../../core/element\";\r\nimport messageLocalization from \"../../localization/message\";\r\nimport Widget from \"../widget/ui.widget\";\r\nimport Editor from \"../editor/editor\";\r\nimport {\r\n    defaultScreenFactorFunc,\r\n    getCurrentScreenFactor,\r\n    hasWindow\r\n} from \"../../core/utils/window\";\r\nimport ValidationEngine from \"../validation_engine\";\r\nimport {\r\n    default as FormItemsRunTimeInfo\r\n} from \"./ui.form.items_runtime_info\";\r\nimport TabPanel from \"../tab_panel\";\r\nimport Scrollable from \"../scroll_view/ui.scrollable\";\r\nimport {\r\n    Deferred\r\n} from \"../../core/utils/deferred\";\r\nimport {\r\n    isMaterial\r\n} from \"../themes\";\r\nimport tryCreateItemOptionAction from \"./ui.form.item_options_actions\";\r\nimport \"./ui.form.layout_manager\";\r\nimport {\r\n    concatPaths,\r\n    createItemPathByIndex,\r\n    getFullOptionName,\r\n    getOptionNameFromFullName,\r\n    tryGetTabPath,\r\n    getTextWithoutSpaces,\r\n    isEqualToDataFieldOrNameOrTitleOrCaption,\r\n    isFullPathContainsTabs,\r\n    getItemPath,\r\n    convertToLayoutManagerOptions\r\n} from \"./ui.form.utils\";\r\nimport {\r\n    convertToLabelMarkOptions\r\n} from \"./ui.form.layout_manager.utils\";\r\nimport {\r\n    setLabelWidthByMaxLabelWidth\r\n} from \"./components/label\";\r\nimport \"../validation_summary\";\r\nimport \"../validation_group\";\r\nimport {\r\n    FORM_CLASS,\r\n    FIELD_ITEM_CLASS,\r\n    FORM_GROUP_CLASS,\r\n    FORM_GROUP_CONTENT_CLASS,\r\n    FIELD_ITEM_CONTENT_HAS_GROUP_CLASS,\r\n    FIELD_ITEM_CONTENT_HAS_TABS_CLASS,\r\n    FORM_GROUP_WITH_CAPTION_CLASS,\r\n    FORM_GROUP_CAPTION_CLASS,\r\n    FIELD_ITEM_TAB_CLASS,\r\n    FORM_FIELD_ITEM_COL_CLASS,\r\n    GROUP_COL_COUNT_CLASS,\r\n    GROUP_COL_COUNT_ATTR,\r\n    FIELD_ITEM_CONTENT_CLASS,\r\n    FORM_VALIDATION_SUMMARY,\r\n    ROOT_SIMPLE_ITEM_CLASS,\r\n    FORM_UNDERLINED_CLASS\r\n} from \"./constants\";\r\nimport {\r\n    TOOLBAR_CLASS\r\n} from \"../toolbar/constants\";\r\nvar FOCUSED_STATE_CLASS = \"dx-state-focused\";\r\nvar ITEM_OPTIONS_FOR_VALIDATION_UPDATING = [\"items\", \"isRequired\", \"validationRules\", \"visible\"];\r\nvar Form = Widget.inherit({\r\n    _init: function() {\r\n        this.callBase();\r\n        this._cachedColCountOptions = [];\r\n        this._itemsRunTimeInfo = new FormItemsRunTimeInfo;\r\n        this._groupsColCount = [];\r\n        this._attachSyncSubscriptions()\r\n    },\r\n    _getDefaultOptions: function() {\r\n        return extend(this.callBase(), {\r\n            formID: \"dx-\" + new Guid,\r\n            formData: {},\r\n            colCount: 1,\r\n            screenByWidth: defaultScreenFactorFunc,\r\n            colCountByScreen: void 0,\r\n            labelLocation: \"left\",\r\n            readOnly: false,\r\n            onFieldDataChanged: null,\r\n            customizeItem: null,\r\n            onEditorEnterKey: null,\r\n            minColWidth: 200,\r\n            alignItemLabels: true,\r\n            alignItemLabelsInAllGroups: true,\r\n            alignRootItemLabels: true,\r\n            showColonAfterLabel: true,\r\n            showRequiredMark: true,\r\n            showOptionalMark: false,\r\n            requiredMark: \"*\",\r\n            optionalMark: messageLocalization.format(\"dxForm-optionalMark\"),\r\n            requiredMessage: messageLocalization.getFormatter(\"dxForm-requiredMessage\"),\r\n            showValidationSummary: false,\r\n            items: void 0,\r\n            scrollingEnabled: false,\r\n            validationGroup: void 0,\r\n            stylingMode: config().editorStylingMode,\r\n            labelMode: \"outside\"\r\n        })\r\n    },\r\n    _defaultOptionsRules: function() {\r\n        return this.callBase().concat([{\r\n            device: function() {\r\n                return isMaterial()\r\n            },\r\n            options: {\r\n                showColonAfterLabel: false,\r\n                labelLocation: \"top\"\r\n            }\r\n        }])\r\n    },\r\n    _setOptionsByReference: function() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            formData: true,\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _getGroupColCount: function($element) {\r\n        return parseInt($element.attr(GROUP_COL_COUNT_ATTR))\r\n    },\r\n    _applyLabelsWidthByCol: function($container, index) {\r\n        var options = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\r\n        var labelMarkOptions = arguments.length > 3 ? arguments[3] : void 0;\r\n        var fieldItemClass = options.inOneColumn ? FIELD_ITEM_CLASS : FORM_FIELD_ITEM_COL_CLASS + index;\r\n        var cssExcludeTabbedSelector = options.excludeTabbed ? \":not(.\".concat(FIELD_ITEM_TAB_CLASS, \")\") : \"\";\r\n        setLabelWidthByMaxLabelWidth($container, \".\".concat(fieldItemClass).concat(cssExcludeTabbedSelector), labelMarkOptions);\r\n        return\r\n    },\r\n    _applyLabelsWidth: function($container, excludeTabbed, inOneColumn, colCount, labelMarkOptions) {\r\n        colCount = inOneColumn ? 1 : colCount || this._getGroupColCount($container);\r\n        var applyLabelsOptions = {\r\n            excludeTabbed: excludeTabbed,\r\n            inOneColumn: inOneColumn\r\n        };\r\n        var i;\r\n        for (i = 0; i < colCount; i++) {\r\n            this._applyLabelsWidthByCol($container, i, applyLabelsOptions, labelMarkOptions)\r\n        }\r\n    },\r\n    _getGroupElementsInColumn: function($container, columnIndex, colCount) {\r\n        var cssColCountSelector = isDefined(colCount) ? \".\" + GROUP_COL_COUNT_CLASS + colCount : \"\";\r\n        var groupSelector = \".\" + FORM_FIELD_ITEM_COL_CLASS + columnIndex + \" > .\" + FIELD_ITEM_CONTENT_CLASS + \" > .\" + FORM_GROUP_CLASS + cssColCountSelector;\r\n        return $container.find(groupSelector)\r\n    },\r\n    _applyLabelsWidthWithGroups: function($container, colCount, excludeTabbed, labelMarkOptions) {\r\n        if (true === this.option(\"alignRootItemLabels\")) {\r\n            var $rootSimpleItems = $container.find(\".\".concat(ROOT_SIMPLE_ITEM_CLASS));\r\n            for (var colIndex = 0; colIndex < colCount; colIndex++) {\r\n                this._applyLabelsWidthByCol($rootSimpleItems, colIndex, excludeTabbed, labelMarkOptions)\r\n            }\r\n        }\r\n        var alignItemLabelsInAllGroups = this.option(\"alignItemLabelsInAllGroups\");\r\n        if (alignItemLabelsInAllGroups) {\r\n            this._applyLabelsWidthWithNestedGroups($container, colCount, excludeTabbed, labelMarkOptions)\r\n        } else {\r\n            var $groups = this.$element().find(\".\" + FORM_GROUP_CLASS);\r\n            var i;\r\n            for (i = 0; i < $groups.length; i++) {\r\n                this._applyLabelsWidth($groups.eq(i), excludeTabbed, void 0, void 0, labelMarkOptions)\r\n            }\r\n        }\r\n    },\r\n    _applyLabelsWidthWithNestedGroups: function($container, colCount, excludeTabbed, labelMarkOptions) {\r\n        var applyLabelsOptions = {\r\n            excludeTabbed: excludeTabbed\r\n        };\r\n        var colIndex;\r\n        var groupsColIndex;\r\n        var groupColIndex;\r\n        var $groupsByCol;\r\n        for (colIndex = 0; colIndex < colCount; colIndex++) {\r\n            $groupsByCol = this._getGroupElementsInColumn($container, colIndex);\r\n            this._applyLabelsWidthByCol($groupsByCol, 0, applyLabelsOptions, labelMarkOptions);\r\n            for (groupsColIndex = 0; groupsColIndex < this._groupsColCount.length; groupsColIndex++) {\r\n                $groupsByCol = this._getGroupElementsInColumn($container, colIndex, this._groupsColCount[groupsColIndex]);\r\n                var groupColCount = this._getGroupColCount($groupsByCol);\r\n                for (groupColIndex = 1; groupColIndex < groupColCount; groupColIndex++) {\r\n                    this._applyLabelsWidthByCol($groupsByCol, groupColIndex, applyLabelsOptions, labelMarkOptions)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _labelLocation: function() {\r\n        return this.option(\"labelLocation\")\r\n    },\r\n    _alignLabelsInColumn: function(_ref) {\r\n        var {\r\n            layoutManager: layoutManager,\r\n            inOneColumn: inOneColumn,\r\n            $container: $container,\r\n            excludeTabbed: excludeTabbed,\r\n            items: items\r\n        } = _ref;\r\n        if (!hasWindow() || \"top\" === this._labelLocation()) {\r\n            return\r\n        }\r\n        var labelMarkOptions = convertToLabelMarkOptions(layoutManager._getMarkOptions());\r\n        if (inOneColumn) {\r\n            this._applyLabelsWidth($container, excludeTabbed, true, void 0, labelMarkOptions)\r\n        } else if (this._checkGrouping(items)) {\r\n            this._applyLabelsWidthWithGroups($container, layoutManager._getColCount(), excludeTabbed, labelMarkOptions)\r\n        } else {\r\n            this._applyLabelsWidth($container, excludeTabbed, false, layoutManager._getColCount(), labelMarkOptions)\r\n        }\r\n    },\r\n    _prepareFormData: function() {\r\n        if (!isDefined(this.option(\"formData\"))) {\r\n            this.option(\"formData\", {})\r\n        }\r\n    },\r\n    _setStylingModeClass: function() {\r\n        if (\"underlined\" === this.option(\"stylingMode\")) {\r\n            this.$element().addClass(FORM_UNDERLINED_CLASS)\r\n        }\r\n    },\r\n    _initMarkup: function() {\r\n        ValidationEngine.addGroup(this._getValidationGroup());\r\n        this._clearCachedInstances();\r\n        this._prepareFormData();\r\n        this.$element().addClass(FORM_CLASS);\r\n        this._setStylingModeClass();\r\n        this.callBase();\r\n        this.setAria(\"role\", \"form\", this.$element());\r\n        if (this.option(\"scrollingEnabled\")) {\r\n            this._renderScrollable()\r\n        }\r\n        this._renderLayout();\r\n        this._renderValidationSummary();\r\n        this._lastMarkupScreenFactor = this._targetScreenFactor || this._getCurrentScreenFactor()\r\n    },\r\n    _getCurrentScreenFactor: function() {\r\n        return hasWindow() ? getCurrentScreenFactor(this.option(\"screenByWidth\")) : \"lg\"\r\n    },\r\n    _clearCachedInstances: function() {\r\n        this._itemsRunTimeInfo.clear();\r\n        this._cachedLayoutManagers = []\r\n    },\r\n    _alignLabels: function(layoutManager, inOneColumn) {\r\n        this._alignLabelsInColumn({\r\n            $container: this.$element(),\r\n            layoutManager: layoutManager,\r\n            excludeTabbed: true,\r\n            items: this.option(\"items\"),\r\n            inOneColumn: inOneColumn\r\n        });\r\n        triggerResizeEvent(this.$element().find(\".\".concat(TOOLBAR_CLASS)))\r\n    },\r\n    _clean: function() {\r\n        this._clearValidationSummary();\r\n        this.callBase();\r\n        this._groupsColCount = [];\r\n        this._cachedColCountOptions = [];\r\n        this._lastMarkupScreenFactor = void 0\r\n    },\r\n    _renderScrollable: function() {\r\n        var useNativeScrolling = this.option(\"useNativeScrolling\");\r\n        this._scrollable = new Scrollable(this.$element(), {\r\n            useNative: !!useNativeScrolling,\r\n            useSimulatedScrollbar: !useNativeScrolling,\r\n            useKeyboard: false,\r\n            direction: \"both\",\r\n            bounceEnabled: false\r\n        })\r\n    },\r\n    _getContent: function() {\r\n        return this.option(\"scrollingEnabled\") ? $(this._scrollable.content()) : this.$element()\r\n    },\r\n    _clearValidationSummary: function() {\r\n        var _this$_$validationSum;\r\n        null === (_this$_$validationSum = this._$validationSummary) || void 0 === _this$_$validationSum ? void 0 : _this$_$validationSum.remove();\r\n        this._$validationSummary = void 0;\r\n        this._validationSummary = void 0\r\n    },\r\n    _renderValidationSummary: function() {\r\n        this._clearValidationSummary();\r\n        if (this.option(\"showValidationSummary\")) {\r\n            this._$validationSummary = $(\"<div>\").addClass(FORM_VALIDATION_SUMMARY).appendTo(this._getContent());\r\n            this._validationSummary = this._$validationSummary.dxValidationSummary({\r\n                validationGroup: this._getValidationGroup()\r\n            }).dxValidationSummary(\"instance\")\r\n        }\r\n    },\r\n    _prepareItems(items, parentIsTabbedItem, currentPath, isTabs) {\r\n        if (items) {\r\n            var result = [];\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                var path = concatPaths(currentPath, createItemPathByIndex(i, isTabs));\r\n                var itemRunTimeInfo = {\r\n                    item: item,\r\n                    itemIndex: i,\r\n                    path: path\r\n                };\r\n                var guid = this._itemsRunTimeInfo.add(itemRunTimeInfo);\r\n                if (isString(item)) {\r\n                    item = {\r\n                        dataField: item\r\n                    }\r\n                }\r\n                if (isObject(item)) {\r\n                    var preparedItem = _extends({}, item);\r\n                    itemRunTimeInfo.preparedItem = preparedItem;\r\n                    preparedItem.guid = guid;\r\n                    this._tryPrepareGroupItem(preparedItem);\r\n                    this._tryPrepareTabbedItem(preparedItem, path);\r\n                    this._tryPrepareItemTemplate(preparedItem);\r\n                    if (parentIsTabbedItem) {\r\n                        preparedItem.cssItemClass = FIELD_ITEM_TAB_CLASS\r\n                    }\r\n                    if (preparedItem.items) {\r\n                        preparedItem.items = this._prepareItems(preparedItem.items, parentIsTabbedItem, path)\r\n                    }\r\n                    result.push(preparedItem)\r\n                } else {\r\n                    result.push(item)\r\n                }\r\n            }\r\n            return result\r\n        }\r\n    },\r\n    _tryPrepareGroupItem: function(item) {\r\n        if (\"group\" === item.itemType) {\r\n            item.alignItemLabels = ensureDefined(item.alignItemLabels, true);\r\n            item._prepareGroupItemTemplate = itemTemplate => {\r\n                if (item.template) {\r\n                    item.groupContentTemplate = this._getTemplate(itemTemplate)\r\n                }\r\n                item.template = this._itemGroupTemplate.bind(this, item)\r\n            };\r\n            item._prepareGroupItemTemplate(item.template)\r\n        }\r\n    },\r\n    _tryPrepareTabbedItem: function(item, path) {\r\n        if (\"tabbed\" === item.itemType) {\r\n            item.template = this._itemTabbedTemplate.bind(this, item);\r\n            item.tabs = this._prepareItems(item.tabs, true, path, true)\r\n        }\r\n    },\r\n    _tryPrepareItemTemplate: function(item) {\r\n        if (item.template) {\r\n            item.template = this._getTemplate(item.template)\r\n        }\r\n    },\r\n    _checkGrouping: function(items) {\r\n        if (items) {\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = items[i];\r\n                if (\"group\" === item.itemType) {\r\n                    return true\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _renderLayout: function() {\r\n        var that = this;\r\n        var items = that.option(\"items\");\r\n        var $content = that._getContent();\r\n        items = that._prepareItems(items);\r\n        that._rootLayoutManager = that._renderLayoutManager($content, this._createLayoutManagerOptions(items, {\r\n            isRoot: true,\r\n            colCount: that.option(\"colCount\"),\r\n            alignItemLabels: that.option(\"alignItemLabels\"),\r\n            screenByWidth: this.option(\"screenByWidth\"),\r\n            colCountByScreen: this.option(\"colCountByScreen\"),\r\n            onLayoutChanged: function(inOneColumn) {\r\n                that._alignLabels.bind(that)(that._rootLayoutManager, inOneColumn)\r\n            },\r\n            onContentReady: function(e) {\r\n                that._alignLabels(e.component, e.component.isSingleColumnMode())\r\n            }\r\n        }))\r\n    },\r\n    _tryGetItemsForTemplate: function(item) {\r\n        return item.items || []\r\n    },\r\n    _itemTabbedTemplate: function(item, e, $container) {\r\n        var $tabPanel = $(\"<div>\").appendTo($container);\r\n        var tabPanelOptions = extend({}, item.tabPanelOptions, {\r\n            dataSource: item.tabs,\r\n            onItemRendered: args => triggerShownEvent(args.itemElement),\r\n            itemTemplate: (itemData, e, container) => {\r\n                var $container = $(container);\r\n                var alignItemLabels = ensureDefined(itemData.alignItemLabels, true);\r\n                var layoutManager = this._renderLayoutManager($container, this._createLayoutManagerOptions(this._tryGetItemsForTemplate(itemData), {\r\n                    colCount: itemData.colCount,\r\n                    alignItemLabels: alignItemLabels,\r\n                    screenByWidth: this.option(\"screenByWidth\"),\r\n                    colCountByScreen: itemData.colCountByScreen,\r\n                    cssItemClass: itemData.cssItemClass,\r\n                    onLayoutChanged: inOneColumn => {\r\n                        this._alignLabelsInColumn({\r\n                            $container: $container,\r\n                            layoutManager: layoutManager,\r\n                            items: itemData.items,\r\n                            inOneColumn: inOneColumn\r\n                        })\r\n                    }\r\n                }));\r\n                if (this._itemsRunTimeInfo) {\r\n                    this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(itemData.guid, {\r\n                        layoutManager: layoutManager\r\n                    })\r\n                }\r\n                if (alignItemLabels) {\r\n                    this._alignLabelsInColumn({\r\n                        $container: $container,\r\n                        layoutManager: layoutManager,\r\n                        items: itemData.items,\r\n                        inOneColumn: layoutManager.isSingleColumnMode()\r\n                    })\r\n                }\r\n            }\r\n        });\r\n        var tryUpdateTabPanelInstance = (items, instance) => {\r\n            if (Array.isArray(items)) {\r\n                items.forEach(item => this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(item.guid, {\r\n                    widgetInstance: instance\r\n                }))\r\n            }\r\n        };\r\n        var tabPanel = this._createComponent($tabPanel, TabPanel, tabPanelOptions);\r\n        $($container).parent().addClass(FIELD_ITEM_CONTENT_HAS_TABS_CLASS);\r\n        tabPanel.on(\"optionChanged\", e => {\r\n            if (\"dataSource\" === e.fullName) {\r\n                tryUpdateTabPanelInstance(e.value, e.component)\r\n            }\r\n        });\r\n        tryUpdateTabPanelInstance([{\r\n            guid: item.guid\r\n        }, ...item.tabs], tabPanel)\r\n    },\r\n    _itemGroupTemplate: function(item, e, $container) {\r\n        var $group = $(\"<div>\").toggleClass(FORM_GROUP_WITH_CAPTION_CLASS, isDefined(item.caption) && item.caption.length).addClass(FORM_GROUP_CLASS).appendTo($container);\r\n        $($container).parent().addClass(FIELD_ITEM_CONTENT_HAS_GROUP_CLASS);\r\n        var colCount;\r\n        var layoutManager;\r\n        if (item.caption) {\r\n            $(\"<span>\").addClass(FORM_GROUP_CAPTION_CLASS).text(item.caption).appendTo($group)\r\n        }\r\n        var $groupContent = $(\"<div>\").addClass(FORM_GROUP_CONTENT_CLASS).appendTo($group);\r\n        if (item.groupContentTemplate) {\r\n            item._renderGroupContentTemplate = () => {\r\n                $groupContent.empty();\r\n                var data = {\r\n                    formData: this.option(\"formData\"),\r\n                    component: this\r\n                };\r\n                item.groupContentTemplate.render({\r\n                    model: data,\r\n                    container: getPublicElement($groupContent)\r\n                })\r\n            };\r\n            item._renderGroupContentTemplate()\r\n        } else {\r\n            layoutManager = this._renderLayoutManager($groupContent, this._createLayoutManagerOptions(this._tryGetItemsForTemplate(item), {\r\n                colCount: item.colCount,\r\n                colCountByScreen: item.colCountByScreen,\r\n                alignItemLabels: item.alignItemLabels,\r\n                cssItemClass: item.cssItemClass\r\n            }));\r\n            this._itemsRunTimeInfo && this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(item.guid, {\r\n                layoutManager: layoutManager\r\n            });\r\n            colCount = layoutManager._getColCount();\r\n            if (-1 === inArray(colCount, this._groupsColCount)) {\r\n                this._groupsColCount.push(colCount)\r\n            }\r\n            $group.addClass(GROUP_COL_COUNT_CLASS + colCount);\r\n            $group.attr(GROUP_COL_COUNT_ATTR, colCount)\r\n        }\r\n    },\r\n    _createLayoutManagerOptions: function(items, extendedLayoutManagerOptions) {\r\n        return convertToLayoutManagerOptions({\r\n            form: this,\r\n            formOptions: this.option(),\r\n            $formElement: this.$element(),\r\n            items: items,\r\n            validationGroup: this._getValidationGroup(),\r\n            extendedLayoutManagerOptions: extendedLayoutManagerOptions,\r\n            onFieldDataChanged: args => {\r\n                if (!this._isDataUpdating) {\r\n                    this._triggerOnFieldDataChanged(args)\r\n                }\r\n            },\r\n            onContentReady: args => {\r\n                this._itemsRunTimeInfo.addItemsOrExtendFrom(args.component._itemsRunTimeInfo);\r\n                extendedLayoutManagerOptions.onContentReady && extendedLayoutManagerOptions.onContentReady(args)\r\n            },\r\n            onDisposing: _ref2 => {\r\n                var {\r\n                    component: component\r\n                } = _ref2;\r\n                var nestedItemsRunTimeInfo = component.getItemsRunTimeInfo();\r\n                this._itemsRunTimeInfo.removeItemsByItems(nestedItemsRunTimeInfo)\r\n            },\r\n            onFieldItemRendered: () => {\r\n                var _this$_validationSumm;\r\n                null === (_this$_validationSumm = this._validationSummary) || void 0 === _this$_validationSumm ? void 0 : _this$_validationSumm._initGroupRegistration()\r\n            }\r\n        })\r\n    },\r\n    _renderLayoutManager: function($parent, layoutManagerOptions) {\r\n        var baseColCountByScreen = {\r\n            lg: layoutManagerOptions.colCount,\r\n            md: layoutManagerOptions.colCount,\r\n            sm: layoutManagerOptions.colCount,\r\n            xs: 1\r\n        };\r\n        this._cachedColCountOptions.push({\r\n            colCountByScreen: extend(baseColCountByScreen, layoutManagerOptions.colCountByScreen)\r\n        });\r\n        var $element = $(\"<div>\");\r\n        $element.appendTo($parent);\r\n        var instance = this._createComponent($element, \"dxLayoutManager\", layoutManagerOptions);\r\n        instance.on(\"autoColCountChanged\", () => {\r\n            this._clearAutoColCountChangedTimeout();\r\n            this.autoColCountChangedTimeoutId = setTimeout(() => !this._disposed && this._refresh(), 0)\r\n        });\r\n        this._cachedLayoutManagers.push(instance);\r\n        return instance\r\n    },\r\n    _getValidationGroup: function() {\r\n        return this.option(\"validationGroup\") || this\r\n    },\r\n    _createComponent: function($element, type, config) {\r\n        config = config || {};\r\n        this._extendConfig(config, {\r\n            readOnly: this.option(\"readOnly\")\r\n        });\r\n        return this.callBase($element, type, config)\r\n    },\r\n    _attachSyncSubscriptions: function() {\r\n        var that = this;\r\n        that.on(\"optionChanged\", (function(args) {\r\n            var optionFullName = args.fullName;\r\n            if (\"formData\" === optionFullName) {\r\n                if (!isDefined(args.value)) {\r\n                    that._options.silent(\"formData\", args.value = {})\r\n                }\r\n                that._triggerOnFieldDataChangedByDataSet(args.value)\r\n            }\r\n            if (that._cachedLayoutManagers.length) {\r\n                each(that._cachedLayoutManagers, (function(index, layoutManager) {\r\n                    if (\"formData\" === optionFullName) {\r\n                        that._isDataUpdating = true;\r\n                        layoutManager.option(\"layoutData\", args.value);\r\n                        that._isDataUpdating = false\r\n                    }\r\n                    if (\"readOnly\" === args.name || \"disabled\" === args.name) {\r\n                        layoutManager.option(optionFullName, args.value)\r\n                    }\r\n                }))\r\n            }\r\n        }))\r\n    },\r\n    _optionChanged: function(args) {\r\n        var splitFullName = args.fullName.split(\".\");\r\n        if (splitFullName.length > 1 && -1 !== splitFullName[0].search(\"items\") && this._itemsOptionChangedHandler(args)) {\r\n            return\r\n        }\r\n        if (splitFullName.length > 1 && -1 !== splitFullName[0].search(\"formData\") && this._formDataOptionChangedHandler(args)) {\r\n            return\r\n        }\r\n        this._defaultOptionChangedHandler(args)\r\n    },\r\n    _defaultOptionChangedHandler: function(args) {\r\n        switch (args.name) {\r\n            case \"formData\":\r\n                if (!this.option(\"items\")) {\r\n                    this._invalidate()\r\n                } else if (isEmptyObject(args.value)) {\r\n                    this._resetValues()\r\n                }\r\n                break;\r\n            case \"onFieldDataChanged\":\r\n                break;\r\n            case \"items\":\r\n            case \"colCount\":\r\n            case \"onEditorEnterKey\":\r\n            case \"labelLocation\":\r\n            case \"labelMode\":\r\n            case \"alignItemLabels\":\r\n            case \"showColonAfterLabel\":\r\n            case \"customizeItem\":\r\n            case \"alignItemLabelsInAllGroups\":\r\n            case \"showRequiredMark\":\r\n            case \"showOptionalMark\":\r\n            case \"requiredMark\":\r\n            case \"optionalMark\":\r\n            case \"requiredMessage\":\r\n            case \"scrollingEnabled\":\r\n            case \"formID\":\r\n            case \"colCountByScreen\":\r\n            case \"screenByWidth\":\r\n            case \"stylingMode\":\r\n                this._invalidate();\r\n                break;\r\n            case \"showValidationSummary\":\r\n                this._renderValidationSummary();\r\n                break;\r\n            case \"minColWidth\":\r\n                if (\"auto\" === this.option(\"colCount\")) {\r\n                    this._invalidate()\r\n                }\r\n                break;\r\n            case \"alignRootItemLabels\":\r\n            case \"readOnly\":\r\n                break;\r\n            case \"width\":\r\n                this.callBase(args);\r\n                this._rootLayoutManager.option(args.name, args.value);\r\n                this._alignLabels(this._rootLayoutManager, this._rootLayoutManager.isSingleColumnMode());\r\n                break;\r\n            case \"visible\":\r\n                this.callBase(args);\r\n                if (args.value) {\r\n                    triggerShownEvent(this.$element())\r\n                }\r\n                break;\r\n            case \"validationGroup\":\r\n                ValidationEngine.removeGroup(args.previousValue || this);\r\n                this._invalidate();\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _itemsOptionChangedHandler: function(args) {\r\n        var nameParts = args.fullName.split(\".\");\r\n        var value = args.value;\r\n        var itemPath = this._getItemPath(nameParts);\r\n        var item = this.option(itemPath);\r\n        var optionNameWithoutPath = args.fullName.replace(itemPath + \".\", \"\");\r\n        var simpleOptionName = optionNameWithoutPath.split(\".\")[0].replace(/\\[\\d+]/, \"\");\r\n        var itemAction = this._tryCreateItemOptionAction(simpleOptionName, item, item[simpleOptionName], args.previousValue, itemPath);\r\n        var result = this._tryExecuteItemOptionAction(itemAction) || this._tryChangeLayoutManagerItemOption(args.fullName, value);\r\n        if (!result && item) {\r\n            this._changeItemOption(item, optionNameWithoutPath, value);\r\n            var items = this._generateItemsFromData(this.option(\"items\"));\r\n            this.option(\"items\", items);\r\n            result = true\r\n        }\r\n        return result\r\n    },\r\n    _formDataOptionChangedHandler: function(args) {\r\n        var nameParts = args.fullName.split(\".\");\r\n        var value = args.value;\r\n        var dataField = nameParts.slice(1).join(\".\");\r\n        var editor = this.getEditor(dataField);\r\n        if (editor) {\r\n            editor.option(\"value\", value)\r\n        } else {\r\n            this._triggerOnFieldDataChanged({\r\n                dataField: dataField,\r\n                value: value\r\n            })\r\n        }\r\n        return true\r\n    },\r\n    _tryCreateItemOptionAction: function(optionName, item, value, previousValue, itemPath) {\r\n        if (\"tabs\" === optionName) {\r\n            this._itemsRunTimeInfo.removeItemsByPathStartWith(\"\".concat(itemPath, \".tabs\"));\r\n            value = this._prepareItems(value, true, itemPath, true)\r\n        }\r\n        return tryCreateItemOptionAction(optionName, {\r\n            item: item,\r\n            value: value,\r\n            previousValue: previousValue,\r\n            itemsRunTimeInfo: this._itemsRunTimeInfo\r\n        })\r\n    },\r\n    _tryExecuteItemOptionAction: function(action) {\r\n        return action && action.tryExecute()\r\n    },\r\n    _updateValidationGroupAndSummaryIfNeeded: function(fullName) {\r\n        var optionName = getOptionNameFromFullName(fullName);\r\n        if (ITEM_OPTIONS_FOR_VALIDATION_UPDATING.indexOf(optionName) > -1) {\r\n            ValidationEngine.addGroup(this._getValidationGroup());\r\n            if (this.option(\"showValidationSummary\")) {\r\n                var _this$_validationSumm2;\r\n                null === (_this$_validationSumm2 = this._validationSummary) || void 0 === _this$_validationSumm2 ? void 0 : _this$_validationSumm2._initGroupRegistration()\r\n            }\r\n        }\r\n    },\r\n    _setLayoutManagerItemOption(layoutManager, optionName, value, path) {\r\n        if (this._updateLockCount > 0) {\r\n            !layoutManager._updateLockCount && layoutManager.beginUpdate();\r\n            var key = this._itemsRunTimeInfo.findKeyByPath(path);\r\n            this.postponedOperations.add(key, () => {\r\n                !layoutManager._disposed && layoutManager.endUpdate();\r\n                return (new Deferred).resolve()\r\n            })\r\n        }\r\n        var contentReadyHandler = e => {\r\n            e.component.off(\"contentReady\", contentReadyHandler);\r\n            if (isFullPathContainsTabs(path)) {\r\n                var tabPath = tryGetTabPath(path);\r\n                var tabLayoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(tabPath);\r\n                if (tabLayoutManager) {\r\n                    this._alignLabelsInColumn({\r\n                        items: tabLayoutManager.option(\"items\"),\r\n                        layoutManager: tabLayoutManager,\r\n                        $container: tabLayoutManager.$element(),\r\n                        inOneColumn: tabLayoutManager.isSingleColumnMode()\r\n                    })\r\n                }\r\n            } else {\r\n                this._alignLabels(this._rootLayoutManager, this._rootLayoutManager.isSingleColumnMode())\r\n            }\r\n        };\r\n        layoutManager.on(\"contentReady\", contentReadyHandler);\r\n        layoutManager.option(optionName, value);\r\n        this._updateValidationGroupAndSummaryIfNeeded(optionName)\r\n    },\r\n    _tryChangeLayoutManagerItemOption(fullName, value) {\r\n        var nameParts = fullName.split(\".\");\r\n        var optionName = getOptionNameFromFullName(fullName);\r\n        if (\"items\" === optionName && nameParts.length > 1) {\r\n            var itemPath = this._getItemPath(nameParts);\r\n            var layoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(itemPath);\r\n            if (layoutManager) {\r\n                this._itemsRunTimeInfo.removeItemsByItems(layoutManager.getItemsRunTimeInfo());\r\n                var items = this._prepareItems(value, false, itemPath);\r\n                this._setLayoutManagerItemOption(layoutManager, optionName, items, itemPath);\r\n                return true\r\n            }\r\n        } else if (nameParts.length > 2) {\r\n            var endPartIndex = nameParts.length - 2;\r\n            var _itemPath = this._getItemPath(nameParts.slice(0, endPartIndex));\r\n            var _layoutManager = this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(_itemPath);\r\n            if (_layoutManager) {\r\n                var fullOptionName = getFullOptionName(nameParts[endPartIndex], optionName);\r\n                if (\"editorType\" === optionName) {\r\n                    if (_layoutManager.option(fullOptionName) !== value) {\r\n                        return false\r\n                    }\r\n                }\r\n                if (\"visible\" === optionName) {\r\n                    var formItems = this.option(getFullOptionName(_itemPath, \"items\"));\r\n                    if (formItems && formItems.length) {\r\n                        var layoutManagerItems = _layoutManager.option(\"items\");\r\n                        formItems.forEach((item, index) => {\r\n                            var layoutItem = layoutManagerItems[index];\r\n                            layoutItem.visibleIndex = item.visibleIndex\r\n                        })\r\n                    }\r\n                }\r\n                this._setLayoutManagerItemOption(_layoutManager, fullOptionName, value, _itemPath);\r\n                return true\r\n            }\r\n        }\r\n        return false\r\n    },\r\n    _tryChangeLayoutManagerItemOptions(itemPath, options) {\r\n        var result;\r\n        this.beginUpdate();\r\n        each(options, (optionName, optionValue) => {\r\n            result = this._tryChangeLayoutManagerItemOption(getFullOptionName(itemPath, optionName), optionValue);\r\n            if (!result) {\r\n                return false\r\n            }\r\n        });\r\n        this.endUpdate();\r\n        return result\r\n    },\r\n    _getItemPath: function(nameParts) {\r\n        var itemPath = nameParts[0];\r\n        var i;\r\n        for (i = 1; i < nameParts.length; i++) {\r\n            if (-1 !== nameParts[i].search(/items\\[\\d+]|tabs\\[\\d+]/)) {\r\n                itemPath += \".\" + nameParts[i]\r\n            } else {\r\n                break\r\n            }\r\n        }\r\n        return itemPath\r\n    },\r\n    _triggerOnFieldDataChanged: function(args) {\r\n        this._createActionByOption(\"onFieldDataChanged\")(args)\r\n    },\r\n    _triggerOnFieldDataChangedByDataSet: function(data) {\r\n        var that = this;\r\n        if (data && isObject(data)) {\r\n            each(data, (function(dataField, value) {\r\n                that._triggerOnFieldDataChanged({\r\n                    dataField: dataField,\r\n                    value: value\r\n                })\r\n            }))\r\n        }\r\n    },\r\n    _updateFieldValue: function(dataField, value) {\r\n        if (isDefined(this.option(\"formData\"))) {\r\n            var editor = this.getEditor(dataField);\r\n            this.option(\"formData.\" + dataField, value);\r\n            if (editor) {\r\n                var editorValue = editor.option(\"value\");\r\n                if (editorValue !== value) {\r\n                    editor.option(\"value\", value)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _generateItemsFromData: function(items) {\r\n        var formData = this.option(\"formData\");\r\n        var result = [];\r\n        if (!items && isDefined(formData)) {\r\n            each(formData, (function(dataField) {\r\n                result.push({\r\n                    dataField: dataField\r\n                })\r\n            }))\r\n        }\r\n        if (items) {\r\n            each(items, (function(index, item) {\r\n                if (isObject(item)) {\r\n                    result.push(item)\r\n                } else {\r\n                    result.push({\r\n                        dataField: item\r\n                    })\r\n                }\r\n            }))\r\n        }\r\n        return result\r\n    },\r\n    _getItemByField: function(field, items) {\r\n        var that = this;\r\n        var fieldParts = isObject(field) ? field : that._getFieldParts(field);\r\n        var fieldName = fieldParts.fieldName;\r\n        var fieldPath = fieldParts.fieldPath;\r\n        var resultItem;\r\n        if (items.length) {\r\n            each(items, (function(index, item) {\r\n                var itemType = item.itemType;\r\n                if (fieldPath.length) {\r\n                    var path = fieldPath.slice();\r\n                    item = that._getItemByFieldPath(path, fieldName, item)\r\n                } else if (\"group\" === itemType && !(item.caption || item.name) || \"tabbed\" === itemType && !item.name) {\r\n                    var subItemsField = that._getSubItemField(itemType);\r\n                    item.items = that._generateItemsFromData(item.items);\r\n                    item = that._getItemByField({\r\n                        fieldName: fieldName,\r\n                        fieldPath: fieldPath\r\n                    }, item[subItemsField])\r\n                }\r\n                if (isEqualToDataFieldOrNameOrTitleOrCaption(item, fieldName)) {\r\n                    resultItem = item;\r\n                    return false\r\n                }\r\n            }))\r\n        }\r\n        return resultItem\r\n    },\r\n    _getFieldParts: function(field) {\r\n        var fieldName = field;\r\n        var separatorIndex = fieldName.indexOf(\".\");\r\n        var resultPath = [];\r\n        while (-1 !== separatorIndex) {\r\n            resultPath.push(fieldName.substr(0, separatorIndex));\r\n            fieldName = fieldName.substr(separatorIndex + 1);\r\n            separatorIndex = fieldName.indexOf(\".\")\r\n        }\r\n        return {\r\n            fieldName: fieldName,\r\n            fieldPath: resultPath.reverse()\r\n        }\r\n    },\r\n    _getItemByFieldPath: function(path, fieldName, item) {\r\n        var itemType = item.itemType;\r\n        var subItemsField = this._getSubItemField(itemType);\r\n        var isItemWithSubItems = \"group\" === itemType || \"tabbed\" === itemType || item.title;\r\n        var result;\r\n        do {\r\n            if (isItemWithSubItems) {\r\n                var name = item.name || item.caption || item.title;\r\n                var isGroupWithName = isDefined(name);\r\n                var nameWithoutSpaces = getTextWithoutSpaces(name);\r\n                var pathNode = void 0;\r\n                item[subItemsField] = this._generateItemsFromData(item[subItemsField]);\r\n                if (isGroupWithName) {\r\n                    pathNode = path.pop()\r\n                }\r\n                if (!path.length) {\r\n                    result = this._getItemByField(fieldName, item[subItemsField]);\r\n                    if (result) {\r\n                        break\r\n                    }\r\n                }\r\n                if (!isGroupWithName || isGroupWithName && nameWithoutSpaces === pathNode) {\r\n                    if (path.length) {\r\n                        result = this._searchItemInEverySubItem(path, fieldName, item[subItemsField])\r\n                    }\r\n                }\r\n            } else {\r\n                break\r\n            }\r\n        } while (path.length && !isDefined(result));\r\n        return result\r\n    },\r\n    _getSubItemField: function(itemType) {\r\n        return \"tabbed\" === itemType ? \"tabs\" : \"items\"\r\n    },\r\n    _searchItemInEverySubItem: function(path, fieldName, items) {\r\n        var that = this;\r\n        var result;\r\n        each(items, (function(index, groupItem) {\r\n            result = that._getItemByFieldPath(path.slice(), fieldName, groupItem);\r\n            if (result) {\r\n                return false\r\n            }\r\n        }));\r\n        if (!result) {\r\n            result = false\r\n        }\r\n        return result\r\n    },\r\n    _changeItemOption: function(item, option, value) {\r\n        if (isObject(item)) {\r\n            item[option] = value\r\n        }\r\n    },\r\n    _dimensionChanged: function() {\r\n        var currentScreenFactor = this._getCurrentScreenFactor();\r\n        if (this._lastMarkupScreenFactor !== currentScreenFactor) {\r\n            if (this._isColCountChanged(this._lastMarkupScreenFactor, currentScreenFactor)) {\r\n                this._targetScreenFactor = currentScreenFactor;\r\n                this._refresh();\r\n                this._targetScreenFactor = void 0\r\n            }\r\n            this._lastMarkupScreenFactor = currentScreenFactor\r\n        }\r\n    },\r\n    _isColCountChanged: function(oldScreenSize, newScreenSize) {\r\n        var isChanged = false;\r\n        each(this._cachedColCountOptions, (function(index, item) {\r\n            if (item.colCountByScreen[oldScreenSize] !== item.colCountByScreen[newScreenSize]) {\r\n                isChanged = true;\r\n                return false\r\n            }\r\n        }));\r\n        return isChanged\r\n    },\r\n    _refresh: function() {\r\n        var editorSelector = \".\" + FOCUSED_STATE_CLASS + \" input, .\" + FOCUSED_STATE_CLASS + \" textarea\";\r\n        eventsEngine.trigger(this.$element().find(editorSelector), \"change\");\r\n        this.callBase()\r\n    },\r\n    _resetValues: function() {\r\n        this._itemsRunTimeInfo.each((function(_, itemRunTimeInfo) {\r\n            if (isDefined(itemRunTimeInfo.widgetInstance) && Editor.isEditor(itemRunTimeInfo.widgetInstance)) {\r\n                itemRunTimeInfo.widgetInstance.reset();\r\n                itemRunTimeInfo.widgetInstance.option(\"isValid\", true)\r\n            }\r\n        }));\r\n        ValidationEngine.resetGroup(this._getValidationGroup())\r\n    },\r\n    _updateData: function(data, value, isComplexData) {\r\n        var that = this;\r\n        var _data = isComplexData ? value : data;\r\n        if (isObject(_data)) {\r\n            each(_data, (function(dataField, fieldValue) {\r\n                that._updateData(isComplexData ? data + \".\" + dataField : dataField, fieldValue, isObject(fieldValue))\r\n            }))\r\n        } else if (isString(data)) {\r\n            that._updateFieldValue(data, value)\r\n        }\r\n    },\r\n    registerKeyHandler: function(key, handler) {\r\n        this.callBase(key, handler);\r\n        this._itemsRunTimeInfo.each((function(_, itemRunTimeInfo) {\r\n            if (isDefined(itemRunTimeInfo.widgetInstance)) {\r\n                itemRunTimeInfo.widgetInstance.registerKeyHandler(key, handler)\r\n            }\r\n        }))\r\n    },\r\n    _focusTarget: function() {\r\n        return this.$element().find(\".\" + FIELD_ITEM_CONTENT_CLASS + \" [tabindex]\").first()\r\n    },\r\n    _visibilityChanged: function() {},\r\n    _clearAutoColCountChangedTimeout: function() {\r\n        if (this.autoColCountChangedTimeoutId) {\r\n            clearTimeout(this.autoColCountChangedTimeoutId);\r\n            this.autoColCountChangedTimeoutId = void 0\r\n        }\r\n    },\r\n    _dispose: function() {\r\n        this._clearAutoColCountChangedTimeout();\r\n        ValidationEngine.removeGroup(this._getValidationGroup());\r\n        this.callBase()\r\n    },\r\n    resetValues: function() {\r\n        this._resetValues()\r\n    },\r\n    updateData: function(data, value) {\r\n        this._updateData(data, value)\r\n    },\r\n    getEditor: function(dataField) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByDataField(dataField) || this._itemsRunTimeInfo.findWidgetInstanceByName(dataField)\r\n    },\r\n    getButton: function(name) {\r\n        return this._itemsRunTimeInfo.findWidgetInstanceByName(name)\r\n    },\r\n    updateDimensions: function() {\r\n        var that = this;\r\n        var deferred = new Deferred;\r\n        if (that._scrollable) {\r\n            that._scrollable.update().done((function() {\r\n                deferred.resolveWith(that)\r\n            }))\r\n        } else {\r\n            deferred.resolveWith(that)\r\n        }\r\n        return deferred.promise()\r\n    },\r\n    itemOption: function(id, option, value) {\r\n        var items = this._generateItemsFromData(this.option(\"items\"));\r\n        var item = this._getItemByField(id, items);\r\n        var path = getItemPath(items, item);\r\n        if (!item) {\r\n            return\r\n        }\r\n        switch (arguments.length) {\r\n            case 1:\r\n                return item;\r\n            case 3:\r\n                var itemAction = this._tryCreateItemOptionAction(option, item, value, item[option], path);\r\n                this._changeItemOption(item, option, value);\r\n                var fullName = getFullOptionName(path, option);\r\n                if (!this._tryExecuteItemOptionAction(itemAction) && !this._tryChangeLayoutManagerItemOption(fullName, value)) {\r\n                    this.option(\"items\", items)\r\n                }\r\n                break;\r\n            default:\r\n                if (isObject(option)) {\r\n                    if (!this._tryChangeLayoutManagerItemOptions(path, option)) {\r\n                        var allowUpdateItems;\r\n                        each(option, (optionName, optionValue) => {\r\n                            var itemAction = this._tryCreateItemOptionAction(optionName, item, optionValue, item[optionName], path);\r\n                            this._changeItemOption(item, optionName, optionValue);\r\n                            if (!allowUpdateItems && !this._tryExecuteItemOptionAction(itemAction)) {\r\n                                allowUpdateItems = true\r\n                            }\r\n                        });\r\n                        allowUpdateItems && this.option(\"items\", items)\r\n                    }\r\n                }\r\n        }\r\n    },\r\n    validate: function() {\r\n        return ValidationEngine.validateGroup(this._getValidationGroup())\r\n    },\r\n    getItemID: function(name) {\r\n        return \"dx_\" + this.option(\"formID\") + \"_\" + (name || new Guid)\r\n    },\r\n    getTargetScreenFactor: function() {\r\n        return this._targetScreenFactor\r\n    }\r\n});\r\nregisterComponent(\"dxForm\", Form);\r\nexport default Form;\r\n","/**\r\n * DevExtreme (esm/ui/form.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Form from \"./form/ui.form\";\r\nexport default Form;\r\n","/**\r\n * DevExtreme (esm/ui/grid_core/ui.grid_core.utils.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    getHeight\r\n} from \"../../core/utils/size\";\r\nimport $ from \"../../core/renderer\";\r\nimport {\r\n    isDefined,\r\n    isFunction\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    when\r\n} from \"../../core/utils/deferred\";\r\nimport sharedFiltering from \"../shared/filtering\";\r\nimport {\r\n    format\r\n} from \"../../core/utils/string\";\r\nimport {\r\n    each\r\n} from \"../../core/utils/iterator\";\r\nimport {\r\n    extend\r\n} from \"../../core/utils/extend\";\r\nimport {\r\n    getBoundingRect\r\n} from \"../../core/utils/position\";\r\nimport {\r\n    toComparable\r\n} from \"../../core/utils/data\";\r\nimport {\r\n    equalByValue\r\n} from \"../../core/utils/common\";\r\nimport LoadPanel from \"../load_panel\";\r\nimport {\r\n    normalizeSortingInfo as normalizeSortingInfoUtility\r\n} from \"../../data/utils\";\r\nimport formatHelper from \"../../format_helper\";\r\nimport {\r\n    getWindow\r\n} from \"../../core/utils/window\";\r\nimport eventsEngine from \"../../events/core/events_engine\";\r\nvar DATAGRID_SELECTION_DISABLED_CLASS = \"dx-selection-disabled\";\r\nvar DATAGRID_GROUP_OPENED_CLASS = \"dx-datagrid-group-opened\";\r\nvar DATAGRID_GROUP_CLOSED_CLASS = \"dx-datagrid-group-closed\";\r\nvar DATAGRID_EXPAND_CLASS = \"dx-datagrid-expand\";\r\nvar NO_DATA_CLASS = \"nodata\";\r\nvar SCROLLING_MODE_INFINITE = \"infinite\";\r\nvar SCROLLING_MODE_VIRTUAL = \"virtual\";\r\nvar LEGACY_SCROLLING_MODE = \"scrolling.legacyMode\";\r\nvar SCROLLING_MODE_OPTION = \"scrolling.mode\";\r\nvar ROW_RENDERING_MODE_OPTION = \"scrolling.rowRenderingMode\";\r\nvar DATE_INTERVAL_SELECTORS = {\r\n    year: function(value) {\r\n        return value && value.getFullYear()\r\n    },\r\n    month: function(value) {\r\n        return value && value.getMonth() + 1\r\n    },\r\n    day: function(value) {\r\n        return value && value.getDate()\r\n    },\r\n    quarter: function(value) {\r\n        return value && Math.floor(value.getMonth() / 3) + 1\r\n    },\r\n    hour: function(value) {\r\n        return value && value.getHours()\r\n    },\r\n    minute: function(value) {\r\n        return value && value.getMinutes()\r\n    },\r\n    second: function(value) {\r\n        return value && value.getSeconds()\r\n    }\r\n};\r\nvar getIntervalSelector = function() {\r\n    var data = arguments[1];\r\n    var value = this.calculateCellValue(data);\r\n    if (!isDefined(value)) {\r\n        return null\r\n    } else if (isDateType(this.dataType)) {\r\n        var nameIntervalSelector = arguments[0];\r\n        return DATE_INTERVAL_SELECTORS[nameIntervalSelector](value)\r\n    } else if (\"number\" === this.dataType) {\r\n        var groupInterval = arguments[0];\r\n        return Math.floor(Number(value) / groupInterval) * groupInterval\r\n    }\r\n};\r\nvar equalSelectors = function(selector1, selector2) {\r\n    if (isFunction(selector1) && isFunction(selector2)) {\r\n        if (selector1.originalCallback && selector2.originalCallback) {\r\n            return selector1.originalCallback === selector2.originalCallback && selector1.columnIndex === selector2.columnIndex\r\n        }\r\n    }\r\n    return selector1 === selector2\r\n};\r\n\r\nfunction isDateType(dataType) {\r\n    return \"date\" === dataType || \"datetime\" === dataType\r\n}\r\nvar setEmptyText = function($container) {\r\n    $container.get(0).textContent = \"\\xa0\"\r\n};\r\nvar normalizeSortingInfo = function(sort) {\r\n    sort = sort || [];\r\n    var result = normalizeSortingInfoUtility(sort);\r\n    for (var i = 0; i < sort.length; i++) {\r\n        if (sort && sort[i] && void 0 !== sort[i].isExpanded) {\r\n            result[i].isExpanded = sort[i].isExpanded\r\n        }\r\n        if (sort && sort[i] && void 0 !== sort[i].groupInterval) {\r\n            result[i].groupInterval = sort[i].groupInterval\r\n        }\r\n    }\r\n    return result\r\n};\r\nvar formatValue = function(value, options) {\r\n    var valueText = formatHelper.format(value, options.format) || value && value.toString() || \"\";\r\n    var formatObject = {\r\n        value: value,\r\n        valueText: options.getDisplayFormat ? options.getDisplayFormat(valueText) : valueText,\r\n        target: options.target || \"row\",\r\n        groupInterval: options.groupInterval\r\n    };\r\n    return options.customizeText ? options.customizeText.call(options, formatObject) : formatObject.valueText\r\n};\r\nvar getSummaryText = function(summaryItem, summaryTexts) {\r\n    var displayFormat = summaryItem.displayFormat || summaryItem.columnCaption && summaryTexts[summaryItem.summaryType + \"OtherColumn\"] || summaryTexts[summaryItem.summaryType];\r\n    return formatValue(summaryItem.value, {\r\n        format: summaryItem.valueFormat,\r\n        getDisplayFormat: function(valueText) {\r\n            return displayFormat ? format(displayFormat, valueText, summaryItem.columnCaption) : valueText\r\n        },\r\n        customizeText: summaryItem.customizeText\r\n    })\r\n};\r\nvar getWidgetInstance = function($element) {\r\n    var editorData = $element.data && $element.data();\r\n    var dxComponents = editorData && editorData.dxComponents;\r\n    var widgetName = dxComponents && dxComponents[0];\r\n    return widgetName && editorData[widgetName]\r\n};\r\nvar equalFilterParameters = function equalFilterParameters(filter1, filter2) {\r\n    if (Array.isArray(filter1) && Array.isArray(filter2)) {\r\n        if (filter1.length !== filter2.length) {\r\n            return false\r\n        } else {\r\n            for (var i = 0; i < filter1.length; i++) {\r\n                if (!equalFilterParameters(filter1[i], filter2[i])) {\r\n                    return false\r\n                }\r\n            }\r\n        }\r\n        return true\r\n    } else if (isFunction(filter1) && filter1.columnIndex >= 0 && isFunction(filter2) && filter2.columnIndex >= 0) {\r\n        return filter1.columnIndex === filter2.columnIndex && toComparable(filter1.filterValue) === toComparable(filter2.filterValue)\r\n    } else {\r\n        return toComparable(filter1) == toComparable(filter2)\r\n    }\r\n};\r\nexport default {\r\n    renderNoDataText: function($element) {\r\n        $element = $element || this.element();\r\n        if (!$element) {\r\n            return\r\n        }\r\n        var noDataClass = this.addWidgetPrefix(NO_DATA_CLASS);\r\n        var noDataElement = $element.find(\".\" + noDataClass).last();\r\n        var isVisible = this._dataController.isEmpty();\r\n        var isLoading = this._dataController.isLoading();\r\n        if (!noDataElement.length) {\r\n            noDataElement = $(\"<span>\").addClass(noDataClass).appendTo($element)\r\n        }\r\n        if (isVisible && !isLoading) {\r\n            noDataElement.removeClass(\"dx-hidden\").text(this._getNoDataText())\r\n        } else {\r\n            noDataElement.addClass(\"dx-hidden\")\r\n        }\r\n    },\r\n    renderLoadPanel: function($element, $container, isLocalStore) {\r\n        var loadPanelOptions;\r\n        this._loadPanel && this._loadPanel.$element().remove();\r\n        loadPanelOptions = this.option(\"loadPanel\");\r\n        if (loadPanelOptions && (\"auto\" === loadPanelOptions.enabled ? !isLocalStore : loadPanelOptions.enabled)) {\r\n            loadPanelOptions = extend({\r\n                shading: false,\r\n                message: loadPanelOptions.text,\r\n                container: $container\r\n            }, loadPanelOptions);\r\n            this._loadPanel = this._createComponent($(\"<div>\").appendTo($container), LoadPanel, loadPanelOptions)\r\n        } else {\r\n            this._loadPanel = null\r\n        }\r\n    },\r\n    calculateLoadPanelPosition($element) {\r\n        var $window = $(getWindow());\r\n        if (getHeight($element) > getHeight($window)) {\r\n            return {\r\n                of: $window,\r\n                boundary: $element,\r\n                collision: \"fit\"\r\n            }\r\n        }\r\n        return {\r\n            of: $element\r\n        }\r\n    },\r\n    getIndexByKey: function(key, items, keyName) {\r\n        var index = -1;\r\n        if (void 0 !== key && Array.isArray(items)) {\r\n            keyName = arguments.length <= 2 ? \"key\" : keyName;\r\n            for (var i = 0; i < items.length; i++) {\r\n                var item = isDefined(keyName) ? items[i][keyName] : items[i];\r\n                if (equalByValue(key, item)) {\r\n                    index = i;\r\n                    break\r\n                }\r\n            }\r\n        }\r\n        return index\r\n    },\r\n    combineFilters: function(filters, operation) {\r\n        var resultFilter = [];\r\n        operation = operation || \"and\";\r\n        for (var i = 0; i < filters.length; i++) {\r\n            var _filters$i;\r\n            if (!filters[i]) {\r\n                continue\r\n            }\r\n            if (1 === (null === (_filters$i = filters[i]) || void 0 === _filters$i ? void 0 : _filters$i.length) && \"!\" === filters[i][0]) {\r\n                if (\"and\" === operation) {\r\n                    return [\"!\"]\r\n                } else if (\"or\" === operation) {\r\n                    continue\r\n                }\r\n            }\r\n            if (resultFilter.length) {\r\n                resultFilter.push(operation)\r\n            }\r\n            resultFilter.push(filters[i])\r\n        }\r\n        if (1 === resultFilter.length) {\r\n            resultFilter = resultFilter[0]\r\n        }\r\n        if (resultFilter.length) {\r\n            return resultFilter\r\n        }\r\n    },\r\n    checkChanges: function(changes, changeNames) {\r\n        var changesWithChangeNamesCount = 0;\r\n        for (var i = 0; i < changeNames.length; i++) {\r\n            if (changes[changeNames[i]]) {\r\n                changesWithChangeNamesCount++\r\n            }\r\n        }\r\n        return changes.length && changes.length === changesWithChangeNamesCount\r\n    },\r\n    equalFilterParameters: equalFilterParameters,\r\n    proxyMethod: function(instance, methodName, defaultResult) {\r\n        if (!instance[methodName]) {\r\n            instance[methodName] = function() {\r\n                var dataSource = this._dataSource;\r\n                return dataSource ? dataSource[methodName].apply(dataSource, arguments) : defaultResult\r\n            }\r\n        }\r\n    },\r\n    formatValue: formatValue,\r\n    getFormatOptionsByColumn: function(column, target) {\r\n        return {\r\n            format: column.format,\r\n            getDisplayFormat: column.getDisplayFormat,\r\n            customizeText: column.customizeText,\r\n            target: target,\r\n            trueText: column.trueText,\r\n            falseText: column.falseText\r\n        }\r\n    },\r\n    getDisplayValue: function(column, value, data, rowType) {\r\n        if (column.displayValueMap && void 0 !== column.displayValueMap[value]) {\r\n            return column.displayValueMap[value]\r\n        } else if (column.calculateDisplayValue && data && \"group\" !== rowType) {\r\n            return column.calculateDisplayValue(data)\r\n        } else if (column.lookup && !(\"group\" === rowType && (column.calculateGroupValue || column.calculateDisplayValue))) {\r\n            return column.lookup.calculateCellValue(value)\r\n        }\r\n        return value\r\n    },\r\n    getGroupRowSummaryText: function(summaryItems, summaryTexts) {\r\n        var result = \"(\";\r\n        for (var i = 0; i < summaryItems.length; i++) {\r\n            var summaryItem = summaryItems[i];\r\n            result += (i > 0 ? \", \" : \"\") + getSummaryText(summaryItem, summaryTexts)\r\n        }\r\n        return result + \")\"\r\n    },\r\n    getSummaryText: getSummaryText,\r\n    normalizeSortingInfo: normalizeSortingInfo,\r\n    getFormatByDataType: function(dataType) {\r\n        switch (dataType) {\r\n            case \"date\":\r\n                return \"shortDate\";\r\n            case \"datetime\":\r\n                return \"shortDateShortTime\"\r\n        }\r\n    },\r\n    getHeaderFilterGroupParameters: function(column, remoteGrouping) {\r\n        var result = [];\r\n        var dataField = column.dataField || column.name;\r\n        var groupInterval = sharedFiltering.getGroupInterval(column);\r\n        if (groupInterval) {\r\n            each(groupInterval, (function(index, interval) {\r\n                result.push(remoteGrouping ? {\r\n                    selector: dataField,\r\n                    groupInterval: interval,\r\n                    isExpanded: index < groupInterval.length - 1\r\n                } : getIntervalSelector.bind(column, interval))\r\n            }));\r\n            return result\r\n        }\r\n        if (remoteGrouping) {\r\n            result = [{\r\n                selector: dataField,\r\n                isExpanded: false\r\n            }]\r\n        } else {\r\n            result = function(data) {\r\n                var result = column.calculateCellValue(data);\r\n                if (void 0 === result || \"\" === result) {\r\n                    result = null\r\n                }\r\n                return result\r\n            };\r\n            if (column.sortingMethod) {\r\n                result = [{\r\n                    selector: result,\r\n                    compare: column.sortingMethod.bind(column)\r\n                }]\r\n            }\r\n        }\r\n        return result\r\n    },\r\n    equalSortParameters(sortParameters1, sortParameters2, ignoreIsExpanded) {\r\n        sortParameters1 = normalizeSortingInfo(sortParameters1);\r\n        sortParameters2 = normalizeSortingInfo(sortParameters2);\r\n        if (Array.isArray(sortParameters1) && Array.isArray(sortParameters2)) {\r\n            if (sortParameters1.length !== sortParameters2.length) {\r\n                return false\r\n            } else {\r\n                for (var i = 0; i < sortParameters1.length; i++) {\r\n                    if (!equalSelectors(sortParameters1[i].selector, sortParameters2[i].selector) || sortParameters1[i].desc !== sortParameters2[i].desc || sortParameters1[i].groupInterval !== sortParameters2[i].groupInterval || !ignoreIsExpanded && Boolean(sortParameters1[i].isExpanded) !== Boolean(sortParameters2[i].isExpanded)) {\r\n                        return false\r\n                    }\r\n                }\r\n            }\r\n            return true\r\n        } else {\r\n            return (!sortParameters1 || !sortParameters1.length) === (!sortParameters2 || !sortParameters2.length)\r\n        }\r\n    },\r\n    getPointsByColumns: function(items, pointCreated, isVertical, startColumnIndex) {\r\n        var cellsLength = items.length;\r\n        var notCreatePoint = false;\r\n        var item;\r\n        var offset;\r\n        var columnIndex = startColumnIndex || 0;\r\n        var result = [];\r\n        var rtlEnabled;\r\n        for (var i = 0; i <= cellsLength; i++) {\r\n            if (i < cellsLength) {\r\n                item = items.eq(i);\r\n                offset = item.offset();\r\n                rtlEnabled = \"rtl\" === item.css(\"direction\")\r\n            }\r\n            var point = {\r\n                index: columnIndex,\r\n                x: offset ? offset.left + (!isVertical && rtlEnabled ^ i === cellsLength ? getBoundingRect(item[0]).width : 0) : 0,\r\n                y: offset ? offset.top + (isVertical && i === cellsLength ? getBoundingRect(item[0]).height : 0) : 0,\r\n                columnIndex: columnIndex\r\n            };\r\n            if (!isVertical && i > 0) {\r\n                var prevItemOffset = items.eq(i - 1).offset();\r\n                if (prevItemOffset.top < point.y) {\r\n                    point.y = prevItemOffset.top\r\n                }\r\n            }\r\n            if (pointCreated) {\r\n                notCreatePoint = pointCreated(point)\r\n            }\r\n            if (!notCreatePoint) {\r\n                result.push(point)\r\n            }\r\n            columnIndex++\r\n        }\r\n        return result\r\n    },\r\n    getExpandCellTemplate: function() {\r\n        return {\r\n            allowRenderToDetachedContainer: true,\r\n            render: function(container, options) {\r\n                var $container = $(container);\r\n                if (isDefined(options.value) && !(options.data && options.data.isContinuation) && !options.row.isNewRow) {\r\n                    var rowsView = options.component.getView(\"rowsView\");\r\n                    $container.addClass(DATAGRID_EXPAND_CLASS).addClass(DATAGRID_SELECTION_DISABLED_CLASS);\r\n                    $(\"<div>\").addClass(options.value ? DATAGRID_GROUP_OPENED_CLASS : DATAGRID_GROUP_CLOSED_CLASS).appendTo($container);\r\n                    rowsView.setAria(\"label\", options.value ? rowsView.localize(\"dxDataGrid-ariaCollapse\") : rowsView.localize(\"dxDataGrid-ariaExpand\"), $container)\r\n                } else {\r\n                    setEmptyText($container)\r\n                }\r\n            }\r\n        }\r\n    },\r\n    setEmptyText: setEmptyText,\r\n    isDateType: isDateType,\r\n    getSelectionRange: function(focusedElement) {\r\n        try {\r\n            if (focusedElement) {\r\n                return {\r\n                    selectionStart: focusedElement.selectionStart,\r\n                    selectionEnd: focusedElement.selectionEnd\r\n                }\r\n            }\r\n        } catch (e) {}\r\n        return {}\r\n    },\r\n    setSelectionRange: function(focusedElement, selectionRange) {\r\n        try {\r\n            if (focusedElement && focusedElement.setSelectionRange) {\r\n                focusedElement.setSelectionRange(selectionRange.selectionStart, selectionRange.selectionEnd)\r\n            }\r\n        } catch (e) {}\r\n    },\r\n    focusAndSelectElement: function(component, $element) {\r\n        var isFocused = $element.is(\":focus\");\r\n        eventsEngine.trigger($element, \"focus\");\r\n        var isSelectTextOnEditingStart = component.option(\"editing.selectTextOnEditStart\");\r\n        var element = $element.get(0);\r\n        if (!isFocused && isSelectTextOnEditingStart && $element.is(\".dx-texteditor-input\") && !$element.is(\"[readonly]\")) {\r\n            var editor = getWidgetInstance($element.closest(\".dx-texteditor\"));\r\n            when(editor && editor._loadItemDeferred).done((function() {\r\n                element.select()\r\n            }))\r\n        }\r\n    },\r\n    getWidgetInstance: getWidgetInstance,\r\n    getLastResizableColumnIndex: function(columns, resultWidths) {\r\n        var hasResizableColumns = columns.some(column => column && !column.command && !column.fixed && false !== column.allowResizing);\r\n        var lastColumnIndex;\r\n        for (lastColumnIndex = columns.length - 1; columns[lastColumnIndex]; lastColumnIndex--) {\r\n            var column = columns[lastColumnIndex];\r\n            var width = resultWidths && resultWidths[lastColumnIndex];\r\n            var allowResizing = !hasResizableColumns || false !== column.allowResizing;\r\n            if (!column.command && !column.fixed && \"adaptiveHidden\" !== width && allowResizing) {\r\n                break\r\n            }\r\n        }\r\n        return lastColumnIndex\r\n    },\r\n    isElementInCurrentGrid: function(controller, $element) {\r\n        if ($element && $element.length) {\r\n            var $grid = $element.closest(\".\" + controller.getWidgetContainerClass()).parent();\r\n            return $grid.is(controller.component.$element())\r\n        }\r\n        return false\r\n    },\r\n    isVirtualRowRendering: function(that) {\r\n        var rowRenderingMode = that.option(ROW_RENDERING_MODE_OPTION);\r\n        var isVirtualMode = that.option(SCROLLING_MODE_OPTION) === SCROLLING_MODE_VIRTUAL;\r\n        var isAppendMode = that.option(SCROLLING_MODE_OPTION) === SCROLLING_MODE_INFINITE;\r\n        if (false === that.option(LEGACY_SCROLLING_MODE) && (isVirtualMode || isAppendMode)) {\r\n            return true\r\n        }\r\n        return rowRenderingMode === SCROLLING_MODE_VIRTUAL\r\n    },\r\n    getPixelRatio: function(window) {\r\n        return window.devicePixelRatio || 1\r\n    },\r\n    getContentHeightLimit(browser) {\r\n        if (browser.mozilla) {\r\n            return 8e6\r\n        }\r\n        return 15e6 / this.getPixelRatio(getWindow())\r\n    }\r\n};\r\n","/**\r\n * DevExtreme (esm/ui/shared/filtering.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    isDate,\r\n    isDefined\r\n} from \"../../core/utils/type\";\r\nimport {\r\n    inArray\r\n} from \"../../core/utils/array\";\r\nimport {\r\n    map\r\n} from \"../../core/utils/iterator\";\r\nvar DEFAULT_DATE_INTERVAL = [\"year\", \"month\", \"day\"];\r\nvar DEFAULT_DATETIME_INTERVAL = [\"year\", \"month\", \"day\", \"hour\", \"minute\"];\r\nvar isDateType = function(dataType) {\r\n    return \"date\" === dataType || \"datetime\" === dataType\r\n};\r\nvar getGroupInterval = function(column) {\r\n    var index;\r\n    var result = [];\r\n    var dateIntervals = [\"year\", \"month\", \"day\", \"hour\", \"minute\", \"second\"];\r\n    var groupInterval = column.headerFilter && column.headerFilter.groupInterval;\r\n    var interval = \"quarter\" === groupInterval ? \"month\" : groupInterval;\r\n    if (isDateType(column.dataType) && null !== groupInterval) {\r\n        result = \"datetime\" === column.dataType ? DEFAULT_DATETIME_INTERVAL : DEFAULT_DATE_INTERVAL;\r\n        index = inArray(interval, dateIntervals);\r\n        if (index >= 0) {\r\n            result = dateIntervals.slice(0, index);\r\n            result.push(groupInterval);\r\n            return result\r\n        }\r\n        return result\r\n    } else if (isDefined(groupInterval)) {\r\n        return Array.isArray(groupInterval) ? groupInterval : [groupInterval]\r\n    }\r\n};\r\nexport default (function() {\r\n    var getFilterSelector = function(column, target) {\r\n        var selector = column.dataField || column.selector;\r\n        if (\"search\" === target) {\r\n            selector = column.displayField || column.calculateDisplayValue || selector\r\n        }\r\n        return selector\r\n    };\r\n    var getFilterExpressionByRange = function(filterValue, target) {\r\n        var endFilterValue;\r\n        var startFilterExpression;\r\n        var endFilterExpression;\r\n        var selector = getFilterSelector(this, target);\r\n        if (Array.isArray(filterValue) && isDefined(filterValue[0]) && isDefined(filterValue[1])) {\r\n            startFilterExpression = [selector, \">=\", filterValue[0]];\r\n            endFilterExpression = [selector, \"<=\", filterValue[1]];\r\n            if (isDateType(this.dataType) && (date = filterValue[1], date.getHours() + date.getMinutes() + date.getSeconds() + date.getMilliseconds() < 1)) {\r\n                endFilterValue = new Date(filterValue[1].getTime());\r\n                if (\"date\" === this.dataType) {\r\n                    endFilterValue.setDate(filterValue[1].getDate() + 1)\r\n                }\r\n                endFilterExpression = [selector, \"<\", endFilterValue]\r\n            }\r\n            return [startFilterExpression, \"and\", endFilterExpression]\r\n        }\r\n        var date\r\n    };\r\n    var getFilterExpressionForDate = function(filterValue, selectedFilterOperation, target) {\r\n        var dateStart;\r\n        var dateEnd;\r\n        var dateInterval;\r\n        var values = function(dateValue) {\r\n            if (isDate(dateValue)) {\r\n                return [dateValue.getFullYear(), dateValue.getMonth(), dateValue.getDate(), dateValue.getHours(), dateValue.getMinutes(), dateValue.getSeconds()]\r\n            }\r\n            return map((\"\" + dateValue).split(\"/\"), (function(value, index) {\r\n                return 1 === index ? Number(value) - 1 : Number(value)\r\n            }))\r\n        }(filterValue);\r\n        var selector = getFilterSelector(this, target);\r\n        if (\"headerFilter\" === target) {\r\n            dateInterval = getGroupInterval(this)[values.length - 1]\r\n        } else if (\"datetime\" === this.dataType) {\r\n            dateInterval = \"minute\"\r\n        }\r\n        switch (dateInterval) {\r\n            case \"year\":\r\n                dateStart = new Date(values[0], 0, 1);\r\n                dateEnd = new Date(values[0] + 1, 0, 1);\r\n                break;\r\n            case \"month\":\r\n                dateStart = new Date(values[0], values[1], 1);\r\n                dateEnd = new Date(values[0], values[1] + 1, 1);\r\n                break;\r\n            case \"quarter\":\r\n                dateStart = new Date(values[0], 3 * values[1], 1);\r\n                dateEnd = new Date(values[0], 3 * values[1] + 3, 1);\r\n                break;\r\n            case \"hour\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3] + 1);\r\n                break;\r\n            case \"minute\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3], values[4]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3], values[4] + 1);\r\n                break;\r\n            case \"second\":\r\n                dateStart = new Date(values[0], values[1], values[2], values[3], values[4], values[5]);\r\n                dateEnd = new Date(values[0], values[1], values[2], values[3], values[4], values[5] + 1);\r\n                break;\r\n            default:\r\n                dateStart = new Date(values[0], values[1], values[2]);\r\n                dateEnd = new Date(values[0], values[1], values[2] + 1)\r\n        }\r\n        switch (selectedFilterOperation) {\r\n            case \"<\":\r\n                return [selector, \"<\", dateStart];\r\n            case \"<=\":\r\n                return [selector, \"<\", dateEnd];\r\n            case \">\":\r\n                return [selector, \">=\", dateEnd];\r\n            case \">=\":\r\n                return [selector, \">=\", dateStart];\r\n            case \"<>\":\r\n                return [\r\n                    [selector, \"<\", dateStart], \"or\", [selector, \">=\", dateEnd]\r\n                ];\r\n            default:\r\n                return [\r\n                    [selector, \">=\", dateStart], \"and\", [selector, \"<\", dateEnd]\r\n                ]\r\n        }\r\n    };\r\n    var getFilterExpressionForNumber = function(filterValue, selectedFilterOperation, target) {\r\n        var selector = getFilterSelector(this, target);\r\n        var groupInterval = getGroupInterval(this);\r\n        if (\"headerFilter\" === target && groupInterval && isDefined(filterValue)) {\r\n            var values = (\"\" + filterValue).split(\"/\");\r\n            var value = Number(values[values.length - 1]);\r\n            var interval = groupInterval[values.length - 1];\r\n            var startFilterValue = [selector, \">=\", value];\r\n            var endFilterValue = [selector, \"<\", value + interval];\r\n            var condition = [startFilterValue, \"and\", endFilterValue];\r\n            return condition\r\n        }\r\n        return [selector, selectedFilterOperation || \"=\", filterValue]\r\n    };\r\n    return {\r\n        defaultCalculateFilterExpression: function(filterValue, selectedFilterOperation, target) {\r\n            var column = this;\r\n            var selector = getFilterSelector(column, target);\r\n            var isSearchByDisplayValue = column.calculateDisplayValue && \"search\" === target;\r\n            var dataType = isSearchByDisplayValue && column.lookup && column.lookup.dataType || column.dataType;\r\n            var filter = null;\r\n            if ((\"headerFilter\" === target || \"filterBuilder\" === target) && null === filterValue) {\r\n                filter = [selector, selectedFilterOperation || \"=\", null];\r\n                if (\"string\" === dataType) {\r\n                    filter = [filter, \"=\" === selectedFilterOperation ? \"or\" : \"and\", [selector, selectedFilterOperation || \"=\", \"\"]]\r\n                }\r\n            } else if (\"string\" === dataType && (!column.lookup || isSearchByDisplayValue)) {\r\n                filter = [selector, selectedFilterOperation || \"contains\", filterValue]\r\n            } else if (\"between\" === selectedFilterOperation) {\r\n                return getFilterExpressionByRange.apply(column, [filterValue, target])\r\n            } else if (isDateType(dataType) && isDefined(filterValue)) {\r\n                return getFilterExpressionForDate.apply(column, arguments)\r\n            } else if (\"number\" === dataType) {\r\n                return getFilterExpressionForNumber.apply(column, arguments)\r\n            } else {\r\n                filter = [selector, selectedFilterOperation || \"=\", filterValue]\r\n            }\r\n            return filter\r\n        },\r\n        getGroupInterval: getGroupInterval\r\n    }\r\n}());\r\n","/**\r\n * DevExtreme (esm/ui/validation/default_adapter.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport Class from \"../../core/class\";\r\nvar DefaultAdapter = Class.inherit({\r\n    ctor(editor, validator) {\r\n        this.editor = editor;\r\n        this.validator = validator;\r\n        this.validationRequestsCallbacks = [];\r\n        var handler = args => {\r\n            this.validationRequestsCallbacks.forEach(item => item(args))\r\n        };\r\n        editor.validationRequest.add(handler);\r\n        editor.on(\"disposing\", (function() {\r\n            editor.validationRequest.remove(handler)\r\n        }))\r\n    },\r\n    getValue() {\r\n        return this.editor.option(\"value\")\r\n    },\r\n    getCurrentValidationError() {\r\n        return this.editor.option(\"validationError\")\r\n    },\r\n    bypass() {\r\n        return this.editor.option(\"disabled\")\r\n    },\r\n    applyValidationResults(params) {\r\n        this.editor.option({\r\n            validationErrors: params.brokenRules,\r\n            validationStatus: params.status\r\n        })\r\n    },\r\n    reset() {\r\n        this.editor.reset()\r\n    },\r\n    focus() {\r\n        this.editor.focus()\r\n    }\r\n});\r\nexport default DefaultAdapter;\r\n","/**\r\n * DevExtreme (esm/ui/validator.js)\r\n * Version: 21.2.7\r\n * Build date: Mon Apr 11 2022\r\n *\r\n * Copyright (c) 2012 - 2022 Developer Express Inc. ALL RIGHTS RESERVED\r\n * Read about DevExtreme licensing here: https://js.devexpress.com/Licensing/\r\n */\r\nimport {\r\n    data as elementData\r\n} from \"../core/element_data\";\r\nimport Callbacks from \"../core/utils/callbacks\";\r\nimport errors from \"./widget/ui.errors\";\r\nimport DOMComponent from \"../core/dom_component\";\r\nimport {\r\n    extend\r\n} from \"../core/utils/extend\";\r\nimport {\r\n    map\r\n} from \"../core/utils/iterator\";\r\nimport ValidationEngine from \"./validation_engine\";\r\nimport DefaultAdapter from \"./validation/default_adapter\";\r\nimport registerComponent from \"../core/component_registrator\";\r\nimport {\r\n    Deferred\r\n} from \"../core/utils/deferred\";\r\nimport Guid from \"../core/guid\";\r\nvar VALIDATOR_CLASS = \"dx-validator\";\r\nvar VALIDATION_STATUS_VALID = \"valid\";\r\nvar VALIDATION_STATUS_INVALID = \"invalid\";\r\nvar VALIDATION_STATUS_PENDING = \"pending\";\r\nvar Validator = DOMComponent.inherit({\r\n    _initOptions: function(options) {\r\n        this.callBase.apply(this, arguments);\r\n        this.option(ValidationEngine.initValidationOptions(options))\r\n    },\r\n    _getDefaultOptions() {\r\n        return extend(this.callBase(), {\r\n            validationRules: []\r\n        })\r\n    },\r\n    _init() {\r\n        this.callBase();\r\n        this._initGroupRegistration();\r\n        this.focused = Callbacks();\r\n        this._initAdapter();\r\n        this._validationInfo = {\r\n            result: null,\r\n            deferred: null,\r\n            skipValidation: false\r\n        }\r\n    },\r\n    _initGroupRegistration() {\r\n        var group = this._findGroup();\r\n        if (!this._groupWasInit) {\r\n            this.on(\"disposing\", (function(args) {\r\n                ValidationEngine.removeRegisteredValidator(args.component._validationGroup, args.component)\r\n            }))\r\n        }\r\n        if (!this._groupWasInit || this._validationGroup !== group) {\r\n            ValidationEngine.removeRegisteredValidator(this._validationGroup, this);\r\n            this._groupWasInit = true;\r\n            this._validationGroup = group;\r\n            ValidationEngine.registerValidatorInGroup(group, this)\r\n        }\r\n    },\r\n    _setOptionsByReference() {\r\n        this.callBase();\r\n        extend(this._optionsByReference, {\r\n            validationGroup: true\r\n        })\r\n    },\r\n    _getEditor() {\r\n        var element = this.$element()[0];\r\n        return elementData(element, \"dx-validation-target\")\r\n    },\r\n    _initAdapter() {\r\n        var dxStandardEditor = this._getEditor();\r\n        var adapter = this.option(\"adapter\");\r\n        if (!adapter) {\r\n            if (dxStandardEditor) {\r\n                adapter = new DefaultAdapter(dxStandardEditor, this);\r\n                adapter.validationRequestsCallbacks.push(args => {\r\n                    if (this._validationInfo.skipValidation) {\r\n                        return\r\n                    }\r\n                    this.validate(args)\r\n                });\r\n                this.option(\"adapter\", adapter);\r\n                return\r\n            }\r\n            throw errors.Error(\"E0120\")\r\n        }\r\n        var callbacks = adapter.validationRequestsCallbacks;\r\n        if (callbacks) {\r\n            callbacks.push(args => {\r\n                this.validate(args)\r\n            })\r\n        }\r\n    },\r\n    _toggleRTLDirection(isRtl) {\r\n        var _this$option$editor$o, _this$option, _this$option$editor;\r\n        var rtlEnabled = null !== (_this$option$editor$o = null === (_this$option = this.option(\"adapter\")) || void 0 === _this$option ? void 0 : null === (_this$option$editor = _this$option.editor) || void 0 === _this$option$editor ? void 0 : _this$option$editor.option(\"rtlEnabled\")) && void 0 !== _this$option$editor$o ? _this$option$editor$o : isRtl;\r\n        this.callBase(rtlEnabled)\r\n    },\r\n    _initMarkup() {\r\n        this.$element().addClass(VALIDATOR_CLASS);\r\n        this.callBase()\r\n    },\r\n    _render() {\r\n        this.callBase();\r\n        this._toggleAccessibilityAttributes()\r\n    },\r\n    _toggleAccessibilityAttributes() {\r\n        var dxStandardEditor = this._getEditor();\r\n        if (dxStandardEditor) {\r\n            var rules = this.option(\"validationRules\") || [];\r\n            var isRequired = rules.some(_ref => {\r\n                var {\r\n                    type: type\r\n                } = _ref;\r\n                return \"required\" === type\r\n            }) || null;\r\n            if (dxStandardEditor.isInitialized()) {\r\n                dxStandardEditor.setAria(\"required\", isRequired)\r\n            }\r\n            dxStandardEditor.option(\"_onMarkupRendered\", () => {\r\n                dxStandardEditor.setAria(\"required\", isRequired)\r\n            })\r\n        }\r\n    },\r\n    _visibilityChanged(visible) {\r\n        if (visible) {\r\n            this._initGroupRegistration()\r\n        }\r\n    },\r\n    _optionChanged(args) {\r\n        switch (args.name) {\r\n            case \"validationGroup\":\r\n                this._initGroupRegistration();\r\n                return;\r\n            case \"validationRules\":\r\n                this._resetValidationRules();\r\n                this._toggleAccessibilityAttributes();\r\n                void 0 !== this.option(\"isValid\") && this.validate();\r\n                return;\r\n            case \"adapter\":\r\n                this._initAdapter();\r\n                break;\r\n            case \"isValid\":\r\n            case \"validationStatus\":\r\n                this.option(ValidationEngine.synchronizeValidationOptions(args, this.option()));\r\n                break;\r\n            default:\r\n                this.callBase(args)\r\n        }\r\n    },\r\n    _getValidationRules() {\r\n        if (!this._validationRules) {\r\n            this._validationRules = map(this.option(\"validationRules\"), (rule, index) => extend({}, rule, {\r\n                validator: this,\r\n                index: index\r\n            }))\r\n        }\r\n        return this._validationRules\r\n    },\r\n    _findGroup() {\r\n        var $element = this.$element();\r\n        return this.option(\"validationGroup\") || ValidationEngine.findGroup($element, this._modelByElement($element))\r\n    },\r\n    _resetValidationRules() {\r\n        delete this._validationRules\r\n    },\r\n    validate(args) {\r\n        var adapter = this.option(\"adapter\");\r\n        var name = this.option(\"name\");\r\n        var bypass = adapter.bypass && adapter.bypass();\r\n        var value = args && void 0 !== args.value ? args.value : adapter.getValue();\r\n        var currentError = adapter.getCurrentValidationError && adapter.getCurrentValidationError();\r\n        var rules = this._getValidationRules();\r\n        var currentResult = this._validationInfo && this._validationInfo.result;\r\n        if (currentResult && currentResult.status === VALIDATION_STATUS_PENDING && currentResult.value === value) {\r\n            return extend({}, currentResult)\r\n        }\r\n        var result;\r\n        if (bypass) {\r\n            result = {\r\n                isValid: true,\r\n                status: VALIDATION_STATUS_VALID\r\n            }\r\n        } else if (currentError && currentError.editorSpecific) {\r\n            currentError.validator = this;\r\n            result = {\r\n                isValid: false,\r\n                status: VALIDATION_STATUS_INVALID,\r\n                brokenRule: currentError,\r\n                brokenRules: [currentError]\r\n            }\r\n        } else {\r\n            result = ValidationEngine.validate(value, rules, name)\r\n        }\r\n        result.id = (new Guid).toString();\r\n        this._applyValidationResult(result, adapter);\r\n        result.complete && result.complete.then(res => {\r\n            if (res.id === this._validationInfo.result.id) {\r\n                this._applyValidationResult(res, adapter)\r\n            }\r\n        });\r\n        return extend({}, this._validationInfo.result)\r\n    },\r\n    reset() {\r\n        var adapter = this.option(\"adapter\");\r\n        var result = {\r\n            id: null,\r\n            isValid: true,\r\n            brokenRule: null,\r\n            brokenRules: null,\r\n            pendingRules: null,\r\n            status: VALIDATION_STATUS_VALID,\r\n            complete: null\r\n        };\r\n        this._validationInfo.skipValidation = true;\r\n        adapter.reset();\r\n        this._validationInfo.skipValidation = false;\r\n        this._resetValidationRules();\r\n        this._applyValidationResult(result, adapter)\r\n    },\r\n    _updateValidationResult(result) {\r\n        if (!this._validationInfo.result || this._validationInfo.result.id !== result.id) {\r\n            var complete = this._validationInfo.deferred && this._validationInfo.result.complete;\r\n            this._validationInfo.result = extend({}, result, {\r\n                complete: complete\r\n            })\r\n        } else {\r\n            for (var prop in result) {\r\n                if (\"id\" !== prop && \"complete\" !== prop) {\r\n                    this._validationInfo.result[prop] = result[prop]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    _applyValidationResult(result, adapter) {\r\n        var validatedAction = this._createActionByOption(\"onValidated\", {\r\n            excludeValidators: [\"readOnly\"]\r\n        });\r\n        result.validator = this;\r\n        this._updateValidationResult(result);\r\n        adapter.applyValidationResults && adapter.applyValidationResults(this._validationInfo.result);\r\n        this.option({\r\n            validationStatus: this._validationInfo.result.status\r\n        });\r\n        if (this._validationInfo.result.status === VALIDATION_STATUS_PENDING) {\r\n            if (!this._validationInfo.deferred) {\r\n                this._validationInfo.deferred = new Deferred;\r\n                this._validationInfo.result.complete = this._validationInfo.deferred.promise()\r\n            }\r\n            this._eventsStrategy.fireEvent(\"validating\", [this._validationInfo.result]);\r\n            return\r\n        }\r\n        if (this._validationInfo.result.status !== VALIDATION_STATUS_PENDING) {\r\n            validatedAction(result);\r\n            if (this._validationInfo.deferred) {\r\n                this._validationInfo.deferred.resolve(result);\r\n                this._validationInfo.deferred = null\r\n            }\r\n        }\r\n    },\r\n    focus() {\r\n        var adapter = this.option(\"adapter\");\r\n        adapter && adapter.focus && adapter.focus()\r\n    },\r\n    _useTemplates: function() {\r\n        return false\r\n    }\r\n});\r\nregisterComponent(\"dxValidator\", Validator);\r\nexport default Validator;\r\n"],"names":["$","target","stat","MAX_SAFE_INTEGER","createHTML","forcedStringHTMLMethod","proto","forced","bold","this","fixed","italics","__importDefault","mod","__esModule","Object","defineProperty","exports","value","DxLookup","DxLoadPanel","DxLabel","DxKeyboardNavigation","DxItem","DxHide","DxHeaderFilter","DxGroupPanel","DxGroupOperationDescriptions","DxGroupItem","DxGroupingTexts","DxGrouping","DxFrom","DxFormItem","DxFormat","DxForm","DxFilterRow","DxFilterPanelTexts","DxFilterPanel","DxFilterOperationDescriptions","DxFilterBuilderPopup","DxFilterBuilder","DxFieldLookup","DxField","DxExportTexts","DxExport","DxEmailRule","DxEditingTexts","DxEditing","DxDataGridHeaderFilterTexts","DxDataGridHeaderFilter","DxCustomRule","DxCustomOperation","DxCursorOffset","DxCompareRule","DxColumnLookup","DxColumnHeaderFilter","DxColumnFixingTexts","DxColumnFixing","DxColumnChooser","DxColumn","DxCollision","DxColCountByScreen","DxChange","DxButton","DxBoundaryOffset","DxAt","DxAsyncRule","DxAnimation","DxDataGrid","DxValueFormat","DxValidationRule","DxTotalItem","DxToolbarItem","DxToolbar","DxTo","DxTexts","DxSummaryTexts","DxSummary","DxStringLengthRule","DxStateStoring","DxSorting","DxSortByGroupSummaryInfo","DxShow","DxSelection","DxSearchPanel","DxScrolling","DxRowDragging","DxRequiredRule","DxRemoteOperations","DxRangeRule","DxPosition","DxPopup","DxPatternRule","DxPaging","DxPager","DxOperationDescriptions","DxOffset","DxNumericRule","DxMy","DxMasterDetail","data_grid_1","require","index_1","index_2","createComponent","props","accessKey","String","activeStateEnabled","Boolean","allowColumnReordering","allowColumnResizing","autoNavigateToFocusedRow","cacheEnabled","cellHintEnabled","columnAutoWidth","columnChooser","columnFixing","columnHidingEnabled","columnMinWidth","Number","columnResizingMode","columns","Array","columnWidth","customizeColumns","Function","customizeExportData","dataRowTemplate","dataSource","dateSerializationFormat","disabled","editing","elementAttr","errorRowEnabled","export","filterBuilder","filterBuilderPopup","filterPanel","filterRow","filterSyncEnabled","filterValue","focusedColumnIndex","focusedRowEnabled","focusedRowIndex","focusedRowKey","focusStateEnabled","grouping","groupPanel","headerFilter","height","highlightChanges","hint","hoverStateEnabled","keyboardNavigation","keyExpr","loadPanel","masterDetail","noDataText","onAdaptiveDetailRowPreparing","onCellClick","onCellDblClick","onCellHoverChanged","onCellPrepared","onContentReady","onContextMenuPreparing","onDataErrorOccurred","onDisposing","onEditCanceled","onEditCanceling","onEditingStart","onEditorPrepared","onEditorPreparing","onExported","onExporting","onFileSaving","onFocusedCellChanged","onFocusedCellChanging","onFocusedRowChanged","onFocusedRowChanging","onInitialized","onInitNewRow","onKeyDown","onOptionChanged","onRowClick","onRowCollapsed","onRowCollapsing","onRowDblClick","onRowExpanded","onRowExpanding","onRowInserted","onRowInserting","onRowPrepared","onRowRemoved","onRowRemoving","onRowUpdated","onRowUpdating","onRowValidating","onSaved","onSaving","onSelectionChanged","onToolbarPreparing","pager","paging","remoteOperations","renderAsync","repaintChangesOnly","rowAlternationEnabled","rowDragging","rowTemplate","rtlEnabled","scrolling","searchPanel","selectedRowKeys","selection","selectionFilter","showBorders","showColumnHeaders","showColumnLines","showRowLines","sortByGroupSummaryInfo","sorting","stateStoring","summary","tabIndex","toolbar","twoWayBindingEnabled","visible","width","wordWrapEnabled","emits","computed","instance","$_instance","beforeCreate","$_WidgetClass","$_hasAsyncTemplate","$_expectedChildren","column","isCollectionItem","optionName","dataGridHeaderFilter","createConfigurationComponent","hide","show","$_optionName","ignoreEmptyValue","message","reevaluate","type","validationCallback","$_isCollectionItem","$_predefinedProps","x","y","cssClass","icon","name","onClick","template","text","data","insertAfterKey","insertBeforeKey","lg","md","sm","xs","alignment","allowEditing","allowExporting","allowFiltering","allowFixing","allowGrouping","allowHeaderFiltering","allowHiding","allowReordering","allowResizing","allowSearch","allowSorting","autoExpandGroup","buttons","calculateCellValue","calculateDisplayValue","calculateFilterExpression","calculateGroupValue","calculateSortValue","caption","cellTemplate","customizeText","dataField","dataType","editCellTemplate","editorOptions","encodeHtml","falseText","filterOperations","filterType","filterValues","fixedPosition","format","formItem","groupCellTemplate","grouped","groupIndex","headerCellTemplate","hidingPriority","isBand","lookup","minWidth","ownerBand","resized","selectedFilterOperation","setCellValue","showEditorAlways","showInColumnChooser","showWhenGrouped","sortIndex","sortingMethod","sortOrder","trueText","validationRules","visibleIndex","AsyncRule","button","columnHeaderFilter","columnLookup","CompareRule","CustomRule","EmailRule","NumericRule","PatternRule","RangeRule","RequiredRule","StringLengthRule","validationRule","emptyPanelText","enabled","mode","searchTimeout","title","texts","columnFixingTexts","fix","leftPosition","rightPosition","unfix","groupInterval","searchMode","allowClearing","displayExpr","valueExpr","comparisonTarget","comparisonType","dataTypes","editorTemplate","hasValue","dataGridHeaderFilterTexts","cancel","emptyValue","ok","allowAdding","allowDeleting","allowUpdating","changes","confirmDelete","editColumnName","editRowKey","form","newRowPosition","popup","refreshMode","selectTextOnEditStart","startEditAction","useIcons","change","editingTexts","addRow","cancelAllChanges","cancelRowChanges","confirmDeleteMessage","confirmDeleteTitle","deleteRow","editRow","saveAllChanges","saveRowChanges","undeleteRow","validationCancelChanges","allowExportSelectedData","customizeExcelCell","excelFilterEnabled","excelWrapTextEnabled","fileName","ignoreExcelErrors","proxyUrl","exportTexts","exportAll","exportSelectedRows","exportTo","defaultFilterOperation","fieldLookup","allowHierarchicalFields","bindingOptions","customOperations","fields","filterOperationDescriptions","groupOperationDescriptions","groupOperations","maxGroupLevel","onFocusIn","onFocusOut","onValueChanged","customOperation","field","animation","closeOnOutsideClick","container","contentTemplate","copyRootClassesToWrapper","deferRendering","dragAndResizeArea","dragEnabled","dragOutsideBoundary","fullScreen","hideOnParentScroll","maxHeight","maxWidth","minHeight","onHidden","onHiding","onResize","onResizeEnd","onResizeStart","onShowing","onShown","onTitleRendered","position","resizeEnabled","restorePosition","shading","shadingColor","showCloseButton","showTitle","titleTemplate","toolbarItems","wrapperAttr","between","contains","endsWith","equal","greaterThan","greaterThanOrEqual","isBlank","isNotBlank","lessThan","lessThanOrEqual","notContains","notEqual","startsWith","filterEnabled","filterPanelTexts","clearFilter","createFilter","filterEnabledHint","applyFilter","applyFilterText","betweenEndText","betweenStartText","operationDescriptions","resetOperationText","showAllText","showOperationChooser","alignItemLabels","alignItemLabelsInAllGroups","colCount","colCountByScreen","customizeItem","formData","items","labelLocation","labelMode","minColWidth","onEditorEnterKey","onFieldDataChanged","optionalMark","readOnly","requiredMark","requiredMessage","screenByWidth","scrollingEnabled","showColonAfterLabel","showOptionalMark","showRequiredMark","showValidationSummary","validationGroup","currency","formatter","parser","precision","colSpan","editorType","helpText","isRequired","itemType","label","left","opacity","scale","top","allowCollapsing","autoExpandAll","contextMenuEnabled","expandMode","groupingTexts","groupByThisColumn","groupContinuedMessage","groupContinuesMessage","ungroup","ungroupAll","alignByColumn","displayFormat","showInColumn","showInGroupFooter","skipEmptyValues","summaryType","valueFormat","and","notAnd","notOr","or","allowColumnDragging","complete","delay","direction","duration","easing","from","staggerDelay","start","to","html","locateInMenu","location","menuItemTemplate","options","showText","widget","editOnKeyPress","enterKeyAction","enterKeyDirection","showColon","indicatorSrc","showIndicator","showPane","allowedPageSizes","displayMode","infoText","showInfo","showNavigationButtons","showPageSizeSelector","pageIndex","pageSize","pattern","toolbarItem","at","boundary","boundaryOffset","collision","my","of","offset","max","min","filtering","groupPaging","trim","allowDropInsideItem","autoScroll","cursorOffset","dragDirection","dragTemplate","dropFeedbackMode","filter","group","handle","onAdd","onDragChange","onDragEnd","onDragMove","onDragStart","onRemove","onReorder","scrollSensitivity","scrollSpeed","showDragIcons","columnRenderingMode","preloadEnabled","rowRenderingMode","scrollByContent","scrollByThumb","showScrollbar","useNative","highlightCaseSensitive","highlightSearchText","placeholder","searchVisibleColumnsOnly","allowSelectAll","deferred","maxFilterLengthInRequest","selectAllMode","showCheckBoxesMode","groupColumn","summaryItem","ascendingText","clearText","descendingText","showSortIndexes","customLoad","customSave","savingTimeout","storageKey","calculateCustomSummary","groupItems","recalculateWhileEditing","totalItems","groupItem","summaryTexts","totalItem","avg","avgOtherColumn","count","maxOtherColumn","minOtherColumn","sum","sumOtherColumn","item","dependencyInjector","_format","formatIsValid","isString","isPlainObject","isFunction","valueIsValid","isNumeric","isDate","numberLocalization","dateLocalization","isDefined","toString","getTimeFormat","showSecond","_normalizeFormat","isArray","length","date","map","formatPart","join","getDateFormatByDifferences","dateDifferences","intervalFormat","resultFormat","needSpecialSecondFormatter","millisecond","year","month","day","push","getSeconds","getMilliseconds","hour","minute","second","unshift","quarter","getMonth","getDateFormatByTicks","ticks","maxDiff","currentDiff","i","dateUtils","getHours","getMinutes","getDateFormatByTickInterval","startValue","endValue","tickInterval","dateUnitInterval","correctDateDifferences","toLowerCase","differences","minDate","maxDate","getDate","getFullYear","week","LANGUAGE_CODES","ar","bg","ca","cs","da","de","el","en","es","fi","fr","he","hu","is","it","ja","ko","nl","no","pl","pt","rm","ro","ru","hr","sk","sq","sv","th","tr","ur","id","uk","be","sl","et","lv","lt","tg","fa","vi","hy","az","eu","hsb","mk","tn","xh","zu","af","ka","fo","hi","mt","se","ga","ms","kk","ky","sw","tk","uz","tt","bn","pa","gu","ta","te","kn","ml","as","mr","sa","mn","bo","cy","km","lo","gl","kok","syr","si","iu","am","tzm","ne","fy","ps","fil","dv","ha","yo","quz","nso","ba","lb","kl","ig","ii","arn","moh","br","ug","mi","oc","co","gsw","sah","qut","rw","wo","prs","gd","smn","sms","zh","nn","bs","sma","nb","sr","dsb","smj","getLanguageId","localizationCoreUtils","WIDGET_WITH_LEGACY_CONTAINER_NAME","ModuleItem","Class","_endUpdateCore","ctor","component","that","_updateLockCount","_actions","_actionConfigs","each","callbackNames","index","flags","callbackFlags","unique","syncStrategy","Callbacks","init","publicMethods","beginUpdate","endUpdate","option","optionCache","_optionCache","arguments","apply","_silentOption","_setOptionWithoutOptionChange","localize","messageLocalization","on","off","optionChanged","args","createAction","handled","getAction","actionName","setAria","$target","get","prefix","setAttribute","attr","_createComponent","getController","_controllers","config","action","_createAction","bind","e","event","_createActionByOption","executeAction","dispose","empty","addWidgetPrefix","className","componentName","NAME","slice","getWidgetContainerClass","containerName","Controller","ViewController","inherit","getView","_views","getViews","View","_isReady","isReady","callBase","_requireReady","_requireRender","_requireResize","render","_$parent","_invalidate","requireResize","requireReady","hasWindow","_renderCore","_resizeCore","_parentElement","renderCompleted","resizeCompleted","element","_$element","getElementHeight","$element","marginTop","parseFloat","css","marginBottom","offsetHeight","isVisible","getTemplate","_getTemplate","$parent","appendTo","toggleClass","fire","resize","isResizing","focus","eventsEngine","MODULES_ORDER_MAX_INDEX","processModules","componentClass","modules","modulesOrder","controllerTypes","viewTypes","sort","module1","module2","orderIndex1","inArray","orderIndex2","controllers","moduleName","views","errors","subclassOf","extenders","extender","createModuleItems","moduleTypes","moduleItems","moduleType","moduleItem","methodName","callModuleItemsMethod","registerModule","module","registerModulesOrder","moduleNames","unregisterModule","grep","_extends","gridCoreUtils","DBLCLICK_EVENT_NAME","DBLCLICK_NAMESPACE","NAMESPACED_CLICK_EVENT","addNamespace","clickEventName","DBLCLICK_TIMEOUT","DblClick","_handlerCount","_forgetLastClick","_firstClickTarget","_lastClickTimeStamp","add","domAdapter","_clickHandler","timeStamp","Date","now","timeBetweenClicks","isSimulated","isDouble","fireEvent","closestCommonParent","originalEvent","remove","registerEvent","COLUMN_INDICATORS_CLASS","GROUP_PANEL_ITEM_CLASS","_applyColumnState","_that$component","columnAlignment","_getColumnAlignment","parameters","extend","isGroupPanelItem","rootElement","hasClass","$indicatorsContainer","_createIndicatorContainer","$span","addClass","_getIndicatorClassName","columnsController","indicatorAlignment","getHeaderContentAlignment","indicator","_renderIndicator","noop","getDefaultAlignment","ignoreIndicatorAlignment","_getIndicatorContainer","$cell","find","_getIndicatorElements","$indicatorContainer","children","$container","$indicator","append","_updateIndicators","indicatorName","getColumns","$cells","getColumnElements","eq","_updateIndicator","rowOptions","parent","cells","command","SCROLL_CONTAINER_CLASS","SCROLLABLE_SIMULATED_CLASS","GROUP_SPACE_CLASS","CONTENT_CLASS","TABLE_CLASS","TABLE_FIXED_CLASS","CONTENT_FIXED_CLASS","ROW_CLASS","GROUP_ROW_CLASS","GROUP_CELL_CLASS","DETAIL_ROW_CLASS","FILTER_ROW_CLASS","ERROR_ROW_CLASS","CELL_UPDATED_ANIMATION_CLASS","HIDDEN_COLUMNS_WIDTH","CELL_HINT_VISIBLE","FORM_FIELD_ITEM_CONTENT_CLASS","appendElementTemplate","content","subscribeToRowEvents","$table","touchTarget","touchCurrentTarget","timeoutId","clearTouchTargets","timeout","setTimeout","clearTimeout","currentTarget","dblclickEvent","pointerEvents","_isNativeClick","closest","rowIndex","getRowIndex","rowElement","getPublicElement","_rowPointerDown","_rowClick","_rowDblClick","getWidthStyle","setCellWidth","cell","style","copyAttributes","newElement","oldAttributes","attributes","newAttributes","nodeName","hasAttribute","removeAttribute","nodeValue","ColumnsView","columnStateMixin","_createScrollableOptions","scrollingOptions","useNativeScrolling","bounceEnabled","useKeyboard","useSimulatedScrollbar","_updateCell","rowType","_cellPrepared","_createCell","textAlign","headerId","colspan","visibleWidth","_createRow","rowObject","tagName","concat","_isAltRow","row","dataIndex","_createTable","isAppend","_createColGroup","browser","ctrlKey","preventDefault","$row","isDataRow","isHeaderRow","isGroupRow","isMasterDetailRow","isFilterRow","visibleColumns","_columnsController","getVisibleColumns","columnIndex","cellOptions","removeAttr","difference","scrollWidth","clientWidth","getOptions","$fieldItemContent","delegateTarget","resultOptions","cellElement","eventType","formItemOptions","getVisibleIndex","colgroupElement","j","_createCol","col","setWidth","renderDelayedTemplates","delayedTemplates","_delayedTemplates","syncTemplates","async","asyncTemplates","_renderDelayedTemplatesCore","_renderDelayedTemplatesCoreAsync","templates","getWindow","isAsync","templateParameters","shift","doc","_processTemplate","renderingTemplate","isRenderer","allowRenderToDetachedContainer","model","resolve","renderedTemplate","nodeType","templateID","_templatesCache","renderTemplate","templateDeferred","Deferred","templateOptions","onRendered","templateDeferreds","reject","promise","_getBodies","tableElement","not","_wrapRowIfNeed","hasDataRowTemplate","$tBodies","_tableElement","$tbody","_appendRow","appendTemplate","scrollLeft","_scrollLeft","scrollTo","$root","_renderTable","changeType","_renderRows","rows","_getRows","columnIndices","changeTypes","_renderRow","$wrappedRow","_renderCells","_addWatchMethod","_rowPrepared","_needRenderCell","indexOf","_renderCell","values","oldValue","oldValues","_updateCells","$rowElement","$newRowElement","$newCells","cellUpdatedClass","forEach","$newCell","replaceWith","_setCellAriaAttributes","columnIndexOffset","getColumnIndexOffset","ariaColIndex","_getCellOptions","cellIndex","findIndex","_renderCellContent","appendChild","_getCellTemplate","when","done","isAltRow","source","watchers","watch","getter","updateValueFunc","updateRowFunc","watcher","newValue","JSON","stringify","splice","update","keepRow","isExpanded","elementData","_columnOptionChanged","optionNames","widths","iteratorUtils","setColumnWidths","getCellIndex","getTableElements","getTableElement","setTableElement","_dataController","excludeValidators","category","afterExecute","_afterRowPrepared","columnsChanged","changed","_handleDataChanged","_updateScrollLeftPosition","pos","$scrollContainer","_wrapTableInScrollContainer","nativeScrolling","scrollChanged","_updateContent","$newTableElement","_findContentElement","_getWidths","$cellElements","result","offsetWidth","getBoundingClientRect","clientRect","getBoundingRect","getColumnWidths","$tableElement","$rows","isRowVisible","display","getVisibleColumnIndex","_ref","$cols","classList","querySelector","toFixed","getCellElements","_getCellElementsCore","_getRowElements","_getCellElement","columnIdentifier","columnVisibleIndex","_getVisibleColumnIndex","_getRowElement","$tableElements","_","getCellElement","getRowElement","elements","columnOption","getCell","cellPosition","getRowsCount","_getRowElementsCore","hasRowTemplate","tBodies","getName","setScrollerSpacing","paddingLeft","paddingRight","isScrollbarVisible","isHorizontal","getOuterWidth","getWidth","getOuterHeight","getHeight","FOCUS_STATE_CLASS","FOCUS_DISABLED_CLASS","FOCUSED_ROW_SELECTOR","GRID_ROW_SELECTOR","GRID_CELL_SELECTOR","TREELIST_ROW_SELECTOR","TREELIST_CELL_SELECTOR","viewItemSelectorMap","columnHeaders","rowsView","footer","isMouseDown","isHiddenFocusing","focusedElementInfo","processKeyDown","viewName","$mainElement","executeKeyDown","isHandled","fireKeyDownEvent","keyName","normalizeKeyName","saveFocusedElementInfo","selectView","ariaLabel","$activeElements","getActiveAccessibleElements","targetIndex","viewInstance","viewElement","$viewElement","findFocusedViewElement","viewSelectors","selector","$focusViewElement","first","onDocumentVisibilityChange","visibilityState","subscribeVisibilityChange","unsubscribeVisibilityChange","hiddenFocus","registerKeyboardAction","getMainElement","keyDownHandler","mouseDownHandler","removeClass","focusinHandler","needShowOverlay","restoreFocus","$targetElement","viewNames","keys","viewItemIndex","_viewName","setTabIndex","keyboardController","isKeyboardEnabled","accessibility","CELL_CONTENT_CLASS","HEADERS_CLASS","NOWRAP_CLASS","ROW_CLASS_SELECTOR","HEADER_ROW_CLASS","COLUMN_LINES_CLASS","CONTEXT_MENU_SORT_ASC_ICON","CONTEXT_MENU_SORT_DESC_ICON","CONTEXT_MENU_SORT_NONE_ICON","CELL_FOCUS_DISABLED_CLASS","VISIBILITY_HIDDEN_CLASS","TEXT_CONTENT_ALIGNMENT_CLASS_PREFIX","SORT_INDICATOR_CLASS","SORT_INDEX_INDICATOR_CLASS","HEADER_FILTER_CLASS_SELECTOR","HEADER_FILTER_INDICATOR_CLASS","MULTI_ROW_HEADER_CLASS","columnHeadersModule","defaultOptions","columnHeadersView","createCellContent","$cellContent","addCssClassesToCellContent","contentAlignment","$indicatorElements","$visibleIndicatorElements","indicatorCount","sortIndicatorClassName","sortIndexIndicatorClassName","$sortIndicator","$sortIndexIndicator","shiftKey","_isLegacyKeyboardNavigation","_getDefaultTemplate","$content","_getHeaderTemplate","resultTemplate","_isGroupingChanged","_handleActionKeyDown","_lastActionElement","headerFilterController","$column","getColumnIndexByElement","showHeaderFilterMenu","_processHeaderAction","isLoaded","_hasRowElements","getRowCount","_getRowVisibleColumns","$cellElement","rowspan","rowCount","groupExpanding","_isElementVisible","elementOptions","_alignCaptionByCenter","clone","insertBefore","$indicatorElement","returnAll","_isSortableElement","getHeadersRowHeight","$headerRows","toArray","reduce","headerRow","getHeaderElement","columnElements","bandColumnIndex","getChildrenByBandColumn","$columnElements","allowDragging","sourceLocation","draggingPanels","draggableColumnCount","canHideColumn","allowDrag","isColumnOptionUsed","draggingPanel","getColumnCount","getContextMenuItems","sortingOptions","onItemClick","params","changeSortOrder","itemData","setRowsOpacity","columnID","setColumnOpacity","gridCore","USER_STATE_FIELD_NAMES_15_1","USER_STATE_FIELD_NAMES","IGNORE_COLUMN_OPTION_NAMES","bestFitWidth","bufferedFilterValue","COMMAND_EXPAND_CLASS","GROUP_COMMAND_COLUMN_NAME","regExp","globalColumnId","columnsControllerModule","commonColumnSettings","adaptColumnWidthByRatio","regenerateColumnsByVisibleItems","DEFAULT_COLUMN_OPTIONS","DATATYPE_OPERATIONS","number","string","datetime","COLUMN_INDEX_OPTIONS","setFilterOperationsAsDefaultValues","defaultFilterOperations","createColumn","columnOptions","userStateColumnOptions","bandColumn","commonColumnOptions","setName","deepExtendArraySafe","getCommonSettings","calculatedColumnOptions","_createCalculatedColumnOptions","createColumnsFromOptions","columnsOptions","_columnsUserState","checkUserStateColumn","hasColumns","getParentBandColumns","columnParentByIndex","_getChildrenByBandColumn","columnChildrenByIndex","recursive","getColumnFullPath","bandColumnsCache","getBandColumnsCache","callbackFilter","isPlain","_columns","calculateColspan","getValueDataType","getSerializationFormat","dateSerialization","updateSerializers","deserializeValue","serializeValue","serializationFormat","parsedValue","isNaN","customizeTextForBooleanDataType","valueText","getCustomizeTextByDataType","updateColumnIndexes","isObject","_commandColumns","updateColumnGroupIndexes","currentColumn","normalizeIndexes","getColumnIndexByVisibleIndex","getGroupColumns","getChooserColumns","userStateColumn","applyUserState","userStateColumnIndex","columnsUserState","ignoreColumnOptionNames","_ignoreColumnOptionNames","columnCountById","resultColumns","allColumnsHaveState","userStateColumnIndexes","applyFieldsState","fieldName","defaultSelectedFilterOperation","findUserStateColumn","_hasUserState","initialIndex","hasAddedBands","columnUserState","added","assignColumns","updateIndexes","isSortOrderValid","resetBandColumnsCache","key","bandColumns","parentBandColumns","resetColumnsCache","updateColumnDataTypes","updateColumnChanges","columnChanges","_columnChanges","split","fireColumnsChanged","onColumnsChanging","reinitOptionNames","isInitialized","some","reinit","updateSortOrderWhenGrouping","prevGroupIndex","columnWasGrouped","lastSortOrder","sortMode","sortedByAnotherColumn","fireOptionChanged","prevValue","fullOptionName","fullOptionPath","_skipProcessingColumnsChange","_notifyOptionChanged","columnOptionCore","notFireEvent","initialColumn","optionGetter","compileGetter","functionsAsIs","optionSetter","compileSetter","_checkColumns","getColumnByPath","defaultSetCellValue","path","dotCount","isCustomCommandColumn","commandColumn","getFixedPosition","processExpandColumns","expandColumns","customColumnIndex","expandColumnsByType","expandColumn","numberToString","digitsCount","str","mergeColumns","commandColumns","needToExtend","commandColumnIndex","isColumnFixing","_isColumnFixing","defaultCommandColumns","getCommandColumnIndex","columnType","isColumnFixed","_bandColumnsCache","findColumn","identifier","identifierOptionName","substr","_getExpandColumnOptions","_getFirstItems","groupsCount","getFirstItemsCore","childItems","collapsedItems","_isColumnsFromOptions","addCommandColumn","_dataSourceApplied","applyDataSource","_dataSource","columnIndexes","replace","parseInt","needUpdateRequireResize","previousValue","fullName","_updateRequireResize","columnOptionValue","columnOptionName","forceApplying","isDataSourceLoaded","_dataSourceColumnsCount","columnsFromDataSource","firstItems","processedFields","variableWrapper","updateColumns","isAllDataTypesDefined","reset","_visibleColumns","_fixedColumns","_rowCount","getUserState","isDataSourceApplied","groupingOptions","groupPanelOptions","checkSerializers","defaultCalculateCellValue","isBandColumnsUsed","_getVisibleColumnsCore","getFixedColumns","_getFixedColumnsCore","getFilteringColumns","notFixedColumnCount","transparentColumnIndex","lastFixedPosition","transparentColumn","transparentColspan","prevColumn","newColumn","_getExpandColumnsCore","getExpandColumns","firstGroupColumn","isFixedFirstGroupColumn","parentIndex","_isColumnVisible","isParentColumnVisible","isFixedToEnd","rowspanGroupColumns","rowspanExpandColumns","positiveIndexedColumns","negativeIndexedColumns","notGroupedColumnsCount","columnDigitsCount","indexedColumns","orderEach","firstPositiveIndexColumn","columnsByFixing","columnsByVisibleIndex","call","getDataColumns","bandColumnID","getInvisibleColumns","hiddenColumnsByBand","getAllColumns","columnChooserColumns","sign","column1","column2","caption1","caption2","localeCompare","allowMoveColumn","fromVisibleIndex","toVisibleIndex","targetLocation","sourceColumn","moveColumn","targetGroupIndex","fromIndex","toIndex","groupColumns","Math","targetColumn","sortingMode","needResetSorting","getSortDataSourceParameters","useLocalSelector","sortColumns","sortItem","displayField","desc","compare","getGroupDataSourceParameters","refresh","updateNewLookupsOnly","deferreds","valueMap","_updateColumnOptions","calculateCallbackName","calculateCallback","originalCallback","context","displayValueMap","isRTL","isColumnDataTypesUpdated","lookupDataType","valueDataType","_customizeColumns","hasOwnerBand","updateSortingGrouping","sortParameters","groupParameters","filterParameters","lastLoadOptions","always","_updateChanges","dataController","getCombinedFilter","fromDataSource","isColumnsChanged","updateSortGroupParameterIndexes","indexParameterName","columnsGroupParameters","columnsSortParameters","groupingChanged","groupExpandingChanged","updateFilter","remoteFiltering","forceIsoDateParsing","columnCount","clearSorting","clearGrouping","getVisibleIndexByColumn","visibleColumn","addColumn","deleteColumn","childIndexes","handleStateField","setUserState","state","isFilterPanelHidden","usedNames","hasEditableColumnWithoutName","duplicatedNames","_column$columns","isEditable","captionize","skipDeserialization","parseValue","formattedValue","formattedValueWithDefaultFormat","filterUtils","createFilterExpression","userDataType","updateValueMap","calculateValue","displayValue","Store","dataSourceOptions","normalizeDataSourceOptions","paginate","DataSource","load","resizedCallbacks","defaultOptionName","charAt","toUpperCase","parents","invisibleParents","alwaysGetRowIndex","onlyVisibleDirectChildren","isParentBandColumn","getColumnId","cloneItems","groupCount","calculateOperationTypes","loadOptions","isFullReload","operationTypes","reload","fullReload","groupExpand","skip","take","getPageDataFromCache","updatePaging","storeLoadOptions","fillItemsFromCache","cacheItemsFromBegin","cacheItemBeginCount","cacheItemsFromEnd","_options$skip2","_options$take2","cacheItemEndCount","cachedDataPartBegin","cachedDataPartEnd","reverse","fromEnd","_options$take","_options$cachedData","cachedItems","cachedData","_ref2","_options$skip","localIndex","cacheItemIndex","cacheItem","getItemFromCache","skips","takes","getGroupItemFromCache","isContinuation","isContinuationOnNextPage","childCacheItem","isLast","getCacheItem","loadedItem","globalIndex","childSkips","_remoteOperations","_isLastPage","isLastPage","_hasLastPage","_currentTotalCount","_cachedData","_lastOperationTypes","_eventsStrategy","_totalCountCorrection","_isLoadingAll","loadingChanged","loadError","customizeStoreLoadOptions","changing","pushed","_dataChangedHandler","_customizeStoreLoadOptionsHandler","_handleCustomizeStoreLoadOptions","_dataLoadedHandler","_handleDataLoaded","_loadingChangedHandler","_handleLoadingChanged","_loadErrorHandler","_handleLoadError","_pushHandler","_handlePush","_changingHandler","_handleChanging","store","memberName","member","isSharedDataSource","resetCurrentTotalCount","resetCache","_cachedStoreData","_cachedPagingData","resetPagesCache","_needClearStoreDataCache","_lastLoadOptions","isLocalOperations","every","operationName","fromStore","applyBatch","keyInfo","_applyBatch","getDataIndexGetter","_dataIndexGetter","indexByKey","storeData","isCacheUpdated","getKeyHash","keyOf","_getKeyInfo","totalCount","isVirtualMode","getItemCount","itemsCount","oldItemCount","_items","useInsertIndex","_ref5","_needCleanCacheByOperation","operationType","operationTypesByOrder","operationTypeIndex","currentOperationTypes","_customizeRemoteOperations","cachedStoreData","cachedPagingData","isCustomLoading","_options$data","_handleDataLoading","originalStoreLoadOptions","_isRefreshing","isRefreshing","_loadingOperationTypes","_isRefreshed","_lastOperationId","operationId","fail","_handleDataLoadingCore","cachedExtra","extra","localLoadOptionNames","requireTotalCount","optionValue","localPaging","needCache","needPageCache","needPagingCache","needStoreCache","mergeStoreLoadData","ArrayStore","error","_handleDataLoadedCore","_ref3","_options$skip3","_ref4","_options$take3","cacheItems","isLoading","_loadPageSize","currentTotalCount","isDataLoading","pageCount","_operationTypes","_scheduleCustomLoadCallbacks","_isCustomLoading","loadingOperationTypes","_dataSourceTotalCount","totalCountCorrection","totalItemsCount","ceil","hasKnownLastPage","loadFromStore","d","dataSourceLoadOptions","loadResult","_customLoadOptions","isLoadingAll","_scheduleLoadCallbacks","executeAsync","full","getCachedStoreData","dataSourceAdapterType","DataSourceAdapter","create","dataControllerModule","loadingTimeout","include","DataHelperMixin","changePaging","_getPagingOptionValue","_skipProcessingPagingChange","pageChanged","members","_cachedProcessedItems","_currentOperationTypes","_columnsChangedHandler","_handleColumnsChanged","_dataPushedHandler","_handleDataPushed","_isLoading","_repaintChangesOnly","_changes","dataErrorOccurred","_refreshDataSource","stopOnFalse","_handleDataSourceChange","_this$_dataSource","isValueChanged","_array","isParasiteChange","_setPagingOptions","_useSortingGroupingFromColumns","getDataSource","returnDataField","combinedFilter","additionalFilter","_calculateAdditionalFilter","waitReady","_readyDeferred","updateItems","_storeLoadOptions$fil","_columnsUpdating","filterApplied","_applyFilter","_needApplyFilter","updateItemsHandler","virtualColumnsScrolling","isAsyncDataSourceApplying","_isDataSourceApplying","isDelayed","needApplyFilter","_isAllDataTypesDefined","_fireLoadingChanged","fireError","pagingEnabled","scrollingMode","appendMode","virtualMode","isChanged","_getSpecificDataSourceOption","_initDataSource","oldDataSource","setDataSource","_loadDataSource","_beforeProcessItems","getRowIndexDelta","_processItems","rowIndexDelta","visibleItems","lastVisibleItem","_processItem","_generateDataItem","_processDataItem","dataItem","generateDataValues","isModified","_applyChange","_applyChangeUpdate","_applyChangesOnly","_applyChangeFull","_getRowIndices","rowIndices","a","b","correctedRowIndex","allowInvisibleRowIndices","prevIndex","rowIndexCorrection","equalItems","item1","item2","strict","equalByValue","isEditing","oldItem","oldNextItem","newItem","newNextItem","isFullUpdate","_partialUpdateRow","_isCellChanged","oldRow","newRow","visibleRowIndex","isLiveUpdate","isCellModified","modifiedValues","_getChangedColumnIndices","_cell$column","_changedColumnIndices","changedColumnIndices","isCellChanged","_isItemEquals","_item1$data","_item2$data","_item1$data2","_item2$data2","expandedMatch","summaryCellsMatch","summaryCells","continuationMatch","newIndexByKey","getRowKey","currentItems","oldItems","findChanges","_correctRowIndices","oldRowIndexOffset","_rowIndexOffset","rowIndexOffset","getRowIndexOffset","newVisibleRowIndex","_afterProcessItems","_updateItemsCore","cachedProcessedItems","useProcessedItemsCache","loadIndex","getVisibleRows","isDataChanged","_change$repaintChange","needUpdateDimensions","_needUpdateDimensions","_fireChanged","deferRender","_loadingText","_isFilterApplying","resetFilterApplying","filterExpr","prototype","filterName","clearColumnOption","searchByText","_fireDataSourceChanged","changedHandler","dataSourceChanged","_getDataSourceAdapter","_createDataSourceAdapterCore","dataSourceAdapterProvider","dataSourceAdapter","isLocalStore","isCustomStore","CustomStore","_createDataSourceAdapter","enabledRemoteOperations","cancelAll","_isSharedDataSource","isEmpty","loadAll","getKeyByRowIndex","byLoaded","getRowIndexByKey","byKey","getDataByKeys","rowKeys","keyData","beginCustomLoading","messageText","endCustomLoading","changesOnly","customizeLoadResult","_disposeDataSource","repaintRows","rowIndexes","skipProcessingPagingChange","searchText","isLastPageLoaded","DataController","SORT_CLASS","SORT_NONE_CLASS","SORTUP_CLASS","SORTDOWN_CLASS","SORT_INDEX_CLASS","SORT_INDEX_ICON_CLASS","HEADERS_ACTION_CLASS","ariaSortState","isSortingAllowed","hasSeveralSortIndexes","prepend","COLUMN_HEADERS_VIEW_NAMESPACE","ColumnHeadersViewSortingExtender","sortingMixin","$cellElementFromEvent","editingController","editingMode","isCellEditing","isCommandKeyPressed","HeaderPanelSortingExtender","_createGroupPanelItem","$rootElement","$item","_processGroupItemAction","groupColumnIndex","sortingModule","headerPanel","ROWS_VIEW_CLASS","DATA_ROW_CLASS","FREE_SPACE_CLASS","ROW_LINES_CLASS","ROW_ALTERNATION_CLASS","LAST_ROW_BORDER","EMPTY_CLASS","ROW_INSERTED_ANIMATION_CLASS","LOADPANEL_HIDE_TIMEOUT","getMaxHorizontalScrollOffset","scrollable","round","rowsModule","defaultCellTemplate","isDataTextEmpty","textContent","innerHTML","_getDefaultGroupTemplate","summaryItems","_update","isGroup","isRowExpanded","_setAriaRowIndex","isPagerMode","arg","isNewRow","deep","skipImmediate","removeEvent","_renderScrollable","force","_loadPanel","_renderLoadPanel","getScrollable","allColumnsHasWidth","_hasHeight","_renderScrollableCore","_handleScroll","isNativeScrolling","_scrollTop","scrollOffset","_scrollRight","dxScrollableOptions","scrollHandler","onScroll","_scrollable","Scrollable","_scrollableContainer","_renderContent","contentElement","newTableElement","executors","rowInsertedClass","$rowsElement","toggle","insertAfter","last","prependTo","_createEmptyRow","isFixed","_appendEmptyRow","$emptyRow","isTableContainer","$colgroup","_renderFreeSpaceRow","$freeSpaceRowElement","_checkRowKeys","_needUpdateRowHeight","_rowHeight","_getRowsHeight","$rowElements","_updateRowHeight","rowsHeight","_getFreeSpaceRowElements","tableElements","_getNoDataText","evaluate","expr","_getColumnsCountBeforeGroups","_getGroupCellOptions","columnsCountBeforeGroups","_renderGroupedCells","groupCellOptions","groupColumnAlignment","updateFreeSpaceRowHeight","_renderDataRowByTemplate","resizeCompletedHandler","scrollableInstance","document","_visibilityChanged","_lastColumnWidths","groupingTextsOptions","_setRowsOpacityCore","_getDevicePixelRatio","devicePixelRatio","renderNoDataText","getCellOptions","getRow","itemCount","freeSpaceRowElements","isFreeSpaceRowVisible","deferUpdate","scrollbarWidth","getScrollbarWidth","elementHeightWithoutScrollbar","contentHeight","showFreeSpaceRow","borderTopWidth","heightCorrection","_getHeightCorrection","resultHeight","_updateLastRowBorder","freeSpaceRowCount","setHeight","isZoomedWebkit","isChromeLatest","hasExtraBorderTop","_fireColumnResizedCallbacks","_editorFactoryController","setLoading","contentWidth","scrollableContainer","clientHeight","lastColumnWidths","columnWidths","_updateScrollable","dxScrollable","_updateHorizontalScrollPosition","maxHorizontalScrollOffset","scrollRight","_height","hasHeight","loadPanelOptions","visibilityOptions","_hideLoadingTimeoutID","groupCellIndex","_getBoundaryVisibleItemIndex","isTop","isFloor","itemIndex","prevOffset","viewportBoundary","$contentElement","contentElementOffsetTop","rowElements","outerHeight","getTopVisibleItemIndex","getBottomVisibleItemIndex","getTopVisibleRowData","_scrollToElement","scrollToElement","_restoreErrorRow","DataConverter","_dataStructure","_itemsCount","_visibleItemsCount","_indexByKey","_convertItemsToNodes","parentKey","parentId","_getParentId","node","_convertItemToNode","_checkForDuplicateId","internalFields","_itemHasChildren","_dataAccessors","getters","_dataType","_getUniqueKey","keyGetter","itemKey","isCorrectKey","isPrimitive","getItemsCount","defaultValue","expanded","selected","_rootValue","_makeObjectFromPrimitive","childrenKeys","setChildrenKeys","getParentNode","setters","_convertToPublicNode","publicNode","convertToPublicNodes","publicNodes","_getByKey","setDataAccessors","accessors","getIndexByKey","getByKey","currentElementKey","getVisibleItemsCount","updateIndexByKey","updateChildrenKeys","removeChildrenKeys","createPlainStructure","rootValue","EXPANDED","SELECTED","DISABLED","uiSearchBoxMixin","TextBox","DataAdapter","_defaultOptions","dataConverter","dataAccessors","_selectedNodesKeys","_expandedNodesKeys","_createInternalDataStructure","getTreeNodes","setOption","_updateSelection","multipleSelection","recursiveSelection","recursiveExpansion","searchValue","HierarchicalDataConverter","onNodeChanged","_initialDataStructure","search","_updateExpansion","_setChildrenSelection","_setParentSelection","_updateNodesKeysArray","_updateOneBranch","_setParentExpansion","property","array","_getDataBySelectionMode","_isNodeVisible","toggleSelection","getData","getFullData","isSelected","_toggleChildrenSelection","_iterateParents","newParentState","_calculateSelectedState","_setFieldState","getNodeByKey","_iterateChildren","callback","processedKeys","nodeKey","child","selectedItemsCount","invisibleItemsCount","childNode","isChildInvisible","childState","_markChildren","_removeNode","counter","_addNode","_updateFields","getSelectedNodesKeys","getExpandedNodesKeys","getNodeByItem","getNodesByItems","nodes","getRootNodes","getPublicNode","getChildrenNodes","query","addItem","removeItem","selectRecursive","isSingleModeUnselect","_isSingleModeUnselect","selectionState","toggleNodeDisabledState","toggleSelectAll","lastSelectedKey","dataStructure","selectionRequired","isAllSelected","toggleExpansion","isFiltered","_filterDataStructure","_createCriteria","operation","searchFilter","pop","searchExpr","criteria","matches","lookForParents","storeHelper","DISABLED_STATE_CLASS","HierarchicalCollectionWidget","CollectionWidget","_getDefaultOptions","selectedExpr","disabledExpr","itemsExpr","parentIdExpr","expandedExpr","_defaultOptionsRules","device","devices","deviceType","_init","_initAccessors","_initDataAdapter","_initDynamicTemplates","_createDataAdapterAccessors","_dataAdapter","HierarchicalDataAdapter","_getDataAdapterOptions","_templateManager","addDefaultTemplates","BindableTemplate","_getIconContainer","_getTextContainer","_getPopoutContainer","_addContentClasses","_displayGetter","_itemsGetter","getImageContainer","_getAccessors","accessor","_compileAccessor","_compileDisplayGetter","_getChildNodes","arr","_hasChildren","setter","optionExpr","obj","getterName","setterName","newAccessor","_initMarkup","_addWidgetClass","_focusTarget","_widgetClass","_renderItemFrame","$itemFrame","_disabledGetter","_optionChanged","repaint","MenuBaseEditStrategy","_collectionWidget","getMenuItems","_getTemplateString","PlainEditStrategy","DX_MENU_CLASS","DX_MENU_NO_ICONS_CLASS","DX_MENU_BASE_CLASS","ITEM_CLASS","DX_ITEM_CONTENT_CLASS","DX_MENU_SELECTED_ITEM_CLASS","DX_MENU_ITEM_WRAPPER_CLASS","DX_MENU_ITEMS_CONTAINER_CLASS","DX_MENU_ITEM_EXPANDED_CLASS","DX_MENU_SEPARATOR_CLASS","DX_MENU_ITEM_LAST_GROUP_ITEM","DX_ITEM_HAS_TEXT","DX_ITEM_HAS_ICON","DX_ITEM_HAS_SUBMENU","DX_MENU_ITEM_POPOUT_CLASS","DX_MENU_ITEM_POPOUT_CONTAINER_CLASS","DX_MENU_ITEM_CAPTION_CLASS","SINGLE_SELECTION_MODE","DEFAULT_DELAY","MenuBase","showSubmenuMode","selectByClick","focusOnSelectedItem","_itemAttributes","role","useInkRipple","_itemContainer","space","_isSelectionEnabled","selectItem","pageUp","pageDown","_activeStateUnit","_renderSelectedItem","_initActions","itemText","$itemContainer","itemContent","$popOutContainer","$popOutImage","selectedItem","nodeToSelect","selectedKeys","selectedKey","selectable","_selectByItem","_addCustomCssClass","_renderInkRipple","_inkRipple","showWave","hideWave","_isDesktopDevice","Strategy","_editStrategy","$itemElement","_getItemElementByEventArgs","_isItemDisabled","stopPropagation","_getShowSubmenuMode","_showSubmenusTimeout","_showSubmenu","_getSubmenuDelay","$itemElements","_itemDataKey","_addExpandedClass","itemElement","eventArgs","_itemClass","_renderItems","submenuContainer","hasIcons","$nodeContainer","_renderContainer","firstVisibleIndex","nextGroupFirstIndex","isVisibleNode","isBeginGroup","beginGroup","_renderSeparator","_renderItem","$wrapper","$node","$nodeElement","_createDOMElement","_hasSubmenu","_itemIndexKey","hasText","hasIcon","hasSubmenu","$itemContent","selectedIndex","_selectedGetter","_isItemSelectable","_selectedItemClass","_setAriaSelected","$itemsContainer","_skipHandling","itemClickActionHandler","_updateSubmenuVisibilityOnClick","_itemDXEventHandler","actionArgs","_updateSelectedItemOnClick","_isItemSelectionAllowed","selectedItemKey","selectedNode","_toggleItemSelection","_fireSelectionChangeEvent","isSelectionByClickEnabled","_isContainerEmpty","asyncNoop","_updateSelectedItems","_getElementByItem","_itemElements","oldSelection","newSelection","addedSelection","removedSelection","addedItems","removedItems","_getItemData","ItemClass","MenuItem","DX_MENU_ITEM_CLASS","DX_MENU_PHONE_CLASS","DX_SUBMENU_CLASS","DX_CONTEXT_MENU_CLASS","DX_HAS_CONTEXT_MENU_CLASS","DX_STATE_DISABLED_CLASS","DX_STATE_FOCUSED_CLASS","DX_STATE_HOVER_CLASS","FOCUS_UP","FOCUS_DOWN","FOCUS_LEFT","FOCUS_RIGHT","FOCUS_FIRST","FOCUS_LAST","ACTIONS","LOCAL_SUBMENU_DIRECTIONS","DEFAULT_SHOW_EVENT","ContextMenu","showEventOption","showEvent","onSubmenuCreated","onPositioning","submenuDirection","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu","_optionsByReference","_overlay","escape","$availableItems","_getAvailableItems","$focusedItem","$hoveredItem","$hoveredItemContainer","$newTarget","$items","_getItemsByLocation","$oldTarget","_getActiveItem","itemsContainer","$activeItemHighlighted","_prevItem","_setFocusedElement","_nextItem","_hideSubmenuHandler","_expandSubmenuHandler","$activeItem","$curItem","$parentItem","_hideSubmenusOnSameLevel","_hideSubmenu","isItemHasSubmenu","$submenu","_detachShowContextMenuEvents","_getTarget","_renderVisibility","_attachShowContextMenuEvents","_keyboardListenerId","overlayOptions","_getOverlayOptions","Overlay","$overlayContent","_addPlatformDependentClass","_attachContextMenuEvent","eventName","contextMenuEventName","phone","getShowEvent","_showContextMenuEventHandler","contextMenuAction","getShowDelay","_show","validatingTargetName","handler","isWindow","$holder","submenuElement","innerOverlay","_closeOnOutsideClickHandler","propagateOutsideClick","_overlayShownActionHandler","_overlayHidingActionHandler","_overlayHiddenActionHandler","_hideAllShownSubmenus","$activeItemContainer","_getActiveItemsContainer","$itemContainers","_getItemsContainers","$clickedItem","_searchActiveItem","$rootItem","isRootItemClicked","isInnerOverlayClicked","_isIncludeOverlay","_hideAllShownChildSubmenus","$activeOverlay","$allOverlays","isSame","$overlay","$submenuElements","shownSubmenus","_shownSubmenus","$context","isSubmenuRendered","_renderSubmenuItems","_isSubmenuVisible","_drawSubmenu","$expandedItems","siblings","_hideSubmenuCore","submenuPosition","_getSubmenuPosition","fx","animationPosition","_animate","$rootItemWrapper","h","v","shouldRenderSubmenu","notCloseMenuOnItemClick","closeMenuOnClick","$prevSubmenu","canceled","$curSubmenu","_stopAnimate","_renderContentImpl","showing","_hide","jQEvent","_event$originalEvent","_positionContextMenu","_renderContextMenuOverlay","_renderFocusState","_attachHoverEvents","_attachClickEvent","_setAriaAttributes","holdEvent","preventShowingDefaultContextMenuAboveOverlay","_overlayContentId","Guid","_getContextMenuPosition","isInitialPosition","_isInitialOptionValue","positioningAction","lastPosition","_cleanAriaAttributes","registerComponent","CONTEXT_MENU","footerView","VIEW_NAMES","ContextMenuController","dxEvent","$targetRowElement","$targetCellElement","menuItems","view","_rowOptions$cells","targetElement","_contextMenuPrepared","ContextMenuView","contextMenuInstance","contextMenuModule","contextMenu","contextMenuView","treeListCore","ERROR_MESSAGE_CLASS","ERROR_CLOSEBUTTON_CLASS","ACTION_CLASS","ErrorHandlingController","_columnHeadersView","_rowsView","_createErrorRow","$errorRow","$closeButton","$errorMessage","_renderErrorMessage","errorRowIndex","removeErrorRow","fireContentReadyAction","url","$message","renderErrorRow","$popupContent","$errorMessageElement","$firstErrorRow","next","resizingController","$columnHeaders","$rowsViewElement","errorHandlingModule","errorHandling","errorHandlingController","hasChanges","BORDERS_CLASS","IMPORTANT_MARGIN_CLASS","GRIDBASE_CONTAINER_CLASS","isPercentWidth","isPixelWidth","getContainerHeight","paddingTop","paddingBottom","calculateFreeWidth","totalWidth","_getTotalWidth","calculateFreeWidthWithCurrentMinWidth","currentMinWidth","focusedElement","selectionRange","ResizingController","_initPostRenderHandlers","_refreshSizesHandler","_refreshSizes","resizeDeferred","_e$changeTypes","_setScrollerSpacing","_setAriaRowColCount","_fireContentReadyAction","_getBestFitWidths","_widths","_rowsView$getTableEle","headersTableElement","_setVisibleWidths","columnId","_toggleBestFitModeForView","isBestFit","$rowsTables","$viewTables","$tableBody","$rowsTable","$viewTable","_toggleBestFitMode","$rowsFixedTable","_footerView","_toggleContentMinHeight","_needStretch","_synchronizeColumns","resetBestFitMode","needBestFit","_needBestFit","hasMinWidth","isColumnWidthsCorrected","resultWidths","_maxWidth","isFocusOutsideWindow","bottom","_correctColumnWidths","expandColumnWidth","_processStretch","c","_getAverageColumnsWidth","freeWidth","columnCountWithoutWidth","hasPercentWidth","hasAutoWidth","hasWidth","_hasWidth","_loop","isHiddenColumn","averageColumnsWidth","realColumnWidth","_getRealColumnWidth","lastColumnIndex","borderWidth","getInnerWidth","resultSizes","groupSize","tableSize","unusedIndexes","diff","diffElement","floor","onePixelElementsCount","groupWidth","ratio","percentTotalWidth","pixelTotalWidth","freeSpace","percentTotalWidthInPixel","updateSize","$groupElement","importantMarginClass","detach","updateDimensions","checkSize","_checkSize","prevResult","_resizeDeferred","_resetGroupElementHeight","_updateDimensionsCore","groupElement","scrollTop","_lastWidth","_lastHeight","_devicePixelRatio","_setScrollerSpacingCore","vScrollbarWidth","hScrollbarWidth","$testDiv","rootElementHeight","maxHeightHappened","editorFactory","isMaxHeightApplied","scrollHeight","_updateLastSizes","_renderDimensions","SynchronizeScrollingController","_scrollChangedHandler","GridView","_resizingController","_getWidgetAriaLabel","_groupElement","_renderViews","_getTableRoleName","isFirstRender","_rootElement","gridViewModule","resizing","synchronizeScrolling","gridView","TOOLBAR_MENU_ACTION_CLASS","TOOLBAR_HIDDEN_BUTTON_CLASS","TOOLBAR_HIDDEN_BUTTON_GROUP_CLASS","TOOLBAR_MENU_SECTION_CLASS","TOOLBAR_MENU_LAST_SECTION_CLASS","ToolbarMenu","ListBase","_renderSections","_getSections","_itemSelector","sectionName","$section","_updateSections","$sections","itemContainer","$after","_getItemTemplateName","isAction","menuTemplate","_itemClickHandler","_clean","borderWidthStyles","right","_excluded","WEIGHT_OF_SIDES","center","POPOVER_POSITION_ALIASES","POPOVER_DEFAULT_BOUNDARY_OFFSET","PopoverPositionController","$arrow","_objectWithoutPropertiesLoose","_props","_$arrow","_positionSide","_$wrapper","pairToObject","_position","hOffset","vOffset","isVerticalSide","_isVerticalSide","isHorizontalSide","_isHorizontalSide","isPopoverInside","_isPopoverInside","arrowSize","arrowSizeCorrection","_getContentBorderWidth","arrowOffset","side","_$content","positionUtils","weightSign","horizontalWeight","abs","verticalWeight","positionProp","targetProp","resultPosition","defaultPositionConfig","_positionToObject","_getDisplaySide","OverlayPositionController","POPOVER_CLASS","POPOVER_WRAPPER_CLASS","POPOVER_ARROW_CLASS","POPOVER_WITHOUT_TITLE_CLASS","POSITION_FLIP_MAP","getEventNameByOption","getEventName","getEventDelay","attachEvent","hideEvent","isSelector","shouldIgnoreHideEvent","_clearEventsTimeouts","_timeouts","EVENT_HANDLER_NAME","detachEvent","Popover","Popup","arrowPosition","_fixWrapperPosition","platform","_renderArrow","_render","_detachEvents","_attachEvents","_documentDownHandler","_isOutsideClick","_getContainerPosition","_stopAnimation","_renderTitle","_renderPosition","_renderOverlayPosition","onPositioned","_resetOverlayPosition","_updateContentSize","contentPosition","resultLocation","positionSide","_getSideByLocation","_togglePositionClass","_toggleFlippedClass","flip","isArrowVisible","_renderArrowPosition","_setContentHeight","_positionController","move","containerLocation","oversize","fit","newContainerWidth","newOverlayContentHeight","newPopupContentHeight","_hideOnParentScrollTarget","isFlippedByVertical","isFlippedByHorizontal","positionClass","isFlippedHorizontal","isFlippedVertical","arrowRect","arrowFlip","arrowLocation","axis","sizeProperty","targetOffset","contentOffset","contentLocation","contentSize","targetSize","finalArrowLocation","fitIntoRange","fullUpdate","_getPositionControllerConfig","_initPositionController","_renderWrapperDimensions","_clearEventTimeout","_renderGeometry","substring","BUTTON_GROUP_CLASS","TOOLBAR_ITEMS","getItemInstance","dxComponents","widgetName","toggleItemFocusableElementTabIndex","_itemData$options","_findItemElementByItem","isItemNotFocusable","$widget","_itemInstance$_focusT","_itemData$options2","itemInstance","$focusTarget","window","DROP_DOWN_MENU_CLASS","DROP_DOWN_MENU_POPUP_CLASS","DROP_DOWN_MENU_POPUP_WRAPPER_CLASS","DROP_DOWN_MENU_LIST_CLASS","DROP_DOWN_MENU_BUTTON_CLASS","POPUP_OPTION_MAP","popupWidth","popupHeight","popupMaxHeight","popupAutoResizeEnabled","BUTTON_OPTION_MAP","buttonIcon","buttonText","buttonWidth","buttonHeight","buttonTemplate","DropDownMenu","Widget","_supportedKeys","extension","_list","_button","tab","_popup","itemTemplate","onButtonClick","usePopover","opened","selectionMode","selectedItemKeys","popupPosition","popupAnimation","onItemRendered","menuWidget","List","closeOnClick","isMaterial","_initOptions","_dataSourceOptions","_initItemClickAction","_initButtonClickAction","_itemClickAction","_buttonClickAction","_initTemplates","ChildDefaultTemplate","_renderButton","haspopup","_renderPopup","_cleanFocusState","_$popup","$button","_buttonOptions","Button","_toggleActiveState","_toggleMenuVisibility","$popup","_popupOptions","usePopup","_renderList","autoResizeEnabled","listConfig","_listOptions","_getAriaTarget","_setListDataSource","listMaxHeight","_itemOptionChanged","_this$_list","pageLoadMode","indicateLoading","_deferRendering","_getKeyboardListeners","_toggleVisibility","_updateFocusableItemsTabIndex","open","close","MENU_INVISIBLE_CLASS","TOOLBAR_dropDownMenu_CONTAINER_CLASS","POPOVER_BOUNDARY_OFFSET","ToolbarDropDownMenu","_toolbar","_hasVisibleMenuItems","_renderMenuButtonContainer","$menu","_dropDownMenuContainer","_dropDownMenu","_dropDownMenuOptions","renderMenuItems","_getMenuItems","$afterSection","_$afterSection","_$menuButtonContainer","_buttonClass","_getTemplateByOption","itemClickAction","topAndBottomOffset","_getMenuItemTemplate","_updateMenuVisibility","isMenuVisible","overflowGetter","itemVisible","itemOverflow","_this$_dropDownMenu","TOOLBAR_AUTO_HIDE_ITEM_CLASS","TOOLBAR_AUTO_HIDE_TEXT_CLASS","TOOLBAR_HIDDEN_ITEM","Toolbar","ToolbarBase","menuContainer","overflowMenuVisible","_dimensionChanged","dimension","_menu","actionSheetItem","_renderMenu","_postProcessRenderItems","_hideOverflowItems","_getItemsWidth","_getSummaryItemsWidth","_$beforeSection","_$centerSection","elementWidth","overflowItems","itemsWidth","_isMenuItem","$hiddenItems","_restoreItems","$itemMarkup","merge","_getToolbarItems","_renderMenuStrategy","_arrangeItems","margin","float","itemOption","_isToolbarItem","_changeMenuOption","widgetOption","HEADER_PANEL_CLASS","TOOLBAR_BUTTON_CLASS","TOOLBAR_ARIA_LABEL","DEFAULT_TOOLBAR_ITEM_NAMES","HeaderPanel","_getButtonContainer","_getToolbarButtonClass","specificClass","secondClass","_getToolbarOptions","userToolbarOptions","toolbarOptions","itemRenderedCallback","userItems","_normalizeToolbarItems","defaultItems","includes","Error","defaultProps","defaultButtonsByNames","normalizedItems","_toolbarOptions","$headerPanel","$toolbar","setToolbarItemDisabled","toolbarInstance","itemOptionPrefix","updateToolbarDimensions","_this$_toolbar","getHeaderPanel","parts","getPathParts","normalizedItem","headerPanelModule","DATAGRID_ROW_SELECTOR","DATAGRID_DEPRECATED_TEMPLATE_WARNING","DataGrid","_setDeprecatedOptions","_deprecatedOptions","since","alias","_device","templateName","logger","_dispose","DATE_REGEX","parseDates","exec","UTC","StateStoringController","getStorage","storage","sessionStorage","localStorage","getUniqueStorageKey","_loadState","parse","getItem","_saveState","setItem","isEnabled","_state","_isLoaded","_windowUnloadHandler","_savingTimeoutID","fromPromise","isEmptyObject","save","getDataState","pagerView","getPageSizes","processLoadState","selectionController","exportController","updateState","selectionChanged","_initialPageSize","_initialFilterValue","selectionOnlyChanged","exportSelectionOnly","selectionOnly","DEFAULT_FILTER_VALUE","getFilterValue","filterSyncController","hasFilterState","getFilterValueFromColumns","stateStoringModule","stateLoaded","isStateLoading","applyState","oldState","newState","oldStateHash","newStateHash","isVirtualScrollingMode","stateStoringController","_restoreStateTimeoutID","_fireSelectionChanged","isDeferredSelection","EDITOR_CELL_CLASS","ROW_SELECTION_CLASS","SELECT_CHECKBOX_CLASS","CHECKBOXES_HIDDEN_CLASS","COMMAND_SELECT_CLASS","SELECTION_DISABLED_CLASS","SHOW_CHECKBOXES_MODE","SELECTION_MODE","processLongTap","isSelectionWithCheckboxes","stopSelectionWithCheckboxes","startSelectionWithCheckboxes","changeItemSelection","control","SelectionController","selectionCellTemplate","isRowSelected","renderSelectCheckBoxContainer","selectionHeaderTemplate","_renderSelectAllCheckBox","_attachSelectAllCheckBoxClickEvent","_selectionMode","_isSelectionWithCheckboxes","_selection","_createSelection","_updateSelectColumn","removedKeys","deselectRows","_getSelectionConfig","selectionOptions","virtualPaging","legacyScrollingMode","ignoreDisabledItems","allowLoadByRange","hasGroupColumns","dataFields","_dataController$dataS","select","_dataController$dataS2","plainItems","isItemSelected","isSelectableItem","getItemData","oldData","getLoadOptions","loadItemIndex","focusedItemIndex","shiftItemIndex","_dataController$dataS3","_dataController$dataS4","minIndex","maxIndex","isSelectColumnVisible","Selection","argument","_updateCheckboxesState","isDeferredMode","removedItemKeys","keyIndex","isComplexKey","selectionChangedOptions","changedItemIndexes","getChangedItemIndexes","itemIndexes","addedItemKeys","_selectedItemsInternalChange","selectedRowsData","selectedItems","currentSelectedRowKeys","currentDeselectedRowKeys","isDataItem","oldSelectionMode","selectRows","_isOnePageSelectAll","isSelectAll","getSelectAllState","selectAll","deselectAll","clearSelection","preserve","isDeselect","getSelectedRowKeys","getSelectedItemKeys","selectRowsByIndexes","indexes","getSelectedRowsData","getSelectedItems","visibleItemIndex","setFocusOnly","loadedItemIndex","_focusedItemIndex","selectionModule","hasSelectColumn","currentItem","isUpdateSelection","_updateSelectAllValue","$editor","selectAllValue","hasSelection","dxCheckBox","isEmptyData","createEditor","parentType","setValue","_attachCheckBoxClickEvent","_renderSelectCheckBox","_e$event","_updateCheckboxesClass","touch","isSelectionDisabled","isClickableElement","isCommandSelect","isCheckBoxesHidden","WIDGET_CLASS","NODE_CLASS","NODE_CONTAINER_CLASS","NODE_LOAD_INDICATOR_CLASS","OPENED_NODE_CONTAINER_CLASS","IS_LEAF","ITEM_WITH_CHECKBOX_CLASS","ITEM_WITHOUT_CHECKBOX_CLASS","ITEM_DATA_KEY","TOGGLE_ITEM_VISIBILITY_CLASS","LOAD_INDICATOR_CLASS","LOAD_INDICATOR_WRAPPER_CLASS","TOGGLE_ITEM_VISIBILITY_OPENED_CLASS","SELECT_ALL_ITEM_CLASS","INVISIBLE_STATE_CLASS","SELECTED_ITEM_CLASS","EXPAND_EVENT_NAMESPACE","DATA_ITEM_ID","TreeViewBase","click","expandEventName","_getEventNameByOption","expandByClick","_expandEventHandler","$focusedElement","checkboxInstance","_getCheckBoxInstance","currentState","_updateItemSelection","toggleExpandedNestedItems","rootItem","_toggleExpandedNestedItems","enter","_showCheckboxes","asterisk","minus","len","_toggleExpandedState","_getNodeElement","cache","_encodeString","$nodeByKey","animationEnabled","expandAllEnabled","hasItemsExpr","selectNodesRecursive","expandNodesRecursive","selectAllText","onItemSelectionChanged","onItemExpanded","onItemCollapsed","scrollDirection","virtualModeEnabled","expandEvent","createChildren","onSelectAllValueChanged","integrationOptions","useDeferUpdateForTemplates","_initSelectedItems","_syncSelectionOptions","selectionChangePromise","_selectionChangePromise","_createSelectAllValueChangedAction","_selectAllValueChangedAction","_fireSelectAllValueChanged","_checkBoxModeChange","selectAllExists","_$selectAllItem","_renderSelectAllItem","_removeSelection","_filter","_initExpandEvent","_useCustomChildrenLoader","_loadChildrenByCustomLoader","newItems","_isVirtualMode","_initVirtualMode","custom","internal","_isDataStructurePlain","parentNode","invocationResult","then","_combineFilter","_dataSourceLoadErrorHandler","_renderEmptyMessage","_initStoreChangeHandlers","_dataSourceChangedHandler","_initialized","_removeTreeViewLoadIndicator","_treeViewLoadIndicator","_createTreeViewLoadIndicator","LoadIndicator","_dataSourceLoadingChangedHandler","resultFilter","_updateLevel","_parentIdGetter","removedKey","_markChildrenItemsToRemove","_removeItems","_getContainerByParentKey","_getOldContainer","_renderNodeContainer","_isRootLevel","_renderScrollableContainer","_isSingleSelection","_isRecursiveSelection","_selectAllEnabled","skipContentReadyAction","_expandedGetter","level","_getLevel","_renderedItemsCount","nodeIndex","nodeData","showCheckBox","_renderCheckBox","_toggleSelectedClass","_renderChildren","_renderToggleItemVisibilityIcon","_loadSublevel","childNodes","_renderSublevel","_getActualNode","_addLeafClass","cachedNode","_hasItemsGetter","childrenNodes","_loadNestedItems","$nestedNodeContainer","childNodesByChildrenKeys","firstChild","_updateParentsState","_normalizeIconState","_executeItemRenderAction","_getNode","_getItemRenderAction","expandedEventName","itemSelector","_getNodeByElement","_decodeString","_createLoadIndicator","_updateExpandedItemsUI","$icon","_renderToggleItemVisibilityIconClick","isHiddenNode","nodeContainerExists","completionCallback","_animateNodeContainer","_loadNestedItemsWithUpdate","actualNodeData","_areNodesExists","_appendItems","keyOfRootItem","fullData","nodeHeight","_fireExpandedStateUpdatedEvent","_itemEventHandler","hasNewItems","$loadIndicator","_emptyMessageContainer","_contentAlreadyRendered","CheckBox","_onSelectAllCheckboxValueChanged","before","_toggleSelectAll","_updateItemsUI","$checkbox","_changeCheckboxValue","_toggleNodeDisabledState","checkbox","_isLastSelectedBranch","selectedNodesKeys","_isLastRequired","isSingleMode","getSelectedNodeKeys","_fireItemSelectionChanged","needFireSelectAllChanged","initiator","nodeSelection","selectAllCheckbox","$parentNode","parentValue","_itemEventHandlerImpl","_extendActionArgs","_itemContextMenuHandler","_createEventHandler","_itemHoldHandler","clickSelector","pointerDownSelector","pointerDownEvent","_itemPointerDownHandler","isDefaultPrevented","_updateSelectionToFirstItem","startIndex","_updateSelectionToLastItem","_focusInHandler","_updateFocusState","_setFocusedItemTimeout","_setFocusedItem","_findNonDisabledNodes","$nodes","_moveFocus","_nodeElements","$prevItem","prevItemElement","_getNodeItemElement","$nextItem","nextItemElement","$firstItem","$lastItem","_expandFocusedContainer","_collapseFocusedContainer","$focusedNode","_getClosestNonDisabledNode","nodeElement","collapsedNode","encodeURI","decodeURI","resolveWith","unselectItem","expandItem","collapseItem","getNodes","getSelectedNodes","unselectAll","expandAll","dataAdapter","collapseAll","scrollToItem","keyOrItemOrElement","nodeKeysToExpand","scrollCallback","_expandNodes","scrollToElementTopLeft","relativeOffset","getRelativeOffset","SCROLLABLE_CONTENT_CLASS","DIRECTION_VERTICAL","containerElement","DIRECTION_HORIZONTAL","keysToExpand","resultCallback","callbacksByNodes","searchBoxMixin","TreeViewSearch","_addWidgetPrefix","_updateSearch","_repaintContainer","_updateDataAdapter","_searchEditor","_getSearchEditorOptions","rootNodes","isSearchMode","_removeSearchBox","COLUMN_CHOOSER_CLASS","COLUMN_CHOOSER_BUTTON_CLASS","NOTOUCH_ACTION_CLASS","COLUMN_CHOOSER_LIST_CLASS","COLUMN_CHOOSER_PLAIN_CLASS","COLUMN_CHOOSER_DRAG_CLASS","COLUMN_CHOOSER_SELECT_CLASS","COLUMN_CHOOSER_ICON_NAME","COLUMN_CHOOSER_ITEM_CLASS","TREEVIEW_NODE_SELECTOR","CHECKBOX_SELECTOR","CLICK_TIMEOUT","processItems","chooserColumns","isSelectMode","disableCheckBox","ColumnChooserController","renderShowColumnChooserButton","$columnChooserButton","columnChooserButtonClass","columnChooserEnabled","$showColumnChooserButton","showColumnChooser","getPosition","ColumnChooserView","_isWinDevice","win","_updateList","_popupContainer","columnChooserList","_columnChooserList","_renderTreeView","_initializePopupContainer","columnChooserOptions","themeName","current","isGenericTheme","isGeneric","isMaterialTheme","dxPopupOptions","_ignoreCopyRootClassesToWrapperDeprecation","shortcut","treeViewConfig","searchEnabled","$checkBox","$treeViewNode","checkBoxInstance","_prepareSelectModeConfig","_prepareDragModeConfig","TreeView","isLastColumnUnselected","needPartialRender","needFullRender","all","columnVisible","isColumnChooserVisible","hideColumnChooser","popupContainer","columnChooserModule","columnChooserView","_appendColumnChooserItem","hintText","columnChooserMode","isMoveColumnDisallowed","createOffsetFilter","lastLevelOnly","groups","normalizeSortingInfo","filterElement","currentFilter","GroupingHelper","findGroupInfoByKey","groupsInfo","hash","getGroupInfoIndexByOffset","leftIndex","rightIndex","middleIndex","_groupsInfo","updateTotalItemsCount","isGroupItemCountable","_isVirtualPaging","calculateItemsCount","foreachGroups","childrenAtFirst","foreachCollapsedGroups","updateOffsets","updateParentOffsets","foreachGroupsCore","callbackResults","executeCallback","callbackResult","currentParents","_updateGroupInfoOffsets","groupInfo","findGroupInfo","pathIndex","addGroupInfo","groupInfoData","allowCollapseAll","oldGroups","_group","cleanGroupsInfo","handleDataLoading","handleDataLoaded","handleDataLoadedCore","createGroupFilter","loadTotalCount","GroupingHelperCore","correctSkipLoadOption","skipCorrection","resultSkip","pathEquals","path1","path2","keysEqual","updateGroupOffsets","additionalGroupInfo","getGroupCount","collapsedGroups","collapsedItemsCount","skipFirstItem","dataGridCore","sorts","appendCollapsedPath","collapsedGroup","keyValue","pathValue","toComparable","dataQuery","enumerate","groupedData","processGroupItems","removeLastItemsCount","needRemoveFirstItem","offsetInfo","itemsCountCorrection","changeRowExpand","groupCountQuery","beginPageIndex","dataSourceItems","groupOffsetQuery","getContinuationGroupCount","groupOffset","pageOffset","foreachExpandedGroups","updateGroups","expandedInfo","isLastGroupExpanded","paths","lastCount","updateGroupInfoItem","isLastGroupLevel","_isGroupExpanded","updateGroupInfos","loadedGroupCount","remotePaging","isGroupExpanded","getTotalOffset","groupInfos","totalOffset","childrenTotalCount","applyContinuationToGroupItem","groupLevel","expandedItemIndex","isLastExpandedItem","isFirstExpandedItem","lastExpandedItemSkip","isItemsTruncatedByTake","isDataDeferred","makeDataDeferred","loadGroupItems","currentGroupCount","currentGroupIndex","currentGroup","requireGroupCount","groupSummary","expandedFilters","expandedPath","isPagingLocal","isLastLevelGroupItemsPagingLocal","sortLastLevelGroupItems","expandedItems","loadGroupTotalCount","isGrouping","isFinite","dataErrors","isVirtualPaging","_updatePagingOptions","skipChildrenTotalCount","takeCorrection","parentTakeCorrection","continuationGroupCount","skipContinuationGroupCount","groupInfoCount","childrenGroupInfoCount","remoteGroupPaging","isLastGroup","_processPaging","_processSkips","firstItem","_processTakes","lastItem","maxTakeCount","handleGroup","DATAGRID_GROUP_PANEL_CLASS","DATAGRID_GROUP_PANEL_MESSAGE_CLASS","DATAGRID_GROUP_PANEL_ITEM_CLASS","DATAGRID_GROUP_PANEL_LABEL_CLASS","DATAGRID_EXPAND_CLASS","DATAGRID_GROUP_ROW_CLASS","GroupingDataSourceAdapterExtender","_initGroupingHelper","_grouping","isAutoExpandAll","isFocusedRowEnabled","isODataRemoteOperations","ExpandedGroupingHelper","CollapsedGroupingHelper","_collapseExpandAll","isExpand","beginLoading","_changeRowExpandCore","endLoading","_hasGroupLevelsExpandState","GroupingDataControllerExtender","_processGroupItems","_processGroupItem","groupedColumns","collectContinuationItems","resultItems","expandRow","collapseRow","onGroupingMenuItemClick","GroupingHeaderPanelExtender","_appendGroupingItem","_isGroupPanelVisible","isRendered","$groupPanel","_updateGroupPanelContent","_renderGroupPanelItems","$groupPanelItem","$toolbarElement","$groupedColumnElement","isGroupingAllowed","isColumnGrouped","GroupingRowsViewExtender","isGroupRowStateChanged","isExpandButtonClicked","_changeGroupRowState","columnHeadersViewExtender","_isProcessedItem","MASTER_DETAIL_CELL_CLASS","MASTER_DETAIL_ROW_CLASS","masterDetailModule","initMasterDetail","_expandedItems","_isExpandAll","expandIndex","_getRowIndicesForExpand","detailColumnIndex","isEnabledChanged","isAutoExpandAllChanged","_updateParentDataGrids","$masterDetailRow","_updateMasterDataGrid","$detailElement","masterRowOptions","masterDataGrid","isFixedColumns","_updateFixedMasterDetailGrids","masterRowIndex","$tables","rowsNotEqual","tablesNotEqual","detailElementWidth","isDetailHorizontalScrollCanBeShown","isDetailGridWidthChanged","isEditRow","_isDetailRow","$detailCell","isWrapped","CHECKBOX_SIZE_CLASS","EDITOR_INLINE_BLOCK","EditorFactoryMixin","getResultConfig","inputAttr","checkEnterBug","ios","getTextEditorConfig","isEnterBug","sharedData","needDelayedUpdate","isInputOrKeyUpEvent","updateValue","valueChangeTimeout","updateValueTimeout","_input","valueChangeEvent","prepareBooleanEditor","prepareSelectBox","editorName","displayGetter","postProcess","selectBox","stopWatch","showClearButton","editorElement","useMaskBehavior","blur","isSearching","isOnForm","showValidationMark","$editorElement","dateBox","dxDateBox","defaultEnterKeyHandler","registerKeyHandler","dxTextArea","FOCUS_OVERLAY_CLASS","FOCUSED_ELEMENT_CLASS","MODULE_NAMESPACE","UPDATE_FOCUS_EVENTS","DX_HIDDEN","EditorFactory","_getFocusedElement","$dataGridElement","rowSelector","focusedElementSelector","_getFocusCellSelector","_updateFocusCore","$focusCell","hideBorders","$focus","_$focusedElement","loseFocus","_updateFocus","isFocusOverlay","_isFocusOverlay","_updateFocusTimeoutID","_updateFocusOverlaySize","setOuterWidth","setOuterHeight","hideBorder","_focusTimeoutID","renderFocusOverlay","focused","refocus","_$focusOverlay","align","elemCoord","focusOverlayPosition","precise","_updateFocusHandler","_attachContainerEventHandlers","editorFactoryModule","DEFAULT_BUTTON","DX_DIALOG_CLASSNAME","DX_DIALOG_WRAPPER_CLASSNAME","DX_DIALOG_ROOT_CLASSNAME","DX_DIALOG_CONTENT_CLASSNAME","DX_DIALOG_MESSAGE_CLASSNAME","DX_DIALOG_BUTTONS_CLASSNAME","DX_DIALOG_BUTTON_CLASSNAME","DX_BUTTON_CLASSNAME","FakeDialogComponent","Component","_options$title","getViewport","isMessageDefined","isMessageHtmlDefined","messageHtml","popupToolbarItems","Action","popupInstance","android","execute","ensureDefined","ignoreChildEvents","bottomToolbar","resetActiveElement","$firstButton","popupOptions","isPortrait","confirm","ROW_SELECTED_CLASS","EDIT_FORM_CLASS","DATA_EDIT_DATA_INSERT_TYPE","DATA_EDIT_DATA_REMOVE_TYPE","EDITING_POPUP_OPTION_NAME","EDITING_FORM_OPTION_NAME","EDITING_EDITROWKEY_OPTION_NAME","EDITING_EDITCOLUMNNAME_OPTION_NAME","TARGET_COMPONENT_NAME","EDITORS_INPUT_SELECTOR","FOCUSABLE_ELEMENT_SELECTOR","EDIT_MODE_BATCH","EDIT_MODE_ROW","EDIT_MODE_CELL","EDIT_MODE_FORM","EDIT_MODE_POPUP","FIRST_NEW_ROW_POSITION","LAST_NEW_ROW_POSITION","PAGE_BOTTOM_NEW_ROW_POSITION","PAGE_TOP_NEW_ROW_POSITION","VIEWPORT_BOTTOM_NEW_ROW_POSITION","VIEWPORT_TOP_NEW_ROW_POSITION","EDIT_MODES","ROW_BASED_MODES","MODES_WITH_DELAYED_FOCUS","READONLY_CLASS","LINK_CLASS","ROW_SELECTED","EDIT_BUTTON_CLASS","COMMAND_EDIT_CLASS","COMMAND_EDIT_WITH_ICONS_CLASS","INSERT_INDEX","ROW_INSERTED","ROW_MODIFIED","CELL_MODIFIED","EDITING_NAMESPACE","DATA_EDIT_DATA_UPDATE_TYPE","DEFAULT_START_EDIT_ACTION","EDIT_LINK_CLASS","edit","undelete","delete","EDIT_ICON_CLASS","METHOD_NAMES","ACTION_OPTION_NAMES","BUTTON_NAMES","EDITING_CHANGES_OPTION_NAME","createFailureHandler","isEditingCell","isEditingOrShowEditorAlwaysDataCell","isCommandCell","isEditorCell","EditingController","getButtonIndex","getButtonName","_lastOperation","_deferreds","_saveEditorHandler","_updateEditColumn","_updateEditButtons","_internalState","getEditMode","editMode","_getDefaultEditorTemplate","_getNewRowPosition","getChanges","getInsertRowCount","resetChanges","needReset","_getInternalData","_addInternalData","internalData","_getOldData","_this$_getInternalDat","getUpdatedData","editIndex","createObjectWithChanges","getInsertedData","getRemovedData","_fireDataErrorOccurred","getPopupContent","_needToCloseEditableCell","_closeEditItem","_isDefaultButtonVisible","_isButtonVisible","_isButtonDisabled","_getButtonConfig","buttonName","addRowToNode","editingOptions","allowAction","_getEditingButtons","buttonIndex","haveCustomButtons","_renderEditingButtons","_createButton","_getEditCommandCellTemplate","isRowBasedEditMode","getFirstEditableColumnIndex","getFirstEditableCellInRow","getFocusedCellInRow","_inputFocusTimeoutID","_pointerUpEditorHandler","_pointerDownEditorHandler","_handleEditRowKeyChange","_handleChangesChange","_resetEditColumnName","_resetEditRowKey","oldRowIndexCorrection","_getEditRowIndexCorrection","oldRowIndex","_editRowFromOptionChanged","cancelEditData","_processInsertChanges","_addInsertInfo","_pageIndex","_refreshCore","isEditRowKeyDefined","_setEditRowKey","silent","_setEditRowKeyByIndex","getEditRowIndex","_getVisibleEditRowIndex","getEditFormRowIndex","_isEditRowByIndex","isKeyEqual","isEditCell","_getVisibleEditColumnIndex","_getInsertRowIndex","isProcessedItems","_getInsertAfterOrBeforeKey","isProcessedItem","nextItem","_generateNewItem","_this$_getInternalDat2","insertInfo","_getLoadedRowIndex","loadedRowIndex","insertAfterOrBeforeKey","_this$_getInternalDat3","isInsert","processDataItem","_processDataItemCore","modified","removed","_initNewRow","_createInsertInfo","_getInsertIndex","_this$_getInternalDat4","_setInsertAfterOrBeforeKey","allItems","isViewportBottom","insertKey","maxInsertIndex","editItem","_this$_getInternalDat5","insertChange","_insertChange$insertA","_getPageIndexToInsertRow","lastPageIndex","_addRow","param","oldEditRowIndex","allowCancelEditing","_allowRowAdding","__KEY__","_addRowCore","_navigateToNewRow","insertIndex","initialOldEditRowIndex","editRowIndex","_addChange","_editRowIndex","_change","focusController","pageIndexToInsertRow","navigateToRowByKey","navigateToRow","_showAddedRow","_afterInsertRow","_focusFirstEditableCellInRow","_beforeFocusElementInRow","$firstCell","_editCellInProgress","_delayedInputFocus","_isEditingStart","_beforeUpdateItems","_setEditColumnNameByIndex","_visibleColumns$index","_setEditColumnName","_getEditColumn","_getColumnByName","editColumn","columnName","isColumnHidden","_resetEditIndices","_item$oldData","_editRowFromOptionChangedCore","preventRendering","_needFocusEditor","_focusEditorIfNeed","_showEditPopup","_repaintEditPopup","_getEditPopupHiddenHandler","_getPopupEditFormTemplate","_getSaveButtonConfig","saveEditData","_getCancelButtonConfig","_removeInternalData","_updateInsertAfterOrBeforeKeys","removeChange","_removeChange","executeOperation","func","waitForDeferredOperations","_processCanceledEditingCell","_repaintEditCell","oldColumn","beforeFocusCallback","callBeforeFocusCallbackAlways","inputFocus","$focusableElement","_beforeFocusCallback","_focusEditingCell","$editCell","editColumnIndex","_checkAndDeleteRow","showDialogTitle","confirmResult","_deleteRowCore","_afterDeleteRow","_fireOnSaving","onSavingParams","_executeEditingAction","_disposed","_processChanges","results","dataChanges","changeCopy","_beforeSaveEditData","insert","newData","doneDeferred","_processRemoveIfError","_processRemove","_processRemoveCore","_processSaveEditDataResult","hasSavedData","changesLength","isError","_fireSaveEditDataEvents","isSaving","_resolveAfterSave","_saving","_saveEditDataInner","needFocusEditCell","_afterSaveEditData","_endSaving","_cancelSaving","_beforeEndSaving","_refreshDataAfterSave","isFullRefresh","isEditColumnVisible","_isEditColumnVisible","_isEditButtonDisabled","isEditRowDefined","isButtonDisabled","_applyModified","_beforeCloseEditCellInBatchMode","_cancelEditDataCore","_beforeCancelEditData","_afterCancelEditData","_hideEditPopup","hasEditData","isPageChanged","_getRowIndicesForCascadeUpdating","skipCurrentRow","addDeferred","_prepareChange","_options$row","rowKey","setCellValueResult","_updateRowValues","updateFieldValue","forceUpdateRow","_focusPreviousEditingCellIfNeed","_updateEditRow","_needUpdateRow","isCustomSetCellValue","isCustomCalculateCellValue","changeOptions","_applyChangeCore","_updateEditRowCore","_updateRowImmediately","_updateRowWithDelay","_validateEditFormAfterUpdate","selectionStart","changeParams","_this$getChanges","_getFormEditItemTemplate","getColumnTemplate","editingStartOptions","isRowMode","isRowEditing","getEditFormTemplate","useLegacyColumnButtonTemplate","iconType","iconUtils","localizationName","getButtonLocalizationNames","_button$onClick","prepareButtonItem","titleButtonTextByClassNames","revert","prepareEditButtons","buttonItems","highlightDataCell","cellModified","shouldHighlight","_allowEditAction","allowEditAction","needCallback","isNewRowInEditMode","visibleEditRowIndex","editingModule","_editingController","_this$_updateEditItem","_updateEditItem","dataSourceKeys","newChanges","isEditNewItem","isRowRemoved","isRowInserted","isRowModified","_getColumnIndexByElement","_getColumnIndexByElementCore","_editCellByClick","isEditedCell","editCell","withoutSaveEditData","closeEditCell","_pointerDownTimeout","isEditForm","isEditableCell","_editCellPrepared","_formItemPrepared","cellValue","editButtonItems","excludedOptions","shouldInvalidate","EDIT_ROW","editingRowBasedModule","isRowEditMode","hasUpdateChanges","isVisibleInRowEditMode","$editingCell","EDIT_FORM_ITEM_CLASS","EDIT_POPUP_CLASS","SCROLLABLE_CONTAINER_CLASS","EDIT_POPUP_FORM_CLASS","BUTTON_CLASS","FORM_BUTTONS_CONTAINER_CLASS","getEditorType","_column$formItem","isCustomEditorType","forEachFormItems","callBack","tabs","editingFormBasedModule","_editForm","_updateEditFormDeferred","isFormOrPopupEditMode","isPopupEditMode","isFormEditMode","firstFormItem","_firstFormItem","$editFormElements","_getEditFormEditorVisibleIndex","editForm","_this$_editPopup","popupVisible","_editPopup","_$popupContent","_row$update","repaintForm","isMobileDevice","$popupContainer","_this$_editForm","formTemplate","isPopupForm","_this$_editPopup2","defaultAnimation","_this$_editPopup3","_handleFormOptionChange","_handlePopupOptionChange","_this$_editPopup4","editPopup","popupOptionName","renderFormEditTemplate","detailCellOptions","formTemplateOptions","isReadOnly","rowData","labelMark","getItemID","getFormEditorTemplate","_cellOptions$row$watc","_cellOptions$row","_validator","validator","validatorOptions","contents","dxValidator","dataGetter","getEditFormOptions","detailOptions","_this$_getValidationG","editFormOptions","_getValidationGroupsInForm","userCustomizeItem","editFormItemClass","itemId","formID","rule","baseEditFormOptions","$formContainer","Form","$buttonsContainer","_this$_editPopup5","getEditForm","_this$_updateEditForm","_this$_editPopup6","editFormRowIndex","_isFormItem","isDetailRow","isPopupEditing","ADD_ROW_BUTTON_CLASS","DROPDOWN_EDITOR_OVERLAY_CLASS","CELL_MODIFIED_CLASS","ROW_REMOVED","$pointerDownTarget","needCreateHandlers","_this$getController","targetComponent","isCellOrBatchEditMode","isEditorPopup","checkEditorPopup","isDomElement","isAnotherComponent","isAddRowButton","isCellEditMode","$dropDownEditorOverlay","$componentElement","isBatchEditMode","isCurrentComponentElement","$targetCell","_this$_rowsView","isEditColumnNameDefined","_handleEditColumnNameChange","oldColumnIndex","_editCellFromOptionChanged","_deferred","_editCell","coreResult","_editCellCore","isEditByOptionChanged","_getNormalizedEditCellOptions","_beforeEditCell","_prepareEditCell","_closeEditCellCore","_resetModifiedClassCells","columnsCount","_this$_editCellFromOp","needResetIndexes","isBatchMode","_isRowDeleteAllowed","_changes$","_deferred2","isUpdateInCellMode","focusPreviousEditingCell","processIfBatch","editingCellBasedModule","INVALIDATE_CLASS","REVERT_TOOLTIP_CLASS","INVALID_MESSAGE_CLASS","WIDGET_INVALID_MESSAGE_CLASS","INVALID_MESSAGE_ALWAYS_CLASS","REVERT_BUTTON_CLASS","VALIDATOR_CLASS","PENDING_INDICATOR_CLASS","VALIDATION_PENDING_CLASS","PADDING_BETWEEN_TOOLTIPS","FORM_BASED_MODES","COMMAND_TRANSPARENT","VALIDATION_STATUS","valid","invalid","pending","EDIT_DATA_INSERT_TYPE","EDIT_DATA_REMOVE_TYPE","VALIDATION_CANCELLED","validationResultIsValid","cellValueShouldBeValidated","ValidatingController","_validationState","initValidationState","_validationStateCache","_rowIsValidated","validationData","_getValidationData","validated","keyHash","isObjectKeyHash","isValid","_getBrokenRules","validationResults","brokenRules","brokenRule","_rowValidating","getChangeByKey","errorText","getHiddenValidatorsErrorText","brokenRulesMessages","isGroupExpandColumn","isVisibleColumn","validate","isFull","completeList","_isValidationInProgress","validationResult","validateGroup","_currentCellValidator","_findGroup","_validationResult","ValidationEngine","validators","resetRowValidationResults","isRowDataModified","updateValidationState","setDisableApplyValidationResults","groupConfig","setValidator","renderCellPendingIndicator","disposeCellPendingIndicator","validationStatusChanged","updateCellValidationResult","validatorInitialized","validatorDisposing","getCellValidationResult","status","cancelCellValidationResult","applyValidationResult","requestIsDisabled","disabledPendingId","_disableApplyValidationResults","editor","getEditorInstance","_syncInternalEditingData","_parameters$row","oldDataFromState","createValidator","needCreateValidator","_parameters$row$oldDa","_parameters$row2","isCellOrBatchEditingAllowed","getValue","useDefaultValidator","Validator","adapter","applyValidationResults","validationRequestsCallbacks","bypass","flag","getDisableApplyValidationResults","isCurrentValidatorProcessing","validateCell","cellParams","stateRestored","_validationData$valid","removeCellValidationResult","_ref6","isInvalidCell","_ref7","getCellValidator","_ref8","setCellValidationStatus","validationStatus","validatingModule","validating","validatingController","_updateRowAndPageIndices","startInsertIndex","_ref9","isNotCanceled","addInValidItem","isInserted","_createInvisibleColumnValidators","invisibleColumns","invisibleColumnValidators","isCellVisible","disposeValidators","isFullValid","_showErrorRow","shouldResetValidationState","columnsWithValidatingEditors","_col$validationRules","validationState","resetRowAndPageIndices","currentValidator","isValidated","needValidation","isCellInvalid","_showRevertButton","$tooltipElement","$overlayContainer","tooltipOptions","$buttonElement","buttonOptions","_positionedHandler","_hideFixedGroupCell","$nextFixedRowElement","$groupCellElement","nextRowOptions","visibility","isOverlayVisible","__skipPositionProcessing","isRevertButton","needRepaint","normalizedPosition","_normalizeValidationMessagePositionAndMaxWidth","_showValidationMessage","messages","revertTooltip","editorPopup","myPosition","atPosition","errorMessageText","invalidMessageClass","$overlayElement","_shiftValidationMessageIfNeed","fixedColumns","visibleTableWidth","w1","w2","$overlayContentElement","validationMessageWidth","needMaxWidth","boundaryNonFixedColumnsInfo","firstNonFixedColumnIndex","lastNonFixedColumnIndex","startColumnIndex","endColumnIndex","$revertContent","revertContentOffset","_getTooltipsSelector","revertTooltipClass","skipValidator","updateCellState","_change$data","showValidationMessage","errorMessages","$tooltips","_oldRow$cells","_cell$column$validati","oldValidationStatus","newValidationStatus","rowIsModified","cellIsMarkedAsInvalid","editingChanged","hasValidationRules","$freeSpaceRowElements","$tooltipContent","isEditorDisposed","contentTable","LEGACY_SCROLLING_MODE","needTwoPagesLoading","_controller","isVirtual","getViewportItemIndex","getBeginPageIndex","_cache","getEndPageIndex","fireChanged","_isChangedFiring","processDelayChanged","_isDelayChanged","getViewportPageCount","_dataOptions","preventPreload","realViewportSize","viewportSize","viewportItemSize","getContentOffset","getViewportPosition","virtualItemsCount","begin","itemSize","getItemSizes","getPreloadPageCount","previous","isAppendMode","getPageIndexForLoad","dataOptions","needToLoadPageBeforeLast","needToLoadPrevPage","needToLoadNextPage","_loadingPageIndexes","loadCore","processChanged","isDelayChanged","removeCacheItem","isPrepend","viewportItems","removeCount","correctCount","removeItemCount","itemsLength","updateLoading","_lastPageIndex","VirtualDataLoader","controller","newPageIndex","lastPageSize","maxPageIndex","defaultPageIndex","endPageIndex","pageIndexForLoad","delayDeferred","_delayDeferred","onChanged","_setViewportPositionCore","removeInvisiblePages","lastCacheLength","isBase","beginItemsCount","endItemsCount","end","SCROLLING_MODE_INFINITE","SCROLLING_MODE_VIRTUAL","_isVirtual","_isAppendMode","subscribeToExternalScrollers","scrollChangedHandler","$scrollElement","scrollableArray","scrollToArray","disposeArray","getElementOffset","$scrollableElement","scrollableOffset","widgetScrollStrategy","subscribeToScrollEvents","isDocument","eventsStrategy","topOffset","scrollMethod","VirtualScrollController","_viewportSize","_viewportItemSize","_viewportItemIndex","_isScrollingBack","_contentSize","_itemSizes","_sizeRatio","positionChanged","_dataLoader","viewportParams","getViewportParams","loadedOffset","loadedItemCount","getScrollingTimeout","scrollingTimeout","_this$option","changingDuration","setViewportPosition","_scrollTimeoutID","getItemIndexByPosition","defaultItemSize","getItemSize","itemOffset","itemOffsetsWithSize","itemOffsetWithSize","itemOffsetDiff","isScrollingBack","prevPosition","setViewportItemIndex","setContentItemSizes","sizes","size","virtualContentSize","contentHeightLimit","getItemOffset","isEnd","currentItemIndex","getVirtualContentSize","viewportItemIndexChanged","viewportHeight","isRefresh","subscribeToWindowScrollEvents","_windowScroll","_this$option2","topIndex","bottomIndex","maxGap","minGap","topMinGap","bottomMinGap","remainedItems","BOTTOM_LOAD_PANEL_CLASS","TABLE_CONTENT_CLASS","FREESPACE_CLASS","VIRTUAL_ROW_CLASS","LOAD_TIMEOUT","VISIBLE_PAGE_INDEX","_correctCount","isItemCountableFunc","isItemCountableByDataSource","updateItemIndices","VirtualScrollingDataSourceAdapterExtender","_updateLoading","_virtualScrollController","_totalCount","_loadPageCount","_getVirtualScrollDataOptions","_renderTime","_startLoadTime","handleDataChanged","newMode","virtualScrollController","r","getDelayDeferred","loadPageCount","takeIsDefined","VirtualScrollingRowsViewExtender","removeEmptyRows","$emptyRows","_dataController$state","scrollToPage","_scrollToCurrentPageOnResize","resizeHandler","scrollPosition","itemSizes","_updateContentPosition","startRenderTime","_removeRowsElements","_updateBottomLoading","_addVirtualRow","$virtualRow","_getRowHeights","rowHeights","_correctRowHeights","correctedRowHeights","visibleRows","firstCountableItem","lastLoadIndex","isRender","rowHeight","$virtualRows","_isFixedTableRendering","_isTableLinesDisplaysCorrect","table","hasColumnLines","_isColumnElementsEqual","$columns","$virtualColumns","_getCellClasses","classes","isExpandColumn","_findBottomLoadPanel","$bottomLoadPanel","showBottomLoading","bottomLoadPanelElement","zeroTopPosition","updateViewport","hasBottomLoadPanel","isViewportChanging","scrollPos","loadIfNeed","_dataController$loadI","virtualScrollingModule","updateTimeout","minTimeout","renderingThreshold","rowPageSize","prerenderedRowChunkSize","loadTwoPagesOnStart","legacyMode","prerenderedRowCount","baseResult","initVirtualRows","_rowsScrollController","_this$getLoadPagePara","getLoadPageParams","getRowPageSize","rowsScrollController","isSortingOperation","allowedTopOffset","virtualRowsRendering","_allItems","_loadViewportParams","_visibleItems","_rowPageIndex","_viewportChanging","_needUpdateViewportAfterLoading","_getRowsScrollDataOptions","_this$_dataSource2","loadViewport","_updateLoadViewportParams","isItemCountable","_that$_dataSource","_itemCount","isNextAfterLast","countableOnly","delta","cancelEmptyChanges","_dataSource$lastLoadO","prevCountable","prevRowType","isPrevRowNew","currentIndex","wasCountableItem","itemCountable","isNextGroupItem","isNextDataItem","isPrevNewRowFirst","skipForCurrentPage","isNewRowOnStart","isNewRowInEmptyData","isLoadIndexGreaterStart","isLoadIndexLessEnd","byLoadedRows","firstLoadIndex","_dataSource$lastLoadO2","_this$_rowsScrollCont","getPreloadedRowCount","preloadCount","byLoadedPage","_this$_dataSource3","_this$_dataSource4","loadedPageIndex","loadedTake","topPreloadCount","bottomPreloadCount","skipWithPreload","loadingTake","_updateVisiblePageIndex","currentPageIndex","viewPortItemIndex","_getChangedLoadParams","loadedPageParams","pageIndexIsValid","_pageIndexIsValid","_loadItems","checkLoading","_dataSourceAdapter$lo","_dataSourceAdapter$pa","changedParams","currentLoadPageCount","lastRequiredItemCount","pageIndexNotChanged","allLoadedInAppendMode","viewportChanging","checkLoadedParamsOnly","loadingItemsStarted","_this$_loadViewportPa","_this$_loadViewportPa2","viewportIsNotFilled","currentTake","newTake","topItemIndex","_this$_loadViewportPa3","bottomItemIndex","_resizeTimeout","_lastTime","WINDOW_HEIGHT_PERCENT","getElementMaxHeightByWindow","startLocation","actualOffset","$window","elementOffset","getInnerHeight","offsetTop","offsetBottom","DX_CONTEXT_MENU_CONTENT_DELIMITER_CLASS","Submenu","orientation","onHoverStart","_renderDelimiter","$contentDelimiter","_overlayPositionedActionHandler","_showDelimiter","_toggleFocusClass","hoverStartAction","submenu","containerOffset","vLocation","hLocation","rootOffset","offsetLeft","rootWidth","rootHeight","submenuWidth","submenuHeight","_isMenuHorizontal","DX_MENU_VERTICAL_CLASS","DX_MENU_HORIZONTAL_CLASS","DX_CONTEXT_MENU_CONTAINER_BORDER_CLASS","DX_STATE_ACTIVE_CLASS","DX_ADAPTIVE_MODE_CLASS","DX_ADAPTIVE_HAMBURGER_BUTTON_CLASS","DX_ADAPTIVE_MODE_OVERLAY_WRAPPER_CLASS","SHOW_SUBMENU_OPERATION","NEXTITEM_OPERATION","PREVITEM_OPERATION","Menu","showFirstSubmenuMode","hideSubmenuOnMouseLeave","onSubmenuShowing","onSubmenuShown","onSubmenuHiding","onSubmenuHidden","adaptivityEnabled","rootMenuElements","submenuElements","_submenuItemElements","currentSubmenu","_submenus","navigationAction","isMenuHorizontal","_getItemsNavigationOperation","_getKeyboardNavigationAction","navOperation","_resizeEventTimer","_menuItemsWidth","_updateItemsWidthCache","$menuItems","_isAdaptivityEnabled","containerWidth","_toggleAdaptiveMode","_visibleSubmenu","_initAdaptivity","_hamburger","_toggleTreeView","_toggleHamburgerActiveState","$menuItemsContainer","$adaptiveElements","_hideVisibleSubmenu","_treeView","_$adaptiveContainer","rtl","_ignoreFunctionValueDeprecation","menuOptions","_treeviewItemClickHandler","$hamburger","_renderHamburgerButton","_getTreeViewOptions","_getAdaptiveOverlayOptions","delayType","_createSubmenu","_renderBorderElement","$submenuContainer","_getSubmenuOptions","_parentKey","_clearTimeouts","getSubmenuPosition","_attachSubmenuHandlers","$submenuTarget","onFocusedItemChanged","_nestedItemOnSelectionChangedHandler","_nestedItemOnItemClickHandler","_nestedItemOnItemRenderedHandler","_moveMainMenuFocus","$currentItem","$newItem","_clearSelectionInSubmenus","_clearRootSelection","targetSubmenu","cleanAllSubmenus","isOtherItem","$selectedItem","selectedItemData","_clearSelectedItems","$prevSelectedItem","prevSelectedItemData","$submenuOverlayContent","getOverlayContent","submenus","submenuMouseLeaveName","hoverEventEnd","_submenuOnShowingHandler","_submenuOnShownHandler","_submenuOnHidingHandler","_submenuOnHiddenHandler","_submenuMouseLeaveHandler","$border","relatedTarget","_getSubmenuByRootElement","_hideSubmenuAfterTimeout","_getDelay","isRootItemHovered","isSubmenuItemHovered","hoveredElementFromSubMenu","isHorizontalMenu","$closestItem","mouseMoveEventName","isSelectionActive","which","_getShowFirstSubmenuMode","_getSubmenuByElement","_itemMouseMoveHandler","_showSubmenuTimer","eventArg","_hideSubmenuTimer","_hoveredRootItem","pointers","_changeSubmenusOption","_removeAdaptivity","OPERATION_ICONS","default","notcontains","startswith","endswith","OPERATION_DESCRIPTORS","FILTERING_TIMEOUT","CORRECT_FILTER_RANGE_OVERLAY_WIDTH","FILTER_RANGE_OVERLAY_CLASS","FILTER_RANGE_START_CLASS","FILTER_RANGE_END_CLASS","MENU_CLASS","EDITOR_WITH_MENU_CLASS","EDITOR_CONTAINER_CLASS","FILTER_MENU","APPLY_BUTTON_CLASS","HIGHLIGHT_OUTLINE_CLASS","FOCUSED_CLASS","FILTER_RANGE_CONTENT_CLASS","FILTER_MODIFIED_CLASS","BETWEEN_OPERATION_DATA_TYPES","isOnClickApplyFilterMode","ColumnHeadersViewFilterRowExtender","$editorContainer","componentNames","Editor","getRangeTextByFilterValue","rangeEnd","getColumnFilterValue","formatOptions","getColumnSelectedFilterOperation","bufferedSelectedFilterOperation","isFilterRange","isRangeStart","updateFilterValue","_applyFilterViewController","setHighLight","normalizedValue","columnFilterValue","isBetween","_updateEditorValue","$editorRangeElements","overlayInstance","_updateFilterRangeContent","_updateFilterOperationChooser","_renderFilterRangeContent","_renderEditor","_getEditorOptions","_hideFilterRange","_filterRangeOverlayInstance","isFilterRowVisible","_initFilterRangeOverlay","$prevElement","prev","_updateFilterRangeOverlay","_showFilterRange","getFilterRangeOverlayInstance","_renderFilterCell","_renderFilterOperationChooser","accessibilityOptions","_getFilterInputAccessibilityAttributes","columnAriaLabel","$filterRangeContent","isCellWasFocused","menu","_focusEditor","_getFilterOperationMenuItems","properties","columnSelectedFilterOperation","notFocusEditor","isOnClickMode","_isEditorFocused","filterRowOptions","availableFilterOperations","descriptionName","DataControllerFilterRowExtender","skipCalculateColumnFilters","filters","ApplyFilterViewController","_getHeaderPanel","_headerPanel","enableApplyButton","removeHighLights","columnHeadersViewElement","filterRowModule","columnsResizer","_startResizing","_targetPoint","_endResizing","filterItem","_prepareFilterItem","_isShowApplyFilterButton","core","HEADER_FILTER_CLASS","HEADER_FILTER_MENU_CLASS","DEFAULT_SEARCH_EXPRESSION","resetChildrenItemSelection","updateSelectAllState","selectAllCheckBox","isSearchEnabled","updateHeaderFilterItemSelectionState","filterValuesMatch","isExcludeFilter","HeaderFilterView","getPopupContainer","getListContainer","_listContainer","applyHeaderFilter","list","isFilterBuilder","fillSelectedItemKeys","isExclude","hasChildren","hasChildrenWithSelection","hideHeaderFilterMenu","$columnElement","updatePopup","headerFilterMenu","_cleanPopupContent","_getSearchExpr","useDefaultSearchExpr","headerFilterDataSource","headerFilterOptions","_initializeListContainer","widgetOptions","showSelectionControls","_selectedItemsUpdating","oldSelected","filterValueIndex","headerFilterMixin","$headerFilterIndicator","_isHeaderFilterEmpty","DATE_INTERVAL_FORMATS","ungroupUTCDates","dateParts","dates","isMonthPart","convertDataFromUTCToLocal","isUTCFormat","HeaderFilterController","_headerFilterView","_updateSelectedState","_normalizeGroupItem","currentLevel","valueSelector","displaySelector","getHeaderItemText","getDisplayFormat","firstValueText","secondValue","secondValueText","_column$headerFilter","remoteGrouping","isLookup","lookupDataSourceOptions","cutoffLevel","_currentColumn","useDefaultSearch","convertUTCDates","origPostProcess","getCurrentColumn","isGroupPanel","showHeaderFilterMenuBase","columnElement","dxResizableInstance","dxResizable","headerFilterByColumn","ColumnHeadersViewHeaderFilterExtender","_subscribeToIndicatorEvent","_updateHeaderFilterIndicators","_needUpdateFilterIndicators","HeaderPanelHeaderFilterExtender","headerFilterModule","headerFilterView","FILTER_BUILDER_RANGE_CLASS","FILTER_BUILDER_RANGE_START_CLASS","FILTER_BUILDER_RANGE_END_CLASS","FILTER_BUILDER_RANGE_SEPARATOR_CLASS","SEPARATOR","conditionInfo","$editorStart","$editorEnd","getStartValue","getEndValue","_editorFactory","getConfig","valueSeparator","notForLookup","isblank","isnotblank","OPERATION_NAME","getIconByFilterOperation","filterOperation","getNameByFilterOperation","DEFAULT_DATA_TYPE","EMPTY_MENU_ICON","AND_GROUP_OPERATION","EQUAL_OPERATION","NOT_EQUAL_OPERATION","boolean","object","DEFAULT_FORMAT","LOOKUP_OPERATIONS","AVAILABLE_FIELD_PROPERTIES","FILTER_BUILDER_CLASS","FILTER_BUILDER_ITEM_TEXT_CLASS","FILTER_BUILDER_ITEM_TEXT_PART_CLASS","FILTER_BUILDER_ITEM_TEXT_SEPARATOR_CLASS","FILTER_BUILDER_ITEM_TEXT_SEPARATOR_EMPTY_CLASS","getFormattedValueText","fieldFormat","formatHelper","isNegationGroup","isCondition","getGroupCriteria","setGroupCriteria","convertGroupToNewStructure","setGroupValue","getGroupMenuItem","availableGroups","groupValue","getGroupValue","getCriteriaOperation","getDefaultFilterOperations","containItems","entity","getFilterOperations","getCaptionByOperation","filterOperationsDictionary","getOperationFromAvailable","availableOperations","getCustomOperation","filteredOperations","getAvailableOperations","isLookupField","isOperationForbidden","isCustom","getDefaultOperation","createCondition","condition","updateConditionByOperation","createEmptyGroup","isNegation","isNegationGroupOperation","groupOperation","getGroupOperationFromNegationOperation","getField","extendedFields","getItems","convertToInnerGroup","defaultGroupOperation","innerGroup","convertToInnerStructure","appendGroupOperationToGroup","convertToInnerCondition","conditionHasCustomOperation","appendGroupOperationToCriteria","getNormalizedFields","normalizedField","defaultCalculateFilterExpression","getConditionFilterExpression","filterExpression","getFilterExpression","_filterExpression","getNormalizedFilter","itemsForRemove","normalizedGroupValue","isValidCondition","getCurrentLookupValueText","lookupDataSource","loadSingle","getPrimitiveValueText","getArrayValueText","checkDefaultValue","getCurrentValueText","_len","_key","itemExists","pushItemAndCheckParent","originalItems","hasParent","getParentIdFromItemDataField","generateCaptionByDataField","lastIndexOf","getCaptionWithParents","getOperationValue","getMergedOperations","betweenCaption","betweenIndex","isMatchedCondition","addedFilterDataField","removeFieldConditionsFromFilter","hasMatchedCondition","syncConditionIntoGroup","addedFilter","canPush","syncFilters","getMatchedConditions","filterHasField","renderValueText","lastItemIndex","t","baseOperation","grid","getFullText","parentText","lastIndex","div","closeEditor","fieldInfo","itemsDeferred","_values","getSelectedItemsTexts","selectedItemsTexts","anyOf","noneOf","baseOp","baseFilter","FILTER_ROW_OPERATIONS","FILTER_TYPES_INCLUDE","FILTER_TYPES_EXCLUDE","getColumnIdentifier","checkForErrors","FilterSyncController","getEmptyFilterValues","canSyncHeaderFilterWithFilterRow","getConditionFromFilterRow","getConditionFromHeaderFilter","selectedOperation","updateHeaderFilterCondition","headerFilterCondition","hasArrayValue","updateFilterRowCondition","syncFilterValue","_skipSyncColumnOptions","filterConditions","filterCondition","_initSync","filteringColumns","isFilterSyncActive","_getSyncFilterRow","_getSyncHeaderFilter","syncFilterRow","syncHeaderFilter","getCustomFilterOperations","filterBuilderCustomOperations","DataControllerFilterSyncExtender","filterSyncEnabledValue","calculatedFilterValue","_parseColumnPropertyName","matched","match","propertyName","ColumnHeadersViewFilterSyncExtender","filterSyncModule","filterSync","FILTER_BUILDER_GROUP_CLASS","FILTER_BUILDER_GROUP_ITEM_CLASS","FILTER_BUILDER_GROUP_CONTENT_CLASS","FILTER_BUILDER_GROUP_OPERATIONS_CLASS","FILTER_BUILDER_GROUP_OPERATION_CLASS","FILTER_BUILDER_ACTION_CLASS","FILTER_BUILDER_IMAGE_CLASS","FILTER_BUILDER_IMAGE_ADD_CLASS","FILTER_BUILDER_IMAGE_REMOVE_CLASS","FILTER_BUILDER_ITEM_FIELD_CLASS","FILTER_BUILDER_ITEM_OPERATION_CLASS","FILTER_BUILDER_ITEM_VALUE_CLASS","FILTER_BUILDER_ITEM_VALUE_TEXT_CLASS","FILTER_BUILDER_OVERLAY_CLASS","FILTER_BUILDER_FILTER_OPERATIONS_CLASS","FILTER_BUILDER_FIELDS_CLASS","FILTER_BUILDER_ADD_CONDITION_CLASS","ACTIVE_CLASS","FILTER_BUILDER_MENU_CUSTOM_OPERATION_CLASS","SOURCE","TAB_KEY","ENTER_KEY","ESCAPE_KEY","OPERATORS","FilterBuilder","closePopupOnTargetScroll","_initCustomOperations","disableInvalidateForValue","_disableInvalidateForValue","_initModel","_getNormalizedFields","_model","_getFilterExpression","_customOperations","_updateFilter","_getModel","_initEditorFactory","_getDefaultGroupOperation","_this$option$","actionConfig","_createGroupElementByCriteria","_createConditionElement","_createConditionItem","$group","_createGroupElement","$groupContent","groupCriteria","innerCriteria","$groupItem","_createRemoveButton","_createGroupOperationButton","_createAddButton","newGroup","newCondition","_getGroupOperations","groupMenuItem","$operationButton","_createButtonWithMenu","removeMenu","info","treeViewElement","treeView","dxTreeView","_subscribeOnClickAndEnterKey","_createPopupWithTreeView","_hasValueButton","_createOperationButtonWithMenu","currentOperation","$valueButton","_createValueButton","_createOperationAndValueButtons","_createFieldButtonWithMenu","getFullCaption","$fieldButton","isSingleChild","$removeButton","addGroupHandler","addConditionHandler","_createValueText","$text","_createValueEditorWithEvents","_updateConditionValue","areValuesDifferent","_addDocumentKeyUp","isComposing","hasCompositionJustEnded","documentKeyUpHandler","input","_documentKeyUpHandler","_addDocumentClick","closeEditorFunc","documentClickHandler","_isFocusOnEditorParts","_documentClickHandler","activeElement","_removeEvents","createValueText","_createValueEditor","class","$menuContainer","FilterBuilderView","_updatePopupOptions","_initPopup","_filterBuilderPopup","_disposePopup","_filterBuilder","_getPopupContentTemplate","_getPopupToolbarItems","$filterBuilderContainer","ScrollView","filterBuilderModule","filterBuilderView","FILTER_PANEL_CLASS","FILTER_PANEL_TEXT_CLASS","FILTER_PANEL_CHECKBOX_CLASS","FILTER_PANEL_CLEAR_FILTER_CLASS","FILTER_PANEL_LEFT_CONTAINER","FILTER_PANEL_TARGET","FilterPanelView","$leftContainer","_filterValueBuffer","_getCheckElement","_getFilterElement","_getTextElement","_getRemoveButtonElement","_showFilterBuilder","_addTabIndexToElement","filterText","$textElement","getFilterText","customText","clearFilterValue","tabindex","_getConditionText","fieldText","operationText","_getValueMaskedText","_getValueText","hasCustomOperation","gridUtils","getConditionText","getGroupText","isInnerGroup","textParts","groupText","filterPanelModule","filterPanelView","SEARCH_PANEL_CLASS","SEARCH_TEXT_CLASS","searchModule","onQueryDone","valueGetter","_i","getSearchPanelOptions","_prepareSearchItem","searchPanelOptions","$search","getSearchTextEditor","$searchPanel","dxTextBox","_searchParams","_getFormattedSearchText","_getStringNormalizer","isCaseSensitive","_findHighlightingTextNodes","_$items","stringNormalizer","normalizedSearchText","resultTextNodes","$contents","normalizedText","_highlightSearchTextCore","$textNode","$searchTextSpan","firstContentElement","after","_highlightSearchText","isEquals","textNodes","textNode","_highlightTimer","GridPagerWrapper","pageIndexChanged","pageSizeChanged","toNumber","attribute","getElementStyle","_getElementComputedSt","computedStyle","getElementComputedStyle","getElementWidth","getElementMinWidth","viewFunction","contentAttributes","infoTextRef","infoTextVisible","isLargeDisplayMode","pageSizesRef","pagesRef","parentRef","Content","rootElementRef","calculateAdaptivityProps","infoWidth","pageSizesWidth","pageSizes","pagesWidth","pages","parentWidth","minimalWidth","getElementsWidth","pagesHtmlWidth","ResizableContainerProps","TemplateProp","normalizeProps","createComponentVNode","ResizableContainer","infernoCreateRef","subscribeToResize","effectUpdateChildProps","updateAdaptivityProps","InfernoEffect","pagerProps","_this$_effects$","_this$_effects$2","_effects","resizeCallbacks","gridCompatibility","lightModeEnabled","maxPagesCount","pageIndexChange","pageSizeChange","pagesCountText","pagesNavigatorVisible","showPageSizes","restAttributes","currentElementsWidth","actualAdaptivityProps","elementsWidth","setState","__state_argument","_this$props","restProps","InfernoComponent","BasePagerProps","PagerProps","getOwnPropertyDescriptors","defaultPageSize","InternalPagerProps","PAGER_INFO_CLASS","createVNode","InfoTextPropsType","InfoText","_this$props$infoText","BaseInfernoComponent","KeyboardActionContext","createContext","widgetRef","LightButtonProps","LightButton","keyboardEffect","subscribeToClick","keyboardContext","subscribeToClickEvent","PAGER_CLASS","LIGHT_MODE_CLASS","PAGER_PAGES_CLASS","PAGER_PAGE_INDEXES_CLASS","PAGER_PAGE_CLASS","PAGER_SELECTION_CLASS","PAGER_PAGE_SIZE_CLASS","PAGER_PAGE_SIZES_CLASS","PAGER_SELECTED_PAGE_SIZE_CLASS","PageProps","Page","combineClasses","_excluded2","PAGER_PAGE_SEPARATOR_CLASS","PagesMarkup","pageProps","createFragment","PAGES_LIMITER","getDelimiterType","slidingWindowSize","createPageIndexesBySlidingWindowIndexes","slidingWindowIndexes","delimiter","pageIndexes","indexesForReuse","createPageIndexes","PagesLargePropsType","PagesLarge","canReuseSlidingWindow","generatePageIndexes","isSlidingWindowMode","onPageClick","ConfigContext","slidingWindowState","slidingWindowStateHolder","currentPageCount","currentPageNotExistInIndexes","pageIndexExistInIndexes","_createPageIndexes","_this$config","createPage","rtlPageIndexes","DEFAULT_VALUE","DomComponentWrapper","componentType","LegacyNumberBox","componentProps","templateNames","NumberBoxProps","BaseWidgetProps","isReactComponentWrapper","NumberBox","_this$props$value","oneDigitWidth","calculateValuesFittedWidth","PAGER_INFO_TEXT_CLASS","PAGER_PAGE_INDEX_CLASS","LIGHT_PAGES_CLASS","PAGER_PAGES_COUNT_CLASS","pageIndexRef","selectLastPageIndex","valueChange","PagerSmallProps","PagesSmall","updateWidth","_this$pageIndexRef$cu","_this$props$pagesCoun","PAGER_NAVIGATE_BUTTON","PAGER_PREV_BUTTON_CLASS","PAGER_NEXT_BUTTON_CLASS","PAGER_BUTTON_DISABLE_CLASS","nextButtonClassName","prevButtonClassName","nextButtonDisabledClassName","prevButtonDisabledClassName","navigateToNextPage","navigateToPrevPage","nextClassName","prevClassName","renderNextButton","renderPrevButton","getIncrement","PageIndexSelectorProps","PageIndexSelectorPropsType","PageIndexSelector","getNextDirection","getPrevDirection","canNavigateToPage","getNextPageIndex","canNavigateTo","navigateToPage","_this$config2","canNavigate","LegacySelectBox","SelectBoxProps","SelectBox","PageSizeSmallPropsType","PageSizeSmall","p","pageSizesText","PageSizeLargePropsType","PageSizeLarge","__getterCache","onPageSizeChange","processedPageSize","nextProps","nextState","htmlRef","normalizedPageSizes","getAllText","PageSizeSelectorProps","PageSizeSelectorPropsType","PageSizeSelector","setRootElementRef","infoVisible","pageIndexSelectorVisible","pagesContainerVisibility","pagesContainerVisible","widgetRootElementRef","normalizeStyles","PagerContentProps","PagerContent","createFakeInstance","keyboardAction","_this$props$onKeyDown","fakePagerInstance","_registerKeyboardAction","normalizedDisplayMode","classesMap","_this$props2","Pager","createReRenderEffect","__newValue","_newValue","newPageSize","_this$props$pageSize$","InfernoWrapperComponent","_wrapKeyDownHandler","twoWay","allowNull","PagerComponent","MAX_PAGES_COUNT","getPageIndex","PagerView","_pager","pagerOptions","useLegacyKeyboardNavigation","getPager","_pageSizes","pagerVisible","isPager","isPaging","isDataSource","isScrolling","pagerModule","COLUMNS_SEPARATOR_CLASS","COLUMNS_SEPARATOR_TRANSPARENT","DRAGGING_HEADER_CLASS","HEADERS_DRAG_ACTION_CLASS","TRACKER_CLASS","HEADERS_DROP_HIGHLIGHT_CLASS","BLOCK_SEPARATOR_CLASS","DRAGGING_COMMAND_CELL_CLASS","COLUMNS_SEPARATOR_TOUCH_TRACKER_WIDTH","DRAGGING_DELTA","COLUMN_OPACITY","TrackerView","_unsubscribeFromCallback","_positionChanged","_tablePositionController","_subscribeToCallback","_setHeight","SeparatorView","_isShown","ColumnsSeparatorView","_isTransparent","columnsSeparatorTransparent","moveByX","outerX","changeCursor","cursorName","BlockSeparatorView","startAnimate","toOptions","DraggingHeaderView","_isDragging","isDragging","_getDraggingPanelByPos","_dragOptions","boundingRect","_resetTargetColumnOptions","_dropOptions","targetColumnIndex","targetColumnElement","posX","posY","_getVisibleIndexObject","_columnsResizerViewController","dragHeader","isCommandColumn","sourceIndex","sourceColumnIndex","sourceColumnElement","_onSelectStart","onselectstart","drag","whiteSpace","swatchContainer","moveHeader","eventData","getEventData","dragOptions","moveDeltaX","deltaX","moveDeltaY","deltaY","newLeft","newTop","dockHeader","targetDraggingPanel","isVerticalOrientation","axisName","pointsByTarget","pointsByColumns","_generatePointsByColumns","centerPosition","dock","dropHeader","drop","isNextColumnResizingMode","ColumnsResizerViewController","_isHeadersRowArea","headersRowHeight","_isRtlParentStyle","_this$_$parentContain","_$parentContainer","_pointCreated","point","cellsLength","isNextColumnMode","isRtlParentStyle","firstPointColumnIndex","nextColumn","_getTargetPoint","currentX","_moveSeparator","_that$_draggingHeader","columnsSeparatorWidth","_columnsSeparatorView","parentOffset","parentOffsetLeft","_draggingHeaderView","_isResizing","_resizingInfo","_updateColumnsWidthIfNeeded","currentColumnIndex","outerWidth","_previousParentOffset","_isReadyResizing","_trackerView","_getNextColumnIndex","_setupResizingInfo","nextColumnIndex","currentHeader","nextHeader","startPosX","currentColumnWidth","nextColumnWidth","isTouchEvent","_pointsByColumns","_unsubscribeFromEvents","_moveSeparatorHandler","_startResizingHandler","_endResizingHandler","_subscribeToEvents","nextCellWidth","cellWidth","needUpdate","resizingInfo","setColumnWidth","oldColumnWidth","allColumnsHaveWidth","totalPercent","hasScroll","_subscribesToCallbacks","_unsubscribeFromCallbacks","subscribe","_unsubscribes","generatePointsByColumnsHandler","generatePointsByColumnsScrollHandler","previousScrollbarVisibility","previousTableHeight","scrollbarVisibility","TablePositionViewController","diffOffsetTop","columnsHeadersHeight","scrollBarWidth","columnsResizerController","draggingHeaderView","isDraggingOrResizing","_pagerView","targetPoint","DraggingHeaderViewController","draggingHeader","nameDraggingPanel","subscribeToEvents","dragEventStart","dragEventMove","dragEventEnd","_getSeparator","_blockSeparatorView","hideSeparators","blockSeparator","columnsSeparator","_animationColumnIndex","_headerPanelView","_columnChooserView","allowDrop","headersView","separator","hasTargetVisibleIndex","columnsResizingReorderingModule","columnsSeparatorView","blockSeparatorView","trackerView","tablePosition","GROUP_FOOTER_CLASS","FREESPACE_ROW_CLASS","COMMAND_CELL_SELECTOR","DATEBOX_WIDGET_NAME","FAST_EDITING_DELETE_KEY","INTERACTIVE_ELEMENTS_SELECTOR","NON_FOCUSABLE_ELEMENTS_SELECTOR","FOCUS_TYPE_ROW","FOCUS_TYPE_CELL","COLUMN_HEADERS_VIEW","FUNCTIONAL_KEYS","isNotFocusedRow","isCellElement","_isRowEditMode","isElementDefined","isMobile","isCellInHeaderRow","isFixedColumnIndexOffsetRequired","shouldPreventScroll","_isVirtualScrolling","KeyboardNavigationController","_selectionController","_updateFocusTimeout","_fastEditingStarted","_focusedCellPosition","_canceledCellPosition","setupFocusedView","_isNeedScroll","_focusedView","_initViewHandlers","_initDocumentHandlers","rowsViewFocusHandler","isRelatedTargetInRowsView","isCommandButton","_isEventInCurrentGrid","$focusedCell","_getFocusedCell","$rowsView","isFocusedViewCorrect","needUpdateFocus","isFocusedElementCorrect","_initPointerEventHandler","_initKeyDownHandler","_setRowsViewAttributes","_isNeedFocus","_isHiddenFocus","isCurrentRowsViewClick","isEditorOverlay","isColumnResizing","targetInsideFocusedView","_resetFocusedCell","_resetFocusedView","_getRowsViewElement","isGridEmpty","_applyTabIndexToElement","pointerEventName","_pointerEventAction","_pointerEventHandler","keyboard","_keyDownListener","_keyDownHandler","isRowFocusType","focusType","isCellFocusType","setRowFocusType","setCellFocusType","needStopPropagation","_processOnKeyDown","_updateFocusedCellPositionByTarget","_leftRightKeysHandler","ctrl","_upDownKeysHandler","_pageUpDownKeyHandler","_spaceKeyHandler","_ctrlAKeyHandler","_beginFastEditing","_tabKeyHandler","_enterKeyHandler","_escapeKeyHandler","_ctrlFKeyHandler","_f2KeyHandler","_isFastEditingAllowed","_isFastEditingStarted","alt","altKey","_closeEditCell","getVisibleRowIndex","$event","directionCode","_getDirectionCodeByKey","isEditingNavigationMode","allowNavigate","_isVirtualColumnRender","_processVirtualHorizontalPosition","_getNextCell","_arrowKeysHandlerFocusCell","_this$_editingControl","isUpArrow","isRowEditingInCurrentRow","_navigateNextCell","_isVirtualRowRender","_scrollBy","isPageUp","pageStep","isFocusedRowElement","_getElementType","isFocusedSelectionCell","isCellPositionDefined","isOriginalHandlerRequired","_isLastValidCell","_isFirstValidCell","eventTarget","focusedViewElement","_handleTabKeyOnMasterDetailCell","_editingCellTabHandler","_targetCellTabHandler","_getMaxHorizontalOffset","_isColumnRendered","allVisibleColumns","renderedVisibleColumns","_isFixedColumn","_isColumnVirtual","localColumnIndex","getColumnIndex","horizontalScrollPosition","needToScroll","_getVisibleColumnCount","leftEdgePosition","_getHorizontalScrollPositionOffset","scrollBy","positionOffset","$currentCell","_getCell","currentCellWidth","rtlMultiplier","isEditingAllowed","_getCellElementFromTarget","elementType","_updateFocusedCellPosition","nextCellInfo","_getNextCellByTabKey","_getRowIndex","_isDataRow","_focusCell","isHighlighted","_editFocusedCell","_focusInteractiveElement","$lastInteractiveElement","_getInteractiveElement","getFirstValidCellInRow","_checkNewLineTransition","_fireFocusedCellChanging","$newCellElement","_getCellPosition","_fireFocusedRowChanging","rowIndexChanged","setFocusedColumnIndex","_processEnterKeyForDataCell","_getEnterKeyDirection","allowEditingOnEnterKey","_allowEditingOnEnterKey","_handleEnterKeyEditingCell","_startEditing","isShift","_focusEditFormCell","searchTextEditor","keyCode","isCellValid","_isCellValid","$nextCell","isVerticalDirection","_fireFocusChangingEvents","_focus","isDeleting","fastEditingKey","fromCharCode","isInteractiveElement","isExpandCommandCell","_isInsideEditForm","_focusView","_isMasterDetailCell","_clickTargetCellHandler","_isCellEditMode","setFocusedRowIndex","prevRowIndex","resetFocusedRow","_resetFocusedRow","_allowRowUpdating","skipFocusEvent","isEditor","isDisabled","activeElementSelector","_focusElement","getFocusedView","rowsViewElement","$focusedView","_getFocusedViewByElement","$view","disableFocus","$focusElement","focusedView","isRowFocus","isRenderView","_hasSkipRow","_checkCellOverlapped","$focusedElementInsideCell","isFocusedElementDefined","cellOffset","hasScrollable","isOverlapped","_this$_focusedCellPos","setFocusedCellPosition","_getFocusedColumnIndexOffset","_getFixedColumnIndexOffset","_applyColumnIndexBoundaries","preventScroll","_this$_focusedView","renderFocusState","restoreFocusableElement","newRowIndex","_getNewPositionByCode","code","visibleColumnsCount","_hasValidCellAfterPosition","_isLastRow","_hasValidCellBeforePosition","_isCellByPositionValid","getMaxRowIndex","isFirstValidCell","hasValidCells","checkingPosition","visibleColumnCount","isLastRow","isClick","isShowWhenGrouped","isDataCell","rowItems","_isLegacyNavigation","$result","focusedCellPosition","includeCommandCells","newFocusedCellPosition","isLastCellOnDirection","_isCellInRow","visibleColumnIndex","_isAllowEditing","_startEditCell","colIndex","editResult","_editingCellHandler","editorValue","_$input$get$select","_$input$get","$input","keyDownEvent","createEvent","keyPressEvent","inputEvent","val","$widgetContainer","fireRowEvent","newColumnIndex","prevCellIndex","prevColumnIndex","_fireFocusedCellChanged","localRowIndex","$newFocusedRow","prevFocusedRowIndex","_fireFocusedRowChanged","getFocusedRowIndexByKey","$masterDetailCell","$masterDetailGrid","_processNextCellInMasterDetail","_processCanceledEditCellPosition","isCanceled","updateFocusedRowIndex","lastVisibleIndex","keyboardNavigationModule","needTriggerPointerEventHandler","_triggerPointerDownEventHandler","cellElements","updateFocusElementTabIndex","_updateFocusedCellTabIndex","cellElementsLength","updateCellTabIndex","isMasterDetailCell","isValidCell","_renderFocusByChange","editorInstance","_getEditorInstance","_handleEditingNavigationMode","originalKeyHandler","isDropDownOpened","isDateBoxWithMask","keyboardNavigationController","_keyboardNavigationController","getRowIndexCorrection","focusedRowIndexCorrection","adaptiveColumns","_showHiddenCellsInView","_hideVisibleCellInView","depthFirstSearch","depth","root","isCount","aggregator","aggregators","normalizeAggregate","aggregate","_data","_groupLevel","_totalAggregates","totalAggregates","_groupAggregates","groupAggregates","_totals","calculate","_calculateTotals","_calculateGroups","_aggregate","aggregates","_accumulate","_seed","_finalize","maxLevel","seedFn","stepFn","finalizeFn","innerNode","seed","NaN","aggregateIndex","step","fin","finalize","DATAGRID_TOTAL_FOOTER_CLASS","DATAGRID_SUMMARY_ITEM_CLASS","DATAGRID_TEXT_CONTENT_CLASS","DATAGRID_GROUP_FOOTER_CLASS","DATAGRID_GROUP_TEXT_CONTENT_CLASS","DATAGRID_NOWRAP_CLASS","DATAGRID_FOOTER_ROW_CLASS","DATAGRID_GROUP_FOOTER_ROW_TYPE","DATAGRID_TOTAL_FOOTER_ROW_TYPE","renderSummaryCell","$summaryItems","getSummaryCellOptions","getGroupAggregates","FooterView","footerItems","needUpdateScrollLeft","$newTable","$newRow","totalColumnIndices","SummaryDataSourceAdapterExtender","_summaryGetter","summaryGetter","_summary","sortByGroupsInfo","sortByGroups","groupedItems","forEachGroup","itemsPath","SummaryDataSourceAdapterClientExtender","calculateAggregates","calculator","insertedData","applyAddedData","removedData","applyRemovedData","updatedData","updatedItems","set","AggregateCalculator","sortGroupsBySummary","sortGroupsBySummaryCore","sortBy","thenBy","sortedItems","totalSummary","_options$cachedData$e","hasOperations","_isDataColumn","_isGroupFooterVisible","isGroupFooterVisible","summaryGroupItems","afterGroupColumnIndex","_calculateSummaryCells","calculateTargetColumnIndex","summaryCellsByColumns","summaryIndex","columnCaption","_getSummaryCells","summaryTotalItems","_footerItems","oldSummaryCells","summaryCell","_prepareUnsavedDataSelector","_prepareAggregateSelector","_getAggregates","commonSkipEmptyValues","summaryProcess","totalValue","_addSortInfo","_findSummaryItem","summaryItemIndex","_getSummarySortByGroups","groupSummaryItems","currentRemoteOperations","_getSummaryOptions","totalSummaryItems","methods","getTotalSummaryValue","summaryItemName","_refreshSummary","_renderGroupSummaryCells","_hasAlignByColumnSummaryItems","_getAlignByColumnCellCount","groupCellColSpan","alignByColumnCellCount","$groupCell","_renderGroupSummaryCellsCore","_getSummaryCellIndex","FIRST_CELL_CLASS","LAST_CELL_CLASS","HOVER_STATE_CLASS","FIXED_COL_CLASS","FIXED_COLUMNS_CLASS","POINTER_EVENTS_NONE_CLASS","getTransparentColumnIndex","normalizeColumnWidths","fixedWidths","fixedColumnIndex","baseFixedColumns","_isFixedColumns","_correctColumnIndicesForFixedColumns","_partialUpdateFixedTable","fixedTableElement","_fixedTableElement","$fixedTable","fixedCorrection","fixedCells","prevFixedColumn","columnCommand","isRowAltStyle","isEmptyCell","isFixedTableRendering","isGroupCell","alignByFixedColumnCellCount","headerRowIndex","fixedCellElements","fixedColumn","getFixedColumnsOffset","$transparentColumn","getTransparentColumnElement","positionTransparentColumn","getFixedTableElement","synchronizeRows","isWidthsSynchronized","isColumnWidthChanged","useVisibleColumns","_getClientHeight","boundingClientRectElement","$fixedRowElements","fixedRowHeights","heightTable","heightFixedTable","fixedRowHeight","ColumnHeadersViewFixedColumnsExtender","columnFixingOptions","getFixedColumnElements","$transparentColumnElement","$fixedColumnElements","RowsViewFixedColumnsExtender","_detachHoverEvents","attachHoverEvent","isHover","contentClass","scrollDelay","_fixedScrollTimeout","wheelEventName","$nearestScrollable","shouldScroll","nearestScrollableInstance","nearestScrollableHasVerticalScrollbar","_updateFixedTablePosition","needFocus","vWidth","hWidth","styles","$fixedContent","_getElasticScrollTop","elasticScrollTop","reachedBottom","$scrollableContent","$scrollableContainer","maxScrollTop","_applyElasticScrolling","FooterViewFixedColumnsExtender","columnFixingModule","normalizeColumnIndicesByPoints","correctIndex","pointsByFixedColumns","_pointsByFixedColumns","isWidgetResizingMode","ROWS_VIEW","FOOTER_VIEW","COLUMN_VIEWS","ADAPTIVE_NAMESPACE","ADAPTIVE_ROW_TYPE","FORM_ITEM_CONTENT_CLASS","FORM_ITEM_MODIFIED","HIDDEN_COLUMN_CLASS","ADAPTIVE_COLUMN_BUTTON_CLASS","ADAPTIVE_COLUMN_NAME_CLASS","COMMAND_ADAPTIVE_HIDDEN_CLASS","ADAPTIVE_DETAIL_ROW_CLASS","ADAPTIVE_ITEM_TEXT_CLASS","LAST_DATA_CELL_CLASS","ADAPTIVE_COLUMN_NAME","EXPAND_ARIA_NAME","COLLAPSE_ARIA_NAME","getDataCellElements","adaptiveCellTemplate","$adaptiveColumnButton","adaptiveColumnsController","toggleExpandAdaptiveDetailRow","AdaptiveColumnsController","_getEditMode","_isItemModified","_renderFormViewTemplate","focusAction","renderFormTemplate","isItemEdited","_isItemEdited","_isVisibleColumnsValid","_calculatePercentWidths","percentWidths","_getItemPercentWidth","_isPercentWidth","_isColumnHidden","_hiddenColumns","hiddenColumn","columnsCanFit","fixedColumnsWidth","columnsWithoutFixedWidthCount","_calculatePercentWidth","_calculateColumnWidth","contentColumns","colWidth","widthOption","columnFitted","partialWidth","resultWidth","_getNotTruncatedColumnWidth","_getCommandColumnsWidth","adaptiveExpandedKey","_getFormItemsByHiddenColumns","hiddenColumns","_getAdaptiveColumnVisibleIndex","_hideAdaptiveColumn","_hideVisibleColumn","cssClassNameToRemove","_showHiddenColumns","$hiddenCommandCells","$hiddenCells","_hideVisibleColumnInView","rowsCount","cancelClassAdding","currentVisibleIndex","_findCellElementInRow","$rowCells","cellIsInsideGroup","groupCellLength","endGroupIndex","cssClassNameToAdd","hideRedundantColumns","hiddenQueue","hasHiddenColumns","needHideColumn","rootElementWidth","getVisibleContentColumns","visibleContentColumns","contentColumnsCount","columnBestFitWidth","getItemContentByColumnIndex","_$itemContents","alwaysExpanded","createFormByHiddenColumns","userFormOptions","defaultFormOptions","formOptions","_form","updateForm","hasAdaptiveDetailRowExpanded","_contentReadyAction","updateHidingQueue","columnsHasHidingPriority","hideableColumns","_hidingColumnsQueue","getHiddenColumns","getHidingColumnsQueue","adaptiveHidden","isAdaptiveVisible","isAdaptiveDetailRowExpanded","expandAdaptiveDetailRow","collapseAdaptiveDetailRow","updateCommandAdaptiveAriaLabel","setCommandAdaptiveAriaLabel","labelName","$adaptiveCommand","adaptivityModule","_adaptiveColumnsController","hidingColumnsQueueLength","hiddenColumnsLength","isClickable","_updateColumnWidth","hasHiddenColumnsOnly","hasAdaptiveHiddenWidth","$itemContents","_adaptiveController","oldExpandRowIndex","_isForceRowAdaptiveExpand","_collapseAdaptiveDetailRow","_cancelEditAdaptiveDetailRow","expandedKey","_adaptiveExpandedKey","adaptiveController","oldHiddenColumns","hidingColumnsQueue","_updateScrollableTimeoutID","expandRowIndex","lastRowIndex","oldExpandLoadedRowIndex","newExpandLoadedRowIndex","oldKey","isCellOrBatchMode","focusHandler","$dataCells","isCellElementsEquals","foreachColumnInfo","offsets","lastProcessedIndexes","processedColumnCount","createColumnsInfo","endIndex","newInfo","columnInfo","cellColspan","DEFAULT_COLUMN_WIDTH","setScrollPosition","HeaderViewExtender","ColumnsControllerExtender","getWidths","_beginPageIndex","_endPageIndex","_virtualVisibleColumns","currentPosition","getColumnPageSize","getTotalWidth","_fireColumnsChanged","_changedTimeout","_setScrollPositionCore","needColumnsChanged","visibleColumnsHash","beginFixedColumnCount","beginFixedColumns","beginColumns","beginWidth","endFixedColumnCount","endFixedColumns","endColumns","endWidth","columnsInfo","leftFixedColumnCount","virtualColumnsModule","columnPageSize","columnRenderingThreshold","_getEmptyCell","_defaultSetter","_cloneItem","_prepareItems","cols","_c","navigator","getNavigator","FILE_EXTESIONS","EXCEL","CSS","PNG","JPEG","GIF","SVG","PDF","MIME_TYPES","fileSaver","_revokeObjectURLTimeout","_getDataUri","mimeType","_getMimeType","_linkDownloader","href","exportLinkElement","download","_formDownloader","contentType","formAttributes","method","enctype","exportForm","setAttributes","_saveByProxy","_winJSBlobSave","blob","savePicker","Windows","Storage","Pickers","FileSavePicker","suggestedStartLocation","PickerLocationId","documentsLibrary","fileExtension","fileTypeChoices","suggestedFileName","pickSaveFileAsync","file","openAsync","FileAccessMode","readWrite","outputStream","inputStream","msDetachStream","Streams","RandomAccessStream","copyAsync","flushAsync","_click","link","dispatchEvent","MouseEvent","cancelable","initMouseEvent","_saveBlobAs","_blobSaved","msSaveOrOpenBlob","WinJS","URL","webkitURL","mozURL","msURL","oURL","objectURL","createObjectURL","downloadLink","revokeObjectURL","_objectUrlRevoked","saveAs","proxyURL","forceProxy","Blob","userAgent","ARABIC_ZERO_CODE","DEFINED_NUMBER_FORMTATS","thousands","millions","billions","trillions","percent","decimal","fixedpoint","exponential","PERIOD_REGEXP","DAY_REGEXP","DO_REGEXP","STANDALONE_MONTH_REGEXP","HOUR_REGEXP","ANY_REGEXP","excelFormatConverter","_applyPrecision","_hasArabicDigits","charCodeAt","_convertDateFormatToOpenXml","datePart","_convertDateFormat","getFormat","_getLanguageInfo","defaultPattern","languageID","languageIDStr","languageInfo","_convertNumberFormat","excelFormat","numberFormatter","stringFormat","convertFormat","tagHelper","toXml","attributeName","attributeValue","cellAlignmentHelper","tryCreateTag","sourceObj","vertical","wrapText","horizontal","copy","areEqual","leftTag","rightTag","tag","colorHelper","_tryConvertColor","colorCode","rgb","theme","patternFillHelper","patternType","backgroundColor","foregroundColor","fillHelper","patternFill","tryCreateFillFromSimpleFormat","fillPatternType","fillPatternColor","copySimpleFormat","fontHelper","family","scheme","italic","underline","color","cellFormatHelper","sharedItemsContainer","numberFormatId","numberFormat","registerNumberFormat","fill","fontId","registerFont","font","fillId","registerFill","applyNumberFormat","isAlignmentEmpty","xfId","applyAlignment","numFmtId","numberFormatHelper","ID_PROPERTY_NAME","formatCode","ExcelFile","_cellFormatTags","_fillTags","_fontTags","_numberFormatTags","cellFormat","cellFormatTag","cellFormatTagsAsXmlStringsArray","fillTag","tagsAsXmlStringsArray","fontTag","xmlStringsArray","_convertNumberFormatIndexToId","XML_TAG","GROUP_SHEET_PR_XML","SINGLE_SHEET_PR_XML","BASE_STYLE_XML2","OPEN_XML_FORMAT_URL","RELATIONSHIP_PART_NAME","XL_FOLDER_NAME","WORKBOOK_FILE_NAME","CONTENTTYPES_FILE_NAME","SHAREDSTRING_FILE_NAME","STYLE_FILE_NAME","WORKSHEETS_FOLDER","WORKSHEET_FILE_NAME","WORKSHEET_HEADER_XML","VALID_TYPES","EXCEL_START_TIME","DAYS_COUNT_BEFORE_29_FEB_1900","MAX_DIGIT_WIDTH_IN_PIXELS","UNSUPPORTED_FORMAT_MAPPING","quarterAndYear","ExcelCreator","_getXMLTag","_convertToExcelCellRef","zeroBasedRowIndex","zeroBasedCellIndex","charCode","isCellIndexFound","_convertToExcelCellRefAndTrackMaxIndex","_maxRowIndex","_maxColumnIndex","_getDataType","_tryGetExcelCellDataType","isBoolean","_formatObjectConverter","_tryConvertToExcelNumberFormat","newFormat","_appendString","_stringHash","_stringArray","_tryGetExcelDateValue","days","totalTime","_prepareValue","sourceValue","dataProvider","_dataProvider","getCellData","cellSourceData","getCellType","_callCustomizeExcelCell","sourceData","styleCopy","copyCellFormat","clearStyle","horizontalAlignment","verticalAlignment","wrapTextEnabled","newStyle","_getDataArray","cellsArray","cellData","rowsLength","styleArrayIndex","getStyleId","cellStyleId","_styleArrayIndexToCellStyleIdMap","hasCustomizeExcelCell","modifiedExcelCell","_styleArray","cellDataType","excelDateValue","_excelFile","registerCellFormat","_needSheetPr","getGroupLevel","_calculateWidth","pixelsWidth","_prepareStyleData","getStyles","_colsArray","fonts","_prepareCellData","_cellsArray","_createXMLRelationships","xmlRelationships","_createXMLRelationship","_getWorkbookContent","_getContentTypesContent","_generateStylesXML","folder","_zip","XML","generateNumberFormatsXml","generateFontsXml","generateFillsXml","generateCellFormatsXml","_generateStringsXML","stringIndex","stringsLength","sharedStringXml","_getPaneXML","frozenArea","getFrozenArea","_getAutoFilterXML","maxCellIndex","_options","autoFilterEnabled","getHeaderRowCount","_getIgnoredErrorsXML","ignoreErrors","_generateWorksheetXML","xmlCells","xmlRows","colsLength","rSpans","headerRowCount","xmlResult","_rtlEnabled","rightBottomCellRef","_generateMergingXML","k","l","mergeIndex","columnsLength","usedArea","mergeArray","mergeXML","cellMerge","getCellMerging","mergeArrayLength","_generateCommonXML","relsFileContent","relsXML","_generateContent","_generateWorkXML","JSZip","_checkZipState","ready","isBlob","compression","generateAsync","generate","excelCreator","standardColorNames","aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","feldspar","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","green","greenyellow","grey","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslateblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","violetred","wheat","white","whitesmoke","yellow","yellowgreen","standardColorTypes","re","process","colorString","s","hsvToRgb","hslToRgb","_round","Color","baseColor","parseColor","colorIsInvalid","normalize","g","hsv","toHsvFromRgb","hsl","toHslFromRgb","colorComponent","def","toHexFromRgb","H","S","V","vMin","vInc","vDec","calculateHue","convertTo01Bounds","maxMinSum","makeColorTint","colorPart","colorTint","modifyColorTint","hueToRgb","q","n","isIntegerBetweenMinAndMax","constructor","highlight","alter","toHex","darken","blend","blendColor","other","getPureColor","isValidHex","hex","test","isValidRGB","isValidAlpha","fromHSL","_math","_number","PI","sqrt","pow","atan2","cos","sin","_export","exportingAction","exportedAction","fileSavingAction","_isFunction","excel","creator","getExcelData","formatConverter","BUTTON_GROUP_WRAPPER_CLASS","BUTTON_GROUP_ITEM_CLASS","BUTTON_GROUP_FIRST_ITEM_CLASS","BUTTON_GROUP_LAST_ITEM_CLASS","BUTTON_GROUP_ITEM_HAS_WIDTH","SHAPE_STANDARD_CLASS","ButtonCollection","_prepareItemStyles","_getBasicButtonOptions","_templateData","_hasCustomTemplate","stylingMode","itemTemplateProperty","_renderItemContent","_renderItemContentByNode","_keyboardEventBindingTarget","_refreshContent","_prepareContent","_itemSelectHandler","ButtonGroup","_createItemClickAction","_renderButtons","$buttons","_buttonsCollection","itemElements","DROP_DOWN_BUTTON_CLASS","DROP_DOWN_BUTTON_CONTENT","DROP_DOWN_BUTTON_ACTION_CLASS","DROP_DOWN_BUTTON_TOGGLE_CLASS","DROP_DOWN_BUTTON_HAS_ARROW_CLASS","DROP_DOWN_BUTTON_POPUP_WRAPPER_CLASS","DROP_DOWN_EDITOR_OVERLAY_CLASS","DX_BUTTON_TEXT_CLASS","DX_ICON_RIGHT_CLASS","DropDownButton","useSelectMode","splitButton","showArrowIcon","dropDownOptions","dropDownContentTemplate","wrapItemText","useItemTextAsTitle","groupTemplate","buttonGroupOptions","_setOptionsByReference","_createActionClickAction","_createSelectionChangedAction","_compileKeyGetter","_itemsToDataSource","FunctionTemplate","$listContainer","_escHandler","_getKey","storeKey","_keyGetter","_renderButtonGroup","_updateArrowClass","_loadSelectedItem","_updateActionButton","_renderFocusTarget","_renderPopupContent","_this$_loadSingleDefe","_loadSingleDeferred","_lastSelectedItemData","cachedResult","_loadSingle","_actionClickAction","_selectionChangedAction","_fireSelectionChangedAction","previousItem","_fireItemClickAction","_actionItem","_actionButtonConfig","_getButtonGroupItems","_buttonGroupItemClick","isActionButton","isToggleButton","_buttonGroupOptions","buttonContent","$firstIcon","$textContainer","$secondIcon","onKeyboardHandled","_keyboardHandler","_popupContentId","$buttonClicked","actionResult","_buttonGroup","_upDownKeyHandler","_tabHandler","_popupHidingHandler","_popupShowingHandler","_bindInnerWidgetOptions","_setAriaExpanded","_popupOptionChanged","_setPopupOption","optionsKeys","getSizeValue","_setWidgetOption","_ariaExpandedElements","ariaElement","owns","$buttonGroup","buttonElements","hasArrow","_setListOption","_getDisplayValue","isPrimitiveItem","_selectedItemKeyChanged","_actionButtonOptionChanged","newConfig","_selectModeChanged","_updateItemCollection","_updateDataSource","_updateKeyExpr","_this$_popup","_innerWidgetOptionChanged","DATAGRID_EXPORT_MENU_CLASS","DATAGRID_EXPORT_BUTTON_CLASS","DATAGRID_EXPORT_TOOLBAR_BUTTON_NAME","DATAGRID_EXPORT_ICON","DATAGRID_EXPORT_EXCEL_ICON","DATAGRID_EXPORT_SELECTED_ICON","DATAGRID_EXPORT_EXCEL_BUTTON_ICON","DataProvider","initialColumnWidthsByColumnIndex","selectedRowsOnly","_exportController","_initialColumnWidthsByColumnIndex","_selectedRowsOnly","_getGroupValue","_correctCellIndex","_getColumns","_selectionOnly","_getSelectedItems","_getAllItems","isHeadersVisible","gridCell","getHeaderStyles","getGroupRowStyle","getColumnStyles","columnStyles","_getTotalCellStyleId","_this$getColumns$cell","isTotalCell","getColumnsByAllRows","getColumnsWidths","_convertFromGridGroupSummaryItems","gridGroupSummaryItems","isExcelJS","correctedCellIndex","columnsRow","gridColumn","itemValues","totalSummaryItemName","_value","correctCellIndex","isSummaryAlignByColumn","exportColspan","ExportController","exportMixin","currentHeaderRow","columnWidthsByColumnIndex","_getColumnWidths","_headersView","_needColumnExporting","currentColspan","_calculateExportColspan","childColumns","childColumn","_getFooterSummaryItems","isTotal","estimatedItemsCount","_hasSummaryGroupFooters","_getItemsWithSummaryGroupFooters","sourceItems","beforeGroupFooterItems","groupFooterItems","_updateGroupValuesWithSummaryByColumn","summaryValues","groupColumnCount","_processUnExportedItems","isDetailExpandColumn","selectedRowData","getExportFormat","getDataProvider","columnsLastRowVisibleColumns","exportToExcel","clientExport","_isSelectedRows","callbackList","exportButton","_getExportToolbarButton","_correctItemsPosition","_getExportToolbarItems","toolbarButtonOptions","_widgetOptions","_index","exportOptions","itemA","itemB","_isExportButtonVisible","_getButtonOptions","allowExportSelected","ROW_FOCUSED_CLASS","TABLE_POSTFIX_CLASS","FocusController","_keyboardController","_focusRowByIndex","_triggerFocusedRowChangedIfNeed","_focusRowByKey","focusedRowIndexByKey","isAutoNavigateToFocusedRow","_focusRowByIndexCore","setKeyByIndex","_isValidFocusedRowIndex","_getLastItemIndex","isRowFocused","_isLocalRowIndex","isVirtualScrolling","virtualItems","virtualItemsBegin","visibleRowsCount","visiblePagesCount","_setFocusedRowKeyByIndex","_navigateToRow","isFocusedRowKeyDefined","needFocusRow","isAutoNavigate","rowIndexByKey","_navigateTo","getPageIndexByKey","isVirtualRowRenderingMode","_navigateToVirtualRow","_navigateToVisibleRow","_triggerUpdateFocusedRow","scrollToRowElement","triggerUpdateFocusedRow","scrollTopPosition","_focusRowByKeyOrIndex","currentFocusedRowIndex","updateFocusedRow","$mainRow","isMainTable","_clearPreviousFocusedRow","_prepareFocusedRow","changedItem","scrollToElementVertically","$prevRowFocusedElement","focusedRow","$focusedRowTable","$firstRow","focusModule","visibleRow","isRowElement","sortByKey","notSortedKeys","notSortedKey","isPartialUpdate","isPartialUpdateWithDeleting","_updatePageIndexes","processUpdateFocusedRow","prevRenderingPageIndex","_lastRenderingPageIndex","renderingPageIndex","_isPagingByRendering","isPagingByRendering","isValidRowIndexByKey","needFocusRowByIndex","getGlobalRowIndexByKey","_calculateGlobalRowIndexByGroupedData","_calculateGlobalRowIndexByFlatData","groupFilter","useGroup","_generateFilterByKey","_concatWithCombinedFilter","_generateOperationFilterByKey","_generateBooleanFilter","sortInfo","booleanFilter","sortFilter","dataSourceKey","keyPart","_setFocusedRowElementTabIndex","_findRowElementForTabIndex","_scrollToFocusOnResize","getScrollElementPosition","currentScrollTop","isRowClick","_isFocusedRowInsideGroup","_getGroupPath","groupPath","_expandGroupByPath","isGroupKey","_calculateExpandedRowGlobalIndex","dataOffset","groupContinuationCount","currentPageOffset","targetDraggable","sourceDraggable","DRAGGABLE","DRAGSTART_EVENT_NAME","DRAG_EVENT_NAME","DRAGEND_EVENT_NAME","DRAG_ENTER_EVENT_NAME","dragEventEnter","DRAGEND_LEAVE_EVENT_NAME","dragEventLeave","POINTERDOWN_EVENT_NAME","CLONE_CLASS","ANONYMOUS_TEMPLATE_NAME","getMousePosition","pageX","pageY","GESTURE_COVER_CLASS","OVERLAY_WRAPPER_CLASS","OVERLAY_CONTENT_CLASS","ScrollHelper","_preventScroll","_component","_scrollValue","_overFlowAttr","_sizeAttr","_scrollSizeProp","_clientSizeProp","_limitProps","mousePosition","isScrollableFound","isTargetOverOverlayWrapper","isTargetOverOverlayContent","_trySetScrollable","_$scrollableAtPointer","_scrollSpeed","prop","distanceToBorders","sensitivity","isScrollable","_calculateDistanceToBorders","_calculateScrollSpeed","$area","areaBoundingRect","area","distance","maxSpeed","$scrollable","nextScrollPosition","_nextScrollPosition","dragMoveArgs","_dragMoveArgs","_dragMoveHandler","scrollableSize","ScrollAnimator","Animator","strategy","_strategy","_step","horizontalScrollHelper","_horizontalScrollHelper","verticalScrollHelper","_verticalScrollHelper","scrollByStep","Draggable","DOMComponent","dragMove","dragEnter","dragLeave","dragEnd","sourceEvent","_getSourceDraggable","_fireRemoveEvent","onDragEnter","onDragLeave","onDrop","immediate","boundOffset","allowMoveByClick","_attachEventHandlers","_scrollAnimator","_normalizeCursorOffset","splitPair","_getNormalizedCursorOffset","_calculateElementOffset","dragElementOffset","$dragElement","dragElement","isCloned","_dragElementIsCloned","normalizedCursorOffset","currentLocate","_initialLocate","locate","initialOffset","_initPosition","_move","_startPosition","_startAnimator","inProgress","_stopAnimator","stop","dasherize","_getItemsSelector","itemsSelector","checkDropTarget","targetGroup","sourceGroup","_getScrollable","isOutsideScrollable","_getArea","_pointerDownHandler","_dragStartHandler","_dragEndHandler","_dragEnterHandler","_dragLeaveHandler","_$dragElement","_getDragTemplateArgs","_createDragElement","_getContainer","_resetDragElement","_toggleDraggingClass","_resetSourceElement","_toggleDragSourceClass","_$sourceElement","_detachEventHandlers","_getDraggableElement","$sourceElement","_getSourceElement","draggable","needSkipEvent","_getAction","_getEventArgs","_isValidElement","dragStartArgs","_getDragStartArgs","_setSourceDraggable","_setGestureCoverCursor","isFixedPosition","areaOffset","_getAreaOffset","_getBoundOffset","areaWidth","areaHeight","elementHeight","startOffset_left","startOffset_top","maxLeftOffset","maxRightOffset","maxTopOffset","maxBottomOffset","quadToObject","viewPort","startPosition","_getTargetDraggable","allObjects","updateScrollable","_defaultActionArgs","fromComponent","toComponent","fromData","toData","_revertItemToInitialPosition","dragEndEventArgs","dropEventArgs","needRevertPosition","_resetTargetDraggable","_resetSourceDraggable","_isTargetOverAnotherDraggable","$sourceDraggableElement","$targetDraggableElement","firstWidgetElement","isTargetOverItself","isTargetOverNestedDraggable","_fireDragEnterEvent","_setTargetDraggable","_fireDragLeaveEvent","_getAnonymousTemplateName","EmptyTemplate","transclude","anonymousTemplateName","SORTABLE","PLACEHOLDER_CLASS","isElementVisible","animate","_config$to","_config$to2","transform","transition","stopAnimation","getScrollableBoundary","Sortable","_sourceScrollHandler","_handleSourceScroll","_sourceScrollableInfo","itemOrientation","moveItemOnDrop","onPlaceholderPrepared","dropInsideItem","itemPoints","fromIndexOffset","autoUpdate","draggableElementSize","_$placeholderElement","_isIndicateMode","_$modifiedItem","_modifiedItemMargin","_getPrevVisibleItem","_updateItemPoints","_subscribeToSourceScroll","_getElementIndex","_unsubscribeFromSourceScroll","sourceScrollableInfo","scrollProp","_correctItemPoints","_movePlaceholder","lastItemPoint","isVertical","_isVerticalOrientation","sourceElementSize","scrollSize","lastPointPosition","elementPosition","freeSize","_getItems","$sortable","sortable","_allowDrop","$targetDraggable","itemPoint","cancelAdd","cancelRemove","isSourceDraggable","_fireAddEvent","resetPosition","_moveItem","_fireReorderEvent","cursorPosition","_updatePlaceholderPosition","_createPlaceholder","$placeholderContainer","_allowReordering","_isValidPoint","draggableVisibleIndex","_getItemPoints","itemWidth","visibleItemElements","visibleItemCount","$draggableItem","needCorrectLeftPosition","needCorrectTopPosition","points","forceUpdate","positionPropName","_togglePlaceholder","_normalizeToIndex","isAnotherDraggable","placeholderElement","_makeWidthCorrection","_$scrollable","scrollableWidth","offsetRight","_updatePlaceholderSizes","$placeholderElement","$prevTargetItemElement","$targetItemElement","_moveItemCore","$targetItem","prevItem","isDragSource","$fromElement","_optionChangedDropInsideItem","_optionChangedToIndex","_isPositionVisible","scrollContainer","pageYOffset","pageXOffset","showPlaceholder","_moveItems","_updateDragSourceClass","_getActualFromIndex","_makeLeftCorrection","leftMargin","prevVisibleItemElement","_getPositions","elementSize","positions","_getDraggableElementSize","prevToIndex","prevPositions","animationConfig","COMMAND_HANDLE_CLASS","HANDLE_ICON_CLASS","SORTABLE_WITHOUT_HANDLE_CLASS","RowDraggingExtender","_updateHandleColumn","isHandleColumnVisible","_getHandleTemplate","sortableName","sortableFixedName","currentSortableName","anotherSortableName","togglePointerEventsStyle","_this$sortableFixedNa","_getDraggableRowTemplate","_rowDragging$onDragSt","_rowDragging$onDragEn","_rowDragging$onAdd","hasFixedSortable","_updateSortable","_sortable","_sortableFixed","_getDraggableGridOptions","gridOptions","$dataGridContainer","rowDraggingModule","FormItemsRunTimeInfo","_map","guid","widgetInstance","itemsRunTimeInfo","removeItemByKey","itemRunTimeInfo","_findWidgetInstance","storedItem","targetPath","_findFieldByCondition","targetItem","filteredKeys","_translator","moveTo","completeAction","MULTIVIEW_CLASS","MULTIVIEW_WRAPPER_CLASS","MULTIVIEW_ITEM_CONTAINER_CLASS","MULTIVIEW_ITEM_CLASS","MULTIVIEW_ITEM_HIDDEN_CLASS","MULTIVIEW_ITEM_DATA_KEY","MULTIVIEW_ANIMATION_DURATION","MultiView","swipeEnabled","loop","loopItemFocus","selectOnFocus","selectionByClick","_$itemContainer","_itemWidth","_itemWidthValue","_clearItemWidthCache","_normalizeIndex","_getRTLSignCorrection","_initSwipeable","_deferredItems","selectedItemIndices","_getSelectedItemIndices","_updateItemsVisibility","_afterItemElementDeleted","deletedActionArgs","_beforeItemElementInserted","renderContentDeferred","_updateItems","newIndex","_updateItemsPosition","_modifyByChanges","positionSign","_animationDirection","isHidden","_renderSpecificItem","hasItemContent","_itemContentClass","triggerResizeEvent","_refreshItem","animationDirection","_animateItemContainer","completeCallback","containerPosition","indexDifference","_getItemFocusLoopSignCorrection","isSwipePresent","directionSignVariable","_getSwipeDisabledState","Swipeable","elastic","itemSizeFunc","onStart","_swipeStartHandler","onUpdated","_swipeUpdateHandler","onEnd","_swipeEndHandler","_swipeDirection","swipeDirection","$selectedElement","_itemFocusLooped","_updateSwipeDisabledState","TABS_ITEM_BADGE_CLASS","BADGE_CLASS","TabsItem","CollectionWidgetItem","_renderWatchers","_startWatcher","_renderBadge","badge","$badge","TABS_EXPANDED_CLASS","getScrollLeftMax","isReachedLeft","scrollOffsetLeft","epsilon","isReachedRight","TABS_CLASS","TABS_WRAPPER_CLASS","TABS_STRETCHED_CLASS","TABS_SCROLLABLE_CLASS","TABS_NAV_BUTTONS_CLASS","OVERFLOW_HIDDEN_CLASS","TABS_ITEM_CLASS","TABS_ITEM_SELECTED_CLASS","TABS_NAV_BUTTON_CLASS","TABS_LEFT_NAV_BUTTON_CLASS","TABS_RIGHT_NAV_BUTTON_CLASS","TABS_ITEM_TEXT_CLASS","TABS_ITEM_DATA_KEY","BUTTON_NEXT_ICON","BUTTON_PREV_ICON","FEEDBACK_HIDE_TIMEOUT","FEEDBACK_DURATION_INTERVAL","FEEDBACK_SCROLL_TIMEOUT","TAB_OFFSET","Tabs","showNavButtons","badgeExpr","currentTheme","_renderWrapper","_renderMultiple","_feedbackHideTimeout","_prepareDefaultItemTemplate","$iconElement","wrapInner","_createItemByTemplate","renderArgs","_deferredTemplates","_deferRenderScrolling","_renderScrolling","removeClasses","_isItemsWidthExceeded","_renderNavButtons","_updateNavButtonsVisibility","_scrollToItem","_cleanScrolling","_needStretchItems","tabItemsWidth","_getVisibleItems","$visibleItems","maxTabWidth","_cleanNavButtons","_leftButton","_rightButton","getItemElement","_createNavButton","$leftButton","$rightButton","_updateScrollPosition","holdAction","_holdInterval","setInterval","holdEventName","pointerUpEventName","pointerOutEventName","navButton","$navButton","_clearInterval","clearInterval","_afterItemElementInserted","TabPanelItem","TABPANEL_CLASS","TABPANEL_TABS_CLASS","TABPANEL_CONTAINER_CLASS","TabPanel","itemTitleTemplate","onTitleClick","onTitleHold","_createTitleActions","_renderLayout","_createTitleClickAction","_createTitleHoldAction","_createTitleRenderedAction","_titleClickAction","_titleHoldAction","_titleRenderedAction","_updateLayout","_tabs","_$tabContainer","$tabs","_tabConfig","_$container","tabsHeight","_refreshActiveDescendant","tabItems","$activeTab","getFocusedItemId","onItemHold","itemHoldTimeout","$value","_isFocusOutHandlerExecuting","_focusOutHandler","isFocused","_setTabsOption","selectedTabContent","ItemOptionAction","_itemsRunTimeInfo","findWidgetInstanceByItem","findItemContainerByItem","findPreparedItemByItem","createItemPathByIndex","isTabs","concatPaths","getTextWithoutSpaces","isEqualToDataFieldOrNameOrTitleOrCaption","getFullOptionName","getOptionNameFromFullName","tryGetTabPath","fullPath","pathParts","resultPathParts","isFullPathContainsTabs","getItemPath","tabOrGroupItems","itemPath","convertToLayoutManagerOptions","$formElement","extendedLayoutManagerOptions","onFieldItemRendered","baseOptions","validationBoundary","layoutData","isRoot","cssItemClass","onLayoutChanged","WidgetOptionItemOptionAction","findInstance","TabOptionItemOptionAction","tabPanel","findItemIndexByItem","GroupItemTemplateChangedAction","preparedItem","findPreparedItem","_prepareGroupItemTemplate","_renderGroupContentTemplate","TabsOptionItemOptionAction","ValidationRulesItemOptionAction","filterRequired","oldContainsRequired","newContainsRequired","CssClassItemOptionAction","findItemContainer","tryCreateItemOptionAction","itemActionOptions","_itemActionOptions$it","RESPONSIVE_BOX_CLASS","SCREEN_SIZE_CLASS_PREFIX","BOX_ITEM_CLASS","BOX_ITEM_DATA_KEY","HD_SCREEN_WIDTH","ResponsiveBox","singleColumnScreen","onItemStateChanged","currentScreenFactor","_layoutStrategy","defaultScreenFactorFunc","_initLayoutChangedAction","_layoutChangedAction","_updateRootBox","_updateTimer","_$root","_setScreenSize","_screenItems","_itemsByScreen","_prepareGrid","_spreadItems","_layoutItems","_linkNodeToItem","_clearItemNodeTemplates","currentScreen","_getCurrentScreen","_removeScreenSizeClass","_grid","_prepareRowsAndCols","_rows","_cols","_createEmptyCell","getSingleColumnRows","screenItemsLength","filteredRows","_filterByScreen","sizeConfig","_defaultSizeConfig","shrink","_isSingleColumnScreen","_prepareSingleColumnScreenItems","_sizesByScreen","_screenRegExp","sizeConfigs","_createDefaultSizeConfig","baseSize","minSize","maxSize","defaultSizeConfig","screenRegExp","screen","RegExp","_screenWidth","itemInfo","itemCol","itemRow","itemCell","_occupyCells","locations","_isItemCellOccupied","_markSpanningCell","_loopOverSpanning","rowEnd","colEnd","boundRowEnd","boundColEnd","spanningCell","itemNode","box","colsCount","_layoutBlock","rootBox","_prepareBoxConfig","_rootBoxConfig","Box","rootItems","_needApplyAutoBaseSize","onItemContextMenu","crossAlign","_isSingleItem","_itemByCell","_layoutDirection","firstCellLocation","isItemRowSpanned","isItemColSpanned","block","crossDirection","_crossDirection","_nextBlock","_isBlockIndivisible","prevBlockOptions","_blockSize","crossStartIndex","crossSpan","crossIndex","lineCrossSpan","_cellByDirection","lineCrossEndIndex","crossEndIndex","defaultMinSize","forceRemoveRoot","$existingRoot","_saveAssistantRoot","_assistantRoots","_cleanUnusedRoots","FORM_CLASS","FORM_GROUP_CLASS","FORM_GROUP_CAPTION_CLASS","FORM_FIELD_ITEM_COL_CLASS","FIELD_ITEM_CLASS","LAYOUT_MANAGER_ONE_COLUMN","FIELD_ITEM_LABEL_CONTENT_CLASS","FORM_LAYOUT_MANAGER_CLASS","FIELD_ITEM_LABEL_CLASS","FIELD_ITEM_CONTENT_CLASS","SINGLE_COLUMN_ITEM_CONTENT","ROOT_SIMPLE_ITEM_CLASS","FORM_GROUP_CONTENT_CLASS","FIELD_ITEM_CONTENT_HAS_GROUP_CLASS","FIELD_ITEM_CONTENT_HAS_TABS_CLASS","FORM_GROUP_WITH_CAPTION_CLASS","FIELD_ITEM_TAB_CLASS","GROUP_COL_COUNT_CLASS","GROUP_COL_COUNT_ATTR","FORM_VALIDATION_SUMMARY","FORM_UNDERLINED_CLASS","SIMPLE_ITEM_TYPE","EDITORS_WITH_ARRAY_VALUE","EDITORS_WITHOUT_LABELS","convertToRenderFieldItemOptions","rootElementCssClassList","formOrLayoutManager","createComponentCallback","useFlexLayout","formLabelLocation","requiredMessageTemplate","canAssignUndefinedValueToEditor","editorValidationBoundary","editorStylingMode","managerLabelLocation","managerMarkOptions","_hasRequiredRuleInSet","isSimpleItem","helpID","labelOptions","_convertToLabelOptions","formLabelMode","needRenderLabel","labelID","labelNeedBaselineAlign","_convertToEditorOptions","defaultEditorName","externalEditorOptions","editorInputId","labelText","textWithoutColon","markOptions","needRenderOptionalMarkAsHelpText","getLabelMarkText","convertToLabelMarkOptions","editorOptionsWithValue","rules","hasRequiredRule","isEditorWithoutLabels","GET_LABEL_WIDTH_BY_TEXT_CLASS","FIELD_ITEM_REQUIRED_MARK_CLASS","FIELD_ITEM_LABEL_LOCATION_CLASS","FIELD_ITEM_OPTIONAL_MARK_CLASS","FIELD_ITEM_LABEL_TEXT_CLASS","renderLabel","_renderLabelMark","markText","setLabelWidthByMaxLabelWidth","$targetContainer","labelsSelector","labelMarkOptions","labelWidth","FIELD_ITEM_LABEL_CONTENT_CLASS_Selector","$FIELD_ITEM_LABEL_CONTENT_CLASS_Items","FIELD_ITEM_LABEL_CONTENT_CLASS_Length","getLabelWidthByInnerHTML","$FIELD_ITEM_LABEL_CONTENT_CLASS","renderLabelOptions","$hiddenContainer","$label","labelTextElement","getLabelInnerHTML","innerText","FLEX_LAYOUT_CLASS","FIELD_ITEM_OPTIONAL_CLASS","FIELD_ITEM_REQUIRED_CLASS","FIELD_ITEM_CONTENT_WRAPPER_CLASS","FIELD_ITEM_CONTENT_LOCATION_CLASS","FIELD_ITEM_LABEL_ALIGN_CLASS","FIELD_ITEM_HELP_TEXT_CLASS","LABEL_VERTICAL_ALIGNMENT_CLASS","LABEL_HORIZONTAL_ALIGNMENT_CLASS","TEMPLATE_WRAPPER_CLASS","INVALID_CLASS","renderFieldItem","$fieldEditorContainer","$div","editorElem","$validationTarget","validationTargetInstance","isItemHaveCustomLabel","itemName","wrapperClass","toggleInvalidClass","_isFocused","$editorParent","FIELD_BUTTON_ITEM_CLASS","renderButtonItem","convertAlignmentToTextAlign","convertAlignmentToJustifyContent","buttonInstance","FIELD_EMPTY_ITEM_CLASS","renderEmptyItem","FORM_EDITOR_BY_DEFAULT","LAYOUT_MANAGER_FIRST_ROW_CLASS","LAYOUT_MANAGER_LAST_ROW_CLASS","LAYOUT_MANAGER_FIRST_COL_CLASS","LAYOUT_MANAGER_LAST_COL_CLASS","LAYOUT_STRATEGY_FLEX","LAYOUT_STRATEGY_FALLBACK","LayoutManager","_itemWatchers","_updateReferencedOptions","_initDataAndItems","_cleanItemWatchers","initialData","_syncDataWithItems","_getDataByField","_updateFieldValue","_isCheckboxUndefinedStateEnabled","allowIndeterminateState","nameParts","_triggerOnFieldDataChanged","isUserItemsExist","_generateItemsByData","processedItems","_isAcceptableItem","_updateItemWatchers","_setItems","_sortItems","_getWatch","itemField","_getEditorTypeByDataType","_item$allowIndetermin","_sortIndexes","indexA","indexB","clear","_renderResponsiveBox","_hasBrowserFlex","styleProp","templatesInfo","_getColCount","_prepareItemsWithMerging","layoutItems","_generateLayoutItems","_responsiveBox","_getResponsiveBoxConfig","_renderTemplates","_itemStateChangedHandler","_refresh","_renderButtonItem","_renderFieldItem","xsColCount","isSingleColumnMode","itemRenderedCountInPreviousRows","itemCssClassList","isLastColumn","_getRowsCount","_generateRatio","screenFactor","getTargetScreenFactor","getCurrentScreenFactor","_cashedColCount","_getMaxColCount","maxColCount","isCachedColCountObsolete","itemsMergedByCol","_getColByIndex","merged","generatedItem","rowSpan","_renderEmptyItem","_getFormOrThis","_getMarkOptions","_bindDataField","formOrThis","_createWatcher","linkEditorToDataField","fieldValue","array1","array2","_watch","formInstance","readOnlyState","isAutoSize","newLayoutData","getOwnPropertyNames","_resetWidget","_disableEditorValueChangedHandler","_cashedRequiredConfig","dataValue","_resetColCount","isValueReferenceType","updateData","getEditor","findWidgetInstanceByDataField","findWidgetInstanceByName","responsiveBox","getItemsRunTimeInfo","VALIDATION_SUMMARY_CLASS","ValidationSummary","_initGroupRegistration","_modelByElement","_unsubscribeGroup","_groupWasInit","_validationGroup","groupSubscription","_groupValidationHandler","_getOrderedItems","orderedItems","foundItems","_validationSummary","_itemValidationHandler","itemsChanged","foundRule","foundItem","_postprocessRenderItem","VALIDATION_ENGINE_CLASS","ValidationGroup","validatorContainer","summaryContainer","FOCUSED_STATE_CLASS","ITEM_OPTIONS_FOR_VALIDATION_UPDATING","_cachedColCountOptions","_groupsColCount","_attachSyncSubscriptions","alignRootItemLabels","_getGroupColCount","_applyLabelsWidthByCol","fieldItemClass","inOneColumn","cssExcludeTabbedSelector","excludeTabbed","_applyLabelsWidth","applyLabelsOptions","_getGroupElementsInColumn","cssColCountSelector","groupSelector","_applyLabelsWidthWithGroups","$rootSimpleItems","_applyLabelsWidthWithNestedGroups","$groups","groupsColIndex","groupColIndex","$groupsByCol","groupColCount","_labelLocation","_alignLabelsInColumn","layoutManager","_checkGrouping","_prepareFormData","_setStylingModeClass","_getValidationGroup","_clearCachedInstances","_renderValidationSummary","_lastMarkupScreenFactor","_targetScreenFactor","_getCurrentScreenFactor","_cachedLayoutManagers","_alignLabels","TOOLBAR_CLASS","_clearValidationSummary","_getContent","_this$_$validationSum","_$validationSummary","dxValidationSummary","parentIsTabbedItem","currentPath","_tryPrepareGroupItem","_tryPrepareTabbedItem","_tryPrepareItemTemplate","groupContentTemplate","_itemGroupTemplate","_itemTabbedTemplate","_rootLayoutManager","_renderLayoutManager","_createLayoutManagerOptions","_tryGetItemsForTemplate","$tabPanel","tabPanelOptions","triggerShownEvent","extendRunTimeItemInfoByKey","tryUpdateTabPanelInstance","_isDataUpdating","addItemsOrExtendFrom","nestedItemsRunTimeInfo","removeItemsByItems","_this$_validationSumm","layoutManagerOptions","baseColCountByScreen","_clearAutoColCountChangedTimeout","autoColCountChangedTimeoutId","_extendConfig","optionFullName","_triggerOnFieldDataChangedByDataSet","splitFullName","_itemsOptionChangedHandler","_formDataOptionChangedHandler","_defaultOptionChangedHandler","_resetValues","_getItemPath","optionNameWithoutPath","simpleOptionName","itemAction","_tryCreateItemOptionAction","_tryExecuteItemOptionAction","_tryChangeLayoutManagerItemOption","_changeItemOption","_generateItemsFromData","removeItemsByPathStartWith","tryExecute","_updateValidationGroupAndSummaryIfNeeded","_this$_validationSumm2","_setLayoutManagerItemOption","findKeyByPath","postponedOperations","contentReadyHandler","tabPath","tabLayoutManager","findGroupOrTabLayoutManagerByPath","endPartIndex","_itemPath","_layoutManager","formItems","layoutManagerItems","layoutItem","_tryChangeLayoutManagerItemOptions","_getItemByField","resultItem","fieldParts","_getFieldParts","fieldPath","_getItemByFieldPath","subItemsField","_getSubItemField","separatorIndex","resultPath","isItemWithSubItems","isGroupWithName","nameWithoutSpaces","pathNode","_searchItemInEverySubItem","_isColCountChanged","oldScreenSize","newScreenSize","editorSelector","_updateData","isComplexData","resetValues","getButton","allowUpdateItems","DATAGRID_SELECTION_DISABLED_CLASS","DATAGRID_GROUP_OPENED_CLASS","DATAGRID_GROUP_CLOSED_CLASS","NO_DATA_CLASS","SCROLLING_MODE_OPTION","ROW_RENDERING_MODE_OPTION","DATE_INTERVAL_SELECTORS","getIntervalSelector","isDateType","nameIntervalSelector","equalSelectors","selector1","selector2","setEmptyText","normalizeSortingInfoUtility","formatValue","formatObject","getSummaryText","getWidgetInstance","editorData","equalFilterParameters","filter1","filter2","noDataClass","noDataElement","renderLoadPanel","LoadPanel","calculateLoadPanelPosition","combineFilters","_filters$i","checkChanges","changeNames","changesWithChangeNamesCount","proxyMethod","defaultResult","getFormatOptionsByColumn","getDisplayValue","getGroupRowSummaryText","getFormatByDataType","getHeaderFilterGroupParameters","sharedFiltering","interval","equalSortParameters","sortParameters1","sortParameters2","ignoreIsExpanded","getPointsByColumns","pointCreated","notCreatePoint","prevItemOffset","getExpandCellTemplate","getSelectionRange","selectionEnd","setSelectionRange","focusAndSelectElement","isSelectTextOnEditingStart","_loadItemDeferred","getLastResizableColumnIndex","hasResizableColumns","isElementInCurrentGrid","$grid","isVirtualRowRendering","getPixelRatio","getContentHeightLimit","mozilla","DEFAULT_DATE_INTERVAL","DEFAULT_DATETIME_INTERVAL","getGroupInterval","dateIntervals","getFilterSelector","getFilterExpressionByRange","endFilterValue","startFilterExpression","endFilterExpression","getTime","setDate","getFilterExpressionForDate","dateStart","dateEnd","dateInterval","dateValue","getFilterExpressionForNumber","startFilterValue","isSearchByDisplayValue","DefaultAdapter","validationRequest","getCurrentValidationError","validationErrors","VALIDATION_STATUS_VALID","VALIDATION_STATUS_INVALID","VALIDATION_STATUS_PENDING","_initAdapter","_validationInfo","skipValidation","_getEditor","dxStandardEditor","callbacks","_toggleRTLDirection","isRtl","_this$option$editor$o","_this$option$editor","_toggleAccessibilityAttributes","_resetValidationRules","_getValidationRules","_validationRules","currentError","currentResult","editorSpecific","_applyValidationResult","res","pendingRules","_updateValidationResult","validatedAction","_useTemplates"],"sourceRoot":""}